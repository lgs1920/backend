// @bun
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getProtoOf = Object.getPrototypeOf;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __toESM = (mod, isNodeMode, target) => {
  target = mod != null ? __create(__getProtoOf(mod)) : {};
  const to = isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target;
  for (let key of __getOwnPropNames(mod))
    if (!__hasOwnProp.call(to, key))
      __defProp(to, key, {
        get: () => mod[key],
        enumerable: true
      });
  return to;
};
var __commonJS = (cb, mod) => () => (mod || cb((mod = { exports: {} }).exports, mod), mod.exports);
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, {
      get: all[name],
      enumerable: true,
      configurable: true,
      set: (newValue) => all[name] = () => newValue
    });
};

// node_modules/eventemitter3/index.js
var require_eventemitter3 = __commonJS((exports, module) => {
  var Events = function() {
  };
  var EE = function(fn, context, once) {
    this.fn = fn;
    this.context = context;
    this.once = once || false;
  };
  var addListener = function(emitter, event, fn, context, once) {
    if (typeof fn !== "function") {
      throw new TypeError("The listener must be a function");
    }
    var listener = new EE(fn, context || emitter, once), evt = prefix ? prefix + event : event;
    if (!emitter._events[evt])
      emitter._events[evt] = listener, emitter._eventsCount++;
    else if (!emitter._events[evt].fn)
      emitter._events[evt].push(listener);
    else
      emitter._events[evt] = [emitter._events[evt], listener];
    return emitter;
  };
  var clearEvent = function(emitter, evt) {
    if (--emitter._eventsCount === 0)
      emitter._events = new Events;
    else
      delete emitter._events[evt];
  };
  var EventEmitter = function() {
    this._events = new Events;
    this._eventsCount = 0;
  };
  var has = Object.prototype.hasOwnProperty;
  var prefix = "~";
  if (Object.create) {
    Events.prototype = Object.create(null);
    if (!new Events().__proto__)
      prefix = false;
  }
  EventEmitter.prototype.eventNames = function eventNames() {
    var names = [], events, name;
    if (this._eventsCount === 0)
      return names;
    for (name in events = this._events) {
      if (has.call(events, name))
        names.push(prefix ? name.slice(1) : name);
    }
    if (Object.getOwnPropertySymbols) {
      return names.concat(Object.getOwnPropertySymbols(events));
    }
    return names;
  };
  EventEmitter.prototype.listeners = function listeners(event) {
    var evt = prefix ? prefix + event : event, handlers = this._events[evt];
    if (!handlers)
      return [];
    if (handlers.fn)
      return [handlers.fn];
    for (var i = 0, l = handlers.length, ee = new Array(l);i < l; i++) {
      ee[i] = handlers[i].fn;
    }
    return ee;
  };
  EventEmitter.prototype.listenerCount = function listenerCount(event) {
    var evt = prefix ? prefix + event : event, listeners = this._events[evt];
    if (!listeners)
      return 0;
    if (listeners.fn)
      return 1;
    return listeners.length;
  };
  EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {
    var evt = prefix ? prefix + event : event;
    if (!this._events[evt])
      return false;
    var listeners = this._events[evt], len = arguments.length, args, i;
    if (listeners.fn) {
      if (listeners.once)
        this.removeListener(event, listeners.fn, undefined, true);
      switch (len) {
        case 1:
          return listeners.fn.call(listeners.context), true;
        case 2:
          return listeners.fn.call(listeners.context, a1), true;
        case 3:
          return listeners.fn.call(listeners.context, a1, a2), true;
        case 4:
          return listeners.fn.call(listeners.context, a1, a2, a3), true;
        case 5:
          return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;
        case 6:
          return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;
      }
      for (i = 1, args = new Array(len - 1);i < len; i++) {
        args[i - 1] = arguments[i];
      }
      listeners.fn.apply(listeners.context, args);
    } else {
      var length = listeners.length, j;
      for (i = 0;i < length; i++) {
        if (listeners[i].once)
          this.removeListener(event, listeners[i].fn, undefined, true);
        switch (len) {
          case 1:
            listeners[i].fn.call(listeners[i].context);
            break;
          case 2:
            listeners[i].fn.call(listeners[i].context, a1);
            break;
          case 3:
            listeners[i].fn.call(listeners[i].context, a1, a2);
            break;
          case 4:
            listeners[i].fn.call(listeners[i].context, a1, a2, a3);
            break;
          default:
            if (!args)
              for (j = 1, args = new Array(len - 1);j < len; j++) {
                args[j - 1] = arguments[j];
              }
            listeners[i].fn.apply(listeners[i].context, args);
        }
      }
    }
    return true;
  };
  EventEmitter.prototype.on = function on(event, fn, context) {
    return addListener(this, event, fn, context, false);
  };
  EventEmitter.prototype.once = function once(event, fn, context) {
    return addListener(this, event, fn, context, true);
  };
  EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {
    var evt = prefix ? prefix + event : event;
    if (!this._events[evt])
      return this;
    if (!fn) {
      clearEvent(this, evt);
      return this;
    }
    var listeners = this._events[evt];
    if (listeners.fn) {
      if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) {
        clearEvent(this, evt);
      }
    } else {
      for (var i = 0, events = [], length = listeners.length;i < length; i++) {
        if (listeners[i].fn !== fn || once && !listeners[i].once || context && listeners[i].context !== context) {
          events.push(listeners[i]);
        }
      }
      if (events.length)
        this._events[evt] = events.length === 1 ? events[0] : events;
      else
        clearEvent(this, evt);
    }
    return this;
  };
  EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {
    var evt;
    if (event) {
      evt = prefix ? prefix + event : event;
      if (this._events[evt])
        clearEvent(this, evt);
    } else {
      this._events = new Events;
      this._eventsCount = 0;
    }
    return this;
  };
  EventEmitter.prototype.off = EventEmitter.prototype.removeListener;
  EventEmitter.prototype.addListener = EventEmitter.prototype.on;
  EventEmitter.prefixed = prefix;
  EventEmitter.EventEmitter = EventEmitter;
  if (typeof module !== "undefined") {
    module.exports = EventEmitter;
  }
});

// node_modules/fast-decode-uri-component/index.js
var require_fast_decode_uri_component = __commonJS((exports, module) => {
  var decodeURIComponent2 = function(uri) {
    var percentPosition = uri.indexOf("%");
    if (percentPosition === -1)
      return uri;
    var length = uri.length;
    var decoded = "";
    var last = 0;
    var codepoint = 0;
    var startOfOctets = percentPosition;
    var state = UTF8_ACCEPT;
    while (percentPosition > -1 && percentPosition < length) {
      var high = hexCodeToInt(uri[percentPosition + 1], 4);
      var low = hexCodeToInt(uri[percentPosition + 2], 0);
      var byte = high | low;
      var type47 = UTF8_DATA[byte];
      state = UTF8_DATA[256 + state + type47];
      codepoint = codepoint << 6 | byte & UTF8_DATA[364 + type47];
      if (state === UTF8_ACCEPT) {
        decoded += uri.slice(last, startOfOctets);
        decoded += codepoint <= 65535 ? String.fromCharCode(codepoint) : String.fromCharCode(55232 + (codepoint >> 10), 56320 + (codepoint & 1023));
        codepoint = 0;
        last = percentPosition + 3;
        percentPosition = startOfOctets = uri.indexOf("%", last);
      } else if (state === UTF8_REJECT) {
        return null;
      } else {
        percentPosition += 3;
        if (percentPosition < length && uri.charCodeAt(percentPosition) === 37)
          continue;
        return null;
      }
    }
    return decoded + uri.slice(last);
  };
  var hexCodeToInt = function(c, shift) {
    var i = HEX[c];
    return i === undefined ? 255 : i << shift;
  };
  var UTF8_ACCEPT = 12;
  var UTF8_REJECT = 0;
  var UTF8_DATA = [
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    3,
    4,
    4,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    5,
    6,
    7,
    7,
    7,
    7,
    7,
    7,
    7,
    7,
    7,
    7,
    7,
    7,
    8,
    7,
    7,
    10,
    9,
    9,
    9,
    11,
    4,
    4,
    4,
    4,
    4,
    4,
    4,
    4,
    4,
    4,
    4,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    12,
    0,
    0,
    0,
    0,
    24,
    36,
    48,
    60,
    72,
    84,
    96,
    0,
    12,
    12,
    12,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    24,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    24,
    24,
    24,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    24,
    24,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    48,
    48,
    48,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    48,
    48,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    48,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    127,
    63,
    63,
    63,
    0,
    31,
    15,
    15,
    15,
    7,
    7,
    7
  ];
  var HEX = {
    "0": 0,
    "1": 1,
    "2": 2,
    "3": 3,
    "4": 4,
    "5": 5,
    "6": 6,
    "7": 7,
    "8": 8,
    "9": 9,
    a: 10,
    A: 10,
    b: 11,
    B: 11,
    c: 12,
    C: 12,
    d: 13,
    D: 13,
    e: 14,
    E: 14,
    f: 15,
    F: 15
  };
  module.exports = decodeURIComponent2;
});

// node_modules/fast-querystring/lib/parse.js
var require_parse = __commonJS((exports, module) => {
  var parse5 = function(input) {
    const result = new Empty;
    if (typeof input !== "string") {
      return result;
    }
    let inputLength = input.length;
    let key = "";
    let value11 = "";
    let startingIndex = -1;
    let equalityIndex = -1;
    let shouldDecodeKey = false;
    let shouldDecodeValue = false;
    let keyHasPlus = false;
    let valueHasPlus = false;
    let hasBothKeyValuePair = false;
    let c = 0;
    for (let i = 0;i < inputLength + 1; i++) {
      c = i !== inputLength ? input.charCodeAt(i) : 38;
      if (c === 38) {
        hasBothKeyValuePair = equalityIndex > startingIndex;
        if (!hasBothKeyValuePair) {
          equalityIndex = i;
        }
        key = input.slice(startingIndex + 1, equalityIndex);
        if (hasBothKeyValuePair || key.length > 0) {
          if (keyHasPlus) {
            key = key.replace(plusRegex, " ");
          }
          if (shouldDecodeKey) {
            key = fastDecode(key) || key;
          }
          if (hasBothKeyValuePair) {
            value11 = input.slice(equalityIndex + 1, i);
            if (valueHasPlus) {
              value11 = value11.replace(plusRegex, " ");
            }
            if (shouldDecodeValue) {
              value11 = fastDecode(value11) || value11;
            }
          }
          const currentValue = result[key];
          if (currentValue === undefined) {
            result[key] = value11;
          } else {
            if (currentValue.pop) {
              currentValue.push(value11);
            } else {
              result[key] = [currentValue, value11];
            }
          }
        }
        value11 = "";
        startingIndex = i;
        equalityIndex = i;
        shouldDecodeKey = false;
        shouldDecodeValue = false;
        keyHasPlus = false;
        valueHasPlus = false;
      } else if (c === 61) {
        if (equalityIndex <= startingIndex) {
          equalityIndex = i;
        } else {
          shouldDecodeValue = true;
        }
      } else if (c === 43) {
        if (equalityIndex > startingIndex) {
          valueHasPlus = true;
        } else {
          keyHasPlus = true;
        }
      } else if (c === 37) {
        if (equalityIndex > startingIndex) {
          shouldDecodeValue = true;
        } else {
          shouldDecodeKey = true;
        }
      }
    }
    return result;
  };
  var fastDecode = require_fast_decode_uri_component();
  var plusRegex = /\+/g;
  var Empty = function() {
  };
  Empty.prototype = Object.create(null);
  module.exports = parse5;
});

// node_modules/fast-querystring/lib/internals/querystring.js
var require_querystring = __commonJS((exports, module) => {
  var encodeString = function(str) {
    const len = str.length;
    if (len === 0)
      return "";
    let out = "";
    let lastPos = 0;
    let i = 0;
    outer:
      for (;i < len; i++) {
        let c = str.charCodeAt(i);
        while (c < 128) {
          if (noEscape[c] !== 1) {
            if (lastPos < i)
              out += str.slice(lastPos, i);
            lastPos = i + 1;
            out += hexTable[c];
          }
          if (++i === len)
            break outer;
          c = str.charCodeAt(i);
        }
        if (lastPos < i)
          out += str.slice(lastPos, i);
        if (c < 2048) {
          lastPos = i + 1;
          out += hexTable[192 | c >> 6] + hexTable[128 | c & 63];
          continue;
        }
        if (c < 55296 || c >= 57344) {
          lastPos = i + 1;
          out += hexTable[224 | c >> 12] + hexTable[128 | c >> 6 & 63] + hexTable[128 | c & 63];
          continue;
        }
        ++i;
        if (i >= len) {
          throw new Error("URI malformed");
        }
        const c2 = str.charCodeAt(i) & 1023;
        lastPos = i + 1;
        c = 65536 + ((c & 1023) << 10 | c2);
        out += hexTable[240 | c >> 18] + hexTable[128 | c >> 12 & 63] + hexTable[128 | c >> 6 & 63] + hexTable[128 | c & 63];
      }
    if (lastPos === 0)
      return str;
    if (lastPos < len)
      return out + str.slice(lastPos);
    return out;
  };
  var hexTable = Array.from({ length: 256 }, (_, i) => "%" + ((i < 16 ? "0" : "") + i.toString(16)).toUpperCase());
  var noEscape = new Int8Array([
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    1,
    0,
    0,
    0,
    0,
    0,
    1,
    1,
    1,
    1,
    0,
    0,
    1,
    1,
    0,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    0,
    0,
    0,
    0,
    1,
    0,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    0,
    0,
    0,
    1,
    0
  ]);
  module.exports = { encodeString };
});

// node_modules/fast-querystring/lib/stringify.js
var require_stringify = __commonJS((exports, module) => {
  var getAsPrimitive = function(value11) {
    const type47 = typeof value11;
    if (type47 === "string") {
      return encodeString(value11);
    } else if (type47 === "bigint") {
      return value11.toString();
    } else if (type47 === "boolean") {
      return value11 ? "true" : "false";
    } else if (type47 === "number" && Number.isFinite(value11)) {
      return value11 < 1000000000000000000000 ? "" + value11 : encodeString("" + value11);
    }
    return "";
  };
  var stringify = function(input) {
    let result = "";
    if (input === null || typeof input !== "object") {
      return result;
    }
    const separator = "&";
    const keys = Object.keys(input);
    const keyLength = keys.length;
    let valueLength = 0;
    for (let i = 0;i < keyLength; i++) {
      const key = keys[i];
      const value11 = input[key];
      const encodedKey = encodeString(key) + "=";
      if (i) {
        result += separator;
      }
      if (Array.isArray(value11)) {
        valueLength = value11.length;
        for (let j = 0;j < valueLength; j++) {
          if (j) {
            result += separator;
          }
          result += encodedKey;
          result += getAsPrimitive(value11[j]);
        }
      } else {
        result += encodedKey;
        result += getAsPrimitive(value11);
      }
    }
    return result;
  };
  var { encodeString } = require_querystring();
  module.exports = stringify;
});

// node_modules/fast-querystring/lib/index.js
var require_lib = __commonJS((exports, module) => {
  var parse5 = require_parse();
  var stringify = require_stringify();
  var fastQuerystring = {
    parse: parse5,
    stringify
  };
  module.exports = fastQuerystring;
  module.exports.default = fastQuerystring;
  module.exports.parse = parse5;
  module.exports.stringify = stringify;
});

// node_modules/lodash.clonedeep/index.js
var require_lodash = __commonJS((exports, module) => {
  var addMapEntry = function(map3, pair) {
    map3.set(pair[0], pair[1]);
    return map3;
  };
  var addSetEntry = function(set2, value15) {
    set2.add(value15);
    return set2;
  };
  var arrayEach = function(array5, iteratee) {
    var index = -1, length = array5 ? array5.length : 0;
    while (++index < length) {
      if (iteratee(array5[index], index, array5) === false) {
        break;
      }
    }
    return array5;
  };
  var arrayPush = function(array5, values) {
    var index = -1, length = values.length, offset = array5.length;
    while (++index < length) {
      array5[offset + index] = values[index];
    }
    return array5;
  };
  var arrayReduce = function(array5, iteratee, accumulator, initAccum) {
    var index = -1, length = array5 ? array5.length : 0;
    if (initAccum && length) {
      accumulator = array5[++index];
    }
    while (++index < length) {
      accumulator = iteratee(accumulator, array5[index], index, array5);
    }
    return accumulator;
  };
  var baseTimes = function(n, iteratee) {
    var index = -1, result = Array(n);
    while (++index < n) {
      result[index] = iteratee(index);
    }
    return result;
  };
  var getValue = function(object13, key) {
    return object13 == null ? undefined : object13[key];
  };
  var isHostObject = function(value15) {
    var result = false;
    if (value15 != null && typeof value15.toString != "function") {
      try {
        result = !!(value15 + "");
      } catch (e2) {
      }
    }
    return result;
  };
  var mapToArray = function(map3) {
    var index = -1, result = Array(map3.size);
    map3.forEach(function(value15, key) {
      result[++index] = [key, value15];
    });
    return result;
  };
  var overArg = function(func, transform7) {
    return function(arg) {
      return func(transform7(arg));
    };
  };
  var setToArray = function(set2) {
    var index = -1, result = Array(set2.size);
    set2.forEach(function(value15) {
      result[++index] = value15;
    });
    return result;
  };
  var Hash3 = function(entries) {
    var index = -1, length = entries ? entries.length : 0;
    this.clear();
    while (++index < length) {
      var entry = entries[index];
      this.set(entry[0], entry[1]);
    }
  };
  var hashClear = function() {
    this.__data__ = nativeCreate ? nativeCreate(null) : {};
  };
  var hashDelete = function(key) {
    return this.has(key) && delete this.__data__[key];
  };
  var hashGet = function(key) {
    var data = this.__data__;
    if (nativeCreate) {
      var result = data[key];
      return result === HASH_UNDEFINED ? undefined : result;
    }
    return hasOwnProperty.call(data, key) ? data[key] : undefined;
  };
  var hashHas = function(key) {
    var data = this.__data__;
    return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);
  };
  var hashSet = function(key, value15) {
    var data = this.__data__;
    data[key] = nativeCreate && value15 === undefined ? HASH_UNDEFINED : value15;
    return this;
  };
  var ListCache = function(entries) {
    var index = -1, length = entries ? entries.length : 0;
    this.clear();
    while (++index < length) {
      var entry = entries[index];
      this.set(entry[0], entry[1]);
    }
  };
  var listCacheClear = function() {
    this.__data__ = [];
  };
  var listCacheDelete = function(key) {
    var data = this.__data__, index = assocIndexOf(data, key);
    if (index < 0) {
      return false;
    }
    var lastIndex = data.length - 1;
    if (index == lastIndex) {
      data.pop();
    } else {
      splice.call(data, index, 1);
    }
    return true;
  };
  var listCacheGet = function(key) {
    var data = this.__data__, index = assocIndexOf(data, key);
    return index < 0 ? undefined : data[index][1];
  };
  var listCacheHas = function(key) {
    return assocIndexOf(this.__data__, key) > -1;
  };
  var listCacheSet = function(key, value15) {
    var data = this.__data__, index = assocIndexOf(data, key);
    if (index < 0) {
      data.push([key, value15]);
    } else {
      data[index][1] = value15;
    }
    return this;
  };
  var MapCache = function(entries) {
    var index = -1, length = entries ? entries.length : 0;
    this.clear();
    while (++index < length) {
      var entry = entries[index];
      this.set(entry[0], entry[1]);
    }
  };
  var mapCacheClear = function() {
    this.__data__ = {
      hash: new Hash3,
      map: new (Map2 || ListCache),
      string: new Hash3
    };
  };
  var mapCacheDelete = function(key) {
    return getMapData(this, key)["delete"](key);
  };
  var mapCacheGet = function(key) {
    return getMapData(this, key).get(key);
  };
  var mapCacheHas = function(key) {
    return getMapData(this, key).has(key);
  };
  var mapCacheSet = function(key, value15) {
    getMapData(this, key).set(key, value15);
    return this;
  };
  var Stack = function(entries) {
    this.__data__ = new ListCache(entries);
  };
  var stackClear = function() {
    this.__data__ = new ListCache;
  };
  var stackDelete = function(key) {
    return this.__data__["delete"](key);
  };
  var stackGet = function(key) {
    return this.__data__.get(key);
  };
  var stackHas = function(key) {
    return this.__data__.has(key);
  };
  var stackSet = function(key, value15) {
    var cache = this.__data__;
    if (cache instanceof ListCache) {
      var pairs = cache.__data__;
      if (!Map2 || pairs.length < LARGE_ARRAY_SIZE - 1) {
        pairs.push([key, value15]);
        return this;
      }
      cache = this.__data__ = new MapCache(pairs);
    }
    cache.set(key, value15);
    return this;
  };
  var arrayLikeKeys = function(value15, inherited) {
    var result = isArray(value15) || isArguments(value15) ? baseTimes(value15.length, String) : [];
    var length = result.length, skipIndexes = !!length;
    for (var key in value15) {
      if ((inherited || hasOwnProperty.call(value15, key)) && !(skipIndexes && (key == "length" || isIndex(key, length)))) {
        result.push(key);
      }
    }
    return result;
  };
  var assignValue = function(object13, key, value15) {
    var objValue = object13[key];
    if (!(hasOwnProperty.call(object13, key) && eq(objValue, value15)) || value15 === undefined && !(key in object13)) {
      object13[key] = value15;
    }
  };
  var assocIndexOf = function(array5, key) {
    var length = array5.length;
    while (length--) {
      if (eq(array5[length][0], key)) {
        return length;
      }
    }
    return -1;
  };
  var baseAssign = function(object13, source) {
    return object13 && copyObject(source, keys(source), object13);
  };
  var baseClone = function(value15, isDeep, isFull, customizer, key, object13, stack) {
    var result;
    if (customizer) {
      result = object13 ? customizer(value15, key, object13, stack) : customizer(value15);
    }
    if (result !== undefined) {
      return result;
    }
    if (!isObject2(value15)) {
      return value15;
    }
    var isArr = isArray(value15);
    if (isArr) {
      result = initCloneArray(value15);
      if (!isDeep) {
        return copyArray(value15, result);
      }
    } else {
      var tag = getTag(value15), isFunc = tag == funcTag || tag == genTag;
      if (isBuffer(value15)) {
        return cloneBuffer(value15, isDeep);
      }
      if (tag == objectTag || tag == argsTag || isFunc && !object13) {
        if (isHostObject(value15)) {
          return object13 ? value15 : {};
        }
        result = initCloneObject(isFunc ? {} : value15);
        if (!isDeep) {
          return copySymbols(value15, baseAssign(result, value15));
        }
      } else {
        if (!cloneableTags[tag]) {
          return object13 ? value15 : {};
        }
        result = initCloneByTag(value15, tag, baseClone, isDeep);
      }
    }
    stack || (stack = new Stack);
    var stacked = stack.get(value15);
    if (stacked) {
      return stacked;
    }
    stack.set(value15, result);
    if (!isArr) {
      var props = isFull ? getAllKeys(value15) : keys(value15);
    }
    arrayEach(props || value15, function(subValue, key2) {
      if (props) {
        key2 = subValue;
        subValue = value15[key2];
      }
      assignValue(result, key2, baseClone(subValue, isDeep, isFull, customizer, key2, value15, stack));
    });
    return result;
  };
  var baseCreate = function(proto) {
    return isObject2(proto) ? objectCreate(proto) : {};
  };
  var baseGetAllKeys = function(object13, keysFunc, symbolsFunc) {
    var result = keysFunc(object13);
    return isArray(object13) ? result : arrayPush(result, symbolsFunc(object13));
  };
  var baseGetTag = function(value15) {
    return objectToString.call(value15);
  };
  var baseIsNative = function(value15) {
    if (!isObject2(value15) || isMasked(value15)) {
      return false;
    }
    var pattern3 = isFunction(value15) || isHostObject(value15) ? reIsNative : reIsHostCtor;
    return pattern3.test(toSource(value15));
  };
  var baseKeys = function(object13) {
    if (!isPrototype(object13)) {
      return nativeKeys(object13);
    }
    var result = [];
    for (var key in Object(object13)) {
      if (hasOwnProperty.call(object13, key) && key != "constructor") {
        result.push(key);
      }
    }
    return result;
  };
  var cloneBuffer = function(buffer, isDeep) {
    if (isDeep) {
      return buffer.slice();
    }
    var result = new buffer.constructor(buffer.length);
    buffer.copy(result);
    return result;
  };
  var cloneArrayBuffer = function(arrayBuffer) {
    var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
    new Uint8Array3(result).set(new Uint8Array3(arrayBuffer));
    return result;
  };
  var cloneDataView = function(dataView, isDeep) {
    var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;
    return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);
  };
  var cloneMap = function(map3, isDeep, cloneFunc) {
    var array5 = isDeep ? cloneFunc(mapToArray(map3), true) : mapToArray(map3);
    return arrayReduce(array5, addMapEntry, new map3.constructor);
  };
  var cloneRegExp = function(regexp4) {
    var result = new regexp4.constructor(regexp4.source, reFlags.exec(regexp4));
    result.lastIndex = regexp4.lastIndex;
    return result;
  };
  var cloneSet = function(set2, isDeep, cloneFunc) {
    var array5 = isDeep ? cloneFunc(setToArray(set2), true) : setToArray(set2);
    return arrayReduce(array5, addSetEntry, new set2.constructor);
  };
  var cloneSymbol = function(symbol5) {
    return symbolValueOf ? Object(symbolValueOf.call(symbol5)) : {};
  };
  var cloneTypedArray = function(typedArray, isDeep) {
    var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
    return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
  };
  var copyArray = function(source, array5) {
    var index = -1, length = source.length;
    array5 || (array5 = Array(length));
    while (++index < length) {
      array5[index] = source[index];
    }
    return array5;
  };
  var copyObject = function(source, props, object13, customizer) {
    object13 || (object13 = {});
    var index = -1, length = props.length;
    while (++index < length) {
      var key = props[index];
      var newValue = customizer ? customizer(object13[key], source[key], key, object13, source) : undefined;
      assignValue(object13, key, newValue === undefined ? source[key] : newValue);
    }
    return object13;
  };
  var copySymbols = function(source, object13) {
    return copyObject(source, getSymbols(source), object13);
  };
  var getAllKeys = function(object13) {
    return baseGetAllKeys(object13, keys, getSymbols);
  };
  var getMapData = function(map3, key) {
    var data = map3.__data__;
    return isKeyable(key) ? data[typeof key == "string" ? "string" : "hash"] : data.map;
  };
  var getNative = function(object13, key) {
    var value15 = getValue(object13, key);
    return baseIsNative(value15) ? value15 : undefined;
  };
  var initCloneArray = function(array5) {
    var length = array5.length, result = array5.constructor(length);
    if (length && typeof array5[0] == "string" && hasOwnProperty.call(array5, "index")) {
      result.index = array5.index;
      result.input = array5.input;
    }
    return result;
  };
  var initCloneObject = function(object13) {
    return typeof object13.constructor == "function" && !isPrototype(object13) ? baseCreate(getPrototype(object13)) : {};
  };
  var initCloneByTag = function(object13, tag, cloneFunc, isDeep) {
    var Ctor = object13.constructor;
    switch (tag) {
      case arrayBufferTag:
        return cloneArrayBuffer(object13);
      case boolTag:
      case dateTag:
        return new Ctor(+object13);
      case dataViewTag:
        return cloneDataView(object13, isDeep);
      case float32Tag:
      case float64Tag:
      case int8Tag:
      case int16Tag:
      case int32Tag:
      case uint8Tag:
      case uint8ClampedTag:
      case uint16Tag:
      case uint32Tag:
        return cloneTypedArray(object13, isDeep);
      case mapTag:
        return cloneMap(object13, isDeep, cloneFunc);
      case numberTag:
      case stringTag:
        return new Ctor(object13);
      case regexpTag:
        return cloneRegExp(object13);
      case setTag:
        return cloneSet(object13, isDeep, cloneFunc);
      case symbolTag:
        return cloneSymbol(object13);
    }
  };
  var isIndex = function(value15, length) {
    length = length == null ? MAX_SAFE_INTEGER : length;
    return !!length && (typeof value15 == "number" || reIsUint.test(value15)) && (value15 > -1 && value15 % 1 == 0 && value15 < length);
  };
  var isKeyable = function(value15) {
    var type47 = typeof value15;
    return type47 == "string" || type47 == "number" || type47 == "symbol" || type47 == "boolean" ? value15 !== "__proto__" : value15 === null;
  };
  var isMasked = function(func) {
    return !!maskSrcKey && maskSrcKey in func;
  };
  var isPrototype = function(value15) {
    var Ctor = value15 && value15.constructor, proto = typeof Ctor == "function" && Ctor.prototype || objectProto;
    return value15 === proto;
  };
  var toSource = function(func) {
    if (func != null) {
      try {
        return funcToString.call(func);
      } catch (e2) {
      }
      try {
        return func + "";
      } catch (e2) {
      }
    }
    return "";
  };
  var cloneDeep = function(value15) {
    return baseClone(value15, true, true);
  };
  var eq = function(value15, other) {
    return value15 === other || value15 !== value15 && other !== other;
  };
  var isArguments = function(value15) {
    return isArrayLikeObject(value15) && hasOwnProperty.call(value15, "callee") && (!propertyIsEnumerable.call(value15, "callee") || objectToString.call(value15) == argsTag);
  };
  var isArrayLike = function(value15) {
    return value15 != null && isLength(value15.length) && !isFunction(value15);
  };
  var isArrayLikeObject = function(value15) {
    return isObjectLike(value15) && isArrayLike(value15);
  };
  var isFunction = function(value15) {
    var tag = isObject2(value15) ? objectToString.call(value15) : "";
    return tag == funcTag || tag == genTag;
  };
  var isLength = function(value15) {
    return typeof value15 == "number" && value15 > -1 && value15 % 1 == 0 && value15 <= MAX_SAFE_INTEGER;
  };
  var isObject2 = function(value15) {
    var type47 = typeof value15;
    return !!value15 && (type47 == "object" || type47 == "function");
  };
  var isObjectLike = function(value15) {
    return !!value15 && typeof value15 == "object";
  };
  var keys = function(object13) {
    return isArrayLike(object13) ? arrayLikeKeys(object13) : baseKeys(object13);
  };
  var stubArray = function() {
    return [];
  };
  var stubFalse = function() {
    return false;
  };
  var LARGE_ARRAY_SIZE = 200;
  var HASH_UNDEFINED = "__lodash_hash_undefined__";
  var MAX_SAFE_INTEGER = 9007199254740991;
  var argsTag = "[object Arguments]";
  var arrayTag = "[object Array]";
  var boolTag = "[object Boolean]";
  var dateTag = "[object Date]";
  var errorTag = "[object Error]";
  var funcTag = "[object Function]";
  var genTag = "[object GeneratorFunction]";
  var mapTag = "[object Map]";
  var numberTag = "[object Number]";
  var objectTag = "[object Object]";
  var promiseTag = "[object Promise]";
  var regexpTag = "[object RegExp]";
  var setTag = "[object Set]";
  var stringTag = "[object String]";
  var symbolTag = "[object Symbol]";
  var weakMapTag = "[object WeakMap]";
  var arrayBufferTag = "[object ArrayBuffer]";
  var dataViewTag = "[object DataView]";
  var float32Tag = "[object Float32Array]";
  var float64Tag = "[object Float64Array]";
  var int8Tag = "[object Int8Array]";
  var int16Tag = "[object Int16Array]";
  var int32Tag = "[object Int32Array]";
  var uint8Tag = "[object Uint8Array]";
  var uint8ClampedTag = "[object Uint8ClampedArray]";
  var uint16Tag = "[object Uint16Array]";
  var uint32Tag = "[object Uint32Array]";
  var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;
  var reFlags = /\w*$/;
  var reIsHostCtor = /^\[object .+?Constructor\]$/;
  var reIsUint = /^(?:0|[1-9]\d*)$/;
  var cloneableTags = {};
  cloneableTags[argsTag] = cloneableTags[arrayTag] = cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] = cloneableTags[boolTag] = cloneableTags[dateTag] = cloneableTags[float32Tag] = cloneableTags[float64Tag] = cloneableTags[int8Tag] = cloneableTags[int16Tag] = cloneableTags[int32Tag] = cloneableTags[mapTag] = cloneableTags[numberTag] = cloneableTags[objectTag] = cloneableTags[regexpTag] = cloneableTags[setTag] = cloneableTags[stringTag] = cloneableTags[symbolTag] = cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] = cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;
  cloneableTags[errorTag] = cloneableTags[funcTag] = cloneableTags[weakMapTag] = false;
  var freeGlobal = typeof global == "object" && global && global.Object === Object && global;
  var freeSelf = typeof self == "object" && self && self.Object === Object && self;
  var root = freeGlobal || freeSelf || Function("return this")();
  var freeExports = typeof exports == "object" && exports && !exports.nodeType && exports;
  var freeModule = freeExports && typeof module == "object" && module && !module.nodeType && module;
  var moduleExports = freeModule && freeModule.exports === freeExports;
  var arrayProto = Array.prototype;
  var funcProto = Function.prototype;
  var objectProto = Object.prototype;
  var coreJsData = root["__core-js_shared__"];
  var maskSrcKey = function() {
    var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || "");
    return uid ? "Symbol(src)_1." + uid : "";
  }();
  var funcToString = funcProto.toString;
  var hasOwnProperty = objectProto.hasOwnProperty;
  var objectToString = objectProto.toString;
  var reIsNative = RegExp("^" + funcToString.call(hasOwnProperty).replace(reRegExpChar, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
  var Buffer2 = moduleExports ? root.Buffer : undefined;
  var Symbol3 = root.Symbol;
  var Uint8Array3 = root.Uint8Array;
  var getPrototype = overArg(Object.getPrototypeOf, Object);
  var objectCreate = Object.create;
  var propertyIsEnumerable = objectProto.propertyIsEnumerable;
  var splice = arrayProto.splice;
  var nativeGetSymbols = Object.getOwnPropertySymbols;
  var nativeIsBuffer = Buffer2 ? Buffer2.isBuffer : undefined;
  var nativeKeys = overArg(Object.keys, Object);
  var DataView2 = getNative(root, "DataView");
  var Map2 = getNative(root, "Map");
  var Promise3 = getNative(root, "Promise");
  var Set5 = getNative(root, "Set");
  var WeakMap2 = getNative(root, "WeakMap");
  var nativeCreate = getNative(Object, "create");
  var dataViewCtorString = toSource(DataView2);
  var mapCtorString = toSource(Map2);
  var promiseCtorString = toSource(Promise3);
  var setCtorString = toSource(Set5);
  var weakMapCtorString = toSource(WeakMap2);
  var symbolProto = Symbol3 ? Symbol3.prototype : undefined;
  var symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;
  Hash3.prototype.clear = hashClear;
  Hash3.prototype["delete"] = hashDelete;
  Hash3.prototype.get = hashGet;
  Hash3.prototype.has = hashHas;
  Hash3.prototype.set = hashSet;
  ListCache.prototype.clear = listCacheClear;
  ListCache.prototype["delete"] = listCacheDelete;
  ListCache.prototype.get = listCacheGet;
  ListCache.prototype.has = listCacheHas;
  ListCache.prototype.set = listCacheSet;
  MapCache.prototype.clear = mapCacheClear;
  MapCache.prototype["delete"] = mapCacheDelete;
  MapCache.prototype.get = mapCacheGet;
  MapCache.prototype.has = mapCacheHas;
  MapCache.prototype.set = mapCacheSet;
  Stack.prototype.clear = stackClear;
  Stack.prototype["delete"] = stackDelete;
  Stack.prototype.get = stackGet;
  Stack.prototype.has = stackHas;
  Stack.prototype.set = stackSet;
  var getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;
  var getTag = baseGetTag;
  if (DataView2 && getTag(new DataView2(new ArrayBuffer(1))) != dataViewTag || Map2 && getTag(new Map2) != mapTag || Promise3 && getTag(Promise3.resolve()) != promiseTag || Set5 && getTag(new Set5) != setTag || WeakMap2 && getTag(new WeakMap2) != weakMapTag) {
    getTag = function(value15) {
      var result = objectToString.call(value15), Ctor = result == objectTag ? value15.constructor : undefined, ctorString = Ctor ? toSource(Ctor) : undefined;
      if (ctorString) {
        switch (ctorString) {
          case dataViewCtorString:
            return dataViewTag;
          case mapCtorString:
            return mapTag;
          case promiseCtorString:
            return promiseTag;
          case setCtorString:
            return setTag;
          case weakMapCtorString:
            return weakMapTag;
        }
      }
      return result;
    };
  }
  var isArray = Array.isArray;
  var isBuffer = nativeIsBuffer || stubFalse;
  module.exports = cloneDeep;
});

// node_modules/eventemitter3/index.mjs
var import_ = __toESM(require_eventemitter3(), 1);
var eventemitter3_default = import_.default;

// node_modules/@sinclair/typebox/build/esm/value/guard/guard.mjs
function IsAsyncIterator(value) {
  return IsObject(value) && Symbol.asyncIterator in value;
}
function IsIterator(value) {
  return IsObject(value) && Symbol.iterator in value;
}
function IsStandardObject(value) {
  return IsObject(value) && (Object.getPrototypeOf(value) === Object.prototype || Object.getPrototypeOf(value) === null);
}
function IsPromise(value) {
  return value instanceof Promise;
}
function IsDate(value) {
  return value instanceof Date && Number.isFinite(value.getTime());
}
function IsTypedArray(value) {
  return ArrayBuffer.isView(value);
}
function IsUint8Array(value) {
  return value instanceof globalThis.Uint8Array;
}
function HasPropertyKey(value, key) {
  return key in value;
}
function IsObject(value) {
  return value !== null && typeof value === "object";
}
function IsArray(value) {
  return Array.isArray(value) && !ArrayBuffer.isView(value);
}
function IsUndefined(value) {
  return value === undefined;
}
function IsNull(value) {
  return value === null;
}
function IsBoolean(value) {
  return typeof value === "boolean";
}
function IsNumber(value) {
  return typeof value === "number";
}
function IsInteger(value) {
  return Number.isInteger(value);
}
function IsBigInt(value) {
  return typeof value === "bigint";
}
function IsString(value) {
  return typeof value === "string";
}
function IsFunction(value) {
  return typeof value === "function";
}
function IsSymbol(value) {
  return typeof value === "symbol";
}
function IsValueType(value) {
  return IsBigInt(value) || IsBoolean(value) || IsNull(value) || IsNumber(value) || IsString(value) || IsSymbol(value) || IsUndefined(value);
}
// node_modules/@sinclair/typebox/build/esm/system/policy.mjs
var TypeSystemPolicy;
(function(TypeSystemPolicy2) {
  TypeSystemPolicy2.ExactOptionalPropertyTypes = false;
  TypeSystemPolicy2.AllowArrayObject = false;
  TypeSystemPolicy2.AllowNaN = false;
  TypeSystemPolicy2.AllowNullVoid = false;
  function IsExactOptionalProperty(value, key) {
    return TypeSystemPolicy2.ExactOptionalPropertyTypes ? key in value : value[key] !== undefined;
  }
  TypeSystemPolicy2.IsExactOptionalProperty = IsExactOptionalProperty;
  function IsObjectLike(value) {
    const isObject = IsObject(value);
    return TypeSystemPolicy2.AllowArrayObject ? isObject : isObject && !IsArray(value);
  }
  TypeSystemPolicy2.IsObjectLike = IsObjectLike;
  function IsRecordLike(value) {
    return IsObjectLike(value) && !(value instanceof Date) && !(value instanceof Uint8Array);
  }
  TypeSystemPolicy2.IsRecordLike = IsRecordLike;
  function IsNumberLike(value) {
    return TypeSystemPolicy2.AllowNaN ? IsNumber(value) : Number.isFinite(value);
  }
  TypeSystemPolicy2.IsNumberLike = IsNumberLike;
  function IsVoidLike(value) {
    const isUndefined = IsUndefined(value);
    return TypeSystemPolicy2.AllowNullVoid ? isUndefined || value === null : isUndefined;
  }
  TypeSystemPolicy2.IsVoidLike = IsVoidLike;
})(TypeSystemPolicy || (TypeSystemPolicy = {}));
// node_modules/@sinclair/typebox/build/esm/type/registry/format.mjs
var exports_format = {};
__export(exports_format, {
  Set: () => {
    {
      return Set2;
    }
  },
  Has: () => {
    {
      return Has;
    }
  },
  Get: () => {
    {
      return Get;
    }
  },
  Entries: () => {
    {
      return Entries;
    }
  },
  Delete: () => {
    {
      return Delete;
    }
  },
  Clear: () => {
    {
      return Clear;
    }
  }
});
function Entries() {
  return new Map(map);
}
function Clear() {
  return map.clear();
}
function Delete(format) {
  return map.delete(format);
}
function Has(format) {
  return map.has(format);
}
function Set2(format, func) {
  map.set(format, func);
}
function Get(format) {
  return map.get(format);
}
var map = new Map;
// node_modules/@sinclair/typebox/build/esm/type/registry/type.mjs
var exports_type = {};
__export(exports_type, {
  Set: () => {
    {
      return Set3;
    }
  },
  Has: () => {
    {
      return Has2;
    }
  },
  Get: () => {
    {
      return Get2;
    }
  },
  Entries: () => {
    {
      return Entries2;
    }
  },
  Delete: () => {
    {
      return Delete2;
    }
  },
  Clear: () => {
    {
      return Clear2;
    }
  }
});
function Entries2() {
  return new Map(map2);
}
function Clear2() {
  return map2.clear();
}
function Delete2(kind) {
  return map2.delete(kind);
}
function Has2(kind) {
  return map2.has(kind);
}
function Set3(kind, func) {
  map2.set(kind, func);
}
function Get2(kind) {
  return map2.get(kind);
}
var map2 = new Map;
// node_modules/@sinclair/typebox/build/esm/type/symbols/symbols.mjs
var TransformKind = Symbol.for("TypeBox.Transform");
var ReadonlyKind = Symbol.for("TypeBox.Readonly");
var OptionalKind = Symbol.for("TypeBox.Optional");
var Hint = Symbol.for("TypeBox.Hint");
var Kind = Symbol.for("TypeBox.Kind");
// node_modules/@sinclair/typebox/build/esm/type/unsafe/unsafe.mjs
function Unsafe(options = {}) {
  return {
    ...options,
    [Kind]: options[Kind] ?? "Unsafe"
  };
}
// node_modules/@sinclair/typebox/build/esm/type/error/error.mjs
class TypeBoxError extends Error {
  constructor(message) {
    super(message);
  }
}
// node_modules/@sinclair/typebox/build/esm/system/system.mjs
class TypeSystemDuplicateTypeKind extends TypeBoxError {
  constructor(kind) {
    super(`Duplicate type kind '${kind}' detected`);
  }
}

class TypeSystemDuplicateFormat extends TypeBoxError {
  constructor(kind) {
    super(`Duplicate string format '${kind}' detected`);
  }
}
var TypeSystem;
(function(TypeSystem2) {
  function Type(kind, check) {
    if (exports_type.Has(kind))
      throw new TypeSystemDuplicateTypeKind(kind);
    exports_type.Set(kind, check);
    return (options = {}) => Unsafe({ ...options, [Kind]: kind });
  }
  TypeSystem2.Type = Type;
  function Format(format, check) {
    if (exports_format.Has(format))
      throw new TypeSystemDuplicateFormat(format);
    exports_format.Set(format, check);
    return format;
  }
  TypeSystem2.Format = Format;
})(TypeSystem || (TypeSystem = {}));
// node_modules/@sinclair/typebox/build/esm/type/mapped/mapped-result.mjs
function MappedResult(properties) {
  return {
    [Kind]: "MappedResult",
    properties
  };
}
// node_modules/@sinclair/typebox/build/esm/type/guard/value.mjs
var exports_value = {};
__export(exports_value, {
  IsUndefined: () => {
    {
      return IsUndefined2;
    }
  },
  IsUint8Array: () => {
    {
      return IsUint8Array2;
    }
  },
  IsSymbol: () => {
    {
      return IsSymbol2;
    }
  },
  IsString: () => {
    {
      return IsString2;
    }
  },
  IsRegExp: () => {
    {
      return IsRegExp;
    }
  },
  IsObject: () => {
    {
      return IsObject2;
    }
  },
  IsNumber: () => {
    {
      return IsNumber2;
    }
  },
  IsNull: () => {
    {
      return IsNull2;
    }
  },
  IsIterator: () => {
    {
      return IsIterator2;
    }
  },
  IsFunction: () => {
    {
      return IsFunction2;
    }
  },
  IsDate: () => {
    {
      return IsDate2;
    }
  },
  IsBoolean: () => {
    {
      return IsBoolean2;
    }
  },
  IsBigInt: () => {
    {
      return IsBigInt2;
    }
  },
  IsAsyncIterator: () => {
    {
      return IsAsyncIterator2;
    }
  },
  IsArray: () => {
    {
      return IsArray2;
    }
  }
});
function IsAsyncIterator2(value) {
  return IsObject2(value) && !IsArray2(value) && !IsUint8Array2(value) && Symbol.asyncIterator in value;
}
function IsArray2(value) {
  return Array.isArray(value);
}
function IsBigInt2(value) {
  return typeof value === "bigint";
}
function IsBoolean2(value) {
  return typeof value === "boolean";
}
function IsDate2(value) {
  return value instanceof globalThis.Date;
}
function IsFunction2(value) {
  return typeof value === "function";
}
function IsIterator2(value) {
  return IsObject2(value) && !IsArray2(value) && !IsUint8Array2(value) && Symbol.iterator in value;
}
function IsNull2(value) {
  return value === null;
}
function IsNumber2(value) {
  return typeof value === "number";
}
function IsObject2(value) {
  return typeof value === "object" && value !== null;
}
function IsRegExp(value) {
  return value instanceof globalThis.RegExp;
}
function IsString2(value) {
  return typeof value === "string";
}
function IsSymbol2(value) {
  return typeof value === "symbol";
}
function IsUint8Array2(value) {
  return value instanceof globalThis.Uint8Array;
}
function IsUndefined2(value) {
  return value === undefined;
}

// node_modules/@sinclair/typebox/build/esm/type/clone/value.mjs
var ArrayType = function(value) {
  return value.map((value2) => Visit(value2));
};
var DateType = function(value) {
  return new Date(value.getTime());
};
var Uint8ArrayType = function(value) {
  return new Uint8Array(value);
};
var RegExpType = function(value) {
  return new RegExp(value.source, value.flags);
};
var ObjectType = function(value) {
  const result = {};
  for (const key of Object.getOwnPropertyNames(value)) {
    result[key] = Visit(value[key]);
  }
  for (const key of Object.getOwnPropertySymbols(value)) {
    result[key] = Visit(value[key]);
  }
  return result;
};
var Visit = function(value) {
  return IsArray2(value) ? ArrayType(value) : IsDate2(value) ? DateType(value) : IsUint8Array2(value) ? Uint8ArrayType(value) : IsRegExp(value) ? RegExpType(value) : IsObject2(value) ? ObjectType(value) : value;
};
function Clone(value) {
  return Visit(value);
}

// node_modules/@sinclair/typebox/build/esm/type/clone/type.mjs
function CloneRest(schemas) {
  return schemas.map((schema) => CloneType(schema));
}
function CloneType(schema, options = {}) {
  return { ...Clone(schema), ...options };
}

// node_modules/@sinclair/typebox/build/esm/type/discard/discard.mjs
var DiscardKey = function(value2, key) {
  const { [key]: _, ...rest } = value2;
  return rest;
};
function Discard(value2, keys) {
  return keys.reduce((acc, key) => DiscardKey(acc, key), value2);
}
// node_modules/@sinclair/typebox/build/esm/type/array/array.mjs
function Array2(schema, options = {}) {
  return {
    ...options,
    [Kind]: "Array",
    type: "array",
    items: CloneType(schema)
  };
}
// node_modules/@sinclair/typebox/build/esm/type/async-iterator/async-iterator.mjs
function AsyncIterator(items, options = {}) {
  return {
    ...options,
    [Kind]: "AsyncIterator",
    type: "AsyncIterator",
    items: CloneType(items)
  };
}
// node_modules/@sinclair/typebox/build/esm/type/constructor/constructor.mjs
function Constructor(parameters, returns, options) {
  return {
    ...options,
    [Kind]: "Constructor",
    type: "Constructor",
    parameters: CloneRest(parameters),
    returns: CloneType(returns)
  };
}
// node_modules/@sinclair/typebox/build/esm/type/function/function.mjs
function Function2(parameters, returns, options) {
  return {
    ...options,
    [Kind]: "Function",
    type: "Function",
    parameters: CloneRest(parameters),
    returns: CloneType(returns)
  };
}
// node_modules/@sinclair/typebox/build/esm/type/never/never.mjs
function Never(options = {}) {
  return {
    ...options,
    [Kind]: "Never",
    not: {}
  };
}
// node_modules/@sinclair/typebox/build/esm/type/guard/kind.mjs
function IsReadonly(value2) {
  return IsObject2(value2) && value2[ReadonlyKind] === "Readonly";
}
function IsOptional(value2) {
  return IsObject2(value2) && value2[OptionalKind] === "Optional";
}
function IsAny(value2) {
  return IsKindOf(value2, "Any");
}
function IsArray3(value2) {
  return IsKindOf(value2, "Array");
}
function IsAsyncIterator3(value2) {
  return IsKindOf(value2, "AsyncIterator");
}
function IsBigInt3(value2) {
  return IsKindOf(value2, "BigInt");
}
function IsBoolean3(value2) {
  return IsKindOf(value2, "Boolean");
}
function IsConstructor(value2) {
  return IsKindOf(value2, "Constructor");
}
function IsDate3(value2) {
  return IsKindOf(value2, "Date");
}
function IsFunction3(value2) {
  return IsKindOf(value2, "Function");
}
function IsInteger2(value2) {
  return IsKindOf(value2, "Integer");
}
function IsIntersect(value2) {
  return IsKindOf(value2, "Intersect");
}
function IsIterator3(value2) {
  return IsKindOf(value2, "Iterator");
}
function IsKindOf(value2, kind) {
  return IsObject2(value2) && Kind in value2 && value2[Kind] === kind;
}
function IsLiteral(value2) {
  return IsKindOf(value2, "Literal");
}
function IsMappedKey(value2) {
  return IsKindOf(value2, "MappedKey");
}
function IsMappedResult(value2) {
  return IsKindOf(value2, "MappedResult");
}
function IsNever(value2) {
  return IsKindOf(value2, "Never");
}
function IsNot(value2) {
  return IsKindOf(value2, "Not");
}
function IsNull3(value2) {
  return IsKindOf(value2, "Null");
}
function IsNumber3(value2) {
  return IsKindOf(value2, "Number");
}
function IsObject3(value2) {
  return IsKindOf(value2, "Object");
}
function IsPromise2(value2) {
  return IsKindOf(value2, "Promise");
}
function IsRecord(value2) {
  return IsKindOf(value2, "Record");
}
function IsRef(value2) {
  return IsKindOf(value2, "Ref");
}
function IsRegExp2(value2) {
  return IsKindOf(value2, "RegExp");
}
function IsString3(value2) {
  return IsKindOf(value2, "String");
}
function IsSymbol3(value2) {
  return IsKindOf(value2, "Symbol");
}
function IsTemplateLiteral(value2) {
  return IsKindOf(value2, "TemplateLiteral");
}
function IsThis(value2) {
  return IsKindOf(value2, "This");
}
function IsTransform(value2) {
  return IsObject2(value2) && TransformKind in value2;
}
function IsTuple(value2) {
  return IsKindOf(value2, "Tuple");
}
function IsUndefined3(value2) {
  return IsKindOf(value2, "Undefined");
}
function IsUnion(value2) {
  return IsKindOf(value2, "Union");
}
function IsUint8Array3(value2) {
  return IsKindOf(value2, "Uint8Array");
}
function IsUnknown(value2) {
  return IsKindOf(value2, "Unknown");
}
function IsUnsafe(value2) {
  return IsKindOf(value2, "Unsafe");
}
function IsVoid(value2) {
  return IsKindOf(value2, "Void");
}
function IsKind(value2) {
  return IsObject2(value2) && Kind in value2 && IsString2(value2[Kind]);
}
function IsSchema(value2) {
  return IsAny(value2) || IsArray3(value2) || IsBoolean3(value2) || IsBigInt3(value2) || IsAsyncIterator3(value2) || IsConstructor(value2) || IsDate3(value2) || IsFunction3(value2) || IsInteger2(value2) || IsIntersect(value2) || IsIterator3(value2) || IsLiteral(value2) || IsMappedKey(value2) || IsMappedResult(value2) || IsNever(value2) || IsNot(value2) || IsNull3(value2) || IsNumber3(value2) || IsObject3(value2) || IsPromise2(value2) || IsRecord(value2) || IsRef(value2) || IsRegExp2(value2) || IsString3(value2) || IsSymbol3(value2) || IsTemplateLiteral(value2) || IsThis(value2) || IsTuple(value2) || IsUndefined3(value2) || IsUnion(value2) || IsUint8Array3(value2) || IsUnknown(value2) || IsUnsafe(value2) || IsVoid(value2) || IsKind(value2);
}

// node_modules/@sinclair/typebox/build/esm/type/optional/optional.mjs
var RemoveOptional = function(schema) {
  return Discard(CloneType(schema), [OptionalKind]);
};
var AddOptional = function(schema) {
  return { ...CloneType(schema), [OptionalKind]: "Optional" };
};
var OptionalWithFlag = function(schema, F) {
  return F === false ? RemoveOptional(schema) : AddOptional(schema);
};
function Optional(schema, enable) {
  const F = enable ?? true;
  return IsMappedResult(schema) ? OptionalFromMappedResult(schema, F) : OptionalWithFlag(schema, F);
}

// node_modules/@sinclair/typebox/build/esm/type/optional/optional-from-mapped-result.mjs
var FromProperties = function(P, F) {
  const Acc = {};
  for (const K2 of globalThis.Object.getOwnPropertyNames(P))
    Acc[K2] = Optional(P[K2], F);
  return Acc;
};
var FromMappedResult = function(R, F) {
  return FromProperties(R.properties, F);
};
function OptionalFromMappedResult(R, F) {
  const P = FromMappedResult(R, F);
  return MappedResult(P);
}
// node_modules/@sinclair/typebox/build/esm/type/intersect/intersect-create.mjs
function IntersectCreate(T, options) {
  const allObjects = T.every((schema) => IsObject3(schema));
  const clonedUnevaluatedProperties = IsSchema(options.unevaluatedProperties) ? { unevaluatedProperties: CloneType(options.unevaluatedProperties) } : {};
  return options.unevaluatedProperties === false || IsSchema(options.unevaluatedProperties) || allObjects ? { ...options, ...clonedUnevaluatedProperties, [Kind]: "Intersect", type: "object", allOf: CloneRest(T) } : { ...options, ...clonedUnevaluatedProperties, [Kind]: "Intersect", allOf: CloneRest(T) };
}

// node_modules/@sinclair/typebox/build/esm/type/intersect/intersect-evaluated.mjs
var IsIntersectOptional = function(T) {
  return T.every((L) => IsOptional(L));
};
var RemoveOptionalFromType = function(T) {
  return Discard(T, [OptionalKind]);
};
var RemoveOptionalFromRest = function(T) {
  return T.map((L) => IsOptional(L) ? RemoveOptionalFromType(L) : L);
};
var ResolveIntersect = function(T, options) {
  return IsIntersectOptional(T) ? Optional(IntersectCreate(RemoveOptionalFromRest(T), options)) : IntersectCreate(RemoveOptionalFromRest(T), options);
};
function IntersectEvaluated(T, options = {}) {
  if (T.length === 0)
    return Never(options);
  if (T.length === 1)
    return CloneType(T[0], options);
  if (T.some((schema) => IsTransform(schema)))
    throw new Error("Cannot intersect transform types");
  return ResolveIntersect(T, options);
}
// node_modules/@sinclair/typebox/build/esm/type/intersect/intersect.mjs
function Intersect(T, options = {}) {
  if (T.length === 0)
    return Never(options);
  if (T.length === 1)
    return CloneType(T[0], options);
  if (T.some((schema) => IsTransform(schema)))
    throw new Error("Cannot intersect transform types");
  return IntersectCreate(T, options);
}
// node_modules/@sinclair/typebox/build/esm/type/union/union-create.mjs
function UnionCreate(T, options) {
  return { ...options, [Kind]: "Union", anyOf: CloneRest(T) };
}

// node_modules/@sinclair/typebox/build/esm/type/union/union-evaluated.mjs
var IsUnionOptional = function(T) {
  return T.some((L) => IsOptional(L));
};
var RemoveOptionalFromRest2 = function(T) {
  return T.map((L) => IsOptional(L) ? RemoveOptionalFromType2(L) : L);
};
var RemoveOptionalFromType2 = function(T) {
  return Discard(T, [OptionalKind]);
};
var ResolveUnion = function(T, options) {
  return IsUnionOptional(T) ? Optional(UnionCreate(RemoveOptionalFromRest2(T), options)) : UnionCreate(RemoveOptionalFromRest2(T), options);
};
function UnionEvaluated(T, options = {}) {
  return T.length === 0 ? Never(options) : T.length === 1 ? CloneType(T[0], options) : ResolveUnion(T, options);
}
// node_modules/@sinclair/typebox/build/esm/type/union/union.mjs
function Union(T, options = {}) {
  return T.length === 0 ? Never(options) : T.length === 1 ? CloneType(T[0], options) : UnionCreate(T, options);
}
// node_modules/@sinclair/typebox/build/esm/type/template-literal/parse.mjs
var Unescape = function(pattern) {
  return pattern.replace(/\\\$/g, "$").replace(/\\\*/g, "*").replace(/\\\^/g, "^").replace(/\\\|/g, "|").replace(/\\\(/g, "(").replace(/\\\)/g, ")");
};
var IsNonEscaped = function(pattern, index, char) {
  return pattern[index] === char && pattern.charCodeAt(index - 1) !== 92;
};
var IsOpenParen = function(pattern, index) {
  return IsNonEscaped(pattern, index, "(");
};
var IsCloseParen = function(pattern, index) {
  return IsNonEscaped(pattern, index, ")");
};
var IsSeparator = function(pattern, index) {
  return IsNonEscaped(pattern, index, "|");
};
var IsGroup = function(pattern) {
  if (!(IsOpenParen(pattern, 0) && IsCloseParen(pattern, pattern.length - 1)))
    return false;
  let count = 0;
  for (let index = 0;index < pattern.length; index++) {
    if (IsOpenParen(pattern, index))
      count += 1;
    if (IsCloseParen(pattern, index))
      count -= 1;
    if (count === 0 && index !== pattern.length - 1)
      return false;
  }
  return true;
};
var InGroup = function(pattern) {
  return pattern.slice(1, pattern.length - 1);
};
var IsPrecedenceOr = function(pattern) {
  let count = 0;
  for (let index = 0;index < pattern.length; index++) {
    if (IsOpenParen(pattern, index))
      count += 1;
    if (IsCloseParen(pattern, index))
      count -= 1;
    if (IsSeparator(pattern, index) && count === 0)
      return true;
  }
  return false;
};
var IsPrecedenceAnd = function(pattern) {
  for (let index = 0;index < pattern.length; index++) {
    if (IsOpenParen(pattern, index))
      return true;
  }
  return false;
};
var Or = function(pattern) {
  let [count, start] = [0, 0];
  const expressions = [];
  for (let index = 0;index < pattern.length; index++) {
    if (IsOpenParen(pattern, index))
      count += 1;
    if (IsCloseParen(pattern, index))
      count -= 1;
    if (IsSeparator(pattern, index) && count === 0) {
      const range2 = pattern.slice(start, index);
      if (range2.length > 0)
        expressions.push(TemplateLiteralParse(range2));
      start = index + 1;
    }
  }
  const range = pattern.slice(start);
  if (range.length > 0)
    expressions.push(TemplateLiteralParse(range));
  if (expressions.length === 0)
    return { type: "const", const: "" };
  if (expressions.length === 1)
    return expressions[0];
  return { type: "or", expr: expressions };
};
var And = function(pattern) {
  function Group(value2, index) {
    if (!IsOpenParen(value2, index))
      throw new TemplateLiteralParserError(`TemplateLiteralParser: Index must point to open parens`);
    let count = 0;
    for (let scan = index;scan < value2.length; scan++) {
      if (IsOpenParen(value2, scan))
        count += 1;
      if (IsCloseParen(value2, scan))
        count -= 1;
      if (count === 0)
        return [index, scan];
    }
    throw new TemplateLiteralParserError(`TemplateLiteralParser: Unclosed group parens in expression`);
  }
  function Range(pattern2, index) {
    for (let scan = index;scan < pattern2.length; scan++) {
      if (IsOpenParen(pattern2, scan))
        return [index, scan];
    }
    return [index, pattern2.length];
  }
  const expressions = [];
  for (let index = 0;index < pattern.length; index++) {
    if (IsOpenParen(pattern, index)) {
      const [start, end] = Group(pattern, index);
      const range = pattern.slice(start, end + 1);
      expressions.push(TemplateLiteralParse(range));
      index = end;
    } else {
      const [start, end] = Range(pattern, index);
      const range = pattern.slice(start, end);
      if (range.length > 0)
        expressions.push(TemplateLiteralParse(range));
      index = end - 1;
    }
  }
  return expressions.length === 0 ? { type: "const", const: "" } : expressions.length === 1 ? expressions[0] : { type: "and", expr: expressions };
};
function TemplateLiteralParse(pattern) {
  return IsGroup(pattern) ? TemplateLiteralParse(InGroup(pattern)) : IsPrecedenceOr(pattern) ? Or(pattern) : IsPrecedenceAnd(pattern) ? And(pattern) : { type: "const", const: Unescape(pattern) };
}
function TemplateLiteralParseExact(pattern) {
  return TemplateLiteralParse(pattern.slice(1, pattern.length - 1));
}

class TemplateLiteralParserError extends TypeBoxError {
}

// node_modules/@sinclair/typebox/build/esm/type/template-literal/finite.mjs
var IsNumberExpression = function(expression) {
  return expression.type === "or" && expression.expr.length === 2 && expression.expr[0].type === "const" && expression.expr[0].const === "0" && expression.expr[1].type === "const" && expression.expr[1].const === "[1-9][0-9]*";
};
var IsBooleanExpression = function(expression) {
  return expression.type === "or" && expression.expr.length === 2 && expression.expr[0].type === "const" && expression.expr[0].const === "true" && expression.expr[1].type === "const" && expression.expr[1].const === "false";
};
var IsStringExpression = function(expression) {
  return expression.type === "const" && expression.const === ".*";
};
function IsTemplateLiteralExpressionFinite(expression) {
  return IsNumberExpression(expression) || IsStringExpression(expression) ? false : IsBooleanExpression(expression) ? true : expression.type === "and" ? expression.expr.every((expr) => IsTemplateLiteralExpressionFinite(expr)) : expression.type === "or" ? expression.expr.every((expr) => IsTemplateLiteralExpressionFinite(expr)) : expression.type === "const" ? true : (() => {
    throw new TemplateLiteralFiniteError(`Unknown expression type`);
  })();
}
function IsTemplateLiteralFinite(schema) {
  const expression = TemplateLiteralParseExact(schema.pattern);
  return IsTemplateLiteralExpressionFinite(expression);
}

class TemplateLiteralFiniteError extends TypeBoxError {
}
// node_modules/@sinclair/typebox/build/esm/type/template-literal/generate.mjs
function* GenerateReduce(buffer) {
  if (buffer.length === 1)
    return yield* buffer[0];
  for (const left of buffer[0]) {
    for (const right of GenerateReduce(buffer.slice(1))) {
      yield `${left}${right}`;
    }
  }
}
function* GenerateAnd(expression) {
  return yield* GenerateReduce(expression.expr.map((expr) => [...TemplateLiteralExpressionGenerate(expr)]));
}
function* GenerateOr(expression) {
  for (const expr of expression.expr)
    yield* TemplateLiteralExpressionGenerate(expr);
}
function* GenerateConst(expression) {
  return yield expression.const;
}
function* TemplateLiteralExpressionGenerate(expression) {
  return expression.type === "and" ? yield* GenerateAnd(expression) : expression.type === "or" ? yield* GenerateOr(expression) : expression.type === "const" ? yield* GenerateConst(expression) : (() => {
    throw new TemplateLiteralGenerateError("Unknown expression");
  })();
}
function TemplateLiteralGenerate(schema) {
  const expression = TemplateLiteralParseExact(schema.pattern);
  return IsTemplateLiteralExpressionFinite(expression) ? [...TemplateLiteralExpressionGenerate(expression)] : [];
}

class TemplateLiteralGenerateError extends TypeBoxError {
}
// node_modules/@sinclair/typebox/build/esm/type/literal/literal.mjs
function Literal(value2, options = {}) {
  return {
    ...options,
    [Kind]: "Literal",
    const: value2,
    type: typeof value2
  };
}
// node_modules/@sinclair/typebox/build/esm/type/boolean/boolean.mjs
function Boolean(options = {}) {
  return {
    ...options,
    [Kind]: "Boolean",
    type: "boolean"
  };
}
// node_modules/@sinclair/typebox/build/esm/type/bigint/bigint.mjs
function BigInt2(options = {}) {
  return {
    ...options,
    [Kind]: "BigInt",
    type: "bigint"
  };
}
// node_modules/@sinclair/typebox/build/esm/type/number/number.mjs
function Number2(options = {}) {
  return {
    ...options,
    [Kind]: "Number",
    type: "number"
  };
}
// node_modules/@sinclair/typebox/build/esm/type/string/string.mjs
function String2(options = {}) {
  return { ...options, [Kind]: "String", type: "string" };
}
// node_modules/@sinclair/typebox/build/esm/type/template-literal/syntax.mjs
function* FromUnion(syntax) {
  const trim = syntax.trim().replace(/"|'/g, "");
  return trim === "boolean" ? yield Boolean() : trim === "number" ? yield Number2() : trim === "bigint" ? yield BigInt2() : trim === "string" ? yield String2() : yield (() => {
    const literals = trim.split("|").map((literal3) => Literal(literal3.trim()));
    return literals.length === 0 ? Never() : literals.length === 1 ? literals[0] : UnionEvaluated(literals);
  })();
}
function* FromTerminal(syntax) {
  if (syntax[1] !== "{") {
    const L = Literal("$");
    const R = FromSyntax(syntax.slice(1));
    return yield* [L, ...R];
  }
  for (let i = 2;i < syntax.length; i++) {
    if (syntax[i] === "}") {
      const L = FromUnion(syntax.slice(2, i));
      const R = FromSyntax(syntax.slice(i + 1));
      return yield* [...L, ...R];
    }
  }
  yield Literal(syntax);
}
function* FromSyntax(syntax) {
  for (let i = 0;i < syntax.length; i++) {
    if (syntax[i] === "$") {
      const L = Literal(syntax.slice(0, i));
      const R = FromTerminal(syntax.slice(i));
      return yield* [L, ...R];
    }
  }
  yield Literal(syntax);
}
function TemplateLiteralSyntax(syntax) {
  return [...FromSyntax(syntax)];
}
// node_modules/@sinclair/typebox/build/esm/type/patterns/patterns.mjs
var PatternBoolean = "(true|false)";
var PatternNumber = "(0|[1-9][0-9]*)";
var PatternString = "(.*)";
var PatternBooleanExact = `^${PatternBoolean}\$`;
var PatternNumberExact = `^${PatternNumber}\$`;
var PatternStringExact = `^${PatternString}\$`;
// node_modules/@sinclair/typebox/build/esm/type/template-literal/pattern.mjs
var Escape = function(value2) {
  return value2.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
};
var Visit2 = function(schema, acc) {
  return IsTemplateLiteral(schema) ? schema.pattern.slice(1, schema.pattern.length - 1) : IsUnion(schema) ? `(${schema.anyOf.map((schema2) => Visit2(schema2, acc)).join("|")})` : IsNumber3(schema) ? `${acc}${PatternNumber}` : IsInteger2(schema) ? `${acc}${PatternNumber}` : IsBigInt3(schema) ? `${acc}${PatternNumber}` : IsString3(schema) ? `${acc}${PatternString}` : IsLiteral(schema) ? `${acc}${Escape(schema.const.toString())}` : IsBoolean3(schema) ? `${acc}${PatternBoolean}` : (() => {
    throw new TemplateLiteralPatternError(`Unexpected Kind '${schema[Kind]}'`);
  })();
};
function TemplateLiteralPattern(kinds) {
  return `^${kinds.map((schema) => Visit2(schema, "")).join("")}$`;
}

class TemplateLiteralPatternError extends TypeBoxError {
}
// node_modules/@sinclair/typebox/build/esm/type/template-literal/union.mjs
function TemplateLiteralToUnion(schema) {
  const R = TemplateLiteralGenerate(schema);
  const L = R.map((S) => Literal(S));
  return UnionEvaluated(L);
}
// node_modules/@sinclair/typebox/build/esm/type/template-literal/template-literal.mjs
function TemplateLiteral(unresolved, options = {}) {
  const pattern2 = IsString2(unresolved) ? TemplateLiteralPattern(TemplateLiteralSyntax(unresolved)) : TemplateLiteralPattern(unresolved);
  return { ...options, [Kind]: "TemplateLiteral", type: "string", pattern: pattern2 };
}
// node_modules/@sinclair/typebox/build/esm/type/indexed/indexed-property-keys.mjs
var FromTemplateLiteral = function(T) {
  const R = TemplateLiteralGenerate(T);
  return R.map((S) => S.toString());
};
var FromUnion2 = function(T) {
  const Acc = [];
  for (const L of T)
    Acc.push(...IndexPropertyKeys(L));
  return Acc;
};
var FromLiteral = function(T) {
  return [T.toString()];
};
function IndexPropertyKeys(T) {
  return [...new Set(IsTemplateLiteral(T) ? FromTemplateLiteral(T) : IsUnion(T) ? FromUnion2(T.anyOf) : IsLiteral(T) ? FromLiteral(T.const) : IsNumber3(T) ? ["[number]"] : IsInteger2(T) ? ["[number]"] : [])];
}

// node_modules/@sinclair/typebox/build/esm/type/indexed/indexed-from-mapped-result.mjs
var FromProperties2 = function(T, P, options) {
  const Acc = {};
  for (const K2 of Object.getOwnPropertyNames(P)) {
    Acc[K2] = Index(T, IndexPropertyKeys(P[K2]), options);
  }
  return Acc;
};
var FromMappedResult2 = function(T, R, options) {
  return FromProperties2(T, R.properties, options);
};
function IndexFromMappedResult(T, R, options) {
  const P = FromMappedResult2(T, R, options);
  return MappedResult(P);
}

// node_modules/@sinclair/typebox/build/esm/type/indexed/indexed.mjs
var FromRest = function(T, K) {
  return T.map((L) => IndexFromPropertyKey(L, K));
};
var FromIntersectRest = function(T) {
  return T.filter((L) => !IsNever(L));
};
var FromIntersect = function(T, K) {
  return IntersectEvaluated(FromIntersectRest(FromRest(T, K)));
};
var FromUnionRest = function(T) {
  return T.some((L) => IsNever(L)) ? [] : T;
};
var FromUnion3 = function(T, K) {
  return UnionEvaluated(FromUnionRest(FromRest(T, K)));
};
var FromTuple = function(T, K) {
  return K in T ? T[K] : K === "[number]" ? UnionEvaluated(T) : Never();
};
var FromArray = function(T, K) {
  return K === "[number]" ? T : Never();
};
var FromProperty = function(T, K) {
  return K in T ? T[K] : Never();
};
function IndexFromPropertyKey(T, K) {
  return IsIntersect(T) ? FromIntersect(T.allOf, K) : IsUnion(T) ? FromUnion3(T.anyOf, K) : IsTuple(T) ? FromTuple(T.items ?? [], K) : IsArray3(T) ? FromArray(T.items, K) : IsObject3(T) ? FromProperty(T.properties, K) : Never();
}
function IndexFromPropertyKeys(T, K) {
  return K.map((L) => IndexFromPropertyKey(T, L));
}
var FromSchema = function(T, K) {
  return UnionEvaluated(IndexFromPropertyKeys(T, K));
};
function Index(T, K, options = {}) {
  return IsMappedResult(K) ? CloneType(IndexFromMappedResult(T, K, options)) : IsMappedKey(K) ? CloneType(IndexFromMappedKey(T, K, options)) : IsSchema(K) ? CloneType(FromSchema(T, IndexPropertyKeys(K)), options) : CloneType(FromSchema(T, K), options);
}

// node_modules/@sinclair/typebox/build/esm/type/indexed/indexed-from-mapped-key.mjs
var MappedIndexPropertyKey = function(T, K, options) {
  return { [K]: Index(T, [K], options) };
};
var MappedIndexPropertyKeys = function(T, K, options) {
  return K.reduce((Acc, L) => {
    return { ...Acc, ...MappedIndexPropertyKey(T, L, options) };
  }, {});
};
var MappedIndexProperties = function(T, K, options) {
  return MappedIndexPropertyKeys(T, K.keys, options);
};
function IndexFromMappedKey(T, K, options) {
  const P = MappedIndexProperties(T, K, options);
  return MappedResult(P);
}
// node_modules/@sinclair/typebox/build/esm/type/iterator/iterator.mjs
function Iterator(items, options = {}) {
  return {
    ...options,
    [Kind]: "Iterator",
    type: "Iterator",
    items: CloneType(items)
  };
}
// node_modules/@sinclair/typebox/build/esm/type/object/object.mjs
var _Object = function(properties, options = {}) {
  const propertyKeys = globalThis.Object.getOwnPropertyNames(properties);
  const optionalKeys = propertyKeys.filter((key) => IsOptional(properties[key]));
  const requiredKeys = propertyKeys.filter((name) => !optionalKeys.includes(name));
  const clonedAdditionalProperties = IsSchema(options.additionalProperties) ? { additionalProperties: CloneType(options.additionalProperties) } : {};
  const clonedProperties = {};
  for (const key of propertyKeys)
    clonedProperties[key] = CloneType(properties[key]);
  return requiredKeys.length > 0 ? { ...options, ...clonedAdditionalProperties, [Kind]: "Object", type: "object", properties: clonedProperties, required: requiredKeys } : { ...options, ...clonedAdditionalProperties, [Kind]: "Object", type: "object", properties: clonedProperties };
};
var Object2 = _Object;
// node_modules/@sinclair/typebox/build/esm/type/promise/promise.mjs
function Promise2(item, options = {}) {
  return {
    ...options,
    [Kind]: "Promise",
    type: "Promise",
    item: CloneType(item)
  };
}
// node_modules/@sinclair/typebox/build/esm/type/readonly/readonly.mjs
var RemoveReadonly = function(schema) {
  return Discard(CloneType(schema), [ReadonlyKind]);
};
var AddReadonly = function(schema) {
  return { ...CloneType(schema), [ReadonlyKind]: "Readonly" };
};
var ReadonlyWithFlag = function(schema, F) {
  return F === false ? RemoveReadonly(schema) : AddReadonly(schema);
};
function Readonly(schema, enable) {
  const F = enable ?? true;
  return IsMappedResult(schema) ? ReadonlyFromMappedResult(schema, F) : ReadonlyWithFlag(schema, F);
}

// node_modules/@sinclair/typebox/build/esm/type/readonly/readonly-from-mapped-result.mjs
var FromProperties3 = function(K, F) {
  const Acc = {};
  for (const K2 of globalThis.Object.getOwnPropertyNames(K))
    Acc[K2] = Readonly(K[K2], F);
  return Acc;
};
var FromMappedResult3 = function(R, F) {
  return FromProperties3(R.properties, F);
};
function ReadonlyFromMappedResult(R, F) {
  const P = FromMappedResult3(R, F);
  return MappedResult(P);
}
// node_modules/@sinclair/typebox/build/esm/type/tuple/tuple.mjs
function Tuple(items, options = {}) {
  const [additionalItems, minItems, maxItems] = [false, items.length, items.length];
  return items.length > 0 ? { ...options, [Kind]: "Tuple", type: "array", items: CloneRest(items), additionalItems, minItems, maxItems } : { ...options, [Kind]: "Tuple", type: "array", minItems, maxItems };
}
// node_modules/@sinclair/typebox/build/esm/type/sets/set.mjs
function SetIncludes(T, S) {
  return T.includes(S);
}
function SetDistinct(T) {
  return [...new Set(T)];
}
function SetIntersect(T, S) {
  return T.filter((L) => S.includes(L));
}
var SetIntersectManyResolve = function(T, Init) {
  return T.reduce((Acc, L) => {
    return SetIntersect(Acc, L);
  }, Init);
};
function SetIntersectMany(T) {
  return T.length === 1 ? T[0] : T.length > 1 ? SetIntersectManyResolve(T.slice(1), T[0]) : [];
}
function SetUnionMany(T) {
  const Acc = [];
  for (const L of T)
    Acc.push(...L);
  return Acc;
}
// node_modules/@sinclair/typebox/build/esm/type/mapped/mapped.mjs
var FromMappedResult4 = function(K, P) {
  return K in P ? FromSchemaType(K, P[K]) : MappedResult(P);
};
var MappedKeyToKnownMappedResultProperties = function(K) {
  return { [K]: Literal(K) };
};
var MappedKeyToUnknownMappedResultProperties = function(P) {
  const Acc = {};
  for (const L of P)
    Acc[L] = Literal(L);
  return Acc;
};
var MappedKeyToMappedResultProperties = function(K, P) {
  return SetIncludes(P, K) ? MappedKeyToKnownMappedResultProperties(K) : MappedKeyToUnknownMappedResultProperties(P);
};
var FromMappedKey = function(K, P) {
  const R = MappedKeyToMappedResultProperties(K, P);
  return FromMappedResult4(K, R);
};
var FromRest2 = function(K, T) {
  return T.map((L) => FromSchemaType(K, L));
};
var FromProperties4 = function(K, T) {
  const Acc = {};
  for (const K2 of globalThis.Object.getOwnPropertyNames(T))
    Acc[K2] = FromSchemaType(K, T[K2]);
  return Acc;
};
var FromSchemaType = function(K, T) {
  return IsOptional(T) ? Optional(FromSchemaType(K, Discard(T, [OptionalKind]))) : IsReadonly(T) ? Readonly(FromSchemaType(K, Discard(T, [ReadonlyKind]))) : IsMappedResult(T) ? FromMappedResult4(K, T.properties) : IsMappedKey(T) ? FromMappedKey(K, T.keys) : IsConstructor(T) ? Constructor(FromRest2(K, T.parameters), FromSchemaType(K, T.returns)) : IsFunction3(T) ? Function2(FromRest2(K, T.parameters), FromSchemaType(K, T.returns)) : IsAsyncIterator3(T) ? AsyncIterator(FromSchemaType(K, T.items)) : IsIterator3(T) ? Iterator(FromSchemaType(K, T.items)) : IsIntersect(T) ? Intersect(FromRest2(K, T.allOf)) : IsUnion(T) ? Union(FromRest2(K, T.anyOf)) : IsTuple(T) ? Tuple(FromRest2(K, T.items ?? [])) : IsObject3(T) ? Object2(FromProperties4(K, T.properties)) : IsArray3(T) ? Array2(FromSchemaType(K, T.items)) : IsPromise2(T) ? Promise2(FromSchemaType(K, T.item)) : T;
};
function MappedFunctionReturnType(K, T) {
  const Acc = {};
  for (const L of K)
    Acc[L] = FromSchemaType(L, T);
  return Acc;
}
function Mapped(key, map3, options = {}) {
  const K = IsSchema(key) ? IndexPropertyKeys(key) : key;
  const RT = map3({ [Kind]: "MappedKey", keys: K });
  const R = MappedFunctionReturnType(K, RT);
  return CloneType(Object2(R), options);
}
// node_modules/@sinclair/typebox/build/esm/type/keyof/keyof-property-keys.mjs
var FromRest3 = function(T) {
  const Acc = [];
  for (const L of T)
    Acc.push(KeyOfPropertyKeys(L));
  return Acc;
};
var FromIntersect2 = function(T) {
  const C = FromRest3(T);
  const R = SetUnionMany(C);
  return R;
};
var FromUnion4 = function(T) {
  const C = FromRest3(T);
  const R = SetIntersectMany(C);
  return R;
};
var FromTuple2 = function(T) {
  return T.map((_, I) => I.toString());
};
var FromArray2 = function(_) {
  return ["[number]"];
};
var FromProperties5 = function(T) {
  return globalThis.Object.getOwnPropertyNames(T);
};
var FromPatternProperties = function(patternProperties) {
  if (!includePatternProperties)
    return [];
  const patternPropertyKeys = globalThis.Object.getOwnPropertyNames(patternProperties);
  return patternPropertyKeys.map((key) => {
    return key[0] === "^" && key[key.length - 1] === "$" ? key.slice(1, key.length - 1) : key;
  });
};
function KeyOfPropertyKeys(T) {
  return IsIntersect(T) ? FromIntersect2(T.allOf) : IsUnion(T) ? FromUnion4(T.anyOf) : IsTuple(T) ? FromTuple2(T.items ?? []) : IsArray3(T) ? FromArray2(T.items) : IsObject3(T) ? FromProperties5(T.properties) : IsRecord(T) ? FromPatternProperties(T.patternProperties) : [];
}
function KeyOfPattern(schema) {
  includePatternProperties = true;
  const keys = KeyOfPropertyKeys(schema);
  includePatternProperties = false;
  const pattern3 = keys.map((key) => `(${key})`);
  return `^(${pattern3.join("|")})\$`;
}
var includePatternProperties = false;

// node_modules/@sinclair/typebox/build/esm/type/keyof/keyof.mjs
function KeyOfPropertyKeysToRest(T) {
  return T.map((L) => L === "[number]" ? Number2() : Literal(L));
}
function KeyOf(T, options = {}) {
  if (IsMappedResult(T)) {
    return KeyOfFromMappedResult(T, options);
  } else {
    const K = KeyOfPropertyKeys(T);
    const S = KeyOfPropertyKeysToRest(K);
    const U = UnionEvaluated(S);
    return CloneType(U, options);
  }
}

// node_modules/@sinclair/typebox/build/esm/type/keyof/keyof-from-mapped-result.mjs
var FromProperties6 = function(K, options) {
  const Acc = {};
  for (const K2 of globalThis.Object.getOwnPropertyNames(K))
    Acc[K2] = KeyOf(K[K2], options);
  return Acc;
};
var FromMappedResult5 = function(R, options) {
  return FromProperties6(R.properties, options);
};
function KeyOfFromMappedResult(R, options) {
  const P = FromMappedResult5(R, options);
  return MappedResult(P);
}
// node_modules/@sinclair/typebox/build/esm/type/keyof/keyof-property-entries.mjs
function KeyOfPropertyEntries(schema) {
  const keys = KeyOfPropertyKeys(schema);
  const schemas = IndexFromPropertyKeys(schema, keys);
  return keys.map((_, index) => [keys[index], schemas[index]]);
}
// node_modules/@sinclair/typebox/build/esm/type/extends/extends-undefined.mjs
var Intersect2 = function(schema) {
  return schema.allOf.every((schema2) => ExtendsUndefinedCheck(schema2));
};
var Union2 = function(schema) {
  return schema.anyOf.some((schema2) => ExtendsUndefinedCheck(schema2));
};
var Not = function(schema) {
  return !ExtendsUndefinedCheck(schema.not);
};
function ExtendsUndefinedCheck(schema) {
  return schema[Kind] === "Intersect" ? Intersect2(schema) : schema[Kind] === "Union" ? Union2(schema) : schema[Kind] === "Not" ? Not(schema) : schema[Kind] === "Undefined" ? true : false;
}

// node_modules/@sinclair/typebox/build/esm/errors/function.mjs
function DefaultErrorFunction(error7) {
  switch (error7.errorType) {
    case ValueErrorType.ArrayContains:
      return "Expected array to contain at least one matching value";
    case ValueErrorType.ArrayMaxContains:
      return `Expected array to contain no more than ${error7.schema.maxContains} matching values`;
    case ValueErrorType.ArrayMinContains:
      return `Expected array to contain at least ${error7.schema.minContains} matching values`;
    case ValueErrorType.ArrayMaxItems:
      return `Expected array length to be less or equal to ${error7.schema.maxItems}`;
    case ValueErrorType.ArrayMinItems:
      return `Expected array length to be greater or equal to ${error7.schema.minItems}`;
    case ValueErrorType.ArrayUniqueItems:
      return "Expected array elements to be unique";
    case ValueErrorType.Array:
      return "Expected array";
    case ValueErrorType.AsyncIterator:
      return "Expected AsyncIterator";
    case ValueErrorType.BigIntExclusiveMaximum:
      return `Expected bigint to be less than ${error7.schema.exclusiveMaximum}`;
    case ValueErrorType.BigIntExclusiveMinimum:
      return `Expected bigint to be greater than ${error7.schema.exclusiveMinimum}`;
    case ValueErrorType.BigIntMaximum:
      return `Expected bigint to be less or equal to ${error7.schema.maximum}`;
    case ValueErrorType.BigIntMinimum:
      return `Expected bigint to be greater or equal to ${error7.schema.minimum}`;
    case ValueErrorType.BigIntMultipleOf:
      return `Expected bigint to be a multiple of ${error7.schema.multipleOf}`;
    case ValueErrorType.BigInt:
      return "Expected bigint";
    case ValueErrorType.Boolean:
      return "Expected boolean";
    case ValueErrorType.DateExclusiveMinimumTimestamp:
      return `Expected Date timestamp to be greater than ${error7.schema.exclusiveMinimumTimestamp}`;
    case ValueErrorType.DateExclusiveMaximumTimestamp:
      return `Expected Date timestamp to be less than ${error7.schema.exclusiveMaximumTimestamp}`;
    case ValueErrorType.DateMinimumTimestamp:
      return `Expected Date timestamp to be greater or equal to ${error7.schema.minimumTimestamp}`;
    case ValueErrorType.DateMaximumTimestamp:
      return `Expected Date timestamp to be less or equal to ${error7.schema.maximumTimestamp}`;
    case ValueErrorType.DateMultipleOfTimestamp:
      return `Expected Date timestamp to be a multiple of ${error7.schema.multipleOfTimestamp}`;
    case ValueErrorType.Date:
      return "Expected Date";
    case ValueErrorType.Function:
      return "Expected function";
    case ValueErrorType.IntegerExclusiveMaximum:
      return `Expected integer to be less than ${error7.schema.exclusiveMaximum}`;
    case ValueErrorType.IntegerExclusiveMinimum:
      return `Expected integer to be greater than ${error7.schema.exclusiveMinimum}`;
    case ValueErrorType.IntegerMaximum:
      return `Expected integer to be less or equal to ${error7.schema.maximum}`;
    case ValueErrorType.IntegerMinimum:
      return `Expected integer to be greater or equal to ${error7.schema.minimum}`;
    case ValueErrorType.IntegerMultipleOf:
      return `Expected integer to be a multiple of ${error7.schema.multipleOf}`;
    case ValueErrorType.Integer:
      return "Expected integer";
    case ValueErrorType.IntersectUnevaluatedProperties:
      return "Unexpected property";
    case ValueErrorType.Intersect:
      return "Expected all values to match";
    case ValueErrorType.Iterator:
      return "Expected Iterator";
    case ValueErrorType.Literal:
      return `Expected ${typeof error7.schema.const === "string" ? `'${error7.schema.const}'` : error7.schema.const}`;
    case ValueErrorType.Never:
      return "Never";
    case ValueErrorType.Not:
      return "Value should not match";
    case ValueErrorType.Null:
      return "Expected null";
    case ValueErrorType.NumberExclusiveMaximum:
      return `Expected number to be less than ${error7.schema.exclusiveMaximum}`;
    case ValueErrorType.NumberExclusiveMinimum:
      return `Expected number to be greater than ${error7.schema.exclusiveMinimum}`;
    case ValueErrorType.NumberMaximum:
      return `Expected number to be less or equal to ${error7.schema.maximum}`;
    case ValueErrorType.NumberMinimum:
      return `Expected number to be greater or equal to ${error7.schema.minimum}`;
    case ValueErrorType.NumberMultipleOf:
      return `Expected number to be a multiple of ${error7.schema.multipleOf}`;
    case ValueErrorType.Number:
      return "Expected number";
    case ValueErrorType.Object:
      return "Expected object";
    case ValueErrorType.ObjectAdditionalProperties:
      return "Unexpected property";
    case ValueErrorType.ObjectMaxProperties:
      return `Expected object to have no more than ${error7.schema.maxProperties} properties`;
    case ValueErrorType.ObjectMinProperties:
      return `Expected object to have at least ${error7.schema.minProperties} properties`;
    case ValueErrorType.ObjectRequiredProperty:
      return "Required property";
    case ValueErrorType.Promise:
      return "Expected Promise";
    case ValueErrorType.RegExp:
      return "Expected string to match regular expression";
    case ValueErrorType.StringFormatUnknown:
      return `Unknown format '${error7.schema.format}'`;
    case ValueErrorType.StringFormat:
      return `Expected string to match '${error7.schema.format}' format`;
    case ValueErrorType.StringMaxLength:
      return `Expected string length less or equal to ${error7.schema.maxLength}`;
    case ValueErrorType.StringMinLength:
      return `Expected string length greater or equal to ${error7.schema.minLength}`;
    case ValueErrorType.StringPattern:
      return `Expected string to match '${error7.schema.pattern}'`;
    case ValueErrorType.String:
      return "Expected string";
    case ValueErrorType.Symbol:
      return "Expected symbol";
    case ValueErrorType.TupleLength:
      return `Expected tuple to have ${error7.schema.maxItems || 0} elements`;
    case ValueErrorType.Tuple:
      return "Expected tuple";
    case ValueErrorType.Uint8ArrayMaxByteLength:
      return `Expected byte length less or equal to ${error7.schema.maxByteLength}`;
    case ValueErrorType.Uint8ArrayMinByteLength:
      return `Expected byte length greater or equal to ${error7.schema.minByteLength}`;
    case ValueErrorType.Uint8Array:
      return "Expected Uint8Array";
    case ValueErrorType.Undefined:
      return "Expected undefined";
    case ValueErrorType.Union:
      return "Expected union value";
    case ValueErrorType.Void:
      return "Expected void";
    case ValueErrorType.Kind:
      return `Expected kind '${error7.schema[Kind]}'`;
    default:
      return "Unknown error type";
  }
}
function GetErrorFunction() {
  return errorFunction;
}
var errorFunction = DefaultErrorFunction;

// node_modules/@sinclair/typebox/build/esm/value/deref/deref.mjs
var Resolve = function(schema, references) {
  const target = references.find((target2) => target2.$id === schema.$ref);
  if (target === undefined)
    throw new TypeDereferenceError(schema);
  return Deref(target, references);
};
function Deref(schema, references) {
  return schema[Kind] === "This" || schema[Kind] === "Ref" ? Resolve(schema, references) : schema;
}

class TypeDereferenceError extends TypeBoxError {
  schema;
  constructor(schema) {
    super(`Unable to dereference schema with \$id '${schema.$id}'`);
    this.schema = schema;
  }
}
// node_modules/@sinclair/typebox/build/esm/value/hash/hash.mjs
function* NumberToBytes(value3) {
  const byteCount = value3 === 0 ? 1 : Math.ceil(Math.floor(Math.log2(value3) + 1) / 8);
  for (let i = 0;i < byteCount; i++) {
    yield value3 >> 8 * (byteCount - 1 - i) & 255;
  }
}
var ArrayType2 = function(value3) {
  FNV1A64(ByteMarker.Array);
  for (const item of value3) {
    Visit3(item);
  }
};
var BooleanType = function(value3) {
  FNV1A64(ByteMarker.Boolean);
  FNV1A64(value3 ? 1 : 0);
};
var BigIntType = function(value3) {
  FNV1A64(ByteMarker.BigInt);
  F64In.setBigInt64(0, value3);
  for (const byte of F64Out) {
    FNV1A64(byte);
  }
};
var DateType2 = function(value3) {
  FNV1A64(ByteMarker.Date);
  Visit3(value3.getTime());
};
var NullType = function(value3) {
  FNV1A64(ByteMarker.Null);
};
var NumberType = function(value3) {
  FNV1A64(ByteMarker.Number);
  F64In.setFloat64(0, value3);
  for (const byte of F64Out) {
    FNV1A64(byte);
  }
};
var ObjectType2 = function(value3) {
  FNV1A64(ByteMarker.Object);
  for (const key of globalThis.Object.getOwnPropertyNames(value3).sort()) {
    Visit3(key);
    Visit3(value3[key]);
  }
};
var StringType = function(value3) {
  FNV1A64(ByteMarker.String);
  for (let i = 0;i < value3.length; i++) {
    for (const byte of NumberToBytes(value3.charCodeAt(i))) {
      FNV1A64(byte);
    }
  }
};
var SymbolType = function(value3) {
  FNV1A64(ByteMarker.Symbol);
  Visit3(value3.description);
};
var Uint8ArrayType2 = function(value3) {
  FNV1A64(ByteMarker.Uint8Array);
  for (let i = 0;i < value3.length; i++) {
    FNV1A64(value3[i]);
  }
};
var UndefinedType = function(value3) {
  return FNV1A64(ByteMarker.Undefined);
};
var Visit3 = function(value3) {
  if (IsArray(value3))
    return ArrayType2(value3);
  if (IsBoolean(value3))
    return BooleanType(value3);
  if (IsBigInt(value3))
    return BigIntType(value3);
  if (IsDate(value3))
    return DateType2(value3);
  if (IsNull(value3))
    return NullType(value3);
  if (IsNumber(value3))
    return NumberType(value3);
  if (IsStandardObject(value3))
    return ObjectType2(value3);
  if (IsString(value3))
    return StringType(value3);
  if (IsSymbol(value3))
    return SymbolType(value3);
  if (IsUint8Array(value3))
    return Uint8ArrayType2(value3);
  if (IsUndefined(value3))
    return UndefinedType(value3);
  throw new ValueHashError(value3);
};
var FNV1A64 = function(byte) {
  Accumulator = Accumulator ^ Bytes[byte];
  Accumulator = Accumulator * Prime % Size;
};
function Hash(value3) {
  Accumulator = BigInt("14695981039346656037");
  Visit3(value3);
  return Accumulator;
}

class ValueHashError extends TypeBoxError {
  value;
  constructor(value3) {
    super(`Unable to hash value`);
    this.value = value3;
  }
}
var ByteMarker;
(function(ByteMarker2) {
  ByteMarker2[ByteMarker2["Undefined"] = 0] = "Undefined";
  ByteMarker2[ByteMarker2["Null"] = 1] = "Null";
  ByteMarker2[ByteMarker2["Boolean"] = 2] = "Boolean";
  ByteMarker2[ByteMarker2["Number"] = 3] = "Number";
  ByteMarker2[ByteMarker2["String"] = 4] = "String";
  ByteMarker2[ByteMarker2["Object"] = 5] = "Object";
  ByteMarker2[ByteMarker2["Array"] = 6] = "Array";
  ByteMarker2[ByteMarker2["Date"] = 7] = "Date";
  ByteMarker2[ByteMarker2["Uint8Array"] = 8] = "Uint8Array";
  ByteMarker2[ByteMarker2["Symbol"] = 9] = "Symbol";
  ByteMarker2[ByteMarker2["BigInt"] = 10] = "BigInt";
})(ByteMarker || (ByteMarker = {}));
var Accumulator = BigInt("14695981039346656037");
var [Prime, Size] = [BigInt("1099511628211"), BigInt("2") ** BigInt("64")];
var Bytes = Array.from({ length: 256 }).map((_, i) => BigInt(i));
var F64 = new Float64Array(1);
var F64In = new DataView(F64.buffer);
var F64Out = new Uint8Array(F64.buffer);
// node_modules/@sinclair/typebox/build/esm/errors/errors.mjs
var EscapeKey = function(key) {
  return key.replace(/~/g, "~0").replace(/\//g, "~1");
};
var IsDefined = function(value3) {
  return value3 !== undefined;
};
var Create = function(errorType, schema, path, value3) {
  return { type: errorType, schema, path, value: value3, message: GetErrorFunction()({ errorType, path, schema, value: value3 }) };
};
function* FromAny(schema, references, path, value3) {
}
function* FromArray3(schema, references, path, value3) {
  if (!IsArray(value3)) {
    return yield Create(ValueErrorType.Array, schema, path, value3);
  }
  if (IsDefined(schema.minItems) && !(value3.length >= schema.minItems)) {
    yield Create(ValueErrorType.ArrayMinItems, schema, path, value3);
  }
  if (IsDefined(schema.maxItems) && !(value3.length <= schema.maxItems)) {
    yield Create(ValueErrorType.ArrayMaxItems, schema, path, value3);
  }
  for (let i = 0;i < value3.length; i++) {
    yield* Visit4(schema.items, references, `${path}/${i}`, value3[i]);
  }
  if (schema.uniqueItems === true && !function() {
    const set2 = new Set;
    for (const element of value3) {
      const hashed = Hash(element);
      if (set2.has(hashed)) {
        return false;
      } else {
        set2.add(hashed);
      }
    }
    return true;
  }()) {
    yield Create(ValueErrorType.ArrayUniqueItems, schema, path, value3);
  }
  if (!(IsDefined(schema.contains) || IsDefined(schema.minContains) || IsDefined(schema.maxContains))) {
    return;
  }
  const containsSchema = IsDefined(schema.contains) ? schema.contains : Never();
  const containsCount = value3.reduce((acc, value4, index) => Visit4(containsSchema, references, `${path}${index}`, value4).next().done === true ? acc + 1 : acc, 0);
  if (containsCount === 0) {
    yield Create(ValueErrorType.ArrayContains, schema, path, value3);
  }
  if (IsNumber(schema.minContains) && containsCount < schema.minContains) {
    yield Create(ValueErrorType.ArrayMinContains, schema, path, value3);
  }
  if (IsNumber(schema.maxContains) && containsCount > schema.maxContains) {
    yield Create(ValueErrorType.ArrayMaxContains, schema, path, value3);
  }
}
function* FromAsyncIterator(schema, references, path, value3) {
  if (!IsAsyncIterator(value3))
    yield Create(ValueErrorType.AsyncIterator, schema, path, value3);
}
function* FromBigInt(schema, references, path, value3) {
  if (!IsBigInt(value3))
    return yield Create(ValueErrorType.BigInt, schema, path, value3);
  if (IsDefined(schema.exclusiveMaximum) && !(value3 < schema.exclusiveMaximum)) {
    yield Create(ValueErrorType.BigIntExclusiveMaximum, schema, path, value3);
  }
  if (IsDefined(schema.exclusiveMinimum) && !(value3 > schema.exclusiveMinimum)) {
    yield Create(ValueErrorType.BigIntExclusiveMinimum, schema, path, value3);
  }
  if (IsDefined(schema.maximum) && !(value3 <= schema.maximum)) {
    yield Create(ValueErrorType.BigIntMaximum, schema, path, value3);
  }
  if (IsDefined(schema.minimum) && !(value3 >= schema.minimum)) {
    yield Create(ValueErrorType.BigIntMinimum, schema, path, value3);
  }
  if (IsDefined(schema.multipleOf) && !(value3 % schema.multipleOf === BigInt(0))) {
    yield Create(ValueErrorType.BigIntMultipleOf, schema, path, value3);
  }
}
function* FromBoolean(schema, references, path, value3) {
  if (!IsBoolean(value3))
    yield Create(ValueErrorType.Boolean, schema, path, value3);
}
function* FromConstructor(schema, references, path, value3) {
  yield* Visit4(schema.returns, references, path, value3.prototype);
}
function* FromDate(schema, references, path, value3) {
  if (!IsDate(value3))
    return yield Create(ValueErrorType.Date, schema, path, value3);
  if (IsDefined(schema.exclusiveMaximumTimestamp) && !(value3.getTime() < schema.exclusiveMaximumTimestamp)) {
    yield Create(ValueErrorType.DateExclusiveMaximumTimestamp, schema, path, value3);
  }
  if (IsDefined(schema.exclusiveMinimumTimestamp) && !(value3.getTime() > schema.exclusiveMinimumTimestamp)) {
    yield Create(ValueErrorType.DateExclusiveMinimumTimestamp, schema, path, value3);
  }
  if (IsDefined(schema.maximumTimestamp) && !(value3.getTime() <= schema.maximumTimestamp)) {
    yield Create(ValueErrorType.DateMaximumTimestamp, schema, path, value3);
  }
  if (IsDefined(schema.minimumTimestamp) && !(value3.getTime() >= schema.minimumTimestamp)) {
    yield Create(ValueErrorType.DateMinimumTimestamp, schema, path, value3);
  }
  if (IsDefined(schema.multipleOfTimestamp) && !(value3.getTime() % schema.multipleOfTimestamp === 0)) {
    yield Create(ValueErrorType.DateMultipleOfTimestamp, schema, path, value3);
  }
}
function* FromFunction(schema, references, path, value3) {
  if (!IsFunction(value3))
    yield Create(ValueErrorType.Function, schema, path, value3);
}
function* FromInteger(schema, references, path, value3) {
  if (!IsInteger(value3))
    return yield Create(ValueErrorType.Integer, schema, path, value3);
  if (IsDefined(schema.exclusiveMaximum) && !(value3 < schema.exclusiveMaximum)) {
    yield Create(ValueErrorType.IntegerExclusiveMaximum, schema, path, value3);
  }
  if (IsDefined(schema.exclusiveMinimum) && !(value3 > schema.exclusiveMinimum)) {
    yield Create(ValueErrorType.IntegerExclusiveMinimum, schema, path, value3);
  }
  if (IsDefined(schema.maximum) && !(value3 <= schema.maximum)) {
    yield Create(ValueErrorType.IntegerMaximum, schema, path, value3);
  }
  if (IsDefined(schema.minimum) && !(value3 >= schema.minimum)) {
    yield Create(ValueErrorType.IntegerMinimum, schema, path, value3);
  }
  if (IsDefined(schema.multipleOf) && !(value3 % schema.multipleOf === 0)) {
    yield Create(ValueErrorType.IntegerMultipleOf, schema, path, value3);
  }
}
function* FromIntersect3(schema, references, path, value3) {
  for (const inner of schema.allOf) {
    const next = Visit4(inner, references, path, value3).next();
    if (!next.done) {
      yield Create(ValueErrorType.Intersect, schema, path, value3);
      yield next.value;
    }
  }
  if (schema.unevaluatedProperties === false) {
    const keyCheck = new RegExp(KeyOfPattern(schema));
    for (const valueKey of Object.getOwnPropertyNames(value3)) {
      if (!keyCheck.test(valueKey)) {
        yield Create(ValueErrorType.IntersectUnevaluatedProperties, schema, `${path}/${valueKey}`, value3);
      }
    }
  }
  if (typeof schema.unevaluatedProperties === "object") {
    const keyCheck = new RegExp(KeyOfPattern(schema));
    for (const valueKey of Object.getOwnPropertyNames(value3)) {
      if (!keyCheck.test(valueKey)) {
        const next = Visit4(schema.unevaluatedProperties, references, `${path}/${valueKey}`, value3[valueKey]).next();
        if (!next.done)
          yield next.value;
      }
    }
  }
}
function* FromIterator(schema, references, path, value3) {
  if (!IsIterator(value3))
    yield Create(ValueErrorType.Iterator, schema, path, value3);
}
function* FromLiteral2(schema, references, path, value3) {
  if (!(value3 === schema.const))
    yield Create(ValueErrorType.Literal, schema, path, value3);
}
function* FromNever(schema, references, path, value3) {
  yield Create(ValueErrorType.Never, schema, path, value3);
}
function* FromNot(schema, references, path, value3) {
  if (Visit4(schema.not, references, path, value3).next().done === true)
    yield Create(ValueErrorType.Not, schema, path, value3);
}
function* FromNull(schema, references, path, value3) {
  if (!IsNull(value3))
    yield Create(ValueErrorType.Null, schema, path, value3);
}
function* FromNumber(schema, references, path, value3) {
  if (!TypeSystemPolicy.IsNumberLike(value3))
    return yield Create(ValueErrorType.Number, schema, path, value3);
  if (IsDefined(schema.exclusiveMaximum) && !(value3 < schema.exclusiveMaximum)) {
    yield Create(ValueErrorType.NumberExclusiveMaximum, schema, path, value3);
  }
  if (IsDefined(schema.exclusiveMinimum) && !(value3 > schema.exclusiveMinimum)) {
    yield Create(ValueErrorType.NumberExclusiveMinimum, schema, path, value3);
  }
  if (IsDefined(schema.maximum) && !(value3 <= schema.maximum)) {
    yield Create(ValueErrorType.NumberMaximum, schema, path, value3);
  }
  if (IsDefined(schema.minimum) && !(value3 >= schema.minimum)) {
    yield Create(ValueErrorType.NumberMinimum, schema, path, value3);
  }
  if (IsDefined(schema.multipleOf) && !(value3 % schema.multipleOf === 0)) {
    yield Create(ValueErrorType.NumberMultipleOf, schema, path, value3);
  }
}
function* FromObject(schema, references, path, value3) {
  if (!TypeSystemPolicy.IsObjectLike(value3))
    return yield Create(ValueErrorType.Object, schema, path, value3);
  if (IsDefined(schema.minProperties) && !(Object.getOwnPropertyNames(value3).length >= schema.minProperties)) {
    yield Create(ValueErrorType.ObjectMinProperties, schema, path, value3);
  }
  if (IsDefined(schema.maxProperties) && !(Object.getOwnPropertyNames(value3).length <= schema.maxProperties)) {
    yield Create(ValueErrorType.ObjectMaxProperties, schema, path, value3);
  }
  const requiredKeys = Array.isArray(schema.required) ? schema.required : [];
  const knownKeys = Object.getOwnPropertyNames(schema.properties);
  const unknownKeys = Object.getOwnPropertyNames(value3);
  for (const requiredKey of requiredKeys) {
    if (unknownKeys.includes(requiredKey))
      continue;
    yield Create(ValueErrorType.ObjectRequiredProperty, schema.properties[requiredKey], `${path}/${EscapeKey(requiredKey)}`, undefined);
  }
  if (schema.additionalProperties === false) {
    for (const valueKey of unknownKeys) {
      if (!knownKeys.includes(valueKey)) {
        yield Create(ValueErrorType.ObjectAdditionalProperties, schema, `${path}/${EscapeKey(valueKey)}`, value3[valueKey]);
      }
    }
  }
  if (typeof schema.additionalProperties === "object") {
    for (const valueKey of unknownKeys) {
      if (knownKeys.includes(valueKey))
        continue;
      yield* Visit4(schema.additionalProperties, references, `${path}/${EscapeKey(valueKey)}`, value3[valueKey]);
    }
  }
  for (const knownKey of knownKeys) {
    const property = schema.properties[knownKey];
    if (schema.required && schema.required.includes(knownKey)) {
      yield* Visit4(property, references, `${path}/${EscapeKey(knownKey)}`, value3[knownKey]);
      if (ExtendsUndefinedCheck(schema) && !(knownKey in value3)) {
        yield Create(ValueErrorType.ObjectRequiredProperty, property, `${path}/${EscapeKey(knownKey)}`, undefined);
      }
    } else {
      if (TypeSystemPolicy.IsExactOptionalProperty(value3, knownKey)) {
        yield* Visit4(property, references, `${path}/${EscapeKey(knownKey)}`, value3[knownKey]);
      }
    }
  }
}
function* FromPromise(schema, references, path, value3) {
  if (!IsPromise(value3))
    yield Create(ValueErrorType.Promise, schema, path, value3);
}
function* FromRecord(schema, references, path, value3) {
  if (!TypeSystemPolicy.IsRecordLike(value3))
    return yield Create(ValueErrorType.Object, schema, path, value3);
  if (IsDefined(schema.minProperties) && !(Object.getOwnPropertyNames(value3).length >= schema.minProperties)) {
    yield Create(ValueErrorType.ObjectMinProperties, schema, path, value3);
  }
  if (IsDefined(schema.maxProperties) && !(Object.getOwnPropertyNames(value3).length <= schema.maxProperties)) {
    yield Create(ValueErrorType.ObjectMaxProperties, schema, path, value3);
  }
  const [patternKey, patternSchema] = Object.entries(schema.patternProperties)[0];
  const regex = new RegExp(patternKey);
  for (const [propertyKey, propertyValue] of Object.entries(value3)) {
    if (regex.test(propertyKey))
      yield* Visit4(patternSchema, references, `${path}/${EscapeKey(propertyKey)}`, propertyValue);
  }
  if (typeof schema.additionalProperties === "object") {
    for (const [propertyKey, propertyValue] of Object.entries(value3)) {
      if (!regex.test(propertyKey))
        yield* Visit4(schema.additionalProperties, references, `${path}/${EscapeKey(propertyKey)}`, propertyValue);
    }
  }
  if (schema.additionalProperties === false) {
    for (const [propertyKey, propertyValue] of Object.entries(value3)) {
      if (regex.test(propertyKey))
        continue;
      return yield Create(ValueErrorType.ObjectAdditionalProperties, schema, `${path}/${EscapeKey(propertyKey)}`, propertyValue);
    }
  }
}
function* FromRef(schema, references, path, value3) {
  yield* Visit4(Deref(schema, references), references, path, value3);
}
function* FromRegExp(schema, references, path, value3) {
  if (!IsString(value3))
    return yield Create(ValueErrorType.String, schema, path, value3);
  if (IsDefined(schema.minLength) && !(value3.length >= schema.minLength)) {
    yield Create(ValueErrorType.StringMinLength, schema, path, value3);
  }
  if (IsDefined(schema.maxLength) && !(value3.length <= schema.maxLength)) {
    yield Create(ValueErrorType.StringMaxLength, schema, path, value3);
  }
  const regex = new RegExp(schema.source, schema.flags);
  if (!regex.test(value3)) {
    return yield Create(ValueErrorType.RegExp, schema, path, value3);
  }
}
function* FromString(schema, references, path, value3) {
  if (!IsString(value3))
    return yield Create(ValueErrorType.String, schema, path, value3);
  if (IsDefined(schema.minLength) && !(value3.length >= schema.minLength)) {
    yield Create(ValueErrorType.StringMinLength, schema, path, value3);
  }
  if (IsDefined(schema.maxLength) && !(value3.length <= schema.maxLength)) {
    yield Create(ValueErrorType.StringMaxLength, schema, path, value3);
  }
  if (IsString(schema.pattern)) {
    const regex = new RegExp(schema.pattern);
    if (!regex.test(value3)) {
      yield Create(ValueErrorType.StringPattern, schema, path, value3);
    }
  }
  if (IsString(schema.format)) {
    if (!exports_format.Has(schema.format)) {
      yield Create(ValueErrorType.StringFormatUnknown, schema, path, value3);
    } else {
      const format = exports_format.Get(schema.format);
      if (!format(value3)) {
        yield Create(ValueErrorType.StringFormat, schema, path, value3);
      }
    }
  }
}
function* FromSymbol(schema, references, path, value3) {
  if (!IsSymbol(value3))
    yield Create(ValueErrorType.Symbol, schema, path, value3);
}
function* FromTemplateLiteral2(schema, references, path, value3) {
  if (!IsString(value3))
    return yield Create(ValueErrorType.String, schema, path, value3);
  const regex = new RegExp(schema.pattern);
  if (!regex.test(value3)) {
    yield Create(ValueErrorType.StringPattern, schema, path, value3);
  }
}
function* FromThis(schema, references, path, value3) {
  yield* Visit4(Deref(schema, references), references, path, value3);
}
function* FromTuple3(schema, references, path, value3) {
  if (!IsArray(value3))
    return yield Create(ValueErrorType.Tuple, schema, path, value3);
  if (schema.items === undefined && !(value3.length === 0)) {
    return yield Create(ValueErrorType.TupleLength, schema, path, value3);
  }
  if (!(value3.length === schema.maxItems)) {
    return yield Create(ValueErrorType.TupleLength, schema, path, value3);
  }
  if (!schema.items) {
    return;
  }
  for (let i = 0;i < schema.items.length; i++) {
    yield* Visit4(schema.items[i], references, `${path}/${i}`, value3[i]);
  }
}
function* FromUndefined(schema, references, path, value3) {
  if (!IsUndefined(value3))
    yield Create(ValueErrorType.Undefined, schema, path, value3);
}
function* FromUnion5(schema, references, path, value3) {
  let count = 0;
  for (const subschema of schema.anyOf) {
    const errors2 = [...Visit4(subschema, references, path, value3)];
    if (errors2.length === 0)
      return;
    count += errors2.length;
  }
  if (count > 0) {
    yield Create(ValueErrorType.Union, schema, path, value3);
  }
}
function* FromUint8Array(schema, references, path, value3) {
  if (!IsUint8Array(value3))
    return yield Create(ValueErrorType.Uint8Array, schema, path, value3);
  if (IsDefined(schema.maxByteLength) && !(value3.length <= schema.maxByteLength)) {
    yield Create(ValueErrorType.Uint8ArrayMaxByteLength, schema, path, value3);
  }
  if (IsDefined(schema.minByteLength) && !(value3.length >= schema.minByteLength)) {
    yield Create(ValueErrorType.Uint8ArrayMinByteLength, schema, path, value3);
  }
}
function* FromUnknown(schema, references, path, value3) {
}
function* FromVoid(schema, references, path, value3) {
  if (!TypeSystemPolicy.IsVoidLike(value3))
    yield Create(ValueErrorType.Void, schema, path, value3);
}
function* FromKind(schema, references, path, value3) {
  const check = exports_type.Get(schema[Kind]);
  if (!check(schema, value3))
    yield Create(ValueErrorType.Kind, schema, path, value3);
}
function* Visit4(schema, references, path, value3) {
  const references_ = IsDefined(schema.$id) ? [...references, schema] : references;
  const schema_ = schema;
  switch (schema_[Kind]) {
    case "Any":
      return yield* FromAny(schema_, references_, path, value3);
    case "Array":
      return yield* FromArray3(schema_, references_, path, value3);
    case "AsyncIterator":
      return yield* FromAsyncIterator(schema_, references_, path, value3);
    case "BigInt":
      return yield* FromBigInt(schema_, references_, path, value3);
    case "Boolean":
      return yield* FromBoolean(schema_, references_, path, value3);
    case "Constructor":
      return yield* FromConstructor(schema_, references_, path, value3);
    case "Date":
      return yield* FromDate(schema_, references_, path, value3);
    case "Function":
      return yield* FromFunction(schema_, references_, path, value3);
    case "Integer":
      return yield* FromInteger(schema_, references_, path, value3);
    case "Intersect":
      return yield* FromIntersect3(schema_, references_, path, value3);
    case "Iterator":
      return yield* FromIterator(schema_, references_, path, value3);
    case "Literal":
      return yield* FromLiteral2(schema_, references_, path, value3);
    case "Never":
      return yield* FromNever(schema_, references_, path, value3);
    case "Not":
      return yield* FromNot(schema_, references_, path, value3);
    case "Null":
      return yield* FromNull(schema_, references_, path, value3);
    case "Number":
      return yield* FromNumber(schema_, references_, path, value3);
    case "Object":
      return yield* FromObject(schema_, references_, path, value3);
    case "Promise":
      return yield* FromPromise(schema_, references_, path, value3);
    case "Record":
      return yield* FromRecord(schema_, references_, path, value3);
    case "Ref":
      return yield* FromRef(schema_, references_, path, value3);
    case "RegExp":
      return yield* FromRegExp(schema_, references_, path, value3);
    case "String":
      return yield* FromString(schema_, references_, path, value3);
    case "Symbol":
      return yield* FromSymbol(schema_, references_, path, value3);
    case "TemplateLiteral":
      return yield* FromTemplateLiteral2(schema_, references_, path, value3);
    case "This":
      return yield* FromThis(schema_, references_, path, value3);
    case "Tuple":
      return yield* FromTuple3(schema_, references_, path, value3);
    case "Undefined":
      return yield* FromUndefined(schema_, references_, path, value3);
    case "Union":
      return yield* FromUnion5(schema_, references_, path, value3);
    case "Uint8Array":
      return yield* FromUint8Array(schema_, references_, path, value3);
    case "Unknown":
      return yield* FromUnknown(schema_, references_, path, value3);
    case "Void":
      return yield* FromVoid(schema_, references_, path, value3);
    default:
      if (!exports_type.Has(schema_[Kind]))
        throw new ValueErrorsUnknownTypeError(schema);
      return yield* FromKind(schema_, references_, path, value3);
  }
}
function Errors(...args) {
  const iterator3 = args.length === 3 ? Visit4(args[0], args[1], "", args[2]) : Visit4(args[0], [], "", args[1]);
  return new ValueErrorIterator(iterator3);
}
var ValueErrorType;
(function(ValueErrorType2) {
  ValueErrorType2[ValueErrorType2["ArrayContains"] = 0] = "ArrayContains";
  ValueErrorType2[ValueErrorType2["ArrayMaxContains"] = 1] = "ArrayMaxContains";
  ValueErrorType2[ValueErrorType2["ArrayMaxItems"] = 2] = "ArrayMaxItems";
  ValueErrorType2[ValueErrorType2["ArrayMinContains"] = 3] = "ArrayMinContains";
  ValueErrorType2[ValueErrorType2["ArrayMinItems"] = 4] = "ArrayMinItems";
  ValueErrorType2[ValueErrorType2["ArrayUniqueItems"] = 5] = "ArrayUniqueItems";
  ValueErrorType2[ValueErrorType2["Array"] = 6] = "Array";
  ValueErrorType2[ValueErrorType2["AsyncIterator"] = 7] = "AsyncIterator";
  ValueErrorType2[ValueErrorType2["BigIntExclusiveMaximum"] = 8] = "BigIntExclusiveMaximum";
  ValueErrorType2[ValueErrorType2["BigIntExclusiveMinimum"] = 9] = "BigIntExclusiveMinimum";
  ValueErrorType2[ValueErrorType2["BigIntMaximum"] = 10] = "BigIntMaximum";
  ValueErrorType2[ValueErrorType2["BigIntMinimum"] = 11] = "BigIntMinimum";
  ValueErrorType2[ValueErrorType2["BigIntMultipleOf"] = 12] = "BigIntMultipleOf";
  ValueErrorType2[ValueErrorType2["BigInt"] = 13] = "BigInt";
  ValueErrorType2[ValueErrorType2["Boolean"] = 14] = "Boolean";
  ValueErrorType2[ValueErrorType2["DateExclusiveMaximumTimestamp"] = 15] = "DateExclusiveMaximumTimestamp";
  ValueErrorType2[ValueErrorType2["DateExclusiveMinimumTimestamp"] = 16] = "DateExclusiveMinimumTimestamp";
  ValueErrorType2[ValueErrorType2["DateMaximumTimestamp"] = 17] = "DateMaximumTimestamp";
  ValueErrorType2[ValueErrorType2["DateMinimumTimestamp"] = 18] = "DateMinimumTimestamp";
  ValueErrorType2[ValueErrorType2["DateMultipleOfTimestamp"] = 19] = "DateMultipleOfTimestamp";
  ValueErrorType2[ValueErrorType2["Date"] = 20] = "Date";
  ValueErrorType2[ValueErrorType2["Function"] = 21] = "Function";
  ValueErrorType2[ValueErrorType2["IntegerExclusiveMaximum"] = 22] = "IntegerExclusiveMaximum";
  ValueErrorType2[ValueErrorType2["IntegerExclusiveMinimum"] = 23] = "IntegerExclusiveMinimum";
  ValueErrorType2[ValueErrorType2["IntegerMaximum"] = 24] = "IntegerMaximum";
  ValueErrorType2[ValueErrorType2["IntegerMinimum"] = 25] = "IntegerMinimum";
  ValueErrorType2[ValueErrorType2["IntegerMultipleOf"] = 26] = "IntegerMultipleOf";
  ValueErrorType2[ValueErrorType2["Integer"] = 27] = "Integer";
  ValueErrorType2[ValueErrorType2["IntersectUnevaluatedProperties"] = 28] = "IntersectUnevaluatedProperties";
  ValueErrorType2[ValueErrorType2["Intersect"] = 29] = "Intersect";
  ValueErrorType2[ValueErrorType2["Iterator"] = 30] = "Iterator";
  ValueErrorType2[ValueErrorType2["Kind"] = 31] = "Kind";
  ValueErrorType2[ValueErrorType2["Literal"] = 32] = "Literal";
  ValueErrorType2[ValueErrorType2["Never"] = 33] = "Never";
  ValueErrorType2[ValueErrorType2["Not"] = 34] = "Not";
  ValueErrorType2[ValueErrorType2["Null"] = 35] = "Null";
  ValueErrorType2[ValueErrorType2["NumberExclusiveMaximum"] = 36] = "NumberExclusiveMaximum";
  ValueErrorType2[ValueErrorType2["NumberExclusiveMinimum"] = 37] = "NumberExclusiveMinimum";
  ValueErrorType2[ValueErrorType2["NumberMaximum"] = 38] = "NumberMaximum";
  ValueErrorType2[ValueErrorType2["NumberMinimum"] = 39] = "NumberMinimum";
  ValueErrorType2[ValueErrorType2["NumberMultipleOf"] = 40] = "NumberMultipleOf";
  ValueErrorType2[ValueErrorType2["Number"] = 41] = "Number";
  ValueErrorType2[ValueErrorType2["ObjectAdditionalProperties"] = 42] = "ObjectAdditionalProperties";
  ValueErrorType2[ValueErrorType2["ObjectMaxProperties"] = 43] = "ObjectMaxProperties";
  ValueErrorType2[ValueErrorType2["ObjectMinProperties"] = 44] = "ObjectMinProperties";
  ValueErrorType2[ValueErrorType2["ObjectRequiredProperty"] = 45] = "ObjectRequiredProperty";
  ValueErrorType2[ValueErrorType2["Object"] = 46] = "Object";
  ValueErrorType2[ValueErrorType2["Promise"] = 47] = "Promise";
  ValueErrorType2[ValueErrorType2["RegExp"] = 48] = "RegExp";
  ValueErrorType2[ValueErrorType2["StringFormatUnknown"] = 49] = "StringFormatUnknown";
  ValueErrorType2[ValueErrorType2["StringFormat"] = 50] = "StringFormat";
  ValueErrorType2[ValueErrorType2["StringMaxLength"] = 51] = "StringMaxLength";
  ValueErrorType2[ValueErrorType2["StringMinLength"] = 52] = "StringMinLength";
  ValueErrorType2[ValueErrorType2["StringPattern"] = 53] = "StringPattern";
  ValueErrorType2[ValueErrorType2["String"] = 54] = "String";
  ValueErrorType2[ValueErrorType2["Symbol"] = 55] = "Symbol";
  ValueErrorType2[ValueErrorType2["TupleLength"] = 56] = "TupleLength";
  ValueErrorType2[ValueErrorType2["Tuple"] = 57] = "Tuple";
  ValueErrorType2[ValueErrorType2["Uint8ArrayMaxByteLength"] = 58] = "Uint8ArrayMaxByteLength";
  ValueErrorType2[ValueErrorType2["Uint8ArrayMinByteLength"] = 59] = "Uint8ArrayMinByteLength";
  ValueErrorType2[ValueErrorType2["Uint8Array"] = 60] = "Uint8Array";
  ValueErrorType2[ValueErrorType2["Undefined"] = 61] = "Undefined";
  ValueErrorType2[ValueErrorType2["Union"] = 62] = "Union";
  ValueErrorType2[ValueErrorType2["Void"] = 63] = "Void";
})(ValueErrorType || (ValueErrorType = {}));

class ValueErrorsUnknownTypeError extends TypeBoxError {
  schema;
  constructor(schema) {
    super("Unknown type");
    this.schema = schema;
  }
}

class ValueErrorIterator {
  iterator;
  constructor(iterator3) {
    this.iterator = iterator3;
  }
  [Symbol.iterator]() {
    return this.iterator;
  }
  First() {
    const next = this.iterator.next();
    return next.done ? undefined : next.value;
  }
}
// node_modules/@sinclair/typebox/build/esm/type/any/any.mjs
function Any(options = {}) {
  return { ...options, [Kind]: "Any" };
}
// node_modules/@sinclair/typebox/build/esm/type/unknown/unknown.mjs
function Unknown(options = {}) {
  return {
    ...options,
    [Kind]: "Unknown"
  };
}
// node_modules/@sinclair/typebox/build/esm/type/guard/type.mjs
var exports_type2 = {};
__export(exports_type2, {
  TypeGuardUnknownTypeError: () => {
    {
      return TypeGuardUnknownTypeError;
    }
  },
  IsVoid: () => {
    {
      return IsVoid2;
    }
  },
  IsUnsafe: () => {
    {
      return IsUnsafe2;
    }
  },
  IsUnknown: () => {
    {
      return IsUnknown2;
    }
  },
  IsUnionLiteral: () => {
    {
      return IsUnionLiteral;
    }
  },
  IsUnion: () => {
    {
      return IsUnion2;
    }
  },
  IsUndefined: () => {
    {
      return IsUndefined4;
    }
  },
  IsUint8Array: () => {
    {
      return IsUint8Array4;
    }
  },
  IsTuple: () => {
    {
      return IsTuple2;
    }
  },
  IsTransform: () => {
    {
      return IsTransform2;
    }
  },
  IsThis: () => {
    {
      return IsThis2;
    }
  },
  IsTemplateLiteral: () => {
    {
      return IsTemplateLiteral2;
    }
  },
  IsSymbol: () => {
    {
      return IsSymbol4;
    }
  },
  IsString: () => {
    {
      return IsString4;
    }
  },
  IsSchema: () => {
    {
      return IsSchema2;
    }
  },
  IsRegExp: () => {
    {
      return IsRegExp3;
    }
  },
  IsRef: () => {
    {
      return IsRef2;
    }
  },
  IsRecursive: () => {
    {
      return IsRecursive;
    }
  },
  IsRecord: () => {
    {
      return IsRecord2;
    }
  },
  IsReadonly: () => {
    {
      return IsReadonly2;
    }
  },
  IsProperties: () => {
    {
      return IsProperties;
    }
  },
  IsPromise: () => {
    {
      return IsPromise3;
    }
  },
  IsOptional: () => {
    {
      return IsOptional2;
    }
  },
  IsObject: () => {
    {
      return IsObject4;
    }
  },
  IsNumber: () => {
    {
      return IsNumber4;
    }
  },
  IsNull: () => {
    {
      return IsNull4;
    }
  },
  IsNot: () => {
    {
      return IsNot2;
    }
  },
  IsNever: () => {
    {
      return IsNever2;
    }
  },
  IsMappedResult: () => {
    {
      return IsMappedResult2;
    }
  },
  IsMappedKey: () => {
    {
      return IsMappedKey2;
    }
  },
  IsLiteralValue: () => {
    {
      return IsLiteralValue;
    }
  },
  IsLiteralString: () => {
    {
      return IsLiteralString;
    }
  },
  IsLiteralNumber: () => {
    {
      return IsLiteralNumber;
    }
  },
  IsLiteralBoolean: () => {
    {
      return IsLiteralBoolean;
    }
  },
  IsLiteral: () => {
    {
      return IsLiteral2;
    }
  },
  IsKindOf: () => {
    {
      return IsKindOf2;
    }
  },
  IsKind: () => {
    {
      return IsKind2;
    }
  },
  IsIterator: () => {
    {
      return IsIterator4;
    }
  },
  IsIntersect: () => {
    {
      return IsIntersect2;
    }
  },
  IsInteger: () => {
    {
      return IsInteger3;
    }
  },
  IsFunction: () => {
    {
      return IsFunction4;
    }
  },
  IsDate: () => {
    {
      return IsDate4;
    }
  },
  IsConstructor: () => {
    {
      return IsConstructor2;
    }
  },
  IsBoolean: () => {
    {
      return IsBoolean4;
    }
  },
  IsBigInt: () => {
    {
      return IsBigInt4;
    }
  },
  IsAsyncIterator: () => {
    {
      return IsAsyncIterator4;
    }
  },
  IsArray: () => {
    {
      return IsArray4;
    }
  },
  IsAny: () => {
    {
      return IsAny2;
    }
  }
});
var IsPattern = function(value3) {
  try {
    new RegExp(value3);
    return true;
  } catch {
    return false;
  }
};
var IsControlCharacterFree = function(value3) {
  if (!IsString2(value3))
    return false;
  for (let i = 0;i < value3.length; i++) {
    const code = value3.charCodeAt(i);
    if (code >= 7 && code <= 13 || code === 27 || code === 127) {
      return false;
    }
  }
  return true;
};
var IsAdditionalProperties = function(value3) {
  return IsOptionalBoolean(value3) || IsSchema2(value3);
};
var IsOptionalBigInt = function(value3) {
  return IsUndefined2(value3) || IsBigInt2(value3);
};
var IsOptionalNumber = function(value3) {
  return IsUndefined2(value3) || IsNumber2(value3);
};
var IsOptionalBoolean = function(value3) {
  return IsUndefined2(value3) || IsBoolean2(value3);
};
var IsOptionalString = function(value3) {
  return IsUndefined2(value3) || IsString2(value3);
};
var IsOptionalPattern = function(value3) {
  return IsUndefined2(value3) || IsString2(value3) && IsControlCharacterFree(value3) && IsPattern(value3);
};
var IsOptionalFormat = function(value3) {
  return IsUndefined2(value3) || IsString2(value3) && IsControlCharacterFree(value3);
};
var IsOptionalSchema = function(value3) {
  return IsUndefined2(value3) || IsSchema2(value3);
};
function IsReadonly2(value3) {
  return IsObject2(value3) && value3[ReadonlyKind] === "Readonly";
}
function IsOptional2(value3) {
  return IsObject2(value3) && value3[OptionalKind] === "Optional";
}
function IsAny2(value3) {
  return IsKindOf2(value3, "Any") && IsOptionalString(value3.$id);
}
function IsArray4(value3) {
  return IsKindOf2(value3, "Array") && value3.type === "array" && IsOptionalString(value3.$id) && IsSchema2(value3.items) && IsOptionalNumber(value3.minItems) && IsOptionalNumber(value3.maxItems) && IsOptionalBoolean(value3.uniqueItems) && IsOptionalSchema(value3.contains) && IsOptionalNumber(value3.minContains) && IsOptionalNumber(value3.maxContains);
}
function IsAsyncIterator4(value3) {
  return IsKindOf2(value3, "AsyncIterator") && value3.type === "AsyncIterator" && IsOptionalString(value3.$id) && IsSchema2(value3.items);
}
function IsBigInt4(value3) {
  return IsKindOf2(value3, "BigInt") && value3.type === "bigint" && IsOptionalString(value3.$id) && IsOptionalBigInt(value3.exclusiveMaximum) && IsOptionalBigInt(value3.exclusiveMinimum) && IsOptionalBigInt(value3.maximum) && IsOptionalBigInt(value3.minimum) && IsOptionalBigInt(value3.multipleOf);
}
function IsBoolean4(value3) {
  return IsKindOf2(value3, "Boolean") && value3.type === "boolean" && IsOptionalString(value3.$id);
}
function IsConstructor2(value3) {
  return IsKindOf2(value3, "Constructor") && value3.type === "Constructor" && IsOptionalString(value3.$id) && IsArray2(value3.parameters) && value3.parameters.every((schema) => IsSchema2(schema)) && IsSchema2(value3.returns);
}
function IsDate4(value3) {
  return IsKindOf2(value3, "Date") && value3.type === "Date" && IsOptionalString(value3.$id) && IsOptionalNumber(value3.exclusiveMaximumTimestamp) && IsOptionalNumber(value3.exclusiveMinimumTimestamp) && IsOptionalNumber(value3.maximumTimestamp) && IsOptionalNumber(value3.minimumTimestamp) && IsOptionalNumber(value3.multipleOfTimestamp);
}
function IsFunction4(value3) {
  return IsKindOf2(value3, "Function") && value3.type === "Function" && IsOptionalString(value3.$id) && IsArray2(value3.parameters) && value3.parameters.every((schema) => IsSchema2(schema)) && IsSchema2(value3.returns);
}
function IsInteger3(value3) {
  return IsKindOf2(value3, "Integer") && value3.type === "integer" && IsOptionalString(value3.$id) && IsOptionalNumber(value3.exclusiveMaximum) && IsOptionalNumber(value3.exclusiveMinimum) && IsOptionalNumber(value3.maximum) && IsOptionalNumber(value3.minimum) && IsOptionalNumber(value3.multipleOf);
}
function IsProperties(value3) {
  return IsObject2(value3) && Object.entries(value3).every(([key, schema]) => IsControlCharacterFree(key) && IsSchema2(schema));
}
function IsIntersect2(value3) {
  return IsKindOf2(value3, "Intersect") && (IsString2(value3.type) && value3.type !== "object" ? false : true) && IsArray2(value3.allOf) && value3.allOf.every((schema) => IsSchema2(schema) && !IsTransform2(schema)) && IsOptionalString(value3.type) && (IsOptionalBoolean(value3.unevaluatedProperties) || IsOptionalSchema(value3.unevaluatedProperties)) && IsOptionalString(value3.$id);
}
function IsIterator4(value3) {
  return IsKindOf2(value3, "Iterator") && value3.type === "Iterator" && IsOptionalString(value3.$id) && IsSchema2(value3.items);
}
function IsKindOf2(value3, kind14) {
  return IsObject2(value3) && Kind in value3 && value3[Kind] === kind14;
}
function IsLiteralString(value3) {
  return IsLiteral2(value3) && IsString2(value3.const);
}
function IsLiteralNumber(value3) {
  return IsLiteral2(value3) && IsNumber2(value3.const);
}
function IsLiteralBoolean(value3) {
  return IsLiteral2(value3) && IsBoolean2(value3.const);
}
function IsLiteral2(value3) {
  return IsKindOf2(value3, "Literal") && IsOptionalString(value3.$id) && IsLiteralValue(value3.const);
}
function IsLiteralValue(value3) {
  return IsBoolean2(value3) || IsNumber2(value3) || IsString2(value3);
}
function IsMappedKey2(value3) {
  return IsKindOf2(value3, "MappedKey") && IsArray2(value3.keys) && value3.keys.every((key) => IsNumber2(key) || IsString2(key));
}
function IsMappedResult2(value3) {
  return IsKindOf2(value3, "MappedResult") && IsProperties(value3.properties);
}
function IsNever2(value3) {
  return IsKindOf2(value3, "Never") && IsObject2(value3.not) && Object.getOwnPropertyNames(value3.not).length === 0;
}
function IsNot2(value3) {
  return IsKindOf2(value3, "Not") && IsSchema2(value3.not);
}
function IsNull4(value3) {
  return IsKindOf2(value3, "Null") && value3.type === "null" && IsOptionalString(value3.$id);
}
function IsNumber4(value3) {
  return IsKindOf2(value3, "Number") && value3.type === "number" && IsOptionalString(value3.$id) && IsOptionalNumber(value3.exclusiveMaximum) && IsOptionalNumber(value3.exclusiveMinimum) && IsOptionalNumber(value3.maximum) && IsOptionalNumber(value3.minimum) && IsOptionalNumber(value3.multipleOf);
}
function IsObject4(value3) {
  return IsKindOf2(value3, "Object") && value3.type === "object" && IsOptionalString(value3.$id) && IsProperties(value3.properties) && IsAdditionalProperties(value3.additionalProperties) && IsOptionalNumber(value3.minProperties) && IsOptionalNumber(value3.maxProperties);
}
function IsPromise3(value3) {
  return IsKindOf2(value3, "Promise") && value3.type === "Promise" && IsOptionalString(value3.$id) && IsSchema2(value3.item);
}
function IsRecord2(value3) {
  return IsKindOf2(value3, "Record") && value3.type === "object" && IsOptionalString(value3.$id) && IsAdditionalProperties(value3.additionalProperties) && IsObject2(value3.patternProperties) && ((schema) => {
    const keys = Object.getOwnPropertyNames(schema.patternProperties);
    return keys.length === 1 && IsPattern(keys[0]) && IsObject2(schema.patternProperties) && IsSchema2(schema.patternProperties[keys[0]]);
  })(value3);
}
function IsRecursive(value3) {
  return IsObject2(value3) && Hint in value3 && value3[Hint] === "Recursive";
}
function IsRef2(value3) {
  return IsKindOf2(value3, "Ref") && IsOptionalString(value3.$id) && IsString2(value3.$ref);
}
function IsRegExp3(value3) {
  return IsKindOf2(value3, "RegExp") && IsOptionalString(value3.$id) && IsString2(value3.source) && IsString2(value3.flags) && IsOptionalNumber(value3.maxLength) && IsOptionalNumber(value3.minLength);
}
function IsString4(value3) {
  return IsKindOf2(value3, "String") && value3.type === "string" && IsOptionalString(value3.$id) && IsOptionalNumber(value3.minLength) && IsOptionalNumber(value3.maxLength) && IsOptionalPattern(value3.pattern) && IsOptionalFormat(value3.format);
}
function IsSymbol4(value3) {
  return IsKindOf2(value3, "Symbol") && value3.type === "symbol" && IsOptionalString(value3.$id);
}
function IsTemplateLiteral2(value3) {
  return IsKindOf2(value3, "TemplateLiteral") && value3.type === "string" && IsString2(value3.pattern) && value3.pattern[0] === "^" && value3.pattern[value3.pattern.length - 1] === "$";
}
function IsThis2(value3) {
  return IsKindOf2(value3, "This") && IsOptionalString(value3.$id) && IsString2(value3.$ref);
}
function IsTransform2(value3) {
  return IsObject2(value3) && TransformKind in value3;
}
function IsTuple2(value3) {
  return IsKindOf2(value3, "Tuple") && value3.type === "array" && IsOptionalString(value3.$id) && IsNumber2(value3.minItems) && IsNumber2(value3.maxItems) && value3.minItems === value3.maxItems && (IsUndefined2(value3.items) && IsUndefined2(value3.additionalItems) && value3.minItems === 0 || IsArray2(value3.items) && value3.items.every((schema) => IsSchema2(schema)));
}
function IsUndefined4(value3) {
  return IsKindOf2(value3, "Undefined") && value3.type === "undefined" && IsOptionalString(value3.$id);
}
function IsUnionLiteral(value3) {
  return IsUnion2(value3) && value3.anyOf.every((schema) => IsLiteralString(schema) || IsLiteralNumber(schema));
}
function IsUnion2(value3) {
  return IsKindOf2(value3, "Union") && IsOptionalString(value3.$id) && IsObject2(value3) && IsArray2(value3.anyOf) && value3.anyOf.every((schema) => IsSchema2(schema));
}
function IsUint8Array4(value3) {
  return IsKindOf2(value3, "Uint8Array") && value3.type === "Uint8Array" && IsOptionalString(value3.$id) && IsOptionalNumber(value3.minByteLength) && IsOptionalNumber(value3.maxByteLength);
}
function IsUnknown2(value3) {
  return IsKindOf2(value3, "Unknown") && IsOptionalString(value3.$id);
}
function IsUnsafe2(value3) {
  return IsKindOf2(value3, "Unsafe");
}
function IsVoid2(value3) {
  return IsKindOf2(value3, "Void") && value3.type === "void" && IsOptionalString(value3.$id);
}
function IsKind2(value3) {
  return IsObject2(value3) && Kind in value3 && IsString2(value3[Kind]) && !KnownTypes.includes(value3[Kind]);
}
function IsSchema2(value3) {
  return IsObject2(value3) && (IsAny2(value3) || IsArray4(value3) || IsBoolean4(value3) || IsBigInt4(value3) || IsAsyncIterator4(value3) || IsConstructor2(value3) || IsDate4(value3) || IsFunction4(value3) || IsInteger3(value3) || IsIntersect2(value3) || IsIterator4(value3) || IsLiteral2(value3) || IsMappedKey2(value3) || IsMappedResult2(value3) || IsNever2(value3) || IsNot2(value3) || IsNull4(value3) || IsNumber4(value3) || IsObject4(value3) || IsPromise3(value3) || IsRecord2(value3) || IsRef2(value3) || IsRegExp3(value3) || IsString4(value3) || IsSymbol4(value3) || IsTemplateLiteral2(value3) || IsThis2(value3) || IsTuple2(value3) || IsUndefined4(value3) || IsUnion2(value3) || IsUint8Array4(value3) || IsUnknown2(value3) || IsUnsafe2(value3) || IsVoid2(value3) || IsKind2(value3));
}

class TypeGuardUnknownTypeError extends TypeBoxError {
}
var KnownTypes = [
  "Any",
  "Array",
  "AsyncIterator",
  "BigInt",
  "Boolean",
  "Constructor",
  "Date",
  "Enum",
  "Function",
  "Integer",
  "Intersect",
  "Iterator",
  "Literal",
  "MappedKey",
  "MappedResult",
  "Not",
  "Null",
  "Number",
  "Object",
  "Promise",
  "Record",
  "Ref",
  "RegExp",
  "String",
  "Symbol",
  "TemplateLiteral",
  "This",
  "Tuple",
  "Undefined",
  "Union",
  "Uint8Array",
  "Unknown",
  "Void"
];
// node_modules/@sinclair/typebox/build/esm/type/extends/extends-check.mjs
var IntoBooleanResult = function(result) {
  return result === ExtendsResult.False ? result : ExtendsResult.True;
};
var Throw = function(message) {
  throw new ExtendsResolverError(message);
};
var IsStructuralRight = function(right) {
  return exports_type2.IsNever(right) || exports_type2.IsIntersect(right) || exports_type2.IsUnion(right) || exports_type2.IsUnknown(right) || exports_type2.IsAny(right);
};
var StructuralRight = function(left, right) {
  return exports_type2.IsNever(right) ? FromNeverRight(left, right) : exports_type2.IsIntersect(right) ? FromIntersectRight(left, right) : exports_type2.IsUnion(right) ? FromUnionRight(left, right) : exports_type2.IsUnknown(right) ? FromUnknownRight(left, right) : exports_type2.IsAny(right) ? FromAnyRight(left, right) : Throw("StructuralRight");
};
var FromAnyRight = function(left, right) {
  return ExtendsResult.True;
};
var FromAny2 = function(left, right) {
  return exports_type2.IsIntersect(right) ? FromIntersectRight(left, right) : exports_type2.IsUnion(right) && right.anyOf.some((schema) => exports_type2.IsAny(schema) || exports_type2.IsUnknown(schema)) ? ExtendsResult.True : exports_type2.IsUnion(right) ? ExtendsResult.Union : exports_type2.IsUnknown(right) ? ExtendsResult.True : exports_type2.IsAny(right) ? ExtendsResult.True : ExtendsResult.Union;
};
var FromArrayRight = function(left, right) {
  return exports_type2.IsUnknown(left) ? ExtendsResult.False : exports_type2.IsAny(left) ? ExtendsResult.Union : exports_type2.IsNever(left) ? ExtendsResult.True : ExtendsResult.False;
};
var FromArray4 = function(left, right) {
  return exports_type2.IsObject(right) && IsObjectArrayLike(right) ? ExtendsResult.True : IsStructuralRight(right) ? StructuralRight(left, right) : !exports_type2.IsArray(right) ? ExtendsResult.False : IntoBooleanResult(Visit5(left.items, right.items));
};
var FromAsyncIterator2 = function(left, right) {
  return IsStructuralRight(right) ? StructuralRight(left, right) : !exports_type2.IsAsyncIterator(right) ? ExtendsResult.False : IntoBooleanResult(Visit5(left.items, right.items));
};
var FromBigInt2 = function(left, right) {
  return IsStructuralRight(right) ? StructuralRight(left, right) : exports_type2.IsObject(right) ? FromObjectRight(left, right) : exports_type2.IsRecord(right) ? FromRecordRight(left, right) : exports_type2.IsBigInt(right) ? ExtendsResult.True : ExtendsResult.False;
};
var FromBooleanRight = function(left, right) {
  return exports_type2.IsLiteralBoolean(left) ? ExtendsResult.True : exports_type2.IsBoolean(left) ? ExtendsResult.True : ExtendsResult.False;
};
var FromBoolean2 = function(left, right) {
  return IsStructuralRight(right) ? StructuralRight(left, right) : exports_type2.IsObject(right) ? FromObjectRight(left, right) : exports_type2.IsRecord(right) ? FromRecordRight(left, right) : exports_type2.IsBoolean(right) ? ExtendsResult.True : ExtendsResult.False;
};
var FromConstructor2 = function(left, right) {
  return IsStructuralRight(right) ? StructuralRight(left, right) : exports_type2.IsObject(right) ? FromObjectRight(left, right) : !exports_type2.IsConstructor(right) ? ExtendsResult.False : left.parameters.length > right.parameters.length ? ExtendsResult.False : !left.parameters.every((schema, index) => IntoBooleanResult(Visit5(right.parameters[index], schema)) === ExtendsResult.True) ? ExtendsResult.False : IntoBooleanResult(Visit5(left.returns, right.returns));
};
var FromDate2 = function(left, right) {
  return IsStructuralRight(right) ? StructuralRight(left, right) : exports_type2.IsObject(right) ? FromObjectRight(left, right) : exports_type2.IsRecord(right) ? FromRecordRight(left, right) : exports_type2.IsDate(right) ? ExtendsResult.True : ExtendsResult.False;
};
var FromFunction2 = function(left, right) {
  return IsStructuralRight(right) ? StructuralRight(left, right) : exports_type2.IsObject(right) ? FromObjectRight(left, right) : !exports_type2.IsFunction(right) ? ExtendsResult.False : left.parameters.length > right.parameters.length ? ExtendsResult.False : !left.parameters.every((schema, index) => IntoBooleanResult(Visit5(right.parameters[index], schema)) === ExtendsResult.True) ? ExtendsResult.False : IntoBooleanResult(Visit5(left.returns, right.returns));
};
var FromIntegerRight = function(left, right) {
  return exports_type2.IsLiteral(left) && exports_value.IsNumber(left.const) ? ExtendsResult.True : exports_type2.IsNumber(left) || exports_type2.IsInteger(left) ? ExtendsResult.True : ExtendsResult.False;
};
var FromInteger2 = function(left, right) {
  return exports_type2.IsInteger(right) || exports_type2.IsNumber(right) ? ExtendsResult.True : IsStructuralRight(right) ? StructuralRight(left, right) : exports_type2.IsObject(right) ? FromObjectRight(left, right) : exports_type2.IsRecord(right) ? FromRecordRight(left, right) : ExtendsResult.False;
};
var FromIntersectRight = function(left, right) {
  return right.allOf.every((schema) => Visit5(left, schema) === ExtendsResult.True) ? ExtendsResult.True : ExtendsResult.False;
};
var FromIntersect4 = function(left, right) {
  return left.allOf.some((schema) => Visit5(schema, right) === ExtendsResult.True) ? ExtendsResult.True : ExtendsResult.False;
};
var FromIterator2 = function(left, right) {
  return IsStructuralRight(right) ? StructuralRight(left, right) : !exports_type2.IsIterator(right) ? ExtendsResult.False : IntoBooleanResult(Visit5(left.items, right.items));
};
var FromLiteral3 = function(left, right) {
  return exports_type2.IsLiteral(right) && right.const === left.const ? ExtendsResult.True : IsStructuralRight(right) ? StructuralRight(left, right) : exports_type2.IsObject(right) ? FromObjectRight(left, right) : exports_type2.IsRecord(right) ? FromRecordRight(left, right) : exports_type2.IsString(right) ? FromStringRight(left, right) : exports_type2.IsNumber(right) ? FromNumberRight(left, right) : exports_type2.IsInteger(right) ? FromIntegerRight(left, right) : exports_type2.IsBoolean(right) ? FromBooleanRight(left, right) : ExtendsResult.False;
};
var FromNeverRight = function(left, right) {
  return ExtendsResult.False;
};
var FromNever2 = function(left, right) {
  return ExtendsResult.True;
};
var UnwrapTNot = function(schema) {
  let [current, depth] = [schema, 0];
  while (true) {
    if (!exports_type2.IsNot(current))
      break;
    current = current.not;
    depth += 1;
  }
  return depth % 2 === 0 ? current : Unknown();
};
var FromNot2 = function(left, right) {
  return exports_type2.IsNot(left) ? Visit5(UnwrapTNot(left), right) : exports_type2.IsNot(right) ? Visit5(left, UnwrapTNot(right)) : Throw("Invalid fallthrough for Not");
};
var FromNull2 = function(left, right) {
  return IsStructuralRight(right) ? StructuralRight(left, right) : exports_type2.IsObject(right) ? FromObjectRight(left, right) : exports_type2.IsRecord(right) ? FromRecordRight(left, right) : exports_type2.IsNull(right) ? ExtendsResult.True : ExtendsResult.False;
};
var FromNumberRight = function(left, right) {
  return exports_type2.IsLiteralNumber(left) ? ExtendsResult.True : exports_type2.IsNumber(left) || exports_type2.IsInteger(left) ? ExtendsResult.True : ExtendsResult.False;
};
var FromNumber2 = function(left, right) {
  return IsStructuralRight(right) ? StructuralRight(left, right) : exports_type2.IsObject(right) ? FromObjectRight(left, right) : exports_type2.IsRecord(right) ? FromRecordRight(left, right) : exports_type2.IsInteger(right) || exports_type2.IsNumber(right) ? ExtendsResult.True : ExtendsResult.False;
};
var IsObjectPropertyCount = function(schema, count) {
  return Object.getOwnPropertyNames(schema.properties).length === count;
};
var IsObjectStringLike = function(schema) {
  return IsObjectArrayLike(schema);
};
var IsObjectSymbolLike = function(schema) {
  return IsObjectPropertyCount(schema, 0) || IsObjectPropertyCount(schema, 1) && "description" in schema.properties && exports_type2.IsUnion(schema.properties.description) && schema.properties.description.anyOf.length === 2 && (exports_type2.IsString(schema.properties.description.anyOf[0]) && exports_type2.IsUndefined(schema.properties.description.anyOf[1]) || exports_type2.IsString(schema.properties.description.anyOf[1]) && exports_type2.IsUndefined(schema.properties.description.anyOf[0]));
};
var IsObjectNumberLike = function(schema) {
  return IsObjectPropertyCount(schema, 0);
};
var IsObjectBooleanLike = function(schema) {
  return IsObjectPropertyCount(schema, 0);
};
var IsObjectBigIntLike = function(schema) {
  return IsObjectPropertyCount(schema, 0);
};
var IsObjectDateLike = function(schema) {
  return IsObjectPropertyCount(schema, 0);
};
var IsObjectUint8ArrayLike = function(schema) {
  return IsObjectArrayLike(schema);
};
var IsObjectFunctionLike = function(schema) {
  const length = Number2();
  return IsObjectPropertyCount(schema, 0) || IsObjectPropertyCount(schema, 1) && "length" in schema.properties && IntoBooleanResult(Visit5(schema.properties["length"], length)) === ExtendsResult.True;
};
var IsObjectConstructorLike = function(schema) {
  return IsObjectPropertyCount(schema, 0);
};
var IsObjectArrayLike = function(schema) {
  const length = Number2();
  return IsObjectPropertyCount(schema, 0) || IsObjectPropertyCount(schema, 1) && "length" in schema.properties && IntoBooleanResult(Visit5(schema.properties["length"], length)) === ExtendsResult.True;
};
var IsObjectPromiseLike = function(schema) {
  const then = Function2([Any()], Any());
  return IsObjectPropertyCount(schema, 0) || IsObjectPropertyCount(schema, 1) && "then" in schema.properties && IntoBooleanResult(Visit5(schema.properties["then"], then)) === ExtendsResult.True;
};
var Property = function(left, right) {
  return Visit5(left, right) === ExtendsResult.False ? ExtendsResult.False : exports_type2.IsOptional(left) && !exports_type2.IsOptional(right) ? ExtendsResult.False : ExtendsResult.True;
};
var FromObjectRight = function(left, right) {
  return exports_type2.IsUnknown(left) ? ExtendsResult.False : exports_type2.IsAny(left) ? ExtendsResult.Union : exports_type2.IsNever(left) || exports_type2.IsLiteralString(left) && IsObjectStringLike(right) || exports_type2.IsLiteralNumber(left) && IsObjectNumberLike(right) || exports_type2.IsLiteralBoolean(left) && IsObjectBooleanLike(right) || exports_type2.IsSymbol(left) && IsObjectSymbolLike(right) || exports_type2.IsBigInt(left) && IsObjectBigIntLike(right) || exports_type2.IsString(left) && IsObjectStringLike(right) || exports_type2.IsSymbol(left) && IsObjectSymbolLike(right) || exports_type2.IsNumber(left) && IsObjectNumberLike(right) || exports_type2.IsInteger(left) && IsObjectNumberLike(right) || exports_type2.IsBoolean(left) && IsObjectBooleanLike(right) || exports_type2.IsUint8Array(left) && IsObjectUint8ArrayLike(right) || exports_type2.IsDate(left) && IsObjectDateLike(right) || exports_type2.IsConstructor(left) && IsObjectConstructorLike(right) || exports_type2.IsFunction(left) && IsObjectFunctionLike(right) ? ExtendsResult.True : exports_type2.IsRecord(left) && exports_type2.IsString(RecordKey(left)) ? (() => {
    return right[Hint] === "Record" ? ExtendsResult.True : ExtendsResult.False;
  })() : exports_type2.IsRecord(left) && exports_type2.IsNumber(RecordKey(left)) ? (() => {
    return IsObjectPropertyCount(right, 0) ? ExtendsResult.True : ExtendsResult.False;
  })() : ExtendsResult.False;
};
var FromObject2 = function(left, right) {
  return IsStructuralRight(right) ? StructuralRight(left, right) : exports_type2.IsRecord(right) ? FromRecordRight(left, right) : !exports_type2.IsObject(right) ? ExtendsResult.False : (() => {
    for (const key of Object.getOwnPropertyNames(right.properties)) {
      if (!(key in left.properties) && !exports_type2.IsOptional(right.properties[key])) {
        return ExtendsResult.False;
      }
      if (exports_type2.IsOptional(right.properties[key])) {
        return ExtendsResult.True;
      }
      if (Property(left.properties[key], right.properties[key]) === ExtendsResult.False) {
        return ExtendsResult.False;
      }
    }
    return ExtendsResult.True;
  })();
};
var FromPromise2 = function(left, right) {
  return IsStructuralRight(right) ? StructuralRight(left, right) : exports_type2.IsObject(right) && IsObjectPromiseLike(right) ? ExtendsResult.True : !exports_type2.IsPromise(right) ? ExtendsResult.False : IntoBooleanResult(Visit5(left.item, right.item));
};
var RecordKey = function(schema) {
  return PatternNumberExact in schema.patternProperties ? Number2() : (PatternStringExact in schema.patternProperties) ? String2() : Throw("Unknown record key pattern");
};
var RecordValue = function(schema) {
  return PatternNumberExact in schema.patternProperties ? schema.patternProperties[PatternNumberExact] : (PatternStringExact in schema.patternProperties) ? schema.patternProperties[PatternStringExact] : Throw("Unable to get record value schema");
};
var FromRecordRight = function(left, right) {
  const [Key, Value] = [RecordKey(right), RecordValue(right)];
  return exports_type2.IsLiteralString(left) && exports_type2.IsNumber(Key) && IntoBooleanResult(Visit5(left, Value)) === ExtendsResult.True ? ExtendsResult.True : exports_type2.IsUint8Array(left) && exports_type2.IsNumber(Key) ? Visit5(left, Value) : exports_type2.IsString(left) && exports_type2.IsNumber(Key) ? Visit5(left, Value) : exports_type2.IsArray(left) && exports_type2.IsNumber(Key) ? Visit5(left, Value) : exports_type2.IsObject(left) ? (() => {
    for (const key of Object.getOwnPropertyNames(left.properties)) {
      if (Property(Value, left.properties[key]) === ExtendsResult.False) {
        return ExtendsResult.False;
      }
    }
    return ExtendsResult.True;
  })() : ExtendsResult.False;
};
var FromRecord2 = function(left, right) {
  return IsStructuralRight(right) ? StructuralRight(left, right) : exports_type2.IsObject(right) ? FromObjectRight(left, right) : !exports_type2.IsRecord(right) ? ExtendsResult.False : Visit5(RecordValue(left), RecordValue(right));
};
var FromRegExp2 = function(left, right) {
  const L = exports_type2.IsRegExp(left) ? String2() : left;
  const R = exports_type2.IsRegExp(right) ? String2() : right;
  return Visit5(L, R);
};
var FromStringRight = function(left, right) {
  return exports_type2.IsLiteral(left) && exports_value.IsString(left.const) ? ExtendsResult.True : exports_type2.IsString(left) ? ExtendsResult.True : ExtendsResult.False;
};
var FromString2 = function(left, right) {
  return IsStructuralRight(right) ? StructuralRight(left, right) : exports_type2.IsObject(right) ? FromObjectRight(left, right) : exports_type2.IsRecord(right) ? FromRecordRight(left, right) : exports_type2.IsString(right) ? ExtendsResult.True : ExtendsResult.False;
};
var FromSymbol2 = function(left, right) {
  return IsStructuralRight(right) ? StructuralRight(left, right) : exports_type2.IsObject(right) ? FromObjectRight(left, right) : exports_type2.IsRecord(right) ? FromRecordRight(left, right) : exports_type2.IsSymbol(right) ? ExtendsResult.True : ExtendsResult.False;
};
var FromTemplateLiteral3 = function(left, right) {
  return exports_type2.IsTemplateLiteral(left) ? Visit5(TemplateLiteralToUnion(left), right) : exports_type2.IsTemplateLiteral(right) ? Visit5(left, TemplateLiteralToUnion(right)) : Throw("Invalid fallthrough for TemplateLiteral");
};
var IsArrayOfTuple = function(left, right) {
  return exports_type2.IsArray(right) && left.items !== undefined && left.items.every((schema) => Visit5(schema, right.items) === ExtendsResult.True);
};
var FromTupleRight = function(left, right) {
  return exports_type2.IsNever(left) ? ExtendsResult.True : exports_type2.IsUnknown(left) ? ExtendsResult.False : exports_type2.IsAny(left) ? ExtendsResult.Union : ExtendsResult.False;
};
var FromTuple4 = function(left, right) {
  return IsStructuralRight(right) ? StructuralRight(left, right) : exports_type2.IsObject(right) && IsObjectArrayLike(right) ? ExtendsResult.True : exports_type2.IsArray(right) && IsArrayOfTuple(left, right) ? ExtendsResult.True : !exports_type2.IsTuple(right) ? ExtendsResult.False : exports_value.IsUndefined(left.items) && !exports_value.IsUndefined(right.items) || !exports_value.IsUndefined(left.items) && exports_value.IsUndefined(right.items) ? ExtendsResult.False : exports_value.IsUndefined(left.items) && !exports_value.IsUndefined(right.items) ? ExtendsResult.True : left.items.every((schema, index) => Visit5(schema, right.items[index]) === ExtendsResult.True) ? ExtendsResult.True : ExtendsResult.False;
};
var FromUint8Array2 = function(left, right) {
  return IsStructuralRight(right) ? StructuralRight(left, right) : exports_type2.IsObject(right) ? FromObjectRight(left, right) : exports_type2.IsRecord(right) ? FromRecordRight(left, right) : exports_type2.IsUint8Array(right) ? ExtendsResult.True : ExtendsResult.False;
};
var FromUndefined2 = function(left, right) {
  return IsStructuralRight(right) ? StructuralRight(left, right) : exports_type2.IsObject(right) ? FromObjectRight(left, right) : exports_type2.IsRecord(right) ? FromRecordRight(left, right) : exports_type2.IsVoid(right) ? FromVoidRight(left, right) : exports_type2.IsUndefined(right) ? ExtendsResult.True : ExtendsResult.False;
};
var FromUnionRight = function(left, right) {
  return right.anyOf.some((schema) => Visit5(left, schema) === ExtendsResult.True) ? ExtendsResult.True : ExtendsResult.False;
};
var FromUnion6 = function(left, right) {
  return left.anyOf.every((schema) => Visit5(schema, right) === ExtendsResult.True) ? ExtendsResult.True : ExtendsResult.False;
};
var FromUnknownRight = function(left, right) {
  return ExtendsResult.True;
};
var FromUnknown2 = function(left, right) {
  return exports_type2.IsNever(right) ? FromNeverRight(left, right) : exports_type2.IsIntersect(right) ? FromIntersectRight(left, right) : exports_type2.IsUnion(right) ? FromUnionRight(left, right) : exports_type2.IsAny(right) ? FromAnyRight(left, right) : exports_type2.IsString(right) ? FromStringRight(left, right) : exports_type2.IsNumber(right) ? FromNumberRight(left, right) : exports_type2.IsInteger(right) ? FromIntegerRight(left, right) : exports_type2.IsBoolean(right) ? FromBooleanRight(left, right) : exports_type2.IsArray(right) ? FromArrayRight(left, right) : exports_type2.IsTuple(right) ? FromTupleRight(left, right) : exports_type2.IsObject(right) ? FromObjectRight(left, right) : exports_type2.IsUnknown(right) ? ExtendsResult.True : ExtendsResult.False;
};
var FromVoidRight = function(left, right) {
  return exports_type2.IsUndefined(left) ? ExtendsResult.True : exports_type2.IsUndefined(left) ? ExtendsResult.True : ExtendsResult.False;
};
var FromVoid2 = function(left, right) {
  return exports_type2.IsIntersect(right) ? FromIntersectRight(left, right) : exports_type2.IsUnion(right) ? FromUnionRight(left, right) : exports_type2.IsUnknown(right) ? FromUnknownRight(left, right) : exports_type2.IsAny(right) ? FromAnyRight(left, right) : exports_type2.IsObject(right) ? FromObjectRight(left, right) : exports_type2.IsVoid(right) ? ExtendsResult.True : ExtendsResult.False;
};
var Visit5 = function(left, right) {
  return exports_type2.IsTemplateLiteral(left) || exports_type2.IsTemplateLiteral(right) ? FromTemplateLiteral3(left, right) : exports_type2.IsRegExp(left) || exports_type2.IsRegExp(right) ? FromRegExp2(left, right) : exports_type2.IsNot(left) || exports_type2.IsNot(right) ? FromNot2(left, right) : exports_type2.IsAny(left) ? FromAny2(left, right) : exports_type2.IsArray(left) ? FromArray4(left, right) : exports_type2.IsBigInt(left) ? FromBigInt2(left, right) : exports_type2.IsBoolean(left) ? FromBoolean2(left, right) : exports_type2.IsAsyncIterator(left) ? FromAsyncIterator2(left, right) : exports_type2.IsConstructor(left) ? FromConstructor2(left, right) : exports_type2.IsDate(left) ? FromDate2(left, right) : exports_type2.IsFunction(left) ? FromFunction2(left, right) : exports_type2.IsInteger(left) ? FromInteger2(left, right) : exports_type2.IsIntersect(left) ? FromIntersect4(left, right) : exports_type2.IsIterator(left) ? FromIterator2(left, right) : exports_type2.IsLiteral(left) ? FromLiteral3(left, right) : exports_type2.IsNever(left) ? FromNever2(left, right) : exports_type2.IsNull(left) ? FromNull2(left, right) : exports_type2.IsNumber(left) ? FromNumber2(left, right) : exports_type2.IsObject(left) ? FromObject2(left, right) : exports_type2.IsRecord(left) ? FromRecord2(left, right) : exports_type2.IsString(left) ? FromString2(left, right) : exports_type2.IsSymbol(left) ? FromSymbol2(left, right) : exports_type2.IsTuple(left) ? FromTuple4(left, right) : exports_type2.IsPromise(left) ? FromPromise2(left, right) : exports_type2.IsUint8Array(left) ? FromUint8Array2(left, right) : exports_type2.IsUndefined(left) ? FromUndefined2(left, right) : exports_type2.IsUnion(left) ? FromUnion6(left, right) : exports_type2.IsUnknown(left) ? FromUnknown2(left, right) : exports_type2.IsVoid(left) ? FromVoid2(left, right) : Throw(`Unknown left type operand '${left[Kind]}'`);
};
function ExtendsCheck(left, right) {
  return Visit5(left, right);
}

class ExtendsResolverError extends TypeBoxError {
}
var ExtendsResult;
(function(ExtendsResult2) {
  ExtendsResult2[ExtendsResult2["Union"] = 0] = "Union";
  ExtendsResult2[ExtendsResult2["True"] = 1] = "True";
  ExtendsResult2[ExtendsResult2["False"] = 2] = "False";
})(ExtendsResult || (ExtendsResult = {}));
// node_modules/@sinclair/typebox/build/esm/type/extends/extends-from-mapped-result.mjs
var FromProperties7 = function(P, Right, True, False, options) {
  const Acc = {};
  for (const K2 of globalThis.Object.getOwnPropertyNames(P))
    Acc[K2] = Extends(P[K2], Right, True, False, options);
  return Acc;
};
var FromMappedResult6 = function(Left, Right, True, False, options) {
  return FromProperties7(Left.properties, Right, True, False, options);
};
function ExtendsFromMappedResult(Left, Right, True, False, options) {
  const P = FromMappedResult6(Left, Right, True, False, options);
  return MappedResult(P);
}

// node_modules/@sinclair/typebox/build/esm/type/extends/extends.mjs
var ExtendsResolve = function(left, right, trueType, falseType) {
  const R = ExtendsCheck(left, right);
  return R === ExtendsResult.Union ? Union([trueType, falseType]) : R === ExtendsResult.True ? trueType : falseType;
};
function Extends(L, R, T, F, options = {}) {
  return IsMappedResult(L) ? ExtendsFromMappedResult(L, R, T, F, options) : IsMappedKey(L) ? CloneType(ExtendsFromMappedKey(L, R, T, F, options)) : CloneType(ExtendsResolve(L, R, T, F), options);
}

// node_modules/@sinclair/typebox/build/esm/type/extends/extends-from-mapped-key.mjs
var FromPropertyKey = function(K, U, L, R, options) {
  return {
    [K]: Extends(Literal(K), U, L, R, options)
  };
};
var FromPropertyKeys = function(K, U, L, R, options) {
  return K.reduce((Acc, LK) => {
    return { ...Acc, ...FromPropertyKey(LK, U, L, R, options) };
  }, {});
};
var FromMappedKey2 = function(K, U, L, R, options) {
  return FromPropertyKeys(K.keys, U, L, R, options);
};
function ExtendsFromMappedKey(T, U, L, R, options) {
  const P = FromMappedKey2(T, U, L, R, options);
  return MappedResult(P);
}
// node_modules/@sinclair/typebox/build/esm/value/check/check.mjs
var IsAnyOrUnknown = function(schema) {
  return schema[Kind] === "Any" || schema[Kind] === "Unknown";
};
var IsDefined2 = function(value3) {
  return value3 !== undefined;
};
var FromAny3 = function(schema, references, value3) {
  return true;
};
var FromArray5 = function(schema, references, value3) {
  if (!IsArray(value3))
    return false;
  if (IsDefined2(schema.minItems) && !(value3.length >= schema.minItems)) {
    return false;
  }
  if (IsDefined2(schema.maxItems) && !(value3.length <= schema.maxItems)) {
    return false;
  }
  if (!value3.every((value4) => Visit6(schema.items, references, value4))) {
    return false;
  }
  if (schema.uniqueItems === true && !function() {
    const set2 = new Set;
    for (const element of value3) {
      const hashed = Hash(element);
      if (set2.has(hashed)) {
        return false;
      } else {
        set2.add(hashed);
      }
    }
    return true;
  }()) {
    return false;
  }
  if (!(IsDefined2(schema.contains) || IsNumber(schema.minContains) || IsNumber(schema.maxContains))) {
    return true;
  }
  const containsSchema = IsDefined2(schema.contains) ? schema.contains : Never();
  const containsCount = value3.reduce((acc, value4) => Visit6(containsSchema, references, value4) ? acc + 1 : acc, 0);
  if (containsCount === 0) {
    return false;
  }
  if (IsNumber(schema.minContains) && containsCount < schema.minContains) {
    return false;
  }
  if (IsNumber(schema.maxContains) && containsCount > schema.maxContains) {
    return false;
  }
  return true;
};
var FromAsyncIterator3 = function(schema, references, value3) {
  return IsAsyncIterator(value3);
};
var FromBigInt3 = function(schema, references, value3) {
  if (!IsBigInt(value3))
    return false;
  if (IsDefined2(schema.exclusiveMaximum) && !(value3 < schema.exclusiveMaximum)) {
    return false;
  }
  if (IsDefined2(schema.exclusiveMinimum) && !(value3 > schema.exclusiveMinimum)) {
    return false;
  }
  if (IsDefined2(schema.maximum) && !(value3 <= schema.maximum)) {
    return false;
  }
  if (IsDefined2(schema.minimum) && !(value3 >= schema.minimum)) {
    return false;
  }
  if (IsDefined2(schema.multipleOf) && !(value3 % schema.multipleOf === BigInt(0))) {
    return false;
  }
  return true;
};
var FromBoolean3 = function(schema, references, value3) {
  return IsBoolean(value3);
};
var FromConstructor3 = function(schema, references, value3) {
  return Visit6(schema.returns, references, value3.prototype);
};
var FromDate3 = function(schema, references, value3) {
  if (!IsDate(value3))
    return false;
  if (IsDefined2(schema.exclusiveMaximumTimestamp) && !(value3.getTime() < schema.exclusiveMaximumTimestamp)) {
    return false;
  }
  if (IsDefined2(schema.exclusiveMinimumTimestamp) && !(value3.getTime() > schema.exclusiveMinimumTimestamp)) {
    return false;
  }
  if (IsDefined2(schema.maximumTimestamp) && !(value3.getTime() <= schema.maximumTimestamp)) {
    return false;
  }
  if (IsDefined2(schema.minimumTimestamp) && !(value3.getTime() >= schema.minimumTimestamp)) {
    return false;
  }
  if (IsDefined2(schema.multipleOfTimestamp) && !(value3.getTime() % schema.multipleOfTimestamp === 0)) {
    return false;
  }
  return true;
};
var FromFunction3 = function(schema, references, value3) {
  return IsFunction(value3);
};
var FromInteger3 = function(schema, references, value3) {
  if (!IsInteger(value3)) {
    return false;
  }
  if (IsDefined2(schema.exclusiveMaximum) && !(value3 < schema.exclusiveMaximum)) {
    return false;
  }
  if (IsDefined2(schema.exclusiveMinimum) && !(value3 > schema.exclusiveMinimum)) {
    return false;
  }
  if (IsDefined2(schema.maximum) && !(value3 <= schema.maximum)) {
    return false;
  }
  if (IsDefined2(schema.minimum) && !(value3 >= schema.minimum)) {
    return false;
  }
  if (IsDefined2(schema.multipleOf) && !(value3 % schema.multipleOf === 0)) {
    return false;
  }
  return true;
};
var FromIntersect5 = function(schema, references, value3) {
  const check1 = schema.allOf.every((schema2) => Visit6(schema2, references, value3));
  if (schema.unevaluatedProperties === false) {
    const keyPattern = new RegExp(KeyOfPattern(schema));
    const check2 = Object.getOwnPropertyNames(value3).every((key) => keyPattern.test(key));
    return check1 && check2;
  } else if (IsSchema2(schema.unevaluatedProperties)) {
    const keyCheck = new RegExp(KeyOfPattern(schema));
    const check2 = Object.getOwnPropertyNames(value3).every((key) => keyCheck.test(key) || Visit6(schema.unevaluatedProperties, references, value3[key]));
    return check1 && check2;
  } else {
    return check1;
  }
};
var FromIterator3 = function(schema, references, value3) {
  return IsIterator(value3);
};
var FromLiteral4 = function(schema, references, value3) {
  return value3 === schema.const;
};
var FromNever3 = function(schema, references, value3) {
  return false;
};
var FromNot3 = function(schema, references, value3) {
  return !Visit6(schema.not, references, value3);
};
var FromNull3 = function(schema, references, value3) {
  return IsNull(value3);
};
var FromNumber3 = function(schema, references, value3) {
  if (!TypeSystemPolicy.IsNumberLike(value3))
    return false;
  if (IsDefined2(schema.exclusiveMaximum) && !(value3 < schema.exclusiveMaximum)) {
    return false;
  }
  if (IsDefined2(schema.exclusiveMinimum) && !(value3 > schema.exclusiveMinimum)) {
    return false;
  }
  if (IsDefined2(schema.minimum) && !(value3 >= schema.minimum)) {
    return false;
  }
  if (IsDefined2(schema.maximum) && !(value3 <= schema.maximum)) {
    return false;
  }
  if (IsDefined2(schema.multipleOf) && !(value3 % schema.multipleOf === 0)) {
    return false;
  }
  return true;
};
var FromObject3 = function(schema, references, value3) {
  if (!TypeSystemPolicy.IsObjectLike(value3))
    return false;
  if (IsDefined2(schema.minProperties) && !(Object.getOwnPropertyNames(value3).length >= schema.minProperties)) {
    return false;
  }
  if (IsDefined2(schema.maxProperties) && !(Object.getOwnPropertyNames(value3).length <= schema.maxProperties)) {
    return false;
  }
  const knownKeys = Object.getOwnPropertyNames(schema.properties);
  for (const knownKey of knownKeys) {
    const property = schema.properties[knownKey];
    if (schema.required && schema.required.includes(knownKey)) {
      if (!Visit6(property, references, value3[knownKey])) {
        return false;
      }
      if ((ExtendsUndefinedCheck(property) || IsAnyOrUnknown(property)) && !(knownKey in value3)) {
        return false;
      }
    } else {
      if (TypeSystemPolicy.IsExactOptionalProperty(value3, knownKey) && !Visit6(property, references, value3[knownKey])) {
        return false;
      }
    }
  }
  if (schema.additionalProperties === false) {
    const valueKeys = Object.getOwnPropertyNames(value3);
    if (schema.required && schema.required.length === knownKeys.length && valueKeys.length === knownKeys.length) {
      return true;
    } else {
      return valueKeys.every((valueKey) => knownKeys.includes(valueKey));
    }
  } else if (typeof schema.additionalProperties === "object") {
    const valueKeys = Object.getOwnPropertyNames(value3);
    return valueKeys.every((key) => knownKeys.includes(key) || Visit6(schema.additionalProperties, references, value3[key]));
  } else {
    return true;
  }
};
var FromPromise3 = function(schema, references, value3) {
  return IsPromise(value3);
};
var FromRecord3 = function(schema, references, value3) {
  if (!TypeSystemPolicy.IsRecordLike(value3)) {
    return false;
  }
  if (IsDefined2(schema.minProperties) && !(Object.getOwnPropertyNames(value3).length >= schema.minProperties)) {
    return false;
  }
  if (IsDefined2(schema.maxProperties) && !(Object.getOwnPropertyNames(value3).length <= schema.maxProperties)) {
    return false;
  }
  const [patternKey, patternSchema] = Object.entries(schema.patternProperties)[0];
  const regex = new RegExp(patternKey);
  const check1 = Object.entries(value3).every(([key, value4]) => {
    return regex.test(key) ? Visit6(patternSchema, references, value4) : true;
  });
  const check2 = typeof schema.additionalProperties === "object" ? Object.entries(value3).every(([key, value4]) => {
    return !regex.test(key) ? Visit6(schema.additionalProperties, references, value4) : true;
  }) : true;
  const check3 = schema.additionalProperties === false ? Object.getOwnPropertyNames(value3).every((key) => {
    return regex.test(key);
  }) : true;
  return check1 && check2 && check3;
};
var FromRef2 = function(schema, references, value3) {
  return Visit6(Deref(schema, references), references, value3);
};
var FromRegExp3 = function(schema, references, value3) {
  const regex = new RegExp(schema.source, schema.flags);
  if (IsDefined2(schema.minLength)) {
    if (!(value3.length >= schema.minLength))
      return false;
  }
  if (IsDefined2(schema.maxLength)) {
    if (!(value3.length <= schema.maxLength))
      return false;
  }
  return regex.test(value3);
};
var FromString3 = function(schema, references, value3) {
  if (!IsString(value3)) {
    return false;
  }
  if (IsDefined2(schema.minLength)) {
    if (!(value3.length >= schema.minLength))
      return false;
  }
  if (IsDefined2(schema.maxLength)) {
    if (!(value3.length <= schema.maxLength))
      return false;
  }
  if (IsDefined2(schema.pattern)) {
    const regex = new RegExp(schema.pattern);
    if (!regex.test(value3))
      return false;
  }
  if (IsDefined2(schema.format)) {
    if (!exports_format.Has(schema.format))
      return false;
    const func = exports_format.Get(schema.format);
    return func(value3);
  }
  return true;
};
var FromSymbol3 = function(schema, references, value3) {
  return IsSymbol(value3);
};
var FromTemplateLiteral4 = function(schema, references, value3) {
  return IsString(value3) && new RegExp(schema.pattern).test(value3);
};
var FromThis2 = function(schema, references, value3) {
  return Visit6(Deref(schema, references), references, value3);
};
var FromTuple5 = function(schema, references, value3) {
  if (!IsArray(value3)) {
    return false;
  }
  if (schema.items === undefined && !(value3.length === 0)) {
    return false;
  }
  if (!(value3.length === schema.maxItems)) {
    return false;
  }
  if (!schema.items) {
    return true;
  }
  for (let i = 0;i < schema.items.length; i++) {
    if (!Visit6(schema.items[i], references, value3[i]))
      return false;
  }
  return true;
};
var FromUndefined3 = function(schema, references, value3) {
  return IsUndefined(value3);
};
var FromUnion7 = function(schema, references, value3) {
  return schema.anyOf.some((inner) => Visit6(inner, references, value3));
};
var FromUint8Array3 = function(schema, references, value3) {
  if (!IsUint8Array(value3)) {
    return false;
  }
  if (IsDefined2(schema.maxByteLength) && !(value3.length <= schema.maxByteLength)) {
    return false;
  }
  if (IsDefined2(schema.minByteLength) && !(value3.length >= schema.minByteLength)) {
    return false;
  }
  return true;
};
var FromUnknown3 = function(schema, references, value3) {
  return true;
};
var FromVoid3 = function(schema, references, value3) {
  return TypeSystemPolicy.IsVoidLike(value3);
};
var FromKind2 = function(schema, references, value3) {
  if (!exports_type.Has(schema[Kind]))
    return false;
  const func = exports_type.Get(schema[Kind]);
  return func(schema, value3);
};
var Visit6 = function(schema, references, value3) {
  const references_ = IsDefined2(schema.$id) ? [...references, schema] : references;
  const schema_ = schema;
  switch (schema_[Kind]) {
    case "Any":
      return FromAny3(schema_, references_, value3);
    case "Array":
      return FromArray5(schema_, references_, value3);
    case "AsyncIterator":
      return FromAsyncIterator3(schema_, references_, value3);
    case "BigInt":
      return FromBigInt3(schema_, references_, value3);
    case "Boolean":
      return FromBoolean3(schema_, references_, value3);
    case "Constructor":
      return FromConstructor3(schema_, references_, value3);
    case "Date":
      return FromDate3(schema_, references_, value3);
    case "Function":
      return FromFunction3(schema_, references_, value3);
    case "Integer":
      return FromInteger3(schema_, references_, value3);
    case "Intersect":
      return FromIntersect5(schema_, references_, value3);
    case "Iterator":
      return FromIterator3(schema_, references_, value3);
    case "Literal":
      return FromLiteral4(schema_, references_, value3);
    case "Never":
      return FromNever3(schema_, references_, value3);
    case "Not":
      return FromNot3(schema_, references_, value3);
    case "Null":
      return FromNull3(schema_, references_, value3);
    case "Number":
      return FromNumber3(schema_, references_, value3);
    case "Object":
      return FromObject3(schema_, references_, value3);
    case "Promise":
      return FromPromise3(schema_, references_, value3);
    case "Record":
      return FromRecord3(schema_, references_, value3);
    case "Ref":
      return FromRef2(schema_, references_, value3);
    case "RegExp":
      return FromRegExp3(schema_, references_, value3);
    case "String":
      return FromString3(schema_, references_, value3);
    case "Symbol":
      return FromSymbol3(schema_, references_, value3);
    case "TemplateLiteral":
      return FromTemplateLiteral4(schema_, references_, value3);
    case "This":
      return FromThis2(schema_, references_, value3);
    case "Tuple":
      return FromTuple5(schema_, references_, value3);
    case "Undefined":
      return FromUndefined3(schema_, references_, value3);
    case "Union":
      return FromUnion7(schema_, references_, value3);
    case "Uint8Array":
      return FromUint8Array3(schema_, references_, value3);
    case "Unknown":
      return FromUnknown3(schema_, references_, value3);
    case "Void":
      return FromVoid3(schema_, references_, value3);
    default:
      if (!exports_type.Has(schema_[Kind]))
        throw new ValueCheckUnknownTypeError(schema_);
      return FromKind2(schema_, references_, value3);
  }
};
function Check(...args) {
  return args.length === 3 ? Visit6(args[0], args[1], args[2]) : Visit6(args[0], [], args[1]);
}

class ValueCheckUnknownTypeError extends TypeBoxError {
  schema;
  constructor(schema) {
    super(`Unknown type`);
    this.schema = schema;
  }
}
// node_modules/@sinclair/typebox/build/esm/value/clone/clone.mjs
var ObjectType3 = function(value3) {
  const Acc = {};
  for (const key of Object.getOwnPropertyNames(value3)) {
    Acc[key] = Clone2(value3[key]);
  }
  for (const key of Object.getOwnPropertySymbols(value3)) {
    Acc[key] = Clone2(value3[key]);
  }
  return Acc;
};
var ArrayType3 = function(value3) {
  return value3.map((element) => Clone2(element));
};
var TypedArrayType = function(value3) {
  return value3.slice();
};
var DateType3 = function(value3) {
  return new Date(value3.toISOString());
};
var ValueType = function(value3) {
  return value3;
};
function Clone2(value3) {
  if (IsArray(value3))
    return ArrayType3(value3);
  if (IsDate(value3))
    return DateType3(value3);
  if (IsStandardObject(value3))
    return ObjectType3(value3);
  if (IsTypedArray(value3))
    return TypedArrayType(value3);
  if (IsValueType(value3))
    return ValueType(value3);
  throw new Error("ValueClone: Unable to clone value");
}
// node_modules/@sinclair/typebox/build/esm/value/create/create.mjs
var FromDefault = function(value3) {
  return typeof value3 === "function" ? value3 : Clone2(value3);
};
var FromAny4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    return {};
  }
};
var FromArray6 = function(schema, references) {
  if (schema.uniqueItems === true && !HasPropertyKey(schema, "default")) {
    throw new ValueCreateError(schema, "Array with the uniqueItems constraint requires a default value");
  } else if ("contains" in schema && !HasPropertyKey(schema, "default")) {
    throw new ValueCreateError(schema, "Array with the contains constraint requires a default value");
  } else if ("default" in schema) {
    return FromDefault(schema.default);
  } else if (schema.minItems !== undefined) {
    return Array.from({ length: schema.minItems }).map((item) => {
      return Visit7(schema.items, references);
    });
  } else {
    return [];
  }
};
var FromAsyncIterator4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    return async function* () {
    }();
  }
};
var FromBigInt4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    return BigInt(0);
  }
};
var FromBoolean4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    return false;
  }
};
var FromConstructor4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    const value3 = Visit7(schema.returns, references);
    if (typeof value3 === "object" && !Array.isArray(value3)) {
      return class {
        constructor() {
          for (const [key, val] of Object.entries(value3)) {
            const self2 = this;
            self2[key] = val;
          }
        }
      };
    } else {
      return class {
      };
    }
  }
};
var FromDate4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else if (schema.minimumTimestamp !== undefined) {
    return new Date(schema.minimumTimestamp);
  } else {
    return new Date;
  }
};
var FromFunction4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    return () => Visit7(schema.returns, references);
  }
};
var FromInteger4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else if (schema.minimum !== undefined) {
    return schema.minimum;
  } else {
    return 0;
  }
};
var FromIntersect6 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    const value3 = schema.allOf.reduce((acc, schema2) => {
      const next = Visit7(schema2, references);
      return typeof next === "object" ? { ...acc, ...next } : next;
    }, {});
    if (!Check(schema, references, value3))
      throw new ValueCreateError(schema, "Intersect produced invalid value. Consider using a default value.");
    return value3;
  }
};
var FromIterator4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    return function* () {
    }();
  }
};
var FromLiteral5 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    return schema.const;
  }
};
var FromNever4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    throw new ValueCreateError(schema, "Never types cannot be created. Consider using a default value.");
  }
};
var FromNot4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    throw new ValueCreateError(schema, "Not types must have a default value");
  }
};
var FromNull4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    return null;
  }
};
var FromNumber4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else if (schema.minimum !== undefined) {
    return schema.minimum;
  } else {
    return 0;
  }
};
var FromObject4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    const required = new Set(schema.required);
    const Acc = {};
    for (const [key, subschema] of Object.entries(schema.properties)) {
      if (!required.has(key))
        continue;
      Acc[key] = Visit7(subschema, references);
    }
    return Acc;
  }
};
var FromPromise4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    return Promise.resolve(Visit7(schema.item, references));
  }
};
var FromRecord4 = function(schema, references) {
  const [keyPattern, valueSchema] = Object.entries(schema.patternProperties)[0];
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else if (!(keyPattern === PatternStringExact || keyPattern === PatternNumberExact)) {
    const propertyKeys = keyPattern.slice(1, keyPattern.length - 1).split("|");
    const Acc = {};
    for (const key of propertyKeys)
      Acc[key] = Visit7(valueSchema, references);
    return Acc;
  } else {
    return {};
  }
};
var FromRef3 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    return Visit7(Deref(schema, references), references);
  }
};
var FromRegExp4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    throw new ValueCreateError(schema, "RegExp types cannot be created. Consider using a default value.");
  }
};
var FromString4 = function(schema, references) {
  if (schema.pattern !== undefined) {
    if (!HasPropertyKey(schema, "default")) {
      throw new ValueCreateError(schema, "String types with patterns must specify a default value");
    } else {
      return FromDefault(schema.default);
    }
  } else if (schema.format !== undefined) {
    if (!HasPropertyKey(schema, "default")) {
      throw new ValueCreateError(schema, "String types with formats must specify a default value");
    } else {
      return FromDefault(schema.default);
    }
  } else {
    if (HasPropertyKey(schema, "default")) {
      return FromDefault(schema.default);
    } else if (schema.minLength !== undefined) {
      return Array.from({ length: schema.minLength }).map(() => " ").join("");
    } else {
      return "";
    }
  }
};
var FromSymbol4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else if ("value" in schema) {
    return Symbol.for(schema.value);
  } else {
    return Symbol();
  }
};
var FromTemplateLiteral5 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  }
  if (!IsTemplateLiteralFinite(schema))
    throw new ValueCreateError(schema, "Can only create template literals that produce a finite variants. Consider using a default value.");
  const generated = TemplateLiteralGenerate(schema);
  return generated[0];
};
var FromThis3 = function(schema, references) {
  if (recursiveDepth++ > recursiveMaxDepth)
    throw new ValueCreateError(schema, "Cannot create recursive type as it appears possibly infinite. Consider using a default.");
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    return Visit7(Deref(schema, references), references);
  }
};
var FromTuple6 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  }
  if (schema.items === undefined) {
    return [];
  } else {
    return Array.from({ length: schema.minItems }).map((_, index) => Visit7(schema.items[index], references));
  }
};
var FromUndefined4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    return;
  }
};
var FromUnion8 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else if (schema.anyOf.length === 0) {
    throw new Error("ValueCreate.Union: Cannot create Union with zero variants");
  } else {
    return Visit7(schema.anyOf[0], references);
  }
};
var FromUint8Array4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else if (schema.minByteLength !== undefined) {
    return new Uint8Array(schema.minByteLength);
  } else {
    return new Uint8Array(0);
  }
};
var FromUnknown4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    return {};
  }
};
var FromVoid4 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    return;
  }
};
var FromKind3 = function(schema, references) {
  if (HasPropertyKey(schema, "default")) {
    return FromDefault(schema.default);
  } else {
    throw new Error("User defined types must specify a default value");
  }
};
var Visit7 = function(schema, references) {
  const references_ = IsString(schema.$id) ? [...references, schema] : references;
  const schema_ = schema;
  switch (schema_[Kind]) {
    case "Any":
      return FromAny4(schema_, references_);
    case "Array":
      return FromArray6(schema_, references_);
    case "AsyncIterator":
      return FromAsyncIterator4(schema_, references_);
    case "BigInt":
      return FromBigInt4(schema_, references_);
    case "Boolean":
      return FromBoolean4(schema_, references_);
    case "Constructor":
      return FromConstructor4(schema_, references_);
    case "Date":
      return FromDate4(schema_, references_);
    case "Function":
      return FromFunction4(schema_, references_);
    case "Integer":
      return FromInteger4(schema_, references_);
    case "Intersect":
      return FromIntersect6(schema_, references_);
    case "Iterator":
      return FromIterator4(schema_, references_);
    case "Literal":
      return FromLiteral5(schema_, references_);
    case "Never":
      return FromNever4(schema_, references_);
    case "Not":
      return FromNot4(schema_, references_);
    case "Null":
      return FromNull4(schema_, references_);
    case "Number":
      return FromNumber4(schema_, references_);
    case "Object":
      return FromObject4(schema_, references_);
    case "Promise":
      return FromPromise4(schema_, references_);
    case "Record":
      return FromRecord4(schema_, references_);
    case "Ref":
      return FromRef3(schema_, references_);
    case "RegExp":
      return FromRegExp4(schema_, references_);
    case "String":
      return FromString4(schema_, references_);
    case "Symbol":
      return FromSymbol4(schema_, references_);
    case "TemplateLiteral":
      return FromTemplateLiteral5(schema_, references_);
    case "This":
      return FromThis3(schema_, references_);
    case "Tuple":
      return FromTuple6(schema_, references_);
    case "Undefined":
      return FromUndefined4(schema_, references_);
    case "Union":
      return FromUnion8(schema_, references_);
    case "Uint8Array":
      return FromUint8Array4(schema_, references_);
    case "Unknown":
      return FromUnknown4(schema_, references_);
    case "Void":
      return FromVoid4(schema_, references_);
    default:
      if (!exports_type.Has(schema_[Kind]))
        throw new ValueCreateError(schema_, "Unknown type");
      return FromKind3(schema_, references_);
  }
};
function Create2(...args) {
  recursiveDepth = 0;
  return args.length === 2 ? Visit7(args[0], args[1]) : Visit7(args[0], []);
}

class ValueCreateError extends TypeBoxError {
  schema;
  constructor(schema, message) {
    super(message);
    this.schema = schema;
  }
}
var recursiveMaxDepth = 512;
var recursiveDepth = 0;
// node_modules/@sinclair/typebox/build/esm/value/cast/cast.mjs
var ScoreUnion = function(schema, references, value3) {
  if (schema[Kind] === "Object" && typeof value3 === "object" && !IsNull(value3)) {
    const object3 = schema;
    const keys = Object.getOwnPropertyNames(value3);
    const entries = Object.entries(object3.properties);
    const [point, max] = [1 / entries.length, entries.length];
    return entries.reduce((acc, [key, schema2]) => {
      const literal7 = schema2[Kind] === "Literal" && schema2.const === value3[key] ? max : 0;
      const checks = Check(schema2, references, value3[key]) ? point : 0;
      const exists = keys.includes(key) ? point : 0;
      return acc + (literal7 + checks + exists);
    }, 0);
  } else {
    return Check(schema, references, value3) ? 1 : 0;
  }
};
var SelectUnion = function(union9, references, value3) {
  const schemas = union9.anyOf.map((schema) => Deref(schema, references));
  let [select, best] = [schemas[0], 0];
  for (const schema of schemas) {
    const score = ScoreUnion(schema, references, value3);
    if (score > best) {
      select = schema;
      best = score;
    }
  }
  return select;
};
var CastUnion = function(union9, references, value3) {
  if ("default" in union9) {
    return typeof value3 === "function" ? union9.default : Clone2(union9.default);
  } else {
    const schema = SelectUnion(union9, references, value3);
    return Cast(schema, references, value3);
  }
};
var DefaultClone = function(schema, references, value3) {
  return Check(schema, references, value3) ? Clone2(value3) : Create2(schema, references);
};
var Default = function(schema, references, value3) {
  return Check(schema, references, value3) ? value3 : Create2(schema, references);
};
var FromArray7 = function(schema, references, value3) {
  if (Check(schema, references, value3))
    return Clone2(value3);
  const created = IsArray(value3) ? Clone2(value3) : Create2(schema, references);
  const minimum = IsNumber(schema.minItems) && created.length < schema.minItems ? [...created, ...Array.from({ length: schema.minItems - created.length }, () => null)] : created;
  const maximum = IsNumber(schema.maxItems) && minimum.length > schema.maxItems ? minimum.slice(0, schema.maxItems) : minimum;
  const casted = maximum.map((value4) => Visit8(schema.items, references, value4));
  if (schema.uniqueItems !== true)
    return casted;
  const unique = [...new Set(casted)];
  if (!Check(schema, references, unique))
    throw new ValueCastError(schema, "Array cast produced invalid data due to uniqueItems constraint");
  return unique;
};
var FromConstructor5 = function(schema, references, value3) {
  if (Check(schema, references, value3))
    return Create2(schema, references);
  const required = new Set(schema.returns.required || []);
  const result = function() {
  };
  for (const [key, property] of Object.entries(schema.returns.properties)) {
    if (!required.has(key) && value3.prototype[key] === undefined)
      continue;
    result.prototype[key] = Visit8(property, references, value3.prototype[key]);
  }
  return result;
};
var FromIntersect7 = function(schema, references, value3) {
  const created = Create2(schema, references);
  const mapped9 = IsStandardObject(created) && IsStandardObject(value3) ? { ...created, ...value3 } : value3;
  return Check(schema, references, mapped9) ? mapped9 : Create2(schema, references);
};
var FromNever5 = function(schema, references, value3) {
  throw new ValueCastError(schema, "Never types cannot be cast");
};
var FromObject5 = function(schema, references, value3) {
  if (Check(schema, references, value3))
    return value3;
  if (value3 === null || typeof value3 !== "object")
    return Create2(schema, references);
  const required = new Set(schema.required || []);
  const result = {};
  for (const [key, property] of Object.entries(schema.properties)) {
    if (!required.has(key) && value3[key] === undefined)
      continue;
    result[key] = Visit8(property, references, value3[key]);
  }
  if (typeof schema.additionalProperties === "object") {
    const propertyNames = Object.getOwnPropertyNames(schema.properties);
    for (const propertyName of Object.getOwnPropertyNames(value3)) {
      if (propertyNames.includes(propertyName))
        continue;
      result[propertyName] = Visit8(schema.additionalProperties, references, value3[propertyName]);
    }
  }
  return result;
};
var FromRecord5 = function(schema, references, value3) {
  if (Check(schema, references, value3))
    return Clone2(value3);
  if (value3 === null || typeof value3 !== "object" || Array.isArray(value3) || value3 instanceof Date)
    return Create2(schema, references);
  const subschemaPropertyName = Object.getOwnPropertyNames(schema.patternProperties)[0];
  const subschema = schema.patternProperties[subschemaPropertyName];
  const result = {};
  for (const [propKey, propValue] of Object.entries(value3)) {
    result[propKey] = Visit8(subschema, references, propValue);
  }
  return result;
};
var FromRef4 = function(schema, references, value3) {
  return Visit8(Deref(schema, references), references, value3);
};
var FromThis4 = function(schema, references, value3) {
  return Visit8(Deref(schema, references), references, value3);
};
var FromTuple7 = function(schema, references, value3) {
  if (Check(schema, references, value3))
    return Clone2(value3);
  if (!IsArray(value3))
    return Create2(schema, references);
  if (schema.items === undefined)
    return [];
  return schema.items.map((schema2, index) => Visit8(schema2, references, value3[index]));
};
var FromUnion9 = function(schema, references, value3) {
  return Check(schema, references, value3) ? Clone2(value3) : CastUnion(schema, references, value3);
};
var Visit8 = function(schema, references, value3) {
  const references_ = IsString(schema.$id) ? [...references, schema] : references;
  const schema_ = schema;
  switch (schema[Kind]) {
    case "Array":
      return FromArray7(schema_, references_, value3);
    case "Constructor":
      return FromConstructor5(schema_, references_, value3);
    case "Intersect":
      return FromIntersect7(schema_, references_, value3);
    case "Never":
      return FromNever5(schema_, references_, value3);
    case "Object":
      return FromObject5(schema_, references_, value3);
    case "Record":
      return FromRecord5(schema_, references_, value3);
    case "Ref":
      return FromRef4(schema_, references_, value3);
    case "This":
      return FromThis4(schema_, references_, value3);
    case "Tuple":
      return FromTuple7(schema_, references_, value3);
    case "Union":
      return FromUnion9(schema_, references_, value3);
    case "Date":
    case "Symbol":
    case "Uint8Array":
      return DefaultClone(schema, references, value3);
    default:
      return Default(schema_, references_, value3);
  }
};
function Cast(...args) {
  return args.length === 3 ? Visit8(args[0], args[1], args[2]) : Visit8(args[0], [], args[1]);
}

class ValueCastError extends TypeBoxError {
  schema;
  constructor(schema, message) {
    super(message);
    this.schema = schema;
  }
}
// node_modules/@sinclair/typebox/build/esm/value/clean/clean.mjs
var IsCheckable = function(schema) {
  return IsSchema2(schema) && schema[Kind] !== "Unsafe";
};
var FromArray8 = function(schema, references, value3) {
  if (!IsArray(value3))
    return value3;
  return value3.map((value4) => Visit9(schema.items, references, value4));
};
var FromIntersect8 = function(schema, references, value3) {
  const unevaluatedProperties = schema.unevaluatedProperties;
  const intersections = schema.allOf.map((schema2) => Visit9(schema2, references, Clone2(value3)));
  const composite = intersections.reduce((acc, value4) => IsObject(value4) ? { ...acc, ...value4 } : value4, {});
  if (!IsObject(value3) || !IsObject(composite) || !IsSchema2(unevaluatedProperties))
    return composite;
  const knownkeys = KeyOfPropertyKeys(schema);
  for (const key of Object.getOwnPropertyNames(value3)) {
    if (knownkeys.includes(key))
      continue;
    if (Check(unevaluatedProperties, references, value3[key])) {
      composite[key] = Visit9(unevaluatedProperties, references, value3[key]);
    }
  }
  return composite;
};
var FromObject6 = function(schema, references, value3) {
  if (!IsObject(value3) || IsArray(value3))
    return value3;
  const additionalProperties = schema.additionalProperties;
  for (const key of Object.getOwnPropertyNames(value3)) {
    if (key in schema.properties) {
      value3[key] = Visit9(schema.properties[key], references, value3[key]);
      continue;
    }
    if (IsSchema2(additionalProperties) && Check(additionalProperties, references, value3[key])) {
      value3[key] = Visit9(additionalProperties, references, value3[key]);
      continue;
    }
    delete value3[key];
  }
  return value3;
};
var FromRecord6 = function(schema, references, value3) {
  if (!IsObject(value3))
    return value3;
  const additionalProperties = schema.additionalProperties;
  const propertyKeys = Object.getOwnPropertyNames(value3);
  const [propertyKey, propertySchema] = Object.entries(schema.patternProperties)[0];
  const propertyKeyTest = new RegExp(propertyKey);
  for (const key of propertyKeys) {
    if (propertyKeyTest.test(key)) {
      value3[key] = Visit9(propertySchema, references, value3[key]);
      continue;
    }
    if (IsSchema2(additionalProperties) && Check(additionalProperties, references, value3[key])) {
      value3[key] = Visit9(additionalProperties, references, value3[key]);
      continue;
    }
    delete value3[key];
  }
  return value3;
};
var FromRef5 = function(schema, references, value3) {
  return Visit9(Deref(schema, references), references, value3);
};
var FromThis5 = function(schema, references, value3) {
  return Visit9(Deref(schema, references), references, value3);
};
var FromTuple8 = function(schema, references, value3) {
  if (!IsArray(value3))
    return value3;
  if (IsUndefined(schema.items))
    return [];
  const length = Math.min(value3.length, schema.items.length);
  for (let i = 0;i < length; i++) {
    value3[i] = Visit9(schema.items[i], references, value3[i]);
  }
  return value3.length > length ? value3.slice(0, length) : value3;
};
var FromUnion10 = function(schema, references, value3) {
  for (const inner of schema.anyOf) {
    if (IsCheckable(inner) && Check(inner, references, value3)) {
      return Visit9(inner, references, value3);
    }
  }
  return value3;
};
var Visit9 = function(schema, references, value3) {
  const references_ = IsString(schema.$id) ? [...references, schema] : references;
  const schema_ = schema;
  switch (schema_[Kind]) {
    case "Array":
      return FromArray8(schema_, references_, value3);
    case "Intersect":
      return FromIntersect8(schema_, references_, value3);
    case "Object":
      return FromObject6(schema_, references_, value3);
    case "Record":
      return FromRecord6(schema_, references_, value3);
    case "Ref":
      return FromRef5(schema_, references_, value3);
    case "This":
      return FromThis5(schema_, references_, value3);
    case "Tuple":
      return FromTuple8(schema_, references_, value3);
    case "Union":
      return FromUnion10(schema_, references_, value3);
    default:
      return value3;
  }
};
function Clean(...args) {
  return args.length === 3 ? Visit9(args[0], args[1], args[2]) : Visit9(args[0], [], args[1]);
}
// node_modules/@sinclair/typebox/build/esm/value/convert/convert.mjs
var IsStringNumeric = function(value3) {
  return IsString(value3) && !isNaN(value3) && !isNaN(parseFloat(value3));
};
var IsValueToString = function(value3) {
  return IsBigInt(value3) || IsBoolean(value3) || IsNumber(value3);
};
var IsValueTrue = function(value3) {
  return value3 === true || IsNumber(value3) && value3 === 1 || IsBigInt(value3) && value3 === BigInt("1") || IsString(value3) && (value3.toLowerCase() === "true" || value3 === "1");
};
var IsValueFalse = function(value3) {
  return value3 === false || IsNumber(value3) && (value3 === 0 || Object.is(value3, -0)) || IsBigInt(value3) && value3 === BigInt("0") || IsString(value3) && (value3.toLowerCase() === "false" || value3 === "0" || value3 === "-0");
};
var IsTimeStringWithTimeZone = function(value3) {
  return IsString(value3) && /^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(value3);
};
var IsTimeStringWithoutTimeZone = function(value3) {
  return IsString(value3) && /^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(value3);
};
var IsDateTimeStringWithTimeZone = function(value3) {
  return IsString(value3) && /^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(value3);
};
var IsDateTimeStringWithoutTimeZone = function(value3) {
  return IsString(value3) && /^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(value3);
};
var IsDateString = function(value3) {
  return IsString(value3) && /^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(value3);
};
var TryConvertLiteralString = function(value3, target) {
  const conversion = TryConvertString(value3);
  return conversion === target ? conversion : value3;
};
var TryConvertLiteralNumber = function(value3, target) {
  const conversion = TryConvertNumber(value3);
  return conversion === target ? conversion : value3;
};
var TryConvertLiteralBoolean = function(value3, target) {
  const conversion = TryConvertBoolean(value3);
  return conversion === target ? conversion : value3;
};
var TryConvertLiteral = function(schema, value3) {
  return IsString(schema.const) ? TryConvertLiteralString(value3, schema.const) : IsNumber(schema.const) ? TryConvertLiteralNumber(value3, schema.const) : IsBoolean(schema.const) ? TryConvertLiteralBoolean(value3, schema.const) : Clone2(value3);
};
var TryConvertBoolean = function(value3) {
  return IsValueTrue(value3) ? true : IsValueFalse(value3) ? false : value3;
};
var TryConvertBigInt = function(value3) {
  return IsStringNumeric(value3) ? BigInt(parseInt(value3)) : IsNumber(value3) ? BigInt(value3 | 0) : IsValueFalse(value3) ? BigInt(0) : IsValueTrue(value3) ? BigInt(1) : value3;
};
var TryConvertString = function(value3) {
  return IsValueToString(value3) ? value3.toString() : IsSymbol(value3) && value3.description !== undefined ? value3.description.toString() : value3;
};
var TryConvertNumber = function(value3) {
  return IsStringNumeric(value3) ? parseFloat(value3) : IsValueTrue(value3) ? 1 : IsValueFalse(value3) ? 0 : value3;
};
var TryConvertInteger = function(value3) {
  return IsStringNumeric(value3) ? parseInt(value3) : IsNumber(value3) ? value3 | 0 : IsValueTrue(value3) ? 1 : IsValueFalse(value3) ? 0 : value3;
};
var TryConvertNull = function(value3) {
  return IsString(value3) && value3.toLowerCase() === "null" ? null : value3;
};
var TryConvertUndefined = function(value3) {
  return IsString(value3) && value3 === "undefined" ? undefined : value3;
};
var TryConvertDate = function(value3) {
  return IsDate(value3) ? value3 : IsNumber(value3) ? new Date(value3) : IsValueTrue(value3) ? new Date(1) : IsValueFalse(value3) ? new Date(0) : IsStringNumeric(value3) ? new Date(parseInt(value3)) : IsTimeStringWithoutTimeZone(value3) ? new Date(`1970-01-01T${value3}.000Z`) : IsTimeStringWithTimeZone(value3) ? new Date(`1970-01-01T${value3}`) : IsDateTimeStringWithoutTimeZone(value3) ? new Date(`${value3}.000Z`) : IsDateTimeStringWithTimeZone(value3) ? new Date(value3) : IsDateString(value3) ? new Date(`${value3}T00:00:00.000Z`) : value3;
};
var Default2 = function(value3) {
  return value3;
};
var FromArray9 = function(schema, references, value3) {
  const elements = IsArray(value3) ? value3 : [value3];
  return elements.map((element) => Visit10(schema.items, references, element));
};
var FromBigInt5 = function(schema, references, value3) {
  return TryConvertBigInt(value3);
};
var FromBoolean5 = function(schema, references, value3) {
  return TryConvertBoolean(value3);
};
var FromDate5 = function(schema, references, value3) {
  return TryConvertDate(value3);
};
var FromInteger5 = function(schema, references, value3) {
  return TryConvertInteger(value3);
};
var FromIntersect9 = function(schema, references, value3) {
  return schema.allOf.reduce((value4, schema2) => Visit10(schema2, references, value4), value3);
};
var FromLiteral6 = function(schema, references, value3) {
  return TryConvertLiteral(schema, value3);
};
var FromNull5 = function(schema, references, value3) {
  return TryConvertNull(value3);
};
var FromNumber5 = function(schema, references, value3) {
  return TryConvertNumber(value3);
};
var FromObject7 = function(schema, references, value3) {
  const isConvertable = IsObject(value3);
  if (!isConvertable)
    return value3;
  const result = {};
  for (const key of Object.keys(value3)) {
    result[key] = HasPropertyKey(schema.properties, key) ? Visit10(schema.properties[key], references, value3[key]) : value3[key];
  }
  return result;
};
var FromRecord7 = function(schema, references, value3) {
  const propertyKey = Object.getOwnPropertyNames(schema.patternProperties)[0];
  const property = schema.patternProperties[propertyKey];
  const result = {};
  for (const [propKey, propValue] of Object.entries(value3)) {
    result[propKey] = Visit10(property, references, propValue);
  }
  return result;
};
var FromRef6 = function(schema, references, value3) {
  return Visit10(Deref(schema, references), references, value3);
};
var FromString5 = function(schema, references, value3) {
  return TryConvertString(value3);
};
var FromSymbol5 = function(schema, references, value3) {
  return IsString(value3) || IsNumber(value3) ? Symbol(value3) : value3;
};
var FromThis6 = function(schema, references, value3) {
  return Visit10(Deref(schema, references), references, value3);
};
var FromTuple9 = function(schema, references, value3) {
  const isConvertable = IsArray(value3) && !IsUndefined(schema.items);
  if (!isConvertable)
    return value3;
  return value3.map((value4, index) => {
    return index < schema.items.length ? Visit10(schema.items[index], references, value4) : value4;
  });
};
var FromUndefined5 = function(schema, references, value3) {
  return TryConvertUndefined(value3);
};
var FromUnion11 = function(schema, references, value3) {
  for (const subschema of schema.anyOf) {
    const converted = Visit10(subschema, references, value3);
    if (!Check(subschema, references, converted))
      continue;
    return converted;
  }
  return value3;
};
var Visit10 = function(schema, references, value3) {
  const references_ = IsString(schema.$id) ? [...references, schema] : references;
  const schema_ = schema;
  switch (schema[Kind]) {
    case "Array":
      return FromArray9(schema_, references_, value3);
    case "BigInt":
      return FromBigInt5(schema_, references_, value3);
    case "Boolean":
      return FromBoolean5(schema_, references_, value3);
    case "Date":
      return FromDate5(schema_, references_, value3);
    case "Integer":
      return FromInteger5(schema_, references_, value3);
    case "Intersect":
      return FromIntersect9(schema_, references_, value3);
    case "Literal":
      return FromLiteral6(schema_, references_, value3);
    case "Null":
      return FromNull5(schema_, references_, value3);
    case "Number":
      return FromNumber5(schema_, references_, value3);
    case "Object":
      return FromObject7(schema_, references_, value3);
    case "Record":
      return FromRecord7(schema_, references_, value3);
    case "Ref":
      return FromRef6(schema_, references_, value3);
    case "String":
      return FromString5(schema_, references_, value3);
    case "Symbol":
      return FromSymbol5(schema_, references_, value3);
    case "This":
      return FromThis6(schema_, references_, value3);
    case "Tuple":
      return FromTuple9(schema_, references_, value3);
    case "Undefined":
      return FromUndefined5(schema_, references_, value3);
    case "Union":
      return FromUnion11(schema_, references_, value3);
    default:
      return Default2(value3);
  }
};
function Convert(...args) {
  return args.length === 3 ? Visit10(args[0], args[1], args[2]) : Visit10(args[0], [], args[1]);
}
// node_modules/@sinclair/typebox/build/esm/value/default/default.mjs
var ValueOrDefault = function(schema, value3) {
  return value3 === undefined && "default" in schema ? Clone2(schema.default) : value3;
};
var IsCheckable2 = function(schema) {
  return IsSchema2(schema) && schema[Kind] !== "Unsafe";
};
var IsDefaultSchema = function(value3) {
  return IsSchema2(value3) && "default" in value3;
};
var FromArray10 = function(schema, references, value3) {
  const defaulted = ValueOrDefault(schema, value3);
  if (!IsArray(defaulted))
    return defaulted;
  for (let i = 0;i < defaulted.length; i++) {
    defaulted[i] = Visit11(schema.items, references, defaulted[i]);
  }
  return defaulted;
};
var FromIntersect10 = function(schema, references, value3) {
  const defaulted = ValueOrDefault(schema, value3);
  return schema.allOf.reduce((acc, schema2) => {
    const next = Visit11(schema2, references, defaulted);
    return IsObject(next) ? { ...acc, ...next } : next;
  }, {});
};
var FromObject8 = function(schema, references, value3) {
  const defaulted = ValueOrDefault(schema, value3);
  if (!IsObject(defaulted))
    return defaulted;
  const additionalPropertiesSchema = schema.additionalProperties;
  const knownPropertyKeys = Object.getOwnPropertyNames(schema.properties);
  for (const key of knownPropertyKeys) {
    if (!IsDefaultSchema(schema.properties[key]))
      continue;
    defaulted[key] = Visit11(schema.properties[key], references, defaulted[key]);
  }
  if (!IsDefaultSchema(additionalPropertiesSchema))
    return defaulted;
  for (const key of Object.getOwnPropertyNames(defaulted)) {
    if (knownPropertyKeys.includes(key))
      continue;
    defaulted[key] = Visit11(additionalPropertiesSchema, references, defaulted[key]);
  }
  return defaulted;
};
var FromRecord8 = function(schema, references, value3) {
  const defaulted = ValueOrDefault(schema, value3);
  if (!IsObject(defaulted))
    return defaulted;
  const additionalPropertiesSchema = schema.additionalProperties;
  const [propertyKeyPattern, propertySchema] = Object.entries(schema.patternProperties)[0];
  const knownPropertyKey = new RegExp(propertyKeyPattern);
  for (const key of Object.getOwnPropertyNames(defaulted)) {
    if (!(knownPropertyKey.test(key) && IsDefaultSchema(propertySchema)))
      continue;
    defaulted[key] = Visit11(propertySchema, references, defaulted[key]);
  }
  if (!IsDefaultSchema(additionalPropertiesSchema))
    return defaulted;
  for (const key of Object.getOwnPropertyNames(defaulted)) {
    if (knownPropertyKey.test(key))
      continue;
    defaulted[key] = Visit11(additionalPropertiesSchema, references, defaulted[key]);
  }
  return defaulted;
};
var FromRef7 = function(schema, references, value3) {
  return Visit11(Deref(schema, references), references, ValueOrDefault(schema, value3));
};
var FromThis7 = function(schema, references, value3) {
  return Visit11(Deref(schema, references), references, value3);
};
var FromTuple10 = function(schema, references, value3) {
  const defaulted = ValueOrDefault(schema, value3);
  if (!IsArray(defaulted) || IsUndefined(schema.items))
    return defaulted;
  const [items, max] = [schema.items, Math.max(schema.items.length, defaulted.length)];
  for (let i = 0;i < max; i++) {
    if (i < items.length)
      defaulted[i] = Visit11(items[i], references, defaulted[i]);
  }
  return defaulted;
};
var FromUnion12 = function(schema, references, value3) {
  const defaulted = ValueOrDefault(schema, value3);
  for (const inner of schema.anyOf) {
    const result = Visit11(inner, references, defaulted);
    if (IsCheckable2(inner) && Check(inner, result)) {
      return result;
    }
  }
  return defaulted;
};
var Visit11 = function(schema, references, value3) {
  const references_ = IsString(schema.$id) ? [...references, schema] : references;
  const schema_ = schema;
  switch (schema_[Kind]) {
    case "Array":
      return FromArray10(schema_, references_, value3);
    case "Intersect":
      return FromIntersect10(schema_, references_, value3);
    case "Object":
      return FromObject8(schema_, references_, value3);
    case "Record":
      return FromRecord8(schema_, references_, value3);
    case "Ref":
      return FromRef7(schema_, references_, value3);
    case "This":
      return FromThis7(schema_, references_, value3);
    case "Tuple":
      return FromTuple10(schema_, references_, value3);
    case "Union":
      return FromUnion12(schema_, references_, value3);
    default:
      return ValueOrDefault(schema_, value3);
  }
};
function Default3(...args) {
  return args.length === 3 ? Visit11(args[0], args[1], args[2]) : Visit11(args[0], [], args[1]);
}
// node_modules/@sinclair/typebox/build/esm/value/pointer/pointer.mjs
var exports_pointer = {};
__export(exports_pointer, {
  ValuePointerRootSetError: () => {
    {
      return ValuePointerRootSetError;
    }
  },
  ValuePointerRootDeleteError: () => {
    {
      return ValuePointerRootDeleteError;
    }
  },
  Set: () => {
    {
      return Set4;
    }
  },
  Has: () => {
    {
      return Has3;
    }
  },
  Get: () => {
    {
      return Get3;
    }
  },
  Format: () => {
    {
      return Format;
    }
  },
  Delete: () => {
    {
      return Delete3;
    }
  }
});
var Escape2 = function(component) {
  return component.indexOf("~") === -1 ? component : component.replace(/~1/g, "/").replace(/~0/g, "~");
};
function* Format(pointer) {
  if (pointer === "")
    return;
  let [start, end] = [0, 0];
  for (let i = 0;i < pointer.length; i++) {
    const char = pointer.charAt(i);
    if (char === "/") {
      if (i === 0) {
        start = i + 1;
      } else {
        end = i;
        yield Escape2(pointer.slice(start, end));
        start = i + 1;
      }
    } else {
      end = i;
    }
  }
  yield Escape2(pointer.slice(start));
}
function Set4(value3, pointer, update) {
  if (pointer === "")
    throw new ValuePointerRootSetError(value3, pointer, update);
  let [owner, next, key] = [null, value3, ""];
  for (const component of Format(pointer)) {
    if (next[component] === undefined)
      next[component] = {};
    owner = next;
    next = next[component];
    key = component;
  }
  owner[key] = update;
}
function Delete3(value3, pointer) {
  if (pointer === "")
    throw new ValuePointerRootDeleteError(value3, pointer);
  let [owner, next, key] = [null, value3, ""];
  for (const component of Format(pointer)) {
    if (next[component] === undefined || next[component] === null)
      return;
    owner = next;
    next = next[component];
    key = component;
  }
  if (Array.isArray(owner)) {
    const index = parseInt(key);
    owner.splice(index, 1);
  } else {
    delete owner[key];
  }
}
function Has3(value3, pointer) {
  if (pointer === "")
    return true;
  let [owner, next, key] = [null, value3, ""];
  for (const component of Format(pointer)) {
    if (next[component] === undefined)
      return false;
    owner = next;
    next = next[component];
    key = component;
  }
  return Object.getOwnPropertyNames(owner).includes(key);
}
function Get3(value3, pointer) {
  if (pointer === "")
    return value3;
  let current = value3;
  for (const component of Format(pointer)) {
    if (current[component] === undefined)
      return;
    current = current[component];
  }
  return current;
}

class ValuePointerRootSetError extends TypeBoxError {
  value;
  path;
  update;
  constructor(value3, path, update) {
    super("Cannot set root value");
    this.value = value3;
    this.path = path;
    this.update = update;
  }
}

class ValuePointerRootDeleteError extends TypeBoxError {
  value;
  path;
  constructor(value3, path) {
    super("Cannot delete root value");
    this.value = value3;
    this.path = path;
  }
}
// node_modules/@sinclair/typebox/build/esm/value/delta/delta.mjs
var CreateUpdate = function(path, value3) {
  return { type: "update", path, value: value3 };
};
var CreateInsert = function(path, value3) {
  return { type: "insert", path, value: value3 };
};
var CreateDelete = function(path) {
  return { type: "delete", path };
};
function* ObjectType4(path, current, next) {
  if (!IsStandardObject(next))
    return yield CreateUpdate(path, next);
  const currentKeys = [...globalThis.Object.keys(current), ...globalThis.Object.getOwnPropertySymbols(current)];
  const nextKeys = [...globalThis.Object.keys(next), ...globalThis.Object.getOwnPropertySymbols(next)];
  for (const key of currentKeys) {
    if (IsSymbol(key))
      throw new ValueDeltaSymbolError(key);
    if (IsUndefined(next[key]) && nextKeys.includes(key))
      yield CreateUpdate(`${path}/${globalThis.String(key)}`, undefined);
  }
  for (const key of nextKeys) {
    if (IsUndefined(current[key]) || IsUndefined(next[key]))
      continue;
    if (IsSymbol(key))
      throw new ValueDeltaSymbolError(key);
    yield* Visit12(`${path}/${globalThis.String(key)}`, current[key], next[key]);
  }
  for (const key of nextKeys) {
    if (IsSymbol(key))
      throw new ValueDeltaSymbolError(key);
    if (IsUndefined(current[key]))
      yield CreateInsert(`${path}/${globalThis.String(key)}`, next[key]);
  }
  for (const key of currentKeys.reverse()) {
    if (IsSymbol(key))
      throw new ValueDeltaSymbolError(key);
    if (IsUndefined(next[key]) && !nextKeys.includes(key))
      yield CreateDelete(`${path}/${globalThis.String(key)}`);
  }
}
function* ArrayType4(path, current, next) {
  if (!IsArray(next))
    return yield CreateUpdate(path, next);
  for (let i = 0;i < Math.min(current.length, next.length); i++) {
    yield* Visit12(`${path}/${i}`, current[i], next[i]);
  }
  for (let i = 0;i < next.length; i++) {
    if (i < current.length)
      continue;
    yield CreateInsert(`${path}/${i}`, next[i]);
  }
  for (let i = current.length - 1;i >= 0; i--) {
    if (i < next.length)
      continue;
    yield CreateDelete(`${path}/${i}`);
  }
}
function* TypedArrayType2(path, current, next) {
  if (!IsTypedArray(next) || current.length !== next.length || globalThis.Object.getPrototypeOf(current).constructor.name !== globalThis.Object.getPrototypeOf(next).constructor.name)
    return yield CreateUpdate(path, next);
  for (let i = 0;i < Math.min(current.length, next.length); i++) {
    yield* Visit12(`${path}/${i}`, current[i], next[i]);
  }
}
function* ValueType2(path, current, next) {
  if (current === next)
    return;
  yield CreateUpdate(path, next);
}
function* Visit12(path, current, next) {
  if (IsStandardObject(current))
    return yield* ObjectType4(path, current, next);
  if (IsArray(current))
    return yield* ArrayType4(path, current, next);
  if (IsTypedArray(current))
    return yield* TypedArrayType2(path, current, next);
  if (IsValueType(current))
    return yield* ValueType2(path, current, next);
  throw new ValueDeltaError(current, "Unable to create diff edits for unknown value");
}
function Diff(current, next) {
  return [...Visit12("", current, next)];
}
var IsRootUpdate = function(edits) {
  return edits.length > 0 && edits[0].path === "" && edits[0].type === "update";
};
var IsIdentity = function(edits) {
  return edits.length === 0;
};
function Patch(current, edits) {
  if (IsRootUpdate(edits)) {
    return Clone2(edits[0].value);
  }
  if (IsIdentity(edits)) {
    return Clone2(current);
  }
  const clone8 = Clone2(current);
  for (const edit of edits) {
    switch (edit.type) {
      case "insert": {
        exports_pointer.Set(clone8, edit.path, edit.value);
        break;
      }
      case "update": {
        exports_pointer.Set(clone8, edit.path, edit.value);
        break;
      }
      case "delete": {
        exports_pointer.Delete(clone8, edit.path);
        break;
      }
    }
  }
  return clone8;
}
var Insert = Object2({
  type: Literal("insert"),
  path: String2(),
  value: Unknown()
});
var Update = Object2({
  type: Literal("update"),
  path: String2(),
  value: Unknown()
});
var Delete4 = Object2({
  type: Literal("delete"),
  path: String2()
});
var Edit = Union([Insert, Update, Delete4]);

class ValueDeltaError extends TypeBoxError {
  value;
  constructor(value3, message) {
    super(message);
    this.value = value3;
  }
}

class ValueDeltaSymbolError extends ValueDeltaError {
  value;
  constructor(value3) {
    super(value3, "Cannot diff objects with symbol keys");
    this.value = value3;
  }
}
// node_modules/@sinclair/typebox/build/esm/value/equal/equal.mjs
var ObjectType5 = function(left, right) {
  if (!IsStandardObject(right))
    return false;
  const leftKeys = [...Object.keys(left), ...Object.getOwnPropertySymbols(left)];
  const rightKeys = [...Object.keys(right), ...Object.getOwnPropertySymbols(right)];
  if (leftKeys.length !== rightKeys.length)
    return false;
  return leftKeys.every((key) => Equal(left[key], right[key]));
};
var DateType4 = function(left, right) {
  return IsDate(right) && left.getTime() === right.getTime();
};
var ArrayType5 = function(left, right) {
  if (!IsArray(right) || left.length !== right.length)
    return false;
  return left.every((value3, index) => Equal(value3, right[index]));
};
var TypedArrayType3 = function(left, right) {
  if (!IsTypedArray(right) || left.length !== right.length || Object.getPrototypeOf(left).constructor.name !== Object.getPrototypeOf(right).constructor.name)
    return false;
  return left.every((value3, index) => Equal(value3, right[index]));
};
var ValueType3 = function(left, right) {
  return left === right;
};
function Equal(left, right) {
  if (IsStandardObject(left))
    return ObjectType5(left, right);
  if (IsDate(left))
    return DateType4(left, right);
  if (IsTypedArray(left))
    return TypedArrayType3(left, right);
  if (IsArray(left))
    return ArrayType5(left, right);
  if (IsValueType(left))
    return ValueType3(left, right);
  throw new Error("ValueEquals: Unable to compare value");
}
// node_modules/@sinclair/typebox/build/esm/value/mutate/mutate.mjs
var ObjectType6 = function(root, path, current, next) {
  if (!IsStandardObject(current)) {
    exports_pointer.Set(root, path, Clone2(next));
  } else {
    const currentKeys = Object.getOwnPropertyNames(current);
    const nextKeys = Object.getOwnPropertyNames(next);
    for (const currentKey of currentKeys) {
      if (!nextKeys.includes(currentKey)) {
        delete current[currentKey];
      }
    }
    for (const nextKey of nextKeys) {
      if (!currentKeys.includes(nextKey)) {
        current[nextKey] = null;
      }
    }
    for (const nextKey of nextKeys) {
      Visit13(root, `${path}/${nextKey}`, current[nextKey], next[nextKey]);
    }
  }
};
var ArrayType6 = function(root, path, current, next) {
  if (!IsArray(current)) {
    exports_pointer.Set(root, path, Clone2(next));
  } else {
    for (let index = 0;index < next.length; index++) {
      Visit13(root, `${path}/${index}`, current[index], next[index]);
    }
    current.splice(next.length);
  }
};
var TypedArrayType4 = function(root, path, current, next) {
  if (IsTypedArray(current) && current.length === next.length) {
    for (let i = 0;i < current.length; i++) {
      current[i] = next[i];
    }
  } else {
    exports_pointer.Set(root, path, Clone2(next));
  }
};
var ValueType4 = function(root, path, current, next) {
  if (current === next)
    return;
  exports_pointer.Set(root, path, next);
};
var Visit13 = function(root, path, current, next) {
  if (IsArray(next))
    return ArrayType6(root, path, current, next);
  if (IsTypedArray(next))
    return TypedArrayType4(root, path, current, next);
  if (IsStandardObject(next))
    return ObjectType6(root, path, current, next);
  if (IsValueType(next))
    return ValueType4(root, path, current, next);
};
var IsNonMutableValue = function(value3) {
  return IsTypedArray(value3) || IsValueType(value3);
};
var IsMismatchedValue = function(current, next) {
  return IsStandardObject(current) && IsArray(next) || IsArray(current) && IsStandardObject(next);
};
function Mutate(current, next) {
  if (IsNonMutableValue(current) || IsNonMutableValue(next))
    throw new ValueMutateError("Only object and array types can be mutated at the root level");
  if (IsMismatchedValue(current, next))
    throw new ValueMutateError("Cannot assign due type mismatch of assignable values");
  Visit13(current, "", current, next);
}

class ValueMutateError extends TypeBoxError {
  constructor(message) {
    super(message);
  }
}
// node_modules/@sinclair/typebox/build/esm/value/transform/decode.mjs
var Default4 = function(schema, path, value3) {
  try {
    return IsTransform2(schema) ? schema[TransformKind].Decode(value3) : value3;
  } catch (error19) {
    throw new TransformDecodeError(schema, path, value3, error19);
  }
};
var FromArray11 = function(schema, references, path, value3) {
  return IsArray(value3) ? Default4(schema, path, value3.map((value4, index) => Visit14(schema.items, references, `${path}/${index}`, value4))) : Default4(schema, path, value3);
};
var FromIntersect11 = function(schema, references, path, value3) {
  if (!IsStandardObject(value3) || IsValueType(value3))
    return Default4(schema, path, value3);
  const knownEntries = KeyOfPropertyEntries(schema);
  const knownKeys = knownEntries.map((entry) => entry[0]);
  const knownProperties = { ...value3 };
  for (const [knownKey, knownSchema] of knownEntries)
    if (knownKey in knownProperties) {
      knownProperties[knownKey] = Visit14(knownSchema, references, `${path}/${knownKey}`, knownProperties[knownKey]);
    }
  if (!IsTransform2(schema.unevaluatedProperties)) {
    return Default4(schema, path, knownProperties);
  }
  const unknownKeys = Object.getOwnPropertyNames(knownProperties);
  const unevaluatedProperties = schema.unevaluatedProperties;
  const unknownProperties = { ...knownProperties };
  for (const key of unknownKeys)
    if (!knownKeys.includes(key)) {
      unknownProperties[key] = Default4(unevaluatedProperties, `${path}/${key}`, unknownProperties[key]);
    }
  return Default4(schema, path, unknownProperties);
};
var FromNot5 = function(schema, references, path, value3) {
  return Default4(schema, path, Visit14(schema.not, references, path, value3));
};
var FromObject9 = function(schema, references, path, value3) {
  if (!IsStandardObject(value3))
    return Default4(schema, path, value3);
  const knownKeys = KeyOfPropertyKeys(schema);
  const knownProperties = { ...value3 };
  for (const key of knownKeys)
    if (key in knownProperties) {
      knownProperties[key] = Visit14(schema.properties[key], references, `${path}/${key}`, knownProperties[key]);
    }
  if (!IsSchema2(schema.additionalProperties)) {
    return Default4(schema, path, knownProperties);
  }
  const unknownKeys = Object.getOwnPropertyNames(knownProperties);
  const additionalProperties = schema.additionalProperties;
  const unknownProperties = { ...knownProperties };
  for (const key of unknownKeys)
    if (!knownKeys.includes(key)) {
      unknownProperties[key] = Default4(additionalProperties, `${path}/${key}`, unknownProperties[key]);
    }
  return Default4(schema, path, unknownProperties);
};
var FromRecord9 = function(schema, references, path, value3) {
  if (!IsStandardObject(value3))
    return Default4(schema, path, value3);
  const pattern3 = Object.getOwnPropertyNames(schema.patternProperties)[0];
  const knownKeys = new RegExp(pattern3);
  const knownProperties = { ...value3 };
  for (const key of Object.getOwnPropertyNames(value3))
    if (knownKeys.test(key)) {
      knownProperties[key] = Visit14(schema.patternProperties[pattern3], references, `${path}/${key}`, knownProperties[key]);
    }
  if (!IsSchema2(schema.additionalProperties)) {
    return Default4(schema, path, knownProperties);
  }
  const unknownKeys = Object.getOwnPropertyNames(knownProperties);
  const additionalProperties = schema.additionalProperties;
  const unknownProperties = { ...knownProperties };
  for (const key of unknownKeys)
    if (!knownKeys.test(key)) {
      unknownProperties[key] = Default4(additionalProperties, `${path}/${key}`, unknownProperties[key]);
    }
  return Default4(schema, path, unknownProperties);
};
var FromRef8 = function(schema, references, path, value3) {
  const target = Deref(schema, references);
  return Default4(schema, path, Visit14(target, references, path, value3));
};
var FromThis8 = function(schema, references, path, value3) {
  const target = Deref(schema, references);
  return Default4(schema, path, Visit14(target, references, path, value3));
};
var FromTuple11 = function(schema, references, path, value3) {
  return IsArray(value3) && IsArray(schema.items) ? Default4(schema, path, schema.items.map((schema2, index) => Visit14(schema2, references, `${path}/${index}`, value3[index]))) : Default4(schema, path, value3);
};
var FromUnion13 = function(schema, references, path, value3) {
  for (const subschema of schema.anyOf) {
    if (!Check(subschema, references, value3))
      continue;
    const decoded = Visit14(subschema, references, path, value3);
    return Default4(schema, path, decoded);
  }
  return Default4(schema, path, value3);
};
var Visit14 = function(schema, references, path, value3) {
  const references_ = typeof schema.$id === "string" ? [...references, schema] : references;
  const schema_ = schema;
  switch (schema[Kind]) {
    case "Array":
      return FromArray11(schema_, references_, path, value3);
    case "Intersect":
      return FromIntersect11(schema_, references_, path, value3);
    case "Not":
      return FromNot5(schema_, references_, path, value3);
    case "Object":
      return FromObject9(schema_, references_, path, value3);
    case "Record":
      return FromRecord9(schema_, references_, path, value3);
    case "Ref":
      return FromRef8(schema_, references_, path, value3);
    case "Symbol":
      return Default4(schema_, path, value3);
    case "This":
      return FromThis8(schema_, references_, path, value3);
    case "Tuple":
      return FromTuple11(schema_, references_, path, value3);
    case "Union":
      return FromUnion13(schema_, references_, path, value3);
    default:
      return Default4(schema_, path, value3);
  }
};
function TransformDecode(schema, references, value3) {
  return Visit14(schema, references, "", value3);
}

class TransformDecodeCheckError extends TypeBoxError {
  schema;
  value;
  error;
  constructor(schema, value3, error19) {
    super(`Unable to decode value as it does not match the expected schema`);
    this.schema = schema;
    this.value = value3;
    this.error = error19;
  }
}

class TransformDecodeError extends TypeBoxError {
  schema;
  path;
  value;
  error;
  constructor(schema, path, value3, error19) {
    super(error19 instanceof Error ? error19.message : "Unknown error");
    this.schema = schema;
    this.path = path;
    this.value = value3;
    this.error = error19;
  }
}
// node_modules/@sinclair/typebox/build/esm/value/transform/encode.mjs
var Default5 = function(schema, path, value3) {
  try {
    return IsTransform2(schema) ? schema[TransformKind].Encode(value3) : value3;
  } catch (error20) {
    throw new TransformEncodeError(schema, path, value3, error20);
  }
};
var FromArray12 = function(schema, references, path, value3) {
  const defaulted = Default5(schema, path, value3);
  return IsArray(defaulted) ? defaulted.map((value4, index) => Visit15(schema.items, references, `${path}/${index}`, value4)) : defaulted;
};
var FromIntersect12 = function(schema, references, path, value3) {
  const defaulted = Default5(schema, path, value3);
  if (!IsStandardObject(value3) || IsValueType(value3))
    return defaulted;
  const knownEntries = KeyOfPropertyEntries(schema);
  const knownKeys = knownEntries.map((entry) => entry[0]);
  const knownProperties = { ...defaulted };
  for (const [knownKey, knownSchema] of knownEntries)
    if (knownKey in knownProperties) {
      knownProperties[knownKey] = Visit15(knownSchema, references, `${path}/${knownKey}`, knownProperties[knownKey]);
    }
  if (!IsTransform2(schema.unevaluatedProperties)) {
    return Default5(schema, path, knownProperties);
  }
  const unknownKeys = Object.getOwnPropertyNames(knownProperties);
  const unevaluatedProperties = schema.unevaluatedProperties;
  const properties = { ...knownProperties };
  for (const key of unknownKeys)
    if (!knownKeys.includes(key)) {
      properties[key] = Default5(unevaluatedProperties, `${path}/${key}`, properties[key]);
    }
  return properties;
};
var FromNot6 = function(schema, references, path, value3) {
  return Default5(schema.not, path, Default5(schema, path, value3));
};
var FromObject10 = function(schema, references, path, value3) {
  const defaulted = Default5(schema, path, value3);
  if (!IsStandardObject(defaulted))
    return defaulted;
  const knownKeys = KeyOfPropertyKeys(schema);
  const knownProperties = { ...defaulted };
  for (const key of knownKeys)
    if (key in knownProperties) {
      knownProperties[key] = Visit15(schema.properties[key], references, `${path}/${key}`, knownProperties[key]);
    }
  if (!IsSchema2(schema.additionalProperties)) {
    return knownProperties;
  }
  const unknownKeys = Object.getOwnPropertyNames(knownProperties);
  const additionalProperties = schema.additionalProperties;
  const properties = { ...knownProperties };
  for (const key of unknownKeys)
    if (!knownKeys.includes(key)) {
      properties[key] = Default5(additionalProperties, `${path}/${key}`, properties[key]);
    }
  return properties;
};
var FromRecord10 = function(schema, references, path, value3) {
  const defaulted = Default5(schema, path, value3);
  if (!IsStandardObject(value3))
    return defaulted;
  const pattern3 = Object.getOwnPropertyNames(schema.patternProperties)[0];
  const knownKeys = new RegExp(pattern3);
  const knownProperties = { ...defaulted };
  for (const key of Object.getOwnPropertyNames(value3))
    if (knownKeys.test(key)) {
      knownProperties[key] = Visit15(schema.patternProperties[pattern3], references, `${path}/${key}`, knownProperties[key]);
    }
  if (!IsSchema2(schema.additionalProperties)) {
    return Default5(schema, path, knownProperties);
  }
  const unknownKeys = Object.getOwnPropertyNames(knownProperties);
  const additionalProperties = schema.additionalProperties;
  const properties = { ...knownProperties };
  for (const key of unknownKeys)
    if (!knownKeys.test(key)) {
      properties[key] = Default5(additionalProperties, `${path}/${key}`, properties[key]);
    }
  return properties;
};
var FromRef9 = function(schema, references, path, value3) {
  const target = Deref(schema, references);
  const resolved = Visit15(target, references, path, value3);
  return Default5(schema, path, resolved);
};
var FromThis9 = function(schema, references, path, value3) {
  const target = Deref(schema, references);
  const resolved = Visit15(target, references, path, value3);
  return Default5(schema, path, resolved);
};
var FromTuple12 = function(schema, references, path, value3) {
  const value1 = Default5(schema, path, value3);
  return IsArray(schema.items) ? schema.items.map((schema2, index) => Visit15(schema2, references, `${path}/${index}`, value1[index])) : [];
};
var FromUnion14 = function(schema, references, path, value3) {
  for (const subschema of schema.anyOf) {
    if (!Check(subschema, references, value3))
      continue;
    const value1 = Visit15(subschema, references, path, value3);
    return Default5(schema, path, value1);
  }
  for (const subschema of schema.anyOf) {
    const value1 = Visit15(subschema, references, path, value3);
    if (!Check(schema, references, value1))
      continue;
    return Default5(schema, path, value1);
  }
  return Default5(schema, path, value3);
};
var Visit15 = function(schema, references, path, value3) {
  const references_ = typeof schema.$id === "string" ? [...references, schema] : references;
  const schema_ = schema;
  switch (schema[Kind]) {
    case "Array":
      return FromArray12(schema_, references_, path, value3);
    case "Intersect":
      return FromIntersect12(schema_, references_, path, value3);
    case "Not":
      return FromNot6(schema_, references_, path, value3);
    case "Object":
      return FromObject10(schema_, references_, path, value3);
    case "Record":
      return FromRecord10(schema_, references_, path, value3);
    case "Ref":
      return FromRef9(schema_, references_, path, value3);
    case "This":
      return FromThis9(schema_, references_, path, value3);
    case "Tuple":
      return FromTuple12(schema_, references_, path, value3);
    case "Union":
      return FromUnion14(schema_, references_, path, value3);
    default:
      return Default5(schema_, path, value3);
  }
};
function TransformEncode(schema, references, value3) {
  return Visit15(schema, references, "", value3);
}

class TransformEncodeCheckError extends TypeBoxError {
  schema;
  value;
  error;
  constructor(schema, value3, error20) {
    super(`The encoded value does not match the expected schema`);
    this.schema = schema;
    this.value = value3;
    this.error = error20;
  }
}

class TransformEncodeError extends TypeBoxError {
  schema;
  path;
  value;
  error;
  constructor(schema, path, value3, error20) {
    super(`${error20 instanceof Error ? error20.message : "Unknown error"}`);
    this.schema = schema;
    this.path = path;
    this.value = value3;
    this.error = error20;
  }
}
// node_modules/@sinclair/typebox/build/esm/value/transform/has.mjs
var FromArray13 = function(schema, references) {
  return IsTransform2(schema) || Visit16(schema.items, references);
};
var FromAsyncIterator5 = function(schema, references) {
  return IsTransform2(schema) || Visit16(schema.items, references);
};
var FromConstructor6 = function(schema, references) {
  return IsTransform2(schema) || Visit16(schema.returns, references) || schema.parameters.some((schema2) => Visit16(schema2, references));
};
var FromFunction5 = function(schema, references) {
  return IsTransform2(schema) || Visit16(schema.returns, references) || schema.parameters.some((schema2) => Visit16(schema2, references));
};
var FromIntersect13 = function(schema, references) {
  return IsTransform2(schema) || IsTransform2(schema.unevaluatedProperties) || schema.allOf.some((schema2) => Visit16(schema2, references));
};
var FromIterator5 = function(schema, references) {
  return IsTransform2(schema) || Visit16(schema.items, references);
};
var FromNot7 = function(schema, references) {
  return IsTransform2(schema) || Visit16(schema.not, references);
};
var FromObject11 = function(schema, references) {
  return IsTransform2(schema) || Object.values(schema.properties).some((schema2) => Visit16(schema2, references)) || IsSchema2(schema.additionalProperties) && Visit16(schema.additionalProperties, references);
};
var FromPromise5 = function(schema, references) {
  return IsTransform2(schema) || Visit16(schema.item, references);
};
var FromRecord11 = function(schema, references) {
  const pattern3 = Object.getOwnPropertyNames(schema.patternProperties)[0];
  const property = schema.patternProperties[pattern3];
  return IsTransform2(schema) || Visit16(property, references) || IsSchema2(schema.additionalProperties) && IsTransform2(schema.additionalProperties);
};
var FromRef10 = function(schema, references) {
  if (IsTransform2(schema))
    return true;
  return Visit16(Deref(schema, references), references);
};
var FromThis10 = function(schema, references) {
  if (IsTransform2(schema))
    return true;
  return Visit16(Deref(schema, references), references);
};
var FromTuple13 = function(schema, references) {
  return IsTransform2(schema) || !IsUndefined(schema.items) && schema.items.some((schema2) => Visit16(schema2, references));
};
var FromUnion15 = function(schema, references) {
  return IsTransform2(schema) || schema.anyOf.some((schema2) => Visit16(schema2, references));
};
var Visit16 = function(schema, references) {
  const references_ = IsString(schema.$id) ? [...references, schema] : references;
  const schema_ = schema;
  if (schema.$id && visited.has(schema.$id))
    return false;
  if (schema.$id)
    visited.add(schema.$id);
  switch (schema[Kind]) {
    case "Array":
      return FromArray13(schema_, references_);
    case "AsyncIterator":
      return FromAsyncIterator5(schema_, references_);
    case "Constructor":
      return FromConstructor6(schema_, references_);
    case "Function":
      return FromFunction5(schema_, references_);
    case "Intersect":
      return FromIntersect13(schema_, references_);
    case "Iterator":
      return FromIterator5(schema_, references_);
    case "Not":
      return FromNot7(schema_, references_);
    case "Object":
      return FromObject11(schema_, references_);
    case "Promise":
      return FromPromise5(schema_, references_);
    case "Record":
      return FromRecord11(schema_, references_);
    case "Ref":
      return FromRef10(schema_, references_);
    case "This":
      return FromThis10(schema_, references_);
    case "Tuple":
      return FromTuple13(schema_, references_);
    case "Union":
      return FromUnion15(schema_, references_);
    default:
      return IsTransform2(schema);
  }
};
function HasTransform(schema, references) {
  visited.clear();
  return Visit16(schema, references);
}
var visited = new Set;
// node_modules/@sinclair/typebox/build/esm/value/value/value.mjs
var exports_value2 = {};
__export(exports_value2, {
  Patch: () => {
    {
      return Patch2;
    }
  },
  Mutate: () => {
    {
      return Mutate2;
    }
  },
  Hash: () => {
    {
      return Hash2;
    }
  },
  Errors: () => {
    {
      return Errors2;
    }
  },
  Equal: () => {
    {
      return Equal2;
    }
  },
  Encode: () => {
    {
      return Encode;
    }
  },
  Diff: () => {
    {
      return Diff2;
    }
  },
  Default: () => {
    {
      return Default6;
    }
  },
  Decode: () => {
    {
      return Decode;
    }
  },
  Create: () => {
    {
      return Create3;
    }
  },
  Convert: () => {
    {
      return Convert2;
    }
  },
  Clone: () => {
    {
      return Clone3;
    }
  },
  Clean: () => {
    {
      return Clean2;
    }
  },
  Check: () => {
    {
      return Check2;
    }
  },
  Cast: () => {
    {
      return Cast2;
    }
  }
});
function Cast2(...args) {
  return Cast.apply(Cast, args);
}
function Create3(...args) {
  return Create2.apply(Create2, args);
}
function Check2(...args) {
  return Check.apply(Check, args);
}
function Clean2(...args) {
  return Clean.apply(Clean, args);
}
function Convert2(...args) {
  return Convert.apply(Convert, args);
}
function Clone3(value3) {
  return Clone2(value3);
}
function Decode(...args) {
  const [schema, references, value3] = args.length === 3 ? [args[0], args[1], args[2]] : [args[0], [], args[1]];
  if (!Check2(schema, references, value3))
    throw new TransformDecodeCheckError(schema, value3, Errors2(schema, references, value3).First());
  return HasTransform(schema, references) ? TransformDecode(schema, references, value3) : value3;
}
function Default6(...args) {
  return Default3.apply(Default3, args);
}
function Encode(...args) {
  const [schema, references, value3] = args.length === 3 ? [args[0], args[1], args[2]] : [args[0], [], args[1]];
  const encoded = HasTransform(schema, references) ? TransformEncode(schema, references, value3) : value3;
  if (!Check2(schema, references, encoded))
    throw new TransformEncodeCheckError(schema, encoded, Errors2(schema, references, encoded).First());
  return encoded;
}
function Errors2(...args) {
  return Errors.apply(Errors, args);
}
function Equal2(left, right) {
  return Equal(left, right);
}
function Diff2(current, next) {
  return Diff(current, next);
}
function Hash2(value3) {
  return Hash(value3);
}
function Patch2(current, edits) {
  return Patch(current, edits);
}
function Mutate2(current, next) {
  Mutate(current, next);
}
// node_modules/@sinclair/typebox/build/esm/type/awaited/awaited.mjs
var FromRest4 = function(T) {
  return T.map((L) => AwaitedResolve(L));
};
var FromIntersect14 = function(T) {
  return Intersect(FromRest4(T));
};
var FromUnion16 = function(T) {
  return Union(FromRest4(T));
};
var FromPromise6 = function(T) {
  return AwaitedResolve(T);
};
var AwaitedResolve = function(T) {
  return IsIntersect(T) ? FromIntersect14(T.allOf) : IsUnion(T) ? FromUnion16(T.anyOf) : IsPromise2(T) ? FromPromise6(T.item) : T;
};
function Awaited(T, options = {}) {
  return CloneType(AwaitedResolve(T), options);
}
// node_modules/@sinclair/typebox/build/esm/type/composite/composite.mjs
var CompositeKeys = function(T) {
  const Acc = [];
  for (const L of T)
    Acc.push(...KeyOfPropertyKeys(L));
  return SetDistinct(Acc);
};
var FilterNever = function(T) {
  return T.filter((L) => !IsNever(L));
};
var CompositeProperty = function(T, K) {
  const Acc = [];
  for (const L of T)
    Acc.push(...IndexFromPropertyKeys(L, [K]));
  return FilterNever(Acc);
};
var CompositeProperties = function(T, K) {
  const Acc = {};
  for (const L of K) {
    Acc[L] = IntersectEvaluated(CompositeProperty(T, L));
  }
  return Acc;
};
function Composite(T, options = {}) {
  const K = CompositeKeys(T);
  const P = CompositeProperties(T, K);
  const R = Object2(P, options);
  return R;
}
// node_modules/@sinclair/typebox/build/esm/type/date/date.mjs
function Date2(options = {}) {
  return {
    ...options,
    [Kind]: "Date",
    type: "Date"
  };
}
// node_modules/@sinclair/typebox/build/esm/type/null/null.mjs
function Null(options = {}) {
  return {
    ...options,
    [Kind]: "Null",
    type: "null"
  };
}
// node_modules/@sinclair/typebox/build/esm/type/symbol/symbol.mjs
function Symbol2(options) {
  return { ...options, [Kind]: "Symbol", type: "symbol" };
}
// node_modules/@sinclair/typebox/build/esm/type/undefined/undefined.mjs
function Undefined(options = {}) {
  return { ...options, [Kind]: "Undefined", type: "undefined" };
}
// node_modules/@sinclair/typebox/build/esm/type/uint8array/uint8array.mjs
function Uint8Array2(options = {}) {
  return { ...options, [Kind]: "Uint8Array", type: "Uint8Array" };
}
// node_modules/@sinclair/typebox/build/esm/type/const/const.mjs
var FromArray14 = function(T) {
  return T.map((L) => FromValue(L, false));
};
var FromProperties8 = function(value5) {
  const Acc = {};
  for (const K of globalThis.Object.getOwnPropertyNames(value5))
    Acc[K] = Readonly(FromValue(value5[K], false));
  return Acc;
};
var ConditionalReadonly = function(T, root) {
  return root === true ? T : Readonly(T);
};
var FromValue = function(value5, root) {
  return IsAsyncIterator2(value5) ? ConditionalReadonly(Any(), root) : IsIterator2(value5) ? ConditionalReadonly(Any(), root) : IsArray2(value5) ? Readonly(Tuple(FromArray14(value5))) : IsUint8Array2(value5) ? Uint8Array2() : IsDate2(value5) ? Date2() : IsObject2(value5) ? ConditionalReadonly(Object2(FromProperties8(value5)), root) : IsFunction2(value5) ? ConditionalReadonly(Function2([], Unknown()), root) : IsUndefined2(value5) ? Undefined() : IsNull2(value5) ? Null() : IsSymbol2(value5) ? Symbol2() : IsBigInt2(value5) ? BigInt2() : IsNumber2(value5) ? Literal(value5) : IsBoolean2(value5) ? Literal(value5) : IsString2(value5) ? Literal(value5) : Object2({});
};
function Const(T, options = {}) {
  return CloneType(FromValue(T, true), options);
}
// node_modules/@sinclair/typebox/build/esm/type/constructor-parameters/constructor-parameters.mjs
function ConstructorParameters(schema, options = {}) {
  return Tuple(CloneRest(schema.parameters), { ...options });
}
// node_modules/@sinclair/typebox/build/esm/type/deref/deref.mjs
var FromRest5 = function(schema, references) {
  return schema.map((schema2) => Deref2(schema2, references));
};
var FromProperties9 = function(properties, references) {
  const Acc = {};
  for (const K of globalThis.Object.getOwnPropertyNames(properties)) {
    Acc[K] = Deref2(properties[K], references);
  }
  return Acc;
};
var FromConstructor7 = function(schema, references) {
  schema.parameters = FromRest5(schema.parameters, references);
  schema.returns = Deref2(schema.returns, references);
  return schema;
};
var FromFunction6 = function(schema, references) {
  schema.parameters = FromRest5(schema.parameters, references);
  schema.returns = Deref2(schema.returns, references);
  return schema;
};
var FromIntersect15 = function(schema, references) {
  schema.allOf = FromRest5(schema.allOf, references);
  return schema;
};
var FromUnion17 = function(schema, references) {
  schema.anyOf = FromRest5(schema.anyOf, references);
  return schema;
};
var FromTuple14 = function(schema, references) {
  if (IsUndefined2(schema.items))
    return schema;
  schema.items = FromRest5(schema.items, references);
  return schema;
};
var FromArray15 = function(schema, references) {
  schema.items = Deref2(schema.items, references);
  return schema;
};
var FromObject12 = function(schema, references) {
  schema.properties = FromProperties9(schema.properties, references);
  return schema;
};
var FromPromise7 = function(schema, references) {
  schema.item = Deref2(schema.item, references);
  return schema;
};
var FromAsyncIterator6 = function(schema, references) {
  schema.items = Deref2(schema.items, references);
  return schema;
};
var FromIterator6 = function(schema, references) {
  schema.items = Deref2(schema.items, references);
  return schema;
};
var FromRef11 = function(schema, references) {
  const target = references.find((remote) => remote.$id === schema.$ref);
  if (target === undefined)
    throw Error(`Unable to dereference schema with \$id ${schema.$ref}`);
  const discard8 = Discard(target, ["$id"]);
  return Deref2(discard8, references);
};
var DerefResolve = function(schema, references) {
  return IsConstructor(schema) ? FromConstructor7(schema, references) : IsFunction3(schema) ? FromFunction6(schema, references) : IsIntersect(schema) ? FromIntersect15(schema, references) : IsUnion(schema) ? FromUnion17(schema, references) : IsTuple(schema) ? FromTuple14(schema, references) : IsArray3(schema) ? FromArray15(schema, references) : IsObject3(schema) ? FromObject12(schema, references) : IsPromise2(schema) ? FromPromise7(schema, references) : IsAsyncIterator3(schema) ? FromAsyncIterator6(schema, references) : IsIterator3(schema) ? FromIterator6(schema, references) : IsRef(schema) ? FromRef11(schema, references) : schema;
};
function Deref2(schema, references) {
  return DerefResolve(CloneType(schema), CloneRest(references));
}
// node_modules/@sinclair/typebox/build/esm/type/enum/enum.mjs
function Enum(item, options = {}) {
  if (IsUndefined2(item))
    throw new Error("Enum undefined or empty");
  const values1 = globalThis.Object.getOwnPropertyNames(item).filter((key) => isNaN(key)).map((key) => item[key]);
  const values2 = [...new Set(values1)];
  const anyOf = values2.map((value7) => Literal(value7));
  return Union(anyOf, { ...options, [Hint]: "Enum" });
}
// node_modules/@sinclair/typebox/build/esm/type/exclude/exclude-from-template-literal.mjs
function ExcludeFromTemplateLiteral(L, R) {
  return Exclude(TemplateLiteralToUnion(L), R);
}

// node_modules/@sinclair/typebox/build/esm/type/exclude/exclude.mjs
var ExcludeRest = function(L, R) {
  const excluded = L.filter((inner) => ExtendsCheck(inner, R) === ExtendsResult.False);
  return excluded.length === 1 ? excluded[0] : Union(excluded);
};
function Exclude(L, R, options = {}) {
  if (IsTemplateLiteral(L))
    return CloneType(ExcludeFromTemplateLiteral(L, R), options);
  if (IsMappedResult(L))
    return CloneType(ExcludeFromMappedResult(L, R), options);
  return CloneType(IsUnion(L) ? ExcludeRest(L.anyOf, R) : ExtendsCheck(L, R) !== ExtendsResult.False ? Never() : L, options);
}

// node_modules/@sinclair/typebox/build/esm/type/exclude/exclude-from-mapped-result.mjs
var FromProperties10 = function(P, U) {
  const Acc = {};
  for (const K2 of globalThis.Object.getOwnPropertyNames(P))
    Acc[K2] = Exclude(P[K2], U);
  return Acc;
};
var FromMappedResult7 = function(R, T) {
  return FromProperties10(R.properties, T);
};
function ExcludeFromMappedResult(R, T) {
  const P = FromMappedResult7(R, T);
  return MappedResult(P);
}
// node_modules/@sinclair/typebox/build/esm/type/extract/extract-from-template-literal.mjs
function ExtractFromTemplateLiteral(L, R) {
  return Extract(TemplateLiteralToUnion(L), R);
}

// node_modules/@sinclair/typebox/build/esm/type/extract/extract.mjs
var ExtractRest = function(L, R) {
  const extracted = L.filter((inner) => ExtendsCheck(inner, R) !== ExtendsResult.False);
  return extracted.length === 1 ? extracted[0] : Union(extracted);
};
function Extract(L, R, options = {}) {
  if (IsTemplateLiteral(L))
    return CloneType(ExtractFromTemplateLiteral(L, R), options);
  if (IsMappedResult(L))
    return CloneType(ExtractFromMappedResult(L, R), options);
  return CloneType(IsUnion(L) ? ExtractRest(L.anyOf, R) : ExtendsCheck(L, R) !== ExtendsResult.False ? L : Never(), options);
}

// node_modules/@sinclair/typebox/build/esm/type/extract/extract-from-mapped-result.mjs
var FromProperties11 = function(P, T) {
  const Acc = {};
  for (const K2 of globalThis.Object.getOwnPropertyNames(P))
    Acc[K2] = Extract(P[K2], T);
  return Acc;
};
var FromMappedResult8 = function(R, T) {
  return FromProperties11(R.properties, T);
};
function ExtractFromMappedResult(R, T) {
  const P = FromMappedResult8(R, T);
  return MappedResult(P);
}
// node_modules/@sinclair/typebox/build/esm/type/instance-type/instance-type.mjs
function InstanceType(schema, options = {}) {
  return CloneType(schema.returns, options);
}
// node_modules/@sinclair/typebox/build/esm/type/integer/integer.mjs
function Integer(options = {}) {
  return {
    ...options,
    [Kind]: "Integer",
    type: "integer"
  };
}
// node_modules/@sinclair/typebox/build/esm/type/intrinsic/intrinsic-from-mapped-key.mjs
var MappedIntrinsicPropertyKey = function(K, M, options) {
  return {
    [K]: Intrinsic(Literal(K), M, options)
  };
};
var MappedIntrinsicPropertyKeys = function(K, M, options) {
  return K.reduce((Acc, L) => {
    return { ...Acc, ...MappedIntrinsicPropertyKey(L, M, options) };
  }, {});
};
var MappedIntrinsicProperties = function(T, M, options) {
  return MappedIntrinsicPropertyKeys(T["keys"], M, options);
};
function IntrinsicFromMappedKey(T, M, options) {
  const P = MappedIntrinsicProperties(T, M, options);
  return MappedResult(P);
}

// node_modules/@sinclair/typebox/build/esm/type/intrinsic/intrinsic.mjs
var ApplyUncapitalize = function(value7) {
  const [first, rest] = [value7.slice(0, 1), value7.slice(1)];
  return [first.toLowerCase(), rest].join("");
};
var ApplyCapitalize = function(value7) {
  const [first, rest] = [value7.slice(0, 1), value7.slice(1)];
  return [first.toUpperCase(), rest].join("");
};
var ApplyUppercase = function(value7) {
  return value7.toUpperCase();
};
var ApplyLowercase = function(value7) {
  return value7.toLowerCase();
};
var FromTemplateLiteral6 = function(schema, mode, options) {
  const expression = TemplateLiteralParseExact(schema.pattern);
  const finite3 = IsTemplateLiteralExpressionFinite(expression);
  if (!finite3)
    return { ...schema, pattern: FromLiteralValue(schema.pattern, mode) };
  const strings = [...TemplateLiteralExpressionGenerate(expression)];
  const literals = strings.map((value7) => Literal(value7));
  const mapped12 = FromRest6(literals, mode);
  const union15 = Union(mapped12);
  return TemplateLiteral([union15], options);
};
var FromLiteralValue = function(value7, mode) {
  return typeof value7 === "string" ? mode === "Uncapitalize" ? ApplyUncapitalize(value7) : mode === "Capitalize" ? ApplyCapitalize(value7) : mode === "Uppercase" ? ApplyUppercase(value7) : mode === "Lowercase" ? ApplyLowercase(value7) : value7 : value7.toString();
};
var FromRest6 = function(T, M) {
  return T.map((L) => Intrinsic(L, M));
};
function Intrinsic(schema, mode, options = {}) {
  return IsMappedKey(schema) ? IntrinsicFromMappedKey(schema, mode, options) : IsTemplateLiteral(schema) ? FromTemplateLiteral6(schema, mode, schema) : IsUnion(schema) ? Union(FromRest6(schema.anyOf, mode), options) : IsLiteral(schema) ? Literal(FromLiteralValue(schema.const, mode), options) : schema;
}

// node_modules/@sinclair/typebox/build/esm/type/intrinsic/capitalize.mjs
function Capitalize(T, options = {}) {
  return Intrinsic(T, "Capitalize", options);
}
// node_modules/@sinclair/typebox/build/esm/type/intrinsic/lowercase.mjs
function Lowercase(T, options = {}) {
  return Intrinsic(T, "Lowercase", options);
}
// node_modules/@sinclair/typebox/build/esm/type/intrinsic/uncapitalize.mjs
function Uncapitalize(T, options = {}) {
  return Intrinsic(T, "Uncapitalize", options);
}
// node_modules/@sinclair/typebox/build/esm/type/intrinsic/uppercase.mjs
function Uppercase(T, options = {}) {
  return Intrinsic(T, "Uppercase", options);
}
// node_modules/@sinclair/typebox/build/esm/type/not/not.mjs
function Not2(schema, options) {
  return {
    ...options,
    [Kind]: "Not",
    not: CloneType(schema)
  };
}
// node_modules/@sinclair/typebox/build/esm/type/omit/omit-from-mapped-result.mjs
var FromProperties12 = function(P, K, options) {
  const Acc = {};
  for (const K2 of globalThis.Object.getOwnPropertyNames(P))
    Acc[K2] = Omit(P[K2], K, options);
  return Acc;
};
var FromMappedResult9 = function(R, K, options) {
  return FromProperties12(R.properties, K, options);
};
function OmitFromMappedResult(R, K, options) {
  const P = FromMappedResult9(R, K, options);
  return MappedResult(P);
}

// node_modules/@sinclair/typebox/build/esm/type/omit/omit.mjs
var FromIntersect16 = function(T, K) {
  return T.map((T2) => OmitResolve(T2, K));
};
var FromUnion18 = function(T, K) {
  return T.map((T2) => OmitResolve(T2, K));
};
var FromProperty2 = function(T, K) {
  const { [K]: _, ...R } = T;
  return R;
};
var FromProperties13 = function(T, K) {
  return K.reduce((T2, K2) => FromProperty2(T2, K2), T);
};
var OmitResolve = function(T, K) {
  return IsIntersect(T) ? Intersect(FromIntersect16(T.allOf, K)) : IsUnion(T) ? Union(FromUnion18(T.anyOf, K)) : IsObject3(T) ? Object2(FromProperties13(T.properties, K)) : Object2({});
};
function Omit(T, K, options = {}) {
  if (IsMappedKey(K))
    return OmitFromMappedKey(T, K, options);
  if (IsMappedResult(T))
    return OmitFromMappedResult(T, K, options);
  const I = IsSchema(K) ? IndexPropertyKeys(K) : K;
  const D = Discard(T, [TransformKind, "$id", "required"]);
  const R = CloneType(OmitResolve(T, I), options);
  return { ...D, ...R };
}

// node_modules/@sinclair/typebox/build/esm/type/omit/omit-from-mapped-key.mjs
var FromPropertyKey2 = function(T, K, options) {
  return {
    [K]: Omit(T, [K], options)
  };
};
var FromPropertyKeys2 = function(T, K, options) {
  return K.reduce((Acc, LK) => {
    return { ...Acc, ...FromPropertyKey2(T, LK, options) };
  }, {});
};
var FromMappedKey3 = function(T, K, options) {
  return FromPropertyKeys2(T, K.keys, options);
};
function OmitFromMappedKey(T, K, options) {
  const P = FromMappedKey3(T, K, options);
  return MappedResult(P);
}
// node_modules/@sinclair/typebox/build/esm/type/parameters/parameters.mjs
function Parameters(schema, options = {}) {
  return Tuple(CloneRest(schema.parameters), { ...options });
}
// node_modules/@sinclair/typebox/build/esm/type/partial/partial.mjs
var FromRest7 = function(T) {
  return T.map((L) => PartialResolve(L));
};
var FromProperties14 = function(T) {
  const Acc = {};
  for (const K of globalThis.Object.getOwnPropertyNames(T))
    Acc[K] = Optional(T[K]);
  return Acc;
};
var PartialResolve = function(T) {
  return IsIntersect(T) ? Intersect(FromRest7(T.allOf)) : IsUnion(T) ? Union(FromRest7(T.anyOf)) : IsObject3(T) ? Object2(FromProperties14(T.properties)) : Object2({});
};
function Partial(T, options = {}) {
  if (IsMappedResult(T))
    return PartialFromMappedResult(T, options);
  const D = Discard(T, [TransformKind, "$id", "required"]);
  const R = CloneType(PartialResolve(T), options);
  return { ...D, ...R };
}

// node_modules/@sinclair/typebox/build/esm/type/partial/partial-from-mapped-result.mjs
var FromProperties15 = function(K, options) {
  const Acc = {};
  for (const K2 of globalThis.Object.getOwnPropertyNames(K))
    Acc[K2] = Partial(K[K2], options);
  return Acc;
};
var FromMappedResult10 = function(R, options) {
  return FromProperties15(R.properties, options);
};
function PartialFromMappedResult(R, options) {
  const P = FromMappedResult10(R, options);
  return MappedResult(P);
}
// node_modules/@sinclair/typebox/build/esm/type/pick/pick-from-mapped-result.mjs
var FromProperties16 = function(P, K, options) {
  const Acc = {};
  for (const K2 of globalThis.Object.getOwnPropertyNames(P))
    Acc[K2] = Pick(P[K2], K, options);
  return Acc;
};
var FromMappedResult11 = function(R, K, options) {
  return FromProperties16(R.properties, K, options);
};
function PickFromMappedResult(R, K, options) {
  const P = FromMappedResult11(R, K, options);
  return MappedResult(P);
}

// node_modules/@sinclair/typebox/build/esm/type/pick/pick.mjs
var FromIntersect17 = function(T, K) {
  return T.map((T2) => PickResolve(T2, K));
};
var FromUnion19 = function(T, K) {
  return T.map((T2) => PickResolve(T2, K));
};
var FromProperties17 = function(T, K) {
  const Acc = {};
  for (const K2 of K)
    if (K2 in T)
      Acc[K2] = T[K2];
  return Acc;
};
var PickResolve = function(T, K) {
  return IsIntersect(T) ? Intersect(FromIntersect17(T.allOf, K)) : IsUnion(T) ? Union(FromUnion19(T.anyOf, K)) : IsObject3(T) ? Object2(FromProperties17(T.properties, K)) : Object2({});
};
function Pick(T, K, options = {}) {
  if (IsMappedKey(K))
    return PickFromMappedKey(T, K, options);
  if (IsMappedResult(T))
    return PickFromMappedResult(T, K, options);
  const I = IsSchema(K) ? IndexPropertyKeys(K) : K;
  const D = Discard(T, [TransformKind, "$id", "required"]);
  const R = CloneType(PickResolve(T, I), options);
  return { ...D, ...R };
}

// node_modules/@sinclair/typebox/build/esm/type/pick/pick-from-mapped-key.mjs
var FromPropertyKey3 = function(T, K, options) {
  return {
    [K]: Pick(T, [K], options)
  };
};
var FromPropertyKeys3 = function(T, K, options) {
  return K.reduce((Acc, LK) => {
    return { ...Acc, ...FromPropertyKey3(T, LK, options) };
  }, {});
};
var FromMappedKey4 = function(T, K, options) {
  return FromPropertyKeys3(T, K.keys, options);
};
function PickFromMappedKey(T, K, options) {
  const P = FromMappedKey4(T, K, options);
  return MappedResult(P);
}
// node_modules/@sinclair/typebox/build/esm/type/readonly-optional/readonly-optional.mjs
function ReadonlyOptional(schema) {
  return Readonly(Optional(schema));
}
// node_modules/@sinclair/typebox/build/esm/type/record/record.mjs
var RecordCreateFromPattern = function(pattern3, T, options) {
  return {
    ...options,
    [Kind]: "Record",
    type: "object",
    patternProperties: { [pattern3]: CloneType(T) }
  };
};
var RecordCreateFromKeys = function(K, T, options) {
  const Acc = {};
  for (const K2 of K)
    Acc[K2] = CloneType(T);
  return Object2(Acc, { ...options, [Hint]: "Record" });
};
var FromTemplateLiteralKey = function(K, T, options) {
  return IsTemplateLiteralFinite(K) ? RecordCreateFromKeys(IndexPropertyKeys(K), T, options) : RecordCreateFromPattern(K.pattern, T, options);
};
var FromUnionKey = function(K, T, options) {
  return RecordCreateFromKeys(IndexPropertyKeys(Union(K)), T, options);
};
var FromLiteralKey = function(K, T, options) {
  return RecordCreateFromKeys([K.toString()], T, options);
};
var FromRegExpKey = function(K, T, options) {
  return RecordCreateFromPattern(K.source, T, options);
};
var FromStringKey = function(K, T, options) {
  const pattern3 = IsUndefined2(K.pattern) ? PatternStringExact : K.pattern;
  return RecordCreateFromPattern(pattern3, T, options);
};
var FromIntegerKey = function(_, T, options) {
  return RecordCreateFromPattern(PatternNumberExact, T, options);
};
var FromNumberKey = function(_, T, options) {
  return RecordCreateFromPattern(PatternNumberExact, T, options);
};
function Record(K, T, options = {}) {
  return IsUnion(K) ? FromUnionKey(K.anyOf, T, options) : IsTemplateLiteral(K) ? FromTemplateLiteralKey(K, T, options) : IsLiteral(K) ? FromLiteralKey(K.const, T, options) : IsInteger2(K) ? FromIntegerKey(K, T, options) : IsNumber3(K) ? FromNumberKey(K, T, options) : IsRegExp2(K) ? FromRegExpKey(K, T, options) : IsString3(K) ? FromStringKey(K, T, options) : Never(options);
}
// node_modules/@sinclair/typebox/build/esm/type/recursive/recursive.mjs
function Recursive(callback, options = {}) {
  if (IsUndefined2(options.$id))
    options.$id = `T${Ordinal++}`;
  const thisType = callback({ [Kind]: "This", $ref: `${options.$id}` });
  thisType.$id = options.$id;
  return CloneType({ ...options, [Hint]: "Recursive", ...thisType });
}
var Ordinal = 0;
// node_modules/@sinclair/typebox/build/esm/type/ref/ref.mjs
function Ref(unresolved, options = {}) {
  if (IsString2(unresolved))
    return { ...options, [Kind]: "Ref", $ref: unresolved };
  if (IsUndefined2(unresolved.$id))
    throw new Error("Reference target type must specify an $id");
  return {
    ...options,
    [Kind]: "Ref",
    $ref: unresolved.$id
  };
}
// node_modules/@sinclair/typebox/build/esm/type/regexp/regexp.mjs
function RegExp2(unresolved, options = {}) {
  const expr = IsString2(unresolved) ? new globalThis.RegExp(unresolved) : unresolved;
  return { ...options, [Kind]: "RegExp", type: "RegExp", source: expr.source, flags: expr.flags };
}
// node_modules/@sinclair/typebox/build/esm/type/required/required.mjs
var FromRest8 = function(T) {
  return T.map((L) => RequiredResolve(L));
};
var FromProperties18 = function(T) {
  const Acc = {};
  for (const K of globalThis.Object.getOwnPropertyNames(T))
    Acc[K] = Discard(T[K], [OptionalKind]);
  return Acc;
};
var RequiredResolve = function(T) {
  return IsIntersect(T) ? Intersect(FromRest8(T.allOf)) : IsUnion(T) ? Union(FromRest8(T.anyOf)) : IsObject3(T) ? Object2(FromProperties18(T.properties)) : Object2({});
};
function Required(T, options = {}) {
  if (IsMappedResult(T)) {
    return RequiredFromMappedResult(T, options);
  } else {
    const D = Discard(T, [TransformKind, "$id", "required"]);
    const R = CloneType(RequiredResolve(T), options);
    return { ...D, ...R };
  }
}

// node_modules/@sinclair/typebox/build/esm/type/required/required-from-mapped-result.mjs
var FromProperties19 = function(P, options) {
  const Acc = {};
  for (const K2 of globalThis.Object.getOwnPropertyNames(P))
    Acc[K2] = Required(P[K2], options);
  return Acc;
};
var FromMappedResult12 = function(R, options) {
  return FromProperties19(R.properties, options);
};
function RequiredFromMappedResult(R, options) {
  const P = FromMappedResult12(R, options);
  return MappedResult(P);
}
// node_modules/@sinclair/typebox/build/esm/type/rest/rest.mjs
var RestResolve = function(T) {
  return IsIntersect(T) ? CloneRest(T.allOf) : IsUnion(T) ? CloneRest(T.anyOf) : IsTuple(T) ? CloneRest(T.items ?? []) : [];
};
function Rest(T) {
  return CloneRest(RestResolve(T));
}
// node_modules/@sinclair/typebox/build/esm/type/return-type/return-type.mjs
function ReturnType(schema, options = {}) {
  return CloneType(schema.returns, options);
}
// node_modules/@sinclair/typebox/build/esm/type/strict/strict.mjs
function Strict(schema2) {
  return JSON.parse(JSON.stringify(schema2));
}
// node_modules/@sinclair/typebox/build/esm/type/transform/transform.mjs
function Transform(schema2) {
  return new TransformDecodeBuilder(schema2);
}

class TransformDecodeBuilder {
  schema;
  constructor(schema2) {
    this.schema = schema2;
  }
  Decode(decode2) {
    return new TransformEncodeBuilder(this.schema, decode2);
  }
}

class TransformEncodeBuilder {
  schema;
  decode;
  constructor(schema2, decode2) {
    this.schema = schema2;
    this.decode = decode2;
  }
  EncodeTransform(encode2, schema2) {
    const Encode2 = (value11) => schema2[TransformKind].Encode(encode2(value11));
    const Decode2 = (value11) => this.decode(schema2[TransformKind].Decode(value11));
    const Codec = { Encode: Encode2, Decode: Decode2 };
    return { ...schema2, [TransformKind]: Codec };
  }
  EncodeSchema(encode2, schema2) {
    const Codec = { Decode: this.decode, Encode: encode2 };
    return { ...schema2, [TransformKind]: Codec };
  }
  Encode(encode2) {
    const schema2 = CloneType(this.schema);
    return IsTransform(schema2) ? this.EncodeTransform(encode2, schema2) : this.EncodeSchema(encode2, schema2);
  }
}
// node_modules/@sinclair/typebox/build/esm/type/void/void.mjs
function Void(options = {}) {
  return {
    ...options,
    [Kind]: "Void",
    type: "void"
  };
}
// node_modules/@sinclair/typebox/build/esm/type/type/type.mjs
var exports_type3 = {};
__export(exports_type3, {
  Void: () => {
    {
      return Void;
    }
  },
  Uppercase: () => {
    {
      return Uppercase;
    }
  },
  Unsafe: () => {
    {
      return Unsafe;
    }
  },
  Unknown: () => {
    {
      return Unknown;
    }
  },
  Union: () => {
    {
      return Union;
    }
  },
  Undefined: () => {
    {
      return Undefined;
    }
  },
  Uncapitalize: () => {
    {
      return Uncapitalize;
    }
  },
  Uint8Array: () => {
    {
      return Uint8Array2;
    }
  },
  Tuple: () => {
    {
      return Tuple;
    }
  },
  Transform: () => {
    {
      return Transform;
    }
  },
  TemplateLiteral: () => {
    {
      return TemplateLiteral;
    }
  },
  Symbol: () => {
    {
      return Symbol2;
    }
  },
  String: () => {
    {
      return String2;
    }
  },
  Strict: () => {
    {
      return Strict;
    }
  },
  ReturnType: () => {
    {
      return ReturnType;
    }
  },
  Rest: () => {
    {
      return Rest;
    }
  },
  Required: () => {
    {
      return Required;
    }
  },
  RegExp: () => {
    {
      return RegExp2;
    }
  },
  Ref: () => {
    {
      return Ref;
    }
  },
  Recursive: () => {
    {
      return Recursive;
    }
  },
  Record: () => {
    {
      return Record;
    }
  },
  ReadonlyOptional: () => {
    {
      return ReadonlyOptional;
    }
  },
  Readonly: () => {
    {
      return Readonly;
    }
  },
  Promise: () => {
    {
      return Promise2;
    }
  },
  Pick: () => {
    {
      return Pick;
    }
  },
  Partial: () => {
    {
      return Partial;
    }
  },
  Parameters: () => {
    {
      return Parameters;
    }
  },
  Optional: () => {
    {
      return Optional;
    }
  },
  Omit: () => {
    {
      return Omit;
    }
  },
  Object: () => {
    {
      return Object2;
    }
  },
  Number: () => {
    {
      return Number2;
    }
  },
  Null: () => {
    {
      return Null;
    }
  },
  Not: () => {
    {
      return Not2;
    }
  },
  Never: () => {
    {
      return Never;
    }
  },
  Mapped: () => {
    {
      return Mapped;
    }
  },
  Lowercase: () => {
    {
      return Lowercase;
    }
  },
  Literal: () => {
    {
      return Literal;
    }
  },
  KeyOf: () => {
    {
      return KeyOf;
    }
  },
  Iterator: () => {
    {
      return Iterator;
    }
  },
  Intersect: () => {
    {
      return Intersect;
    }
  },
  Integer: () => {
    {
      return Integer;
    }
  },
  InstanceType: () => {
    {
      return InstanceType;
    }
  },
  Index: () => {
    {
      return Index;
    }
  },
  Function: () => {
    {
      return Function2;
    }
  },
  Extract: () => {
    {
      return Extract;
    }
  },
  Extends: () => {
    {
      return Extends;
    }
  },
  Exclude: () => {
    {
      return Exclude;
    }
  },
  Enum: () => {
    {
      return Enum;
    }
  },
  Deref: () => {
    {
      return Deref2;
    }
  },
  Date: () => {
    {
      return Date2;
    }
  },
  ConstructorParameters: () => {
    {
      return ConstructorParameters;
    }
  },
  Constructor: () => {
    {
      return Constructor;
    }
  },
  Const: () => {
    {
      return Const;
    }
  },
  Composite: () => {
    {
      return Composite;
    }
  },
  Capitalize: () => {
    {
      return Capitalize;
    }
  },
  Boolean: () => {
    {
      return Boolean;
    }
  },
  BigInt: () => {
    {
      return BigInt2;
    }
  },
  Awaited: () => {
    {
      return Awaited;
    }
  },
  AsyncIterator: () => {
    {
      return AsyncIterator;
    }
  },
  Array: () => {
    {
      return Array2;
    }
  },
  Any: () => {
    {
      return Any;
    }
  }
});

// node_modules/@sinclair/typebox/build/esm/type/type/index.mjs
var Type = exports_type3;
// node_modules/@sinclair/typebox/build/esm/compiler/compiler.mjs
class TypeCheck {
  schema;
  references;
  checkFunc;
  code;
  hasTransform;
  constructor(schema3, references, checkFunc, code) {
    this.schema = schema3;
    this.references = references;
    this.checkFunc = checkFunc;
    this.code = code;
    this.hasTransform = HasTransform(schema3, references);
  }
  Code() {
    return this.code;
  }
  Errors(value11) {
    return Errors(this.schema, this.references, value11);
  }
  Check(value11) {
    return this.checkFunc(value11);
  }
  Decode(value11) {
    if (!this.checkFunc(value11))
      throw new TransformDecodeCheckError(this.schema, value11, this.Errors(value11).First());
    return this.hasTransform ? TransformDecode(this.schema, this.references, value11) : value11;
  }
  Encode(value11) {
    const encoded = this.hasTransform ? TransformEncode(this.schema, this.references, value11) : value11;
    if (!this.checkFunc(encoded))
      throw new TransformEncodeCheckError(this.schema, value11, this.Errors(value11).First());
    return encoded;
  }
}
var Character;
(function(Character2) {
  function DollarSign(code) {
    return code === 36;
  }
  Character2.DollarSign = DollarSign;
  function IsUnderscore(code) {
    return code === 95;
  }
  Character2.IsUnderscore = IsUnderscore;
  function IsAlpha(code) {
    return code >= 65 && code <= 90 || code >= 97 && code <= 122;
  }
  Character2.IsAlpha = IsAlpha;
  function IsNumeric(code) {
    return code >= 48 && code <= 57;
  }
  Character2.IsNumeric = IsNumeric;
})(Character || (Character = {}));
var MemberExpression;
(function(MemberExpression2) {
  function IsFirstCharacterNumeric(value11) {
    if (value11.length === 0)
      return false;
    return Character.IsNumeric(value11.charCodeAt(0));
  }
  function IsAccessor(value11) {
    if (IsFirstCharacterNumeric(value11))
      return false;
    for (let i = 0;i < value11.length; i++) {
      const code = value11.charCodeAt(i);
      const check11 = Character.IsAlpha(code) || Character.IsNumeric(code) || Character.DollarSign(code) || Character.IsUnderscore(code);
      if (!check11)
        return false;
    }
    return true;
  }
  function EscapeHyphen(key) {
    return key.replace(/'/g, "\\'");
  }
  function Encode2(object13, key) {
    return IsAccessor(key) ? `${object13}.${key}` : `${object13}['${EscapeHyphen(key)}']`;
  }
  MemberExpression2.Encode = Encode2;
})(MemberExpression || (MemberExpression = {}));
var Identifier;
(function(Identifier2) {
  function Encode2($id) {
    const buffer = [];
    for (let i = 0;i < $id.length; i++) {
      const code = $id.charCodeAt(i);
      if (Character.IsNumeric(code) || Character.IsAlpha(code)) {
        buffer.push($id.charAt(i));
      } else {
        buffer.push(`_${code}_`);
      }
    }
    return buffer.join("").replace(/__/g, "_");
  }
  Identifier2.Encode = Encode2;
})(Identifier || (Identifier = {}));
var LiteralString;
(function(LiteralString2) {
  function Escape3(content) {
    return content.replace(/'/g, "\\'");
  }
  LiteralString2.Escape = Escape3;
})(LiteralString || (LiteralString = {}));

class TypeCompilerUnknownTypeError extends TypeBoxError {
  schema;
  constructor(schema3) {
    super("Unknown type");
    this.schema = schema3;
  }
}

class TypeCompilerTypeGuardError extends TypeBoxError {
  schema;
  constructor(schema3) {
    super("Preflight validation check failed to guard for the given schema");
    this.schema = schema3;
  }
}
var Policy;
(function(Policy2) {
  function IsExactOptionalProperty(value11, key, expression) {
    return TypeSystemPolicy.ExactOptionalPropertyTypes ? `('${key}' in ${value11} ? ${expression} : true)` : `(${MemberExpression.Encode(value11, key)} !== undefined ? ${expression} : true)`;
  }
  Policy2.IsExactOptionalProperty = IsExactOptionalProperty;
  function IsObjectLike(value11) {
    return !TypeSystemPolicy.AllowArrayObject ? `(typeof ${value11} === 'object' && ${value11} !== null && !Array.isArray(${value11}))` : `(typeof ${value11} === 'object' && ${value11} !== null)`;
  }
  Policy2.IsObjectLike = IsObjectLike;
  function IsRecordLike(value11) {
    return !TypeSystemPolicy.AllowArrayObject ? `(typeof ${value11} === 'object' && ${value11} !== null && !Array.isArray(${value11}) && !(${value11} instanceof Date) && !(${value11} instanceof Uint8Array))` : `(typeof ${value11} === 'object' && ${value11} !== null && !(${value11} instanceof Date) && !(${value11} instanceof Uint8Array))`;
  }
  Policy2.IsRecordLike = IsRecordLike;
  function IsNumberLike(value11) {
    return TypeSystemPolicy.AllowNaN ? `typeof ${value11} === 'number'` : `Number.isFinite(${value11})`;
  }
  Policy2.IsNumberLike = IsNumberLike;
  function IsVoidLike(value11) {
    return TypeSystemPolicy.AllowNullVoid ? `(${value11} === undefined || ${value11} === null)` : `${value11} === undefined`;
  }
  Policy2.IsVoidLike = IsVoidLike;
})(Policy || (Policy = {}));
var TypeCompiler;
(function(TypeCompiler2) {
  function IsAnyOrUnknown2(schema3) {
    return schema3[Kind] === "Any" || schema3[Kind] === "Unknown";
  }
  function* FromAny5(schema3, references, value11) {
    yield "true";
  }
  function* FromArray16(schema3, references, value11) {
    yield `Array.isArray(${value11})`;
    const [parameter, accumulator] = [CreateParameter("value", "any"), CreateParameter("acc", "number")];
    if (IsNumber(schema3.maxItems))
      yield `${value11}.length <= ${schema3.maxItems}`;
    if (IsNumber(schema3.minItems))
      yield `${value11}.length >= ${schema3.minItems}`;
    const elementExpression = CreateExpression(schema3.items, references, "value");
    yield `${value11}.every((${parameter}) => ${elementExpression})`;
    if (IsSchema2(schema3.contains) || IsNumber(schema3.minContains) || IsNumber(schema3.maxContains)) {
      const containsSchema = IsSchema2(schema3.contains) ? schema3.contains : Never();
      const checkExpression = CreateExpression(containsSchema, references, "value");
      const checkMinContains = IsNumber(schema3.minContains) ? [`(count >= ${schema3.minContains})`] : [];
      const checkMaxContains = IsNumber(schema3.maxContains) ? [`(count <= ${schema3.maxContains})`] : [];
      const checkCount = `const count = value.reduce((${accumulator}, ${parameter}) => ${checkExpression} ? acc + 1 : acc, 0)`;
      const check11 = [`(count > 0)`, ...checkMinContains, ...checkMaxContains].join(" && ");
      yield `((${parameter}) => { ${checkCount}; return ${check11}})(${value11})`;
    }
    if (schema3.uniqueItems === true) {
      const check11 = `const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true`;
      const block = `const set = new Set(); for(const element of value) { ${check11} }`;
      yield `((${parameter}) => { ${block} )(${value11})`;
    }
  }
  function* FromAsyncIterator7(schema3, references, value11) {
    yield `(typeof value === 'object' && Symbol.asyncIterator in ${value11})`;
  }
  function* FromBigInt6(schema3, references, value11) {
    yield `(typeof ${value11} === 'bigint')`;
    if (IsBigInt(schema3.exclusiveMaximum))
      yield `${value11} < BigInt(${schema3.exclusiveMaximum})`;
    if (IsBigInt(schema3.exclusiveMinimum))
      yield `${value11} > BigInt(${schema3.exclusiveMinimum})`;
    if (IsBigInt(schema3.maximum))
      yield `${value11} <= BigInt(${schema3.maximum})`;
    if (IsBigInt(schema3.minimum))
      yield `${value11} >= BigInt(${schema3.minimum})`;
    if (IsBigInt(schema3.multipleOf))
      yield `(${value11} % BigInt(${schema3.multipleOf})) === 0`;
  }
  function* FromBoolean6(schema3, references, value11) {
    yield `(typeof ${value11} === 'boolean')`;
  }
  function* FromConstructor8(schema3, references, value11) {
    yield* Visit17(schema3.returns, references, `${value11}.prototype`);
  }
  function* FromDate6(schema3, references, value11) {
    yield `(${value11} instanceof Date) && Number.isFinite(${value11}.getTime())`;
    if (IsNumber(schema3.exclusiveMaximumTimestamp))
      yield `${value11}.getTime() < ${schema3.exclusiveMaximumTimestamp}`;
    if (IsNumber(schema3.exclusiveMinimumTimestamp))
      yield `${value11}.getTime() > ${schema3.exclusiveMinimumTimestamp}`;
    if (IsNumber(schema3.maximumTimestamp))
      yield `${value11}.getTime() <= ${schema3.maximumTimestamp}`;
    if (IsNumber(schema3.minimumTimestamp))
      yield `${value11}.getTime() >= ${schema3.minimumTimestamp}`;
    if (IsNumber(schema3.multipleOfTimestamp))
      yield `(${value11}.getTime() % ${schema3.multipleOfTimestamp}) === 0`;
  }
  function* FromFunction7(schema3, references, value11) {
    yield `(typeof ${value11} === 'function')`;
  }
  function* FromInteger6(schema3, references, value11) {
    yield `Number.isInteger(${value11})`;
    if (IsNumber(schema3.exclusiveMaximum))
      yield `${value11} < ${schema3.exclusiveMaximum}`;
    if (IsNumber(schema3.exclusiveMinimum))
      yield `${value11} > ${schema3.exclusiveMinimum}`;
    if (IsNumber(schema3.maximum))
      yield `${value11} <= ${schema3.maximum}`;
    if (IsNumber(schema3.minimum))
      yield `${value11} >= ${schema3.minimum}`;
    if (IsNumber(schema3.multipleOf))
      yield `(${value11} % ${schema3.multipleOf}) === 0`;
  }
  function* FromIntersect18(schema3, references, value11) {
    const check1 = schema3.allOf.map((schema4) => CreateExpression(schema4, references, value11)).join(" && ");
    if (schema3.unevaluatedProperties === false) {
      const keyCheck = CreateVariable(`${new RegExp(KeyOfPattern(schema3))};`);
      const check22 = `Object.getOwnPropertyNames(${value11}).every(key => ${keyCheck}.test(key))`;
      yield `(${check1} && ${check22})`;
    } else if (IsSchema2(schema3.unevaluatedProperties)) {
      const keyCheck = CreateVariable(`${new RegExp(KeyOfPattern(schema3))};`);
      const check22 = `Object.getOwnPropertyNames(${value11}).every(key => ${keyCheck}.test(key) || ${CreateExpression(schema3.unevaluatedProperties, references, `${value11}[key]`)})`;
      yield `(${check1} && ${check22})`;
    } else {
      yield `(${check1})`;
    }
  }
  function* FromIterator7(schema3, references, value11) {
    yield `(typeof value === 'object' && Symbol.iterator in ${value11})`;
  }
  function* FromLiteral7(schema3, references, value11) {
    if (typeof schema3.const === "number" || typeof schema3.const === "boolean") {
      yield `(${value11} === ${schema3.const})`;
    } else {
      yield `(${value11} === '${LiteralString.Escape(schema3.const)}')`;
    }
  }
  function* FromNever6(schema3, references, value11) {
    yield `false`;
  }
  function* FromNot8(schema3, references, value11) {
    const expression = CreateExpression(schema3.not, references, value11);
    yield `(!${expression})`;
  }
  function* FromNull6(schema3, references, value11) {
    yield `(${value11} === null)`;
  }
  function* FromNumber6(schema3, references, value11) {
    yield Policy.IsNumberLike(value11);
    if (IsNumber(schema3.exclusiveMaximum))
      yield `${value11} < ${schema3.exclusiveMaximum}`;
    if (IsNumber(schema3.exclusiveMinimum))
      yield `${value11} > ${schema3.exclusiveMinimum}`;
    if (IsNumber(schema3.maximum))
      yield `${value11} <= ${schema3.maximum}`;
    if (IsNumber(schema3.minimum))
      yield `${value11} >= ${schema3.minimum}`;
    if (IsNumber(schema3.multipleOf))
      yield `(${value11} % ${schema3.multipleOf}) === 0`;
  }
  function* FromObject13(schema3, references, value11) {
    yield Policy.IsObjectLike(value11);
    if (IsNumber(schema3.minProperties))
      yield `Object.getOwnPropertyNames(${value11}).length >= ${schema3.minProperties}`;
    if (IsNumber(schema3.maxProperties))
      yield `Object.getOwnPropertyNames(${value11}).length <= ${schema3.maxProperties}`;
    const knownKeys = Object.getOwnPropertyNames(schema3.properties);
    for (const knownKey of knownKeys) {
      const memberExpression = MemberExpression.Encode(value11, knownKey);
      const property = schema3.properties[knownKey];
      if (schema3.required && schema3.required.includes(knownKey)) {
        yield* Visit17(property, references, memberExpression);
        if (ExtendsUndefinedCheck(property) || IsAnyOrUnknown2(property))
          yield `('${knownKey}' in ${value11})`;
      } else {
        const expression = CreateExpression(property, references, memberExpression);
        yield Policy.IsExactOptionalProperty(value11, knownKey, expression);
      }
    }
    if (schema3.additionalProperties === false) {
      if (schema3.required && schema3.required.length === knownKeys.length) {
        yield `Object.getOwnPropertyNames(${value11}).length === ${knownKeys.length}`;
      } else {
        const keys = `[${knownKeys.map((key) => `'${key}'`).join(", ")}]`;
        yield `Object.getOwnPropertyNames(${value11}).every(key => ${keys}.includes(key))`;
      }
    }
    if (typeof schema3.additionalProperties === "object") {
      const expression = CreateExpression(schema3.additionalProperties, references, `${value11}[key]`);
      const keys = `[${knownKeys.map((key) => `'${key}'`).join(", ")}]`;
      yield `(Object.getOwnPropertyNames(${value11}).every(key => ${keys}.includes(key) || ${expression}))`;
    }
  }
  function* FromPromise8(schema3, references, value11) {
    yield `(typeof value === 'object' && typeof ${value11}.then === 'function')`;
  }
  function* FromRecord12(schema3, references, value11) {
    yield Policy.IsRecordLike(value11);
    if (IsNumber(schema3.minProperties))
      yield `Object.getOwnPropertyNames(${value11}).length >= ${schema3.minProperties}`;
    if (IsNumber(schema3.maxProperties))
      yield `Object.getOwnPropertyNames(${value11}).length <= ${schema3.maxProperties}`;
    const [patternKey, patternSchema] = Object.entries(schema3.patternProperties)[0];
    const variable = CreateVariable(`${new RegExp(patternKey)}`);
    const check1 = CreateExpression(patternSchema, references, "value");
    const check22 = IsSchema2(schema3.additionalProperties) ? CreateExpression(schema3.additionalProperties, references, value11) : schema3.additionalProperties === false ? "false" : "true";
    const expression = `(${variable}.test(key) ? ${check1} : ${check22})`;
    yield `(Object.entries(${value11}).every(([key, value]) => ${expression}))`;
  }
  function* FromRef12(schema3, references, value11) {
    const target = Deref(schema3, references);
    if (state.functions.has(schema3.$ref))
      return yield `${CreateFunctionName(schema3.$ref)}(${value11})`;
    yield* Visit17(target, references, value11);
  }
  function* FromRegExp5(schema3, references, value11) {
    const variable = CreateVariable(`${new RegExp(schema3.source, schema3.flags)};`);
    yield `(typeof ${value11} === 'string')`;
    if (IsNumber(schema3.maxLength))
      yield `${value11}.length <= ${schema3.maxLength}`;
    if (IsNumber(schema3.minLength))
      yield `${value11}.length >= ${schema3.minLength}`;
    yield `${variable}.test(${value11})`;
  }
  function* FromString6(schema3, references, value11) {
    yield `(typeof ${value11} === 'string')`;
    if (IsNumber(schema3.maxLength))
      yield `${value11}.length <= ${schema3.maxLength}`;
    if (IsNumber(schema3.minLength))
      yield `${value11}.length >= ${schema3.minLength}`;
    if (schema3.pattern !== undefined) {
      const variable = CreateVariable(`${new RegExp(schema3.pattern)};`);
      yield `${variable}.test(${value11})`;
    }
    if (schema3.format !== undefined) {
      yield `format('${schema3.format}', ${value11})`;
    }
  }
  function* FromSymbol6(schema3, references, value11) {
    yield `(typeof ${value11} === 'symbol')`;
  }
  function* FromTemplateLiteral7(schema3, references, value11) {
    yield `(typeof ${value11} === 'string')`;
    const variable = CreateVariable(`${new RegExp(schema3.pattern)};`);
    yield `${variable}.test(${value11})`;
  }
  function* FromThis11(schema3, references, value11) {
    yield `${CreateFunctionName(schema3.$ref)}(${value11})`;
  }
  function* FromTuple15(schema3, references, value11) {
    yield `Array.isArray(${value11})`;
    if (schema3.items === undefined)
      return yield `${value11}.length === 0`;
    yield `(${value11}.length === ${schema3.maxItems})`;
    for (let i = 0;i < schema3.items.length; i++) {
      const expression = CreateExpression(schema3.items[i], references, `${value11}[${i}]`);
      yield `${expression}`;
    }
  }
  function* FromUndefined6(schema3, references, value11) {
    yield `${value11} === undefined`;
  }
  function* FromUnion20(schema3, references, value11) {
    const expressions = schema3.anyOf.map((schema4) => CreateExpression(schema4, references, value11));
    yield `(${expressions.join(" || ")})`;
  }
  function* FromUint8Array5(schema3, references, value11) {
    yield `${value11} instanceof Uint8Array`;
    if (IsNumber(schema3.maxByteLength))
      yield `(${value11}.length <= ${schema3.maxByteLength})`;
    if (IsNumber(schema3.minByteLength))
      yield `(${value11}.length >= ${schema3.minByteLength})`;
  }
  function* FromUnknown5(schema3, references, value11) {
    yield "true";
  }
  function* FromVoid5(schema3, references, value11) {
    yield Policy.IsVoidLike(value11);
  }
  function* FromKind4(schema3, references, value11) {
    const instance = state.instances.size;
    state.instances.set(instance, schema3);
    yield `kind('${schema3[Kind]}', ${instance}, ${value11})`;
  }
  function* Visit17(schema3, references, value11, useHoisting = true) {
    const references_ = IsString(schema3.$id) ? [...references, schema3] : references;
    const schema_ = schema3;
    if (useHoisting && IsString(schema3.$id)) {
      const functionName = CreateFunctionName(schema3.$id);
      if (state.functions.has(functionName)) {
        return yield `${functionName}(${value11})`;
      } else {
        const functionCode = CreateFunction(functionName, schema3, references, "value", false);
        state.functions.set(functionName, functionCode);
        return yield `${functionName}(${value11})`;
      }
    }
    switch (schema_[Kind]) {
      case "Any":
        return yield* FromAny5(schema_, references_, value11);
      case "Array":
        return yield* FromArray16(schema_, references_, value11);
      case "AsyncIterator":
        return yield* FromAsyncIterator7(schema_, references_, value11);
      case "BigInt":
        return yield* FromBigInt6(schema_, references_, value11);
      case "Boolean":
        return yield* FromBoolean6(schema_, references_, value11);
      case "Constructor":
        return yield* FromConstructor8(schema_, references_, value11);
      case "Date":
        return yield* FromDate6(schema_, references_, value11);
      case "Function":
        return yield* FromFunction7(schema_, references_, value11);
      case "Integer":
        return yield* FromInteger6(schema_, references_, value11);
      case "Intersect":
        return yield* FromIntersect18(schema_, references_, value11);
      case "Iterator":
        return yield* FromIterator7(schema_, references_, value11);
      case "Literal":
        return yield* FromLiteral7(schema_, references_, value11);
      case "Never":
        return yield* FromNever6(schema_, references_, value11);
      case "Not":
        return yield* FromNot8(schema_, references_, value11);
      case "Null":
        return yield* FromNull6(schema_, references_, value11);
      case "Number":
        return yield* FromNumber6(schema_, references_, value11);
      case "Object":
        return yield* FromObject13(schema_, references_, value11);
      case "Promise":
        return yield* FromPromise8(schema_, references_, value11);
      case "Record":
        return yield* FromRecord12(schema_, references_, value11);
      case "Ref":
        return yield* FromRef12(schema_, references_, value11);
      case "RegExp":
        return yield* FromRegExp5(schema_, references_, value11);
      case "String":
        return yield* FromString6(schema_, references_, value11);
      case "Symbol":
        return yield* FromSymbol6(schema_, references_, value11);
      case "TemplateLiteral":
        return yield* FromTemplateLiteral7(schema_, references_, value11);
      case "This":
        return yield* FromThis11(schema_, references_, value11);
      case "Tuple":
        return yield* FromTuple15(schema_, references_, value11);
      case "Undefined":
        return yield* FromUndefined6(schema_, references_, value11);
      case "Union":
        return yield* FromUnion20(schema_, references_, value11);
      case "Uint8Array":
        return yield* FromUint8Array5(schema_, references_, value11);
      case "Unknown":
        return yield* FromUnknown5(schema_, references_, value11);
      case "Void":
        return yield* FromVoid5(schema_, references_, value11);
      default:
        if (!exports_type.Has(schema_[Kind]))
          throw new TypeCompilerUnknownTypeError(schema3);
        return yield* FromKind4(schema_, references_, value11);
    }
  }
  const state = {
    language: "javascript",
    functions: new Map,
    variables: new Map,
    instances: new Map
  };
  function CreateExpression(schema3, references, value11, useHoisting = true) {
    return `(${[...Visit17(schema3, references, value11, useHoisting)].join(" && ")})`;
  }
  function CreateFunctionName($id) {
    return `check_${Identifier.Encode($id)}`;
  }
  function CreateVariable(expression) {
    const variableName = `local_${state.variables.size}`;
    state.variables.set(variableName, `const ${variableName} = ${expression}`);
    return variableName;
  }
  function CreateFunction(name, schema3, references, value11, useHoisting = true) {
    const [newline, pad] = ["\n", (length) => "".padStart(length, " ")];
    const parameter = CreateParameter("value", "any");
    const returns = CreateReturns("boolean");
    const expression = [...Visit17(schema3, references, value11, useHoisting)].map((expression2) => `${pad(4)}${expression2}`).join(` &&${newline}`);
    return `function ${name}(${parameter})${returns} {${newline}${pad(2)}return (${newline}${expression}${newline}${pad(2)})\n}`;
  }
  function CreateParameter(name, type47) {
    const annotation = state.language === "typescript" ? `: ${type47}` : "";
    return `${name}${annotation}`;
  }
  function CreateReturns(type47) {
    return state.language === "typescript" ? `: ${type47}` : "";
  }
  function Build(schema3, references, options) {
    const functionCode = CreateFunction("check", schema3, references, "value");
    const parameter = CreateParameter("value", "any");
    const returns = CreateReturns("boolean");
    const functions = [...state.functions.values()];
    const variables = [...state.variables.values()];
    const checkFunction = IsString(schema3.$id) ? `return function check(${parameter})${returns} {\n  return ${CreateFunctionName(schema3.$id)}(value)\n}` : `return ${functionCode}`;
    return [...variables, ...functions, checkFunction].join("\n");
  }
  function Code(...args) {
    const defaults = { language: "javascript" };
    const [schema3, references, options] = args.length === 2 && IsArray(args[1]) ? [args[0], args[1], defaults] : args.length === 2 && !IsArray(args[1]) ? [args[0], [], args[1]] : args.length === 3 ? [args[0], args[1], args[2]] : args.length === 1 ? [args[0], [], defaults] : [null, [], defaults];
    state.language = options.language;
    state.variables.clear();
    state.functions.clear();
    state.instances.clear();
    if (!IsSchema2(schema3))
      throw new TypeCompilerTypeGuardError(schema3);
    for (const schema4 of references)
      if (!IsSchema2(schema4))
        throw new TypeCompilerTypeGuardError(schema4);
    return Build(schema3, references, options);
  }
  TypeCompiler2.Code = Code;
  function Compile(schema3, references = []) {
    const generatedCode = Code(schema3, references, { language: "javascript" });
    const compiledFunction = globalThis.Function("kind", "format", "hash", generatedCode);
    const instances = new Map(state.instances);
    function typeRegistryFunction(kind28, instance, value11) {
      if (!exports_type.Has(kind28) || !instances.has(instance))
        return false;
      const checkFunc = exports_type.Get(kind28);
      const schema4 = instances.get(instance);
      return checkFunc(schema4, value11);
    }
    function formatRegistryFunction(format, value11) {
      if (!exports_format.Has(format))
        return false;
      const checkFunc = exports_format.Get(format);
      return checkFunc(value11);
    }
    function hashFunction(value11) {
      return Hash(value11);
    }
    const checkFunction = compiledFunction(typeRegistryFunction, formatRegistryFunction, hashFunction);
    return new TypeCheck(schema3, references, checkFunction, generatedCode);
  }
  TypeCompiler2.Compile = Compile;
})(TypeCompiler || (TypeCompiler = {}));
// node_modules/cookie/index.js
var parse4 = function(str, options) {
  if (typeof str !== "string") {
    throw new TypeError("argument str must be a string");
  }
  var obj = {};
  var opt = options || {};
  var dec = opt.decode || decode2;
  var index = 0;
  while (index < str.length) {
    var eqIdx = str.indexOf("=", index);
    if (eqIdx === -1) {
      break;
    }
    var endIdx = str.indexOf(";", index);
    if (endIdx === -1) {
      endIdx = str.length;
    } else if (endIdx < eqIdx) {
      index = str.lastIndexOf(";", eqIdx - 1) + 1;
      continue;
    }
    var key = str.slice(index, eqIdx).trim();
    if (obj[key] === undefined) {
      var val = str.slice(eqIdx + 1, endIdx).trim();
      if (val.charCodeAt(0) === 34) {
        val = val.slice(1, -1);
      }
      obj[key] = tryDecode(val, dec);
    }
    index = endIdx + 1;
  }
  return obj;
};
var serialize = function(name, val, options) {
  var opt = options || {};
  var enc = opt.encode || encode2;
  if (typeof enc !== "function") {
    throw new TypeError("option encode is invalid");
  }
  if (!fieldContentRegExp.test(name)) {
    throw new TypeError("argument name is invalid");
  }
  var value11 = enc(val);
  if (value11 && !fieldContentRegExp.test(value11)) {
    throw new TypeError("argument val is invalid");
  }
  var str = name + "=" + value11;
  if (opt.maxAge != null) {
    var maxAge = opt.maxAge - 0;
    if (isNaN(maxAge) || !isFinite(maxAge)) {
      throw new TypeError("option maxAge is invalid");
    }
    str += "; Max-Age=" + Math.floor(maxAge);
  }
  if (opt.domain) {
    if (!fieldContentRegExp.test(opt.domain)) {
      throw new TypeError("option domain is invalid");
    }
    str += "; Domain=" + opt.domain;
  }
  if (opt.path) {
    if (!fieldContentRegExp.test(opt.path)) {
      throw new TypeError("option path is invalid");
    }
    str += "; Path=" + opt.path;
  }
  if (opt.expires) {
    var expires = opt.expires;
    if (!isDate(expires) || isNaN(expires.valueOf())) {
      throw new TypeError("option expires is invalid");
    }
    str += "; Expires=" + expires.toUTCString();
  }
  if (opt.httpOnly) {
    str += "; HttpOnly";
  }
  if (opt.secure) {
    str += "; Secure";
  }
  if (opt.partitioned) {
    str += "; Partitioned";
  }
  if (opt.priority) {
    var priority = typeof opt.priority === "string" ? opt.priority.toLowerCase() : opt.priority;
    switch (priority) {
      case "low":
        str += "; Priority=Low";
        break;
      case "medium":
        str += "; Priority=Medium";
        break;
      case "high":
        str += "; Priority=High";
        break;
      default:
        throw new TypeError("option priority is invalid");
    }
  }
  if (opt.sameSite) {
    var sameSite = typeof opt.sameSite === "string" ? opt.sameSite.toLowerCase() : opt.sameSite;
    switch (sameSite) {
      case true:
        str += "; SameSite=Strict";
        break;
      case "lax":
        str += "; SameSite=Lax";
        break;
      case "strict":
        str += "; SameSite=Strict";
        break;
      case "none":
        str += "; SameSite=None";
        break;
      default:
        throw new TypeError("option sameSite is invalid");
    }
  }
  return str;
};
var decode2 = function(str) {
  return str.indexOf("%") !== -1 ? decodeURIComponent(str) : str;
};
var encode2 = function(val) {
  return encodeURIComponent(val);
};
var isDate = function(val) {
  return __toString.call(val) === "[object Date]" || val instanceof Date;
};
var tryDecode = function(str, decode3) {
  try {
    return decode3(str);
  } catch (e) {
    return str;
  }
};
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
var $parse = parse4;
var $serialize = serialize;
var __toString = Object.prototype.toString;
var fieldContentRegExp = /^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;

// node_modules/elysia/dist/index.mjs
var import_fast_decode_uri_component = __toESM(require_fast_decode_uri_component(), 1);
var removeTrailingEquals = function(digest) {
  let trimmedDigest = digest;
  while (trimmedDigest.endsWith("=")) {
    trimmedDigest = trimmedDigest.slice(0, -1);
  }
  return trimmedDigest;
};
var import_fast_querystring = __toESM(require_lib(), 1);
var import_fast_decode_uri_component2 = __toESM(require_fast_decode_uri_component(), 1);
var import_fast_querystring2 = __toESM(require_lib(), 1);
var isLeapYear = function(year) {
  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);
};
var date5 = function(str) {
  const matches = DATE.exec(str);
  if (!matches)
    return false;
  const year = +matches[1];
  const month = +matches[2];
  const day = +matches[3];
  return month >= 1 && month <= 12 && day >= 1 && day <= (month === 2 && isLeapYear(year) ? 29 : DAYS[month]);
};
var getTime = function(strictTimeZone) {
  return function time(str) {
    const matches = TIME.exec(str);
    if (!matches)
      return false;
    const hr = +matches[1];
    const min = +matches[2];
    const sec = +matches[3];
    const tz = matches[4];
    const tzSign = matches[5] === "-" ? -1 : 1;
    const tzH = +(matches[6] || 0);
    const tzM = +(matches[7] || 0);
    if (tzH > 23 || tzM > 59 || strictTimeZone && !tz)
      return false;
    if (hr <= 23 && min <= 59 && sec < 60)
      return true;
    const utcMin = min - tzM * tzSign;
    const utcHr = hr - tzH * tzSign - (utcMin < 0 ? 1 : 0);
    return (utcHr === 23 || utcHr === -1) && (utcMin === 59 || utcMin === -1) && sec < 61;
  };
};
var getDateTime = function(strictTimeZone) {
  const time = getTime(strictTimeZone);
  return function date_time(str) {
    const dateTime = str.split(DATE_TIME_SEPARATOR);
    return dateTime.length === 2 && date5(dateTime[0]) && time(dateTime[1]);
  };
};
var uri = function(str) {
  return NOT_URI_FRAGMENT.test(str) && URI.test(str);
};
var byte = function(str) {
  BYTE.lastIndex = 0;
  return BYTE.test(str);
};
var validateInt32 = function(value15) {
  return Number.isInteger(value15) && value15 <= MAX_INT32 && value15 >= MIN_INT32;
};
var validateInt64 = function(value15) {
  return Number.isInteger(value15);
};
var validateNumber = function() {
  return true;
};
var regex = function(str) {
  if (Z_ANCHOR.test(str))
    return false;
  try {
    new RegExp(str);
    return true;
  } catch (e2) {
    return false;
  }
};
var e = (e2, t3) => ({ part: e2, store: null, inert: t3 !== undefined ? new Map(t3.map((e3) => [e3.part.charCodeAt(0), e3])) : null, params: null, wildcardStore: null });
var t = (e2, t3) => ({ ...e2, part: t3 });
var r = (e2) => ({ paramName: e2, store: null, inert: null });
var Memoirist = class _Memoirist {
  root = {};
  history = [];
  static regex = { static: /:.+?(?=\/|$)/, params: /:.+?(?=\/|$)/g };
  add(a2, l, i) {
    let s;
    if (typeof l != "string")
      throw TypeError("Route path must be a string");
    l === "" ? l = "/" : l[0] !== "/" && (l = `/${l}`), this.history.push([a2, l, i]);
    let n = l[l.length - 1] === "*";
    n && (l = l.slice(0, -1));
    let o = l.split(_Memoirist.regex.static), u = l.match(_Memoirist.regex.params) || [];
    o[o.length - 1] === "" && o.pop(), s = this.root[a2] ? this.root[a2] : this.root[a2] = e("/");
    let p = 0;
    for (let a3 = 0;a3 < o.length; ++a3) {
      let i2 = o[a3];
      if (a3 > 0) {
        let t3 = u[p++].slice(1);
        if (s.params === null)
          s.params = r(t3);
        else if (s.params.paramName !== t3)
          throw Error(`Cannot create route "${l}" with parameter "${t3}" because a route already exists with a different parameter name ("${s.params.paramName}") in the same location`);
        let a4 = s.params;
        if (a4.inert === null) {
          s = a4.inert = e(i2);
          continue;
        }
        s = a4.inert;
      }
      for (let r2 = 0;; ) {
        if (r2 === i2.length) {
          if (r2 < s.part.length) {
            let a4 = t(s, s.part.slice(r2));
            Object.assign(s, e(i2, [a4]));
          }
          break;
        }
        if (r2 === s.part.length) {
          if (s.inert === null)
            s.inert = new Map;
          else if (s.inert.has(i2.charCodeAt(r2))) {
            s = s.inert.get(i2.charCodeAt(r2)), i2 = i2.slice(r2), r2 = 0;
            continue;
          }
          let t3 = e(i2.slice(r2));
          s.inert.set(i2.charCodeAt(r2), t3), s = t3;
          break;
        }
        if (i2[r2] !== s.part[r2]) {
          let a4 = t(s, s.part.slice(r2)), l2 = e(i2.slice(r2));
          Object.assign(s, e(s.part.slice(0, r2), [a4, l2])), s = l2;
          break;
        }
        ++r2;
      }
    }
    if (p < u.length) {
      let e2 = u[p], t3 = e2.slice(1);
      if (s.params === null)
        s.params = r(t3);
      else if (s.params.paramName !== t3)
        throw Error(`Cannot create route "${l}" with parameter "${t3}" because a route already exists with a different parameter name ("${s.params.paramName}") in the same location`);
      return s.params.store === null && (s.params.store = i), s.params.store;
    }
    return n ? (s.wildcardStore === null && (s.wildcardStore = i), s.wildcardStore) : (s.store === null && (s.store = i), s.store);
  }
  find(e2, t3) {
    let r2 = this.root[e2];
    return r2 ? a(t3, t3.length, r2, 0) : null;
  }
};
var a = (e2, t3, r2, l) => {
  let i = r2?.part, s = l + i.length;
  if (i.length > 1) {
    if (s > t3)
      return null;
    if (i.length < 15) {
      for (let t4 = 1, r3 = l + 1;t4 < i.length; ++t4, ++r3)
        if (i.charCodeAt(t4) !== e2.charCodeAt(r3))
          return null;
    } else if (e2.substring(l, s) !== i)
      return null;
  }
  if (s === t3)
    return r2.store !== null ? { store: r2.store, params: {} } : r2.wildcardStore !== null ? { store: r2.wildcardStore, params: { "*": "" } } : null;
  if (r2.inert !== null) {
    let l2 = r2.inert.get(e2.charCodeAt(s));
    if (l2 !== undefined) {
      let r3 = a(e2, t3, l2, s);
      if (r3 !== null)
        return r3;
    }
  }
  if (r2.params !== null) {
    let l2 = r2.params, i2 = e2.indexOf("/", s);
    if (i2 !== s) {
      if (i2 === -1 || i2 >= t3) {
        if (l2.store !== null) {
          let r3 = {};
          return r3[l2.paramName] = e2.substring(s, t3), { store: l2.store, params: r3 };
        }
      } else if (l2.inert !== null) {
        let r3 = a(e2, t3, l2.inert, i2);
        if (r3 !== null)
          return r3.params[l2.paramName] = e2.substring(s, i2), r3;
      }
    }
  }
  return r2.wildcardStore !== null ? { store: r2.wildcardStore, params: { "*": e2.substring(s, t3) } } : null;
};
var resolver = () => {
  let resolve;
  const promise5 = new Promise((r2) => {
    resolve = r2;
  });
  return [promise5, resolve];
};
var createSignal = () => {
  const [start, resolveStart] = resolver();
  const [end, resolveEnd] = resolver();
  const children = [];
  const resolvers = [];
  return {
    signal: start,
    consume: (trace) => {
      switch (trace.type) {
        case "begin":
          if (trace.unit && children.length === 0)
            for (let i = 0;i < trace.unit; i++) {
              const [start2, resolveStart2] = resolver();
              const [end2, resolveEnd2] = resolver();
              children.push(start2);
              resolvers.push([
                (trace2) => {
                  resolveStart2({
                    children: [],
                    end: end2,
                    name: trace2.name ?? "",
                    skip: false,
                    time: trace2.time
                  });
                },
                (time) => {
                  resolveEnd2(time);
                }
              ]);
            }
          resolveStart({
            children,
            end,
            name: trace.name ?? "",
            skip: false,
            time: trace.time
          });
          break;
        case "end":
          resolveEnd(trace.time);
          break;
      }
    },
    consumeChild(trace) {
      switch (trace.type) {
        case "begin":
          if (!resolvers[0])
            return;
          const [resolveStart2] = resolvers[0];
          resolveStart2({
            children: [],
            end,
            name: trace.name ?? "",
            skip: false,
            time: trace.time
          });
          break;
        case "end":
          const child = resolvers.shift();
          if (!child)
            return;
          child[1](trace.time);
      }
    },
    resolve() {
      resolveStart({
        children: [],
        end: new Promise((resolve) => resolve(0)),
        name: "",
        skip: true,
        time: 0
      });
      for (const [resolveStart2, resolveEnd2] of resolvers) {
        resolveStart2({
          children: [],
          end: new Promise((resolve) => resolve(0)),
          name: "",
          skip: true,
          time: 0
        });
        resolveEnd2(0);
      }
      resolveEnd(0);
    }
  };
};
var createTraceListener = (getReporter, totalListener, handler) => {
  if (typeof handler === "object")
    handler = handler.fn;
  return async function trace(trace) {
    if (trace.event !== "request" || trace.type !== "begin")
      return;
    const id = trace.id;
    const reporter = getReporter();
    const request = createSignal();
    const parse22 = createSignal();
    const transform7 = createSignal();
    const beforeHandle = createSignal();
    const handle = createSignal();
    const afterHandle = createSignal();
    const error22 = createSignal();
    const response = createSignal();
    request.consume(trace);
    const reducer = (event) => {
      if (event.id === id)
        switch (event.event) {
          case "request":
            request.consume(event);
            break;
          case "request.unit":
            request.consumeChild(event);
            break;
          case "parse":
            parse22.consume(event);
            break;
          case "parse.unit":
            parse22.consumeChild(event);
            break;
          case "transform":
            transform7.consume(event);
            break;
          case "transform.unit":
            transform7.consumeChild(event);
            break;
          case "beforeHandle":
            beforeHandle.consume(event);
            break;
          case "beforeHandle.unit":
            beforeHandle.consumeChild(event);
            break;
          case "handle":
            handle.consume(event);
            break;
          case "afterHandle":
            afterHandle.consume(event);
            break;
          case "afterHandle.unit":
            afterHandle.consumeChild(event);
            break;
          case "error":
            error22.consume(event);
            break;
          case "error.unit":
            error22.consumeChild(event);
            break;
          case "response":
            if (event.type === "begin") {
              request.resolve();
              parse22.resolve();
              transform7.resolve();
              beforeHandle.resolve();
              handle.resolve();
              afterHandle.resolve();
              error22.resolve();
            } else
              reporter.off("event", reducer);
            response.consume(event);
            break;
          case "response.unit":
            response.consumeChild(event);
            break;
          case "exit":
            request.resolve();
            parse22.resolve();
            transform7.resolve();
            beforeHandle.resolve();
            handle.resolve();
            afterHandle.resolve();
            error22.resolve();
            break;
        }
    };
    reporter.on("event", reducer);
    await handler({
      id,
      context: trace.ctx,
      set: trace.ctx?.set,
      store: trace.ctx?.store,
      time: trace.time,
      request: request.signal,
      parse: parse22.signal,
      transform: transform7.signal,
      beforeHandle: beforeHandle.signal,
      handle: handle.signal,
      afterHandle: afterHandle.signal,
      error: error22.signal,
      response: response.signal
    });
    reporter.emit(`res${id}.${totalListener}`, undefined);
  };
};
var separateFunction = (code) => {
  if (code.startsWith("async"))
    code = code.slice(6);
  let index = -1;
  if (code.charCodeAt(0) === 40) {
    index = code.indexOf(") => {\n");
    if (index !== -1)
      return [
        code.slice(1, index),
        code.slice(index + 5),
        { isArrowReturn: false }
      ];
    index = code.indexOf(") => ");
    if (index !== -1)
      return [
        code.slice(1, index),
        code.slice(index + 5),
        { isArrowReturn: true }
      ];
  }
  if (code.startsWith("function")) {
    index = code.indexOf("(");
    const end = code.indexOf(")");
    return [
      code.slice(index + 1, end),
      code.slice(end + 2),
      {
        isArrowReturn: false
      }
    ];
  }
  const start = code.indexOf("(");
  if (start !== -1) {
    const [parameter, body] = code.split("\n", 2);
    const end = parameter.lastIndexOf(")") + 1;
    return [
      parameter.slice(start, end),
      "{" + body,
      {
        isArrowReturn: false
      }
    ];
  }
  const x = code.split("\n", 2);
  return [x[0], x[1], { isArrowReturn: false }];
};
var bracketPairRange = (parameter) => {
  const start = parameter.indexOf("{");
  if (start === -1)
    return [-1, 0];
  let end = start + 1;
  let deep = 1;
  for (;end < parameter.length; end++) {
    const char = parameter.charCodeAt(end);
    if (char === 123)
      deep++;
    else if (char === 125)
      deep--;
    if (deep === 0)
      break;
  }
  if (deep !== 0)
    return [0, parameter.length];
  return [start, end + 1];
};
var bracketPairRangeReverse = (parameter) => {
  const end = parameter.lastIndexOf("}");
  if (end === -1)
    return [-1, 0];
  let start = end - 1;
  let deep = 1;
  for (;start >= 0; start--) {
    const char = parameter.charCodeAt(start);
    if (char === 125)
      deep++;
    else if (char === 123)
      deep--;
    if (deep === 0)
      break;
  }
  if (deep !== 0)
    return [-1, 0];
  return [start, end + 1];
};
var retrieveRootParamters = (parameter) => {
  if (parameter.charCodeAt(0) === 40)
    parameter = parameter.slice(1, -1);
  if (parameter.charCodeAt(0) === 123)
    parameter = parameter.slice(2, -2);
  while (true) {
    const [start, end] = bracketPairRange(parameter);
    if (start === -1)
      break;
    parameter = parameter.slice(0, start - 2) + parameter.slice(end + 1);
  }
  return parameter.replace(/:/g, "").trim();
};
var findParameterReference = (parameter, inference) => {
  const root = retrieveRootParamters(parameter);
  if (!inference.query && root.includes("query"))
    inference.query = true;
  if (!inference.headers && root.includes("headers"))
    inference.headers = true;
  if (!inference.body && root.includes("body"))
    inference.body = true;
  if (!inference.cookie && root.includes("cookie"))
    inference.cookie = true;
  if (!inference.set && root.includes("set"))
    inference.set = true;
  return root;
};
var findTraceParameterReference = (parameter, inference) => {
  const root = retrieveRootParamters(parameter);
  if (!inference.request && root.includes("request"))
    inference.request = true;
  if (!inference.parse && root.includes("parse"))
    inference.parse = true;
  if (!inference.transform && root.includes("transform"))
    inference.transform = true;
  if (!inference.handle && root.includes("handle"))
    inference.handle = true;
  if (!inference.beforeHandle && root.includes("beforeHandle"))
    inference.beforeHandle = true;
  if (!inference.afterHandle && root.includes("afterHandle"))
    inference.afterHandle = true;
  if (!inference.error && root.includes("error"))
    inference.error = true;
  if (!inference.context && root.includes("context"))
    inference.context = true;
  if (!inference.store && root.includes("store"))
    inference.store = true;
  if (!inference.set && root.includes("set"))
    inference.set = true;
  return root;
};
var findEndIndex = (type47, content, index) => {
  const newLineIndex = content.indexOf(type47 + "\n", index);
  const newTabIndex = content.indexOf(type47 + "	", index);
  const commaIndex = content.indexOf(type47 + ",", index);
  const semicolonIndex = content.indexOf(type47 + ";", index);
  const emptyIndex = content.indexOf(type47 + " ", index);
  return [newLineIndex, newTabIndex, commaIndex, semicolonIndex, emptyIndex].filter((i) => i > 0).sort((a2, b) => a2 - b)[0] || -1;
};
var findAlias = (type47, body, depth = 0) => {
  if (depth > 5)
    return [];
  const aliases = [];
  let content = body;
  while (true) {
    let index = findEndIndex(" = " + type47, content);
    if (index === -1) {
      const lastIndex = content.indexOf(" = " + type47);
      if (lastIndex + 3 + type47.length !== content.length)
        break;
      index = lastIndex;
    }
    const part = content.slice(0, index);
    let variable = part.slice(part.lastIndexOf(" ") + 1);
    if (variable === "}") {
      const [start, end] = bracketPairRangeReverse(part);
      aliases.push(content.slice(start, end));
      content = content.slice(index + 3 + type47.length);
      continue;
    }
    while (variable.charCodeAt(0) === 44)
      variable = variable.slice(1);
    while (variable.charCodeAt(0) === 9)
      variable = variable.slice(1);
    aliases.push(variable);
    content = content.slice(index + 3 + type47.length);
  }
  for (const alias of aliases) {
    if (alias.charCodeAt(0) === 123)
      continue;
    const deepAlias = findAlias(alias, body);
    if (deepAlias.length > 0)
      aliases.push(...deepAlias);
  }
  return aliases;
};
var extractMainParameter = (parameter) => {
  if (!parameter)
    return;
  const hasComma = parameter.includes(",");
  if (!hasComma) {
    if (parameter.includes("..."))
      return parameter.slice(parameter.indexOf("...") + 3);
    return parameter;
  }
  const spreadIndex = parameter.indexOf("...");
  if (spreadIndex === -1)
    return;
  return parameter.slice(spreadIndex + 3).trimEnd();
};
var inferBodyReference = (code, aliases, inference) => {
  const access = (type47, alias) => code.includes(alias + "." + type47) || code.includes(alias + '["' + type47 + '"]') || code.includes(alias + "['" + type47 + "']");
  for (let alias of aliases) {
    if (!alias)
      continue;
    if (alias.charCodeAt(0) === 123) {
      alias = retrieveRootParamters(alias);
      if (!inference.query && alias.includes("query"))
        inference.query = true;
      if (!inference.headers && alias.includes("headers"))
        inference.headers = true;
      if (!inference.body && alias.includes("body"))
        inference.body = true;
      if (!inference.cookie && alias.includes("cookie"))
        inference.cookie = true;
      if (!inference.set && alias.includes("set"))
        inference.set = true;
      continue;
    }
    if (code.includes("(" + alias + ")")) {
      inference.query = true;
      inference.headers = true;
      inference.body = true;
      inference.cookie = true;
      inference.set = true;
      inference.queries = [];
      inference.unknownQueries = true;
      break;
    }
    if (!inference.query && access("query", alias))
      inference.query = true;
    if (code.includes("return " + alias) || code.includes("return " + alias + ".query")) {
      inference.query = true;
      inference.unknownQueries = true;
      inference.queries = [];
    }
    if (!inference.unknownQueries && inference.query) {
      let keyword = alias + ".";
      if (code.includes(keyword + "query"))
        keyword = alias + ".query";
      while (true) {
        let start = code.indexOf(keyword);
        if (start === -1 && code.indexOf(alias + "[") !== -1) {
          inference.queries = [];
          inference.unknownQueries = true;
          break;
        }
        if (start !== -1) {
          let end = findEndIndex("", code, start + keyword.length + 1);
          if (end === -1)
            end = undefined;
          const index = start + alias.length + 1;
          code = code.slice(start + alias.length + 1);
          let query = code.slice(0, end ? end - index : end).trimEnd();
          while (start !== -1) {
            start = query.indexOf(".");
            if (start !== -1)
              query = query.slice(start + 1);
          }
          if (query.charCodeAt(query.length - 1) === 59)
            query = query.slice(0, -1);
          if (query.charCodeAt(query.length - 1) === 44)
            query = query.slice(0, -1);
          if (query.charCodeAt(query.length - 1) === 93)
            query = query.slice(0, -1);
          if (query.charCodeAt(query.length - 1) === 41)
            query = query.slice(0, -1);
          if (query && !inference.queries.includes(query)) {
            inference.queries.push(query);
            continue;
          }
        }
        break;
      }
    }
    if (!inference.headers && access("headers", alias))
      inference.headers = true;
    if (!inference.body && access("body", alias))
      inference.body = true;
    if (!inference.cookie && access("cookie", alias))
      inference.cookie = true;
    if (!inference.set && access("set", alias))
      inference.set = true;
    if (inference.query && inference.headers && inference.body && inference.cookie && inference.set)
      break;
  }
  return aliases;
};
var removeDefaultParameter = (parameter) => {
  while (true) {
    const index = parameter.indexOf("=");
    if (index === -1)
      break;
    const commaIndex = parameter.indexOf(",", index);
    const bracketIndex = parameter.indexOf("}", index);
    const end = [commaIndex, bracketIndex].filter((i) => i > 0).sort((a2, b) => a2 - b)[0] || -1;
    if (end === -1) {
      parameter = parameter.slice(0, index);
      break;
    }
    parameter = parameter.slice(0, index) + parameter.slice(end);
  }
  return parameter.split(",").map((i) => i.trim()).join(", ");
};
var validateInferencedQueries = (queries) => {
  for (const query of queries) {
    if (query.charCodeAt(0) === 123)
      return false;
    if (query.indexOf("'") !== -1)
      return false;
    if (query.indexOf('"') !== -1)
      return false;
    if (query.indexOf("\n") !== -1)
      return false;
    if (query.indexOf("	") !== -1)
      return false;
  }
  return true;
};
var inferTraceBodyReference = (code, aliases, inference) => {
  const access = (type47, alias) => code.includes(type47 + "." + alias) || code.includes(type47 + '["' + alias + '"]') || code.includes(type47 + "['" + alias + "']");
  for (let alias of aliases) {
    if (alias.charCodeAt(0) === 123) {
      alias = retrieveRootParamters(alias);
      if (!inference.request && alias.includes("request"))
        inference.request = true;
      if (!inference.parse && alias.includes("parse"))
        inference.parse = true;
      if (!inference.transform && alias.includes("transform"))
        inference.transform = true;
      if (!inference.handle && alias.includes("handle"))
        inference.handle = true;
      if (!inference.beforeHandle && alias.includes("beforeHandle"))
        inference.beforeHandle = true;
      if (!inference.afterHandle && alias.includes("afterHandle"))
        inference.afterHandle = true;
      if (!inference.error && alias.includes("error"))
        inference.error = true;
      if (!inference.context && alias.includes("context"))
        inference.context = true;
      if (!inference.store && alias.includes("store"))
        inference.store = true;
      if (!inference.set && alias.includes("set"))
        inference.set = true;
      continue;
    }
    if (code.includes("(" + alias + ")")) {
      inference.request = true;
      inference.parse = true;
      inference.transform = true;
      inference.handle = true;
      inference.beforeHandle = true;
      inference.afterHandle = true;
      inference.error = true;
      inference.context = true;
      inference.store = true;
      inference.set = true;
      break;
    }
    if (!inference.request && access("request", alias))
      inference.request = true;
    if (!inference.parse && access("parse", alias))
      inference.parse = true;
    if (!inference.transform && access("transform", alias))
      inference.transform = true;
    if (!inference.handle && access("handle", alias))
      inference.handle = true;
    if (!inference.beforeHandle && access("beforeHandle", alias))
      inference.beforeHandle = true;
    if (!inference.afterHandle && access("afterHandle", alias))
      inference.afterHandle = true;
    if (!inference.error && access("error", alias))
      inference.error = true;
    if (!inference.context && access("context", alias))
      inference.context = true;
    if (!inference.store && access("store", alias))
      inference.store = true;
    if (!inference.set && access("set", alias))
      inference.set = true;
    if (inference.request && inference.parse && inference.transform && inference.handle && inference.beforeHandle && inference.afterHandle && inference.error && inference.context && inference.store && inference.set)
      break;
  }
  return aliases;
};
var sucrose = (lifeCycle, inference = {
  queries: [],
  query: false,
  headers: false,
  body: false,
  cookie: false,
  set: false,
  unknownQueries: false
}) => {
  const events = [];
  if (lifeCycle.handler && typeof lifeCycle.handler === "function")
    events.push(lifeCycle.handler);
  if (lifeCycle.beforeHandle?.length)
    events.push(...lifeCycle.beforeHandle);
  if (lifeCycle.parse?.length)
    events.push(...lifeCycle.parse);
  if (lifeCycle.error?.length)
    events.push(...lifeCycle.error);
  if (lifeCycle.transform?.length)
    events.push(...lifeCycle.transform);
  if (lifeCycle.afterHandle?.length)
    events.push(...lifeCycle.afterHandle);
  if (lifeCycle.mapResponse?.length)
    events.push(...lifeCycle.mapResponse);
  if (lifeCycle.request?.length)
    events.push(...lifeCycle.request);
  if (lifeCycle.onResponse?.length)
    events.push(...lifeCycle.onResponse);
  for (const e2 of events) {
    if (!e2)
      continue;
    const event = "fn" in e2 ? e2.fn : e2;
    const [parameter, body, { isArrowReturn }] = separateFunction(event.toString());
    const rootParameters = findParameterReference(parameter, inference);
    const mainParameter = extractMainParameter(rootParameters);
    if (isArrowReturn && (body === "query" || rootParameters && body.startsWith(rootParameters + ".query"))) {
      inference.query = true;
      inference.unknownQueries = true;
      inference.queries = [];
    }
    if (mainParameter) {
      const aliases = findAlias(mainParameter, body);
      aliases.splice(0, -1, mainParameter);
      inferBodyReference(body, aliases, inference);
    }
    const context = rootParameters || mainParameter;
    if (context && body.includes("return " + context + ".query")) {
      inference.query = true;
      inference.unknownQueries = true;
      inference.queries = [];
    }
    if (inference.query) {
      inferBodyReference(body, ["query"], inference);
      const queryIndex = parameter.indexOf("query: {");
      if (queryIndex !== -1) {
        const part = parameter.slice(queryIndex + 7);
        const [start, end] = bracketPairRange(part);
        const queryBracket = removeDefaultParameter(part.slice(start, end));
        for (let query of queryBracket.slice(1, -1).split(",")) {
          const index = query.indexOf(":");
          if (index !== -1)
            query = query.slice(0, index);
          query = query.trim();
          if (query && !inference.queries.includes(query))
            inference.queries.push(query.trim());
        }
      }
    }
    if (inference.query && inference.headers && inference.body && inference.cookie && inference.set)
      break;
  }
  if (!validateInferencedQueries(inference.queries)) {
    inference.unknownQueries = true;
    inference.queries = [];
  }
  return inference;
};
var sucroseTrace = (traces, inference = {
  request: false,
  parse: false,
  transform: false,
  handle: false,
  beforeHandle: false,
  afterHandle: false,
  error: false,
  context: false,
  store: false,
  set: false
}) => {
  for (const handler of traces) {
    const [parameter, body] = separateFunction(handler.toString());
    const rootParameters = findTraceParameterReference(parameter, inference);
    const mainParameter = extractMainParameter(rootParameters);
    if (mainParameter) {
      const aliases = findAlias(mainParameter, body);
      aliases.splice(0, -1, mainParameter);
      inferTraceBodyReference(body, aliases, inference);
      continue;
    }
    if (inference.request && inference.parse && inference.transform && inference.handle && inference.beforeHandle && inference.afterHandle && inference.error && inference.context && inference.store && inference.set)
      break;
  }
  return inference;
};
var Cookie = class {
  constructor(name, jar, initial = {}) {
    this.name = name;
    this.jar = jar;
    this.initial = initial;
  }
  get cookie() {
    if (!(this.name in this.jar))
      return this.initial;
    return this.jar[this.name];
  }
  set cookie(jar) {
    if (!(this.name in this.jar))
      this.jar[this.name] = this.initial;
    this.jar[this.name] = jar;
  }
  get value() {
    return this.cookie.value;
  }
  set value(value15) {
    if (!(this.name in this.jar))
      this.jar[this.name] = this.initial;
    this.jar[this.name].value = value15;
  }
  get expires() {
    return this.cookie.expires;
  }
  set expires(expires) {
    this.cookie.expires = expires;
  }
  get maxAge() {
    return this.cookie.maxAge;
  }
  set maxAge(maxAge) {
    this.cookie.maxAge = maxAge;
  }
  get domain() {
    return this.cookie.domain;
  }
  set domain(domain) {
    this.cookie.domain = domain;
  }
  get path() {
    return this.cookie.path;
  }
  set path(path) {
    this.cookie.path = path;
  }
  get secure() {
    return this.cookie.secure;
  }
  set secure(secure) {
    this.cookie.secure = secure;
  }
  get httpOnly() {
    return this.cookie.httpOnly;
  }
  set httpOnly(httpOnly) {
    this.cookie.httpOnly = httpOnly;
  }
  get sameSite() {
    return this.cookie.sameSite;
  }
  set sameSite(sameSite) {
    this.cookie.sameSite = sameSite;
  }
  get priority() {
    return this.cookie.priority;
  }
  set priority(priority) {
    this.cookie.priority = priority;
  }
  get partitioned() {
    return this.cookie.partitioned;
  }
  set partitioned(partitioned) {
    this.cookie.partitioned = partitioned;
  }
  get secrets() {
    return this.cookie.secrets;
  }
  set secrets(secrets) {
    this.cookie.secrets = secrets;
  }
  update(config) {
    this.cookie = Object.assign(this.cookie, typeof config === "function" ? config(this.cookie) : config);
    return this;
  }
  set(config) {
    this.cookie = Object.assign({
      ...this.initial,
      value: this.value
    }, typeof config === "function" ? config(this.cookie) : config);
    return this;
  }
  remove() {
    if (this.value === undefined)
      return;
    this.set({
      expires: new Date(0),
      maxAge: 0,
      value: ""
    });
    return this;
  }
  toString() {
    return typeof this.value === "object" ? JSON.stringify(this.value) : this.value?.toString() ?? "";
  }
};
var createCookieJar = (set2, store, initial) => {
  if (!set2.cookie)
    set2.cookie = {};
  return new Proxy(store, {
    get(_, key) {
      if (key in store)
        return new Cookie(key, set2.cookie, Object.assign({}, initial ?? {}, store[key]));
      return new Cookie(key, set2.cookie, Object.assign({}, initial));
    }
  });
};
var parseCookie = async (set2, cookieString, {
  secrets,
  sign,
  ...initial
} = {}) => {
  if (!cookieString)
    return createCookieJar(set2, {}, initial);
  const isStringKey = typeof secrets === "string";
  if (sign && sign !== true && !Array.isArray(sign))
    sign = [sign];
  const jar = {};
  const cookies = $parse(cookieString);
  for (const [name, v] of Object.entries(cookies)) {
    let value15 = import_fast_decode_uri_component.default(v);
    if (sign === true || sign?.includes(name)) {
      if (!secrets)
        throw new Error("No secret is provided to cookie plugin");
      if (isStringKey) {
        const temp = await unsignCookie(value15, secrets);
        if (temp === false)
          throw new InvalidCookieSignature(name);
        value15 = temp;
      } else {
        let decoded = true;
        for (let i = 0;i < secrets.length; i++) {
          const temp = await unsignCookie(value15, secrets[i]);
          if (temp !== false) {
            decoded = true;
            value15 = temp;
            break;
          }
        }
        if (!decoded)
          throw new InvalidCookieSignature(name);
      }
    }
    const start = value15.charCodeAt(0);
    if (start === 123 || start === 91)
      try {
        jar[name] = {
          value: JSON.parse(value15)
        };
        continue;
      } catch {
      }
    if (isNumericString(value15)) {
      jar[name] = {
        value: parseInt(value15)
      };
      continue;
    }
    if (value15 === "true") {
      jar[name] = {
        value: true
      };
      continue;
    }
    if (value15 === "false") {
      jar[name] = {
        value: false
      };
      continue;
    }
    jar[name] = {
      value: value15
    };
  }
  return createCookieJar(set2, jar, initial);
};
var hasHeaderShorthand = "toJSON" in new Headers;
var isNotEmpty = (obj) => {
  if (!obj)
    return false;
  for (const x in obj)
    return true;
  return false;
};
var handleFile = (response, set2) => {
  const size = response.size;
  if (!set2 && size || size && set2 && set2.status !== 206 && set2.status !== 304 && set2.status !== 412 && set2.status !== 416) {
    if (set2) {
      if (set2.headers instanceof Headers) {
        if (hasHeaderShorthand)
          set2.headers = set2.headers.toJSON();
        else
          for (const [key, value15] of set2.headers.entries())
            if (key in set2.headers)
              set2.headers[key] = value15;
      }
      return new Response(response, {
        status: set2.status,
        headers: Object.assign({
          "accept-ranges": "bytes",
          "content-range": `bytes 0-${size - 1}/${size}`
        }, set2.headers)
      });
    }
    return new Response(response, {
      headers: {
        "accept-ranges": "bytes",
        "content-range": `bytes 0-${size - 1}/${size}`
      }
    });
  }
  return new Response(response);
};
var parseSetCookies = (headers, setCookie) => {
  if (!headers)
    return headers;
  headers.delete("Set-Cookie");
  for (let i = 0;i < setCookie.length; i++) {
    const index = setCookie[i].indexOf("=");
    headers.append("Set-Cookie", `${setCookie[i].slice(0, index)}=${setCookie[i].slice(index + 1) || ""}`);
  }
  return headers;
};
var serializeCookie = (cookies) => {
  if (!cookies || !isNotEmpty(cookies))
    return;
  const set2 = [];
  for (const [key, property] of Object.entries(cookies)) {
    if (!key || !property)
      continue;
    const value15 = property.value;
    if (value15 === undefined || value15 === null)
      continue;
    set2.push($serialize(key, typeof value15 === "object" ? JSON.stringify(value15) : value15 + "", property));
  }
  if (set2.length === 0)
    return;
  if (set2.length === 1)
    return set2[0];
  return set2;
};
var mapResponse = (response, set2, request) => {
  if (response?.$passthrough)
    response = response?.[response.$passthrough];
  if (response?.[ELYSIA_RESPONSE]) {
    set2.status = response[ELYSIA_RESPONSE];
    response = response.response;
  }
  if (isNotEmpty(set2.headers) || set2.status !== 200 || set2.redirect || set2.cookie) {
    if (typeof set2.status === "string")
      set2.status = StatusMap[set2.status];
    if (set2.redirect) {
      set2.headers.Location = set2.redirect;
      if (!set2.status || set2.status < 300 || set2.status >= 400)
        set2.status = 302;
    }
    if (set2.cookie && isNotEmpty(set2.cookie))
      set2.headers["Set-Cookie"] = serializeCookie(set2.cookie);
    if (set2.headers["Set-Cookie"] && Array.isArray(set2.headers["Set-Cookie"])) {
      set2.headers = parseSetCookies(new Headers(set2.headers), set2.headers["Set-Cookie"]);
    }
    switch (response?.constructor?.name) {
      case "String":
        return new Response(response, set2);
      case "Blob":
        return handleFile(response, set2);
      case "Array":
        return Response.json(response, set2);
      case "Object":
        for (const value15 in Object.values(response)) {
          switch (value15?.constructor?.name) {
            case "Blob":
            case "File":
            case "ArrayBuffer":
            case "FileRef":
              return new Response(form(response));
            default:
              break;
          }
        }
        return Response.json(response, set2);
      case "ReadableStream":
        if (!set2.headers["content-type"]?.startsWith("text/event-stream"))
          set2.headers["content-type"] = "text/event-stream; charset=utf-8";
        request?.signal.addEventListener("abort", {
          handleEvent() {
            if (!request?.signal.aborted)
              response.cancel(request);
          }
        }, {
          once: true
        });
        return new Response(response, set2);
      case undefined:
        if (!response)
          return new Response("", set2);
        return Response.json(response, set2);
      case "Response":
        let isCookieSet = false;
        if (set2.headers instanceof Headers)
          for (const key of set2.headers.keys()) {
            if (key === "set-cookie") {
              if (isCookieSet)
                continue;
              isCookieSet = true;
              for (const cookie of set2.headers.getSetCookie()) {
                response.headers.append("set-cookie", cookie);
              }
            } else
              response.headers.append(key, set2.headers?.get(key) ?? "");
          }
        else
          for (const key in set2.headers)
            response.headers.append(key, set2.headers[key]);
        if (response.status !== set2.status)
          set2.status = response.status;
        return response;
      case "Error":
        return errorToResponse(response, set2);
      case "Promise":
        return response.then((x) => mapResponse(x, set2));
      case "Function":
        return mapResponse(response(), set2);
      case "Number":
      case "Boolean":
        return new Response(response.toString(), set2);
      case "Cookie":
        if (response instanceof Cookie)
          return new Response(response.value, set2);
        return new Response(response?.toString(), set2);
      case "FormData":
        return new Response(response, set2);
      default:
        if (response instanceof Response) {
          let isCookieSet2 = false;
          if (set2.headers instanceof Headers)
            for (const key of set2.headers.keys()) {
              if (key === "set-cookie") {
                if (isCookieSet2)
                  continue;
                isCookieSet2 = true;
                for (const cookie of set2.headers.getSetCookie()) {
                  response.headers.append("set-cookie", cookie);
                }
              } else
                response.headers.append(key, set2.headers?.get(key) ?? "");
            }
          else
            for (const key in set2.headers)
              response.headers.append(key, set2.headers[key]);
          if (hasHeaderShorthand)
            set2.headers = response.headers.toJSON();
          else
            for (const [key, value15] of response.headers.entries())
              if (key in set2.headers)
                set2.headers[key] = value15;
          return response;
        }
        if (response instanceof Promise)
          return response.then((x) => mapResponse(x, set2));
        if (response instanceof Error)
          return errorToResponse(response, set2);
        if ("charCodeAt" in response) {
          const code = response.charCodeAt(0);
          if (code === 123 || code === 91) {
            if (!set2.headers["Content-Type"])
              set2.headers["Content-Type"] = "application/json";
            return new Response(JSON.stringify(response), set2);
          }
        }
        return new Response(response, set2);
    }
  } else
    switch (response?.constructor?.name) {
      case "String":
        return new Response(response);
      case "Blob":
        return handleFile(response, set2);
      case "Array":
        return Response.json(response);
      case "Object":
        for (const value15 in Object.values(response)) {
          switch (value15?.constructor?.name) {
            case "Blob":
            case "File":
            case "ArrayBuffer":
            case "FileRef":
              return new Response(form(response), set2);
            default:
              break;
          }
        }
        return Response.json(response, set2);
      case "ReadableStream":
        request?.signal.addEventListener("abort", {
          handleEvent() {
            if (!request?.signal.aborted)
              response.cancel(request);
          }
        }, {
          once: true
        });
        return new Response(response, {
          headers: {
            "Content-Type": "text/event-stream; charset=utf-8"
          }
        });
      case undefined:
        if (!response)
          return new Response("");
        return new Response(JSON.stringify(response), {
          headers: {
            "content-type": "application/json"
          }
        });
      case "Response":
        return response;
      case "Error":
        return errorToResponse(response, set2);
      case "Promise":
        return response.then((x) => {
          const r2 = mapCompactResponse(x);
          if (r2 !== undefined)
            return r2;
          return new Response("");
        });
      case "Function":
        return mapCompactResponse(response());
      case "Number":
      case "Boolean":
        return new Response(response.toString());
      case "Cookie":
        if (response instanceof Cookie)
          return new Response(response.value, set2);
        return new Response(response?.toString(), set2);
      case "FormData":
        return new Response(response, set2);
      default:
        if (response instanceof Response)
          return new Response(response.body, {
            headers: {
              "Content-Type": "application/json"
            }
          });
        if (response instanceof Promise)
          return response.then((x) => mapResponse(x, set2));
        if (response instanceof Error)
          return errorToResponse(response, set2);
        if ("charCodeAt" in response) {
          const code = response.charCodeAt(0);
          if (code === 123 || code === 91) {
            if (!set2.headers["Content-Type"])
              set2.headers["Content-Type"] = "application/json";
            return new Response(JSON.stringify(response), set2);
          }
        }
        return new Response(response);
    }
};
var mapEarlyResponse = (response, set2, request) => {
  if (response === undefined || response === null)
    return;
  if (response?.$passthrough)
    response = response?.[response.$passthrough];
  if (response?.[ELYSIA_RESPONSE]) {
    set2.status = response[ELYSIA_RESPONSE];
    response = response.response;
  }
  if (isNotEmpty(set2.headers) || set2.status !== 200 || set2.redirect || set2.cookie) {
    if (typeof set2.status === "string")
      set2.status = StatusMap[set2.status];
    if (set2.redirect) {
      set2.headers.Location = set2.redirect;
      if (!set2.status || set2.status < 300 || set2.status >= 400)
        set2.status = 302;
    }
    if (set2.cookie && isNotEmpty(set2.cookie))
      set2.headers["Set-Cookie"] = serializeCookie(set2.cookie);
    if (set2.headers["Set-Cookie"] && Array.isArray(set2.headers["Set-Cookie"]))
      set2.headers = parseSetCookies(new Headers(set2.headers), set2.headers["Set-Cookie"]);
    switch (response?.constructor?.name) {
      case "String":
        return new Response(response, set2);
      case "Blob":
        return handleFile(response, set2);
      case "Array":
        return Response.json(response, set2);
      case "Object":
        for (const value15 in Object.values(response)) {
          switch (value15?.constructor?.name) {
            case "Blob":
            case "File":
            case "ArrayBuffer":
            case "FileRef":
              return new Response(form(response), set2);
            default:
              break;
          }
        }
        return Response.json(response, set2);
      case "ReadableStream":
        if (!set2.headers["content-type"]?.startsWith("text/event-stream"))
          set2.headers["content-type"] = "text/event-stream; charset=utf-8";
        request?.signal.addEventListener("abort", {
          handleEvent() {
            if (!request?.signal.aborted)
              response.cancel(request);
          }
        }, {
          once: true
        });
        return new Response(response, set2);
      case undefined:
        if (!response)
          return;
        return Response.json(response, set2);
      case "Response":
        let isCookieSet = false;
        if (set2.headers instanceof Headers)
          for (const key of set2.headers.keys()) {
            if (key === "set-cookie") {
              if (isCookieSet)
                continue;
              isCookieSet = true;
              for (const cookie of set2.headers.getSetCookie()) {
                response.headers.append("set-cookie", cookie);
              }
            } else
              response.headers.append(key, set2.headers?.get(key) ?? "");
          }
        else
          for (const key in set2.headers)
            response.headers.append(key, set2.headers[key]);
        if (response.status !== set2.status)
          set2.status = response.status;
        return response;
      case "Promise":
        return response.then((x) => {
          const r2 = mapEarlyResponse(x, set2);
          if (r2 !== undefined)
            return r2;
        });
      case "Error":
        return errorToResponse(response, set2);
      case "Function":
        return mapEarlyResponse(response(), set2);
      case "Number":
      case "Boolean":
        return new Response(response.toString(), set2);
      case "FormData":
        return new Response(response);
      case "Cookie":
        if (response instanceof Cookie)
          return new Response(response.value, set2);
        return new Response(response?.toString(), set2);
      default:
        if (response instanceof Response) {
          let isCookieSet2 = false;
          if (set2.headers instanceof Headers)
            for (const key of set2.headers.keys()) {
              if (key === "set-cookie") {
                if (isCookieSet2)
                  continue;
                isCookieSet2 = true;
                for (const cookie of set2.headers.getSetCookie()) {
                  response.headers.append("set-cookie", cookie);
                }
              } else
                response.headers.append(key, set2.headers?.get(key) ?? "");
            }
          else
            for (const key in set2.headers)
              response.headers.append(key, set2.headers[key]);
          if (response.status !== set2.status)
            set2.status = response.status;
          return response;
        }
        if (response instanceof Promise)
          return response.then((x) => mapEarlyResponse(x, set2));
        if (response instanceof Error)
          return errorToResponse(response, set2);
        if ("charCodeAt" in response) {
          const code = response.charCodeAt(0);
          if (code === 123 || code === 91) {
            if (!set2.headers["Content-Type"])
              set2.headers["Content-Type"] = "application/json";
            return new Response(JSON.stringify(response), set2);
          }
        }
        return new Response(response, set2);
    }
  } else
    switch (response?.constructor?.name) {
      case "String":
        return new Response(response);
      case "Blob":
        return handleFile(response, set2);
      case "Array":
        return Response.json(response);
      case "Object":
        for (const value15 in Object.values(response)) {
          switch (value15?.constructor?.name) {
            case "Blob":
            case "File":
            case "ArrayBuffer":
            case "FileRef":
              return new Response(form(response), set2);
            default:
              break;
          }
        }
        return Response.json(response, set2);
      case "ReadableStream":
        request?.signal.addEventListener("abort", {
          handleEvent() {
            if (!request?.signal.aborted)
              response.cancel(request);
          }
        }, {
          once: true
        });
        return new Response(response, {
          headers: {
            "Content-Type": "text/event-stream; charset=utf-8"
          }
        });
      case undefined:
        if (!response)
          return new Response("");
        return new Response(JSON.stringify(response), {
          headers: {
            "content-type": "application/json"
          }
        });
      case "Response":
        return response;
      case "Promise":
        return response.then((x) => {
          const r2 = mapEarlyResponse(x, set2);
          if (r2 !== undefined)
            return r2;
        });
      case "Error":
        return errorToResponse(response, set2);
      case "Function":
        return mapCompactResponse(response());
      case "Number":
      case "Boolean":
        return new Response(response.toString());
      case "Cookie":
        if (response instanceof Cookie)
          return new Response(response.value, set2);
        return new Response(response?.toString(), set2);
      case "FormData":
        return new Response(response);
      default:
        if (response instanceof Response)
          return new Response(response.body, {
            headers: {
              "Content-Type": "application/json"
            }
          });
        if (response instanceof Promise)
          return response.then((x) => mapEarlyResponse(x, set2));
        if (response instanceof Error)
          return errorToResponse(response, set2);
        if ("charCodeAt" in response) {
          const code = response.charCodeAt(0);
          if (code === 123 || code === 91) {
            if (!set2.headers["Content-Type"])
              set2.headers["Content-Type"] = "application/json";
            return new Response(JSON.stringify(response), set2);
          }
        }
        return new Response(response);
    }
};
var mapCompactResponse = (response, request) => {
  if (response?.$passthrough)
    response = response?.[response.$passthrough];
  if (response?.[ELYSIA_RESPONSE])
    return mapResponse(response.response, {
      status: response[ELYSIA_RESPONSE],
      headers: {}
    });
  switch (response?.constructor?.name) {
    case "String":
      return new Response(response);
    case "Blob":
      return handleFile(response);
    case "Array":
      return Response.json(response);
    case "Object":
      form:
        for (const value15 of Object.values(response))
          switch (value15?.constructor?.name) {
            case "Blob":
            case "File":
            case "ArrayBuffer":
            case "FileRef":
              return new Response(form(response));
            case "Object":
              break form;
            default:
              break;
          }
      return Response.json(response);
    case "ReadableStream":
      request?.signal.addEventListener("abort", {
        handleEvent() {
          if (!request?.signal.aborted)
            response.cancel(request);
        }
      }, {
        once: true
      });
      return new Response(response, {
        headers: {
          "Content-Type": "text/event-stream; charset=utf-8"
        }
      });
    case undefined:
      if (!response)
        return new Response("");
      return new Response(JSON.stringify(response), {
        headers: {
          "content-type": "application/json"
        }
      });
    case "Response":
      return response;
    case "Error":
      return errorToResponse(response);
    case "Promise":
      return response.then(mapCompactResponse);
    case "Function":
      return mapCompactResponse(response());
    case "Number":
    case "Boolean":
      return new Response(response.toString());
    case "FormData":
      return new Response(response);
    default:
      if (response instanceof Response)
        return new Response(response.body, {
          headers: {
            "Content-Type": "application/json"
          }
        });
      if (response instanceof Promise)
        return response.then(mapCompactResponse);
      if (response instanceof Error)
        return errorToResponse(response);
      if ("charCodeAt" in response) {
        const code = response.charCodeAt(0);
        if (code === 123 || code === 91) {
          return new Response(JSON.stringify(response), {
            headers: {
              "Content-Type": "application/json"
            }
          });
        }
      }
      return new Response(response);
  }
};
var errorToResponse = (error22, set2) => new Response(JSON.stringify({
  name: error22?.name,
  message: error22?.message,
  cause: error22?.cause
}), {
  status: set2?.status !== 200 ? set2?.status ?? 500 : 500,
  headers: set2?.headers
});
var replaceUrlPath = (url, pathname) => {
  const urlObject = new URL(url);
  urlObject.pathname = pathname;
  return urlObject.toString();
};
var isClass = (v) => typeof v === "function" && /^\s*class\s+/.test(v.toString()) || v.toString().startsWith("[object ") || isNotEmpty(Object.getPrototypeOf(v));
var isObject = (item) => item && typeof item === "object" && !Array.isArray(item);
var mergeDeep = (target, source, {
  skipKeys
} = {}) => {
  if (isObject(target) && isObject(source))
    for (const [key, value15] of Object.entries(source)) {
      if (skipKeys?.includes(key))
        continue;
      if (!isObject(value15) || !(key in target) || isClass(value15)) {
        target[key] = value15;
        continue;
      }
      target[key] = mergeDeep(target[key], value15);
    }
  return target;
};
var mergeCookie = (a2, b) => {
  const { properties: _, ...target } = a2 ?? {};
  const { properties: __, ...source } = b ?? {};
  return mergeDeep(target, source);
};
var mergeObjectArray = (a2 = [], b = []) => {
  if (!a2)
    return [];
  if (!b)
    return a2;
  const array5 = [];
  const checksums = [];
  if (!Array.isArray(a2))
    a2 = [a2];
  if (!Array.isArray(b))
    b = [b];
  for (const item of a2) {
    array5.push(item);
    if (item.checksum)
      checksums.push(item.checksum);
  }
  for (const item of b)
    if (!checksums.includes(item.checksum))
      array5.push(item);
  return array5;
};
var primitiveHooks = [
  "start",
  "request",
  "parse",
  "transform",
  "resolve",
  "beforeHandle",
  "afterHandle",
  "onResponse",
  "mapResponse",
  "trace",
  "error",
  "stop",
  "body",
  "headers",
  "params",
  "query",
  "response",
  "type",
  "detail"
];
var primitiveHookMap = primitiveHooks.reduce((acc, x) => (acc[x] = true, acc), {});
var mergeResponse = (a2, b) => {
  const isRecordNumber = (x) => typeof x === "object" && Object.keys(x).every(isNumericString);
  if (isRecordNumber(a2) && isRecordNumber(b))
    return { ...a2, ...b };
  return b ?? a2;
};
var mergeHook = (a2, b, { allowMacro = false } = {}) => {
  const rest4 = allowMacro ? {
    ...a2,
    ...b
  } : undefined;
  return {
    ...rest4,
    body: b?.body ?? a2?.body,
    headers: b?.headers ?? a2?.headers,
    params: b?.params ?? a2?.params,
    query: b?.query ?? a2?.query,
    response: mergeResponse(a2?.response, b?.response),
    type: a2?.type || b?.type,
    detail: mergeDeep(b?.detail ?? {}, a2?.detail ?? {}),
    parse: mergeObjectArray(a2?.parse, b?.parse),
    transform: mergeObjectArray(a2?.transform, b?.transform),
    beforeHandle: mergeObjectArray(a2?.beforeHandle, b?.beforeHandle),
    afterHandle: mergeObjectArray(a2?.afterHandle, b?.afterHandle),
    onResponse: mergeObjectArray(a2?.onResponse, b?.onResponse),
    mapResponse: mergeObjectArray(a2?.mapResponse, b?.mapResponse),
    trace: mergeObjectArray(a2?.trace, b?.trace),
    error: mergeObjectArray(a2?.error, b?.error)
  };
};
var getSchemaValidator = (s, {
  models = {},
  dynamic = false,
  normalize = false,
  additionalProperties = normalize
} = {}) => {
  if (!s)
    return;
  if (typeof s === "string" && !(s in models))
    return;
  const schema3 = typeof s === "string" ? models[s] : s;
  if (schema3.type === "object" && "additionalProperties" in schema3 === false)
    schema3.additionalProperties = additionalProperties;
  const cleaner = (value15) => exports_value2.Clean(schema3, value15);
  if (dynamic) {
    const validator = {
      schema: schema3,
      references: "",
      checkFunc: () => {
      },
      code: "",
      Check: (value15) => exports_value2.Check(schema3, value15),
      Errors: (value15) => exports_value2.Errors(schema3, value15),
      Code: () => ""
    };
    if (normalize && schema3.additionalProperties === true)
      validator.Clean = cleaner;
    if (schema3.config) {
      validator.config = schema3.config;
      if (validator?.schema?.config)
        delete validator.schema.config;
    }
    return validator;
  }
  const compiled = TypeCompiler.Compile(schema3, Object.values(models));
  compiled.Clean = cleaner;
  if (schema3.config) {
    compiled.config = schema3.config;
    if (compiled?.schema?.config)
      delete compiled.schema.config;
  }
  return compiled;
};
var getResponseSchemaValidator = (s, {
  models = {},
  dynamic = false,
  normalize = false,
  additionalProperties = normalize
}) => {
  if (!s)
    return;
  if (typeof s === "string" && !(s in models))
    return;
  const maybeSchemaOrRecord = typeof s === "string" ? models[s] : s;
  const compile = (schema3, references) => {
    const cleaner = (value15) => exports_value2.Clean(schema3, value15);
    if (dynamic)
      return {
        schema: schema3,
        references: "",
        checkFunc: () => {
        },
        code: "",
        Check: (value15) => exports_value2.Check(schema3, value15),
        Errors: (value15) => exports_value2.Errors(schema3, value15),
        Code: () => ""
      };
    const compiledValidator = TypeCompiler.Compile(schema3, references);
    if (normalize && schema3.additionalProperties === true)
      compiledValidator.Clean = cleaner;
    return compiledValidator;
  };
  if (Kind in maybeSchemaOrRecord) {
    if ("additionalProperties" in maybeSchemaOrRecord === false)
      maybeSchemaOrRecord.additionalProperties = additionalProperties;
    return {
      200: compile(maybeSchemaOrRecord, Object.values(models))
    };
  }
  const record4 = {};
  Object.keys(maybeSchemaOrRecord).forEach((status) => {
    const maybeNameOrSchema = maybeSchemaOrRecord[+status];
    if (typeof maybeNameOrSchema === "string") {
      if (maybeNameOrSchema in models) {
        const schema3 = models[maybeNameOrSchema];
        schema3.type === "object" && "additionalProperties" in schema3;
        record4[+status] = Kind in schema3 ? compile(schema3, Object.values(models)) : schema3;
      }
      return;
    }
    if (maybeNameOrSchema.type === "object" && "additionalProperties" in maybeNameOrSchema === false)
      maybeNameOrSchema.additionalProperties = additionalProperties;
    record4[+status] = Kind in maybeNameOrSchema ? compile(maybeNameOrSchema, Object.values(models)) : maybeNameOrSchema;
  });
  return record4;
};
var isBun = typeof Bun !== "undefined";
var hasHash = isBun && typeof Bun.hash === "function";
var checksum = (s) => {
  if (hasHash)
    return Bun.hash(s);
  let h = 9;
  for (let i = 0;i < s.length; )
    h = Math.imul(h ^ s.charCodeAt(i++), 9 ** 9);
  return h = h ^ h >>> 9;
};
var getCookieValidator = ({
  validator,
  defaultConfig = {},
  config,
  dynamic,
  models
}) => {
  let cookieValidator = getSchemaValidator(validator, {
    dynamic,
    models,
    additionalProperties: true
  });
  if (isNotEmpty(defaultConfig)) {
    if (cookieValidator) {
      cookieValidator.config = mergeCookie(cookieValidator.config, config);
    } else {
      cookieValidator = getSchemaValidator(t2.Cookie({}), {
        dynamic,
        models,
        additionalProperties: true
      });
      cookieValidator.config = defaultConfig;
    }
  }
  return cookieValidator;
};
var mergeLifeCycle = (a2, b, checksum2) => {
  const injectChecksum = (x) => {
    if (!x)
      return;
    if (!Array.isArray(x)) {
      const fn = x;
      if (checksum2 && !fn.checksum)
        fn.checksum = checksum2;
      if (fn.scope === "scoped")
        fn.scope = "local";
      return fn;
    }
    const fns = [...x];
    for (const fn of fns) {
      if (checksum2 && !fn.checksum)
        fn.checksum = checksum2;
      if (fn.scope === "scoped")
        fn.scope = "local";
    }
    return fns;
  };
  return {
    start: mergeObjectArray(a2.start, injectChecksum(b?.start)),
    request: mergeObjectArray(a2.request, injectChecksum(b?.request)),
    parse: mergeObjectArray(a2.parse, injectChecksum(b?.parse)),
    transform: mergeObjectArray(a2.transform, injectChecksum(b?.transform)),
    beforeHandle: mergeObjectArray(a2.beforeHandle, injectChecksum(b?.beforeHandle)),
    afterHandle: mergeObjectArray(a2.afterHandle, injectChecksum(b?.afterHandle)),
    mapResponse: mergeObjectArray(a2.mapResponse, injectChecksum(b?.mapResponse)),
    onResponse: mergeObjectArray(a2.onResponse, injectChecksum(b?.onResponse)),
    trace: a2.trace,
    error: mergeObjectArray(a2.error, injectChecksum(b?.error)),
    stop: mergeObjectArray(a2.stop, injectChecksum(b?.stop))
  };
};
var asHookType = (fn, inject, { skipIfHasType = false } = {}) => {
  if (!fn)
    return fn;
  if (!Array.isArray(fn)) {
    if (skipIfHasType)
      fn.scope ??= inject;
    else
      fn.scope = inject;
    return fn;
  }
  for (const x of fn)
    if (skipIfHasType)
      x.scope ??= inject;
    else
      x.scope = inject;
  return fn;
};
var filterGlobal = (fn) => {
  if (!fn)
    return fn;
  if (!Array.isArray(fn))
    switch (fn.scope) {
      case "global":
      case "scoped":
        return { ...fn };
      default:
        return { fn };
    }
  const array5 = [];
  for (const x of fn)
    switch (x.scope) {
      case "global":
      case "scoped":
        array5.push({
          ...x
        });
        break;
    }
  return array5;
};
var filterGlobalHook = (hook) => {
  return {
    ...hook,
    type: hook?.type,
    detail: hook?.detail,
    parse: filterGlobal(hook?.parse),
    transform: filterGlobal(hook?.transform),
    beforeHandle: filterGlobal(hook?.beforeHandle),
    afterHandle: filterGlobal(hook?.afterHandle),
    onResponse: filterGlobal(hook?.onResponse),
    error: filterGlobal(hook?.error),
    mapResponse: filterGlobal(hook?.mapResponse)
  };
};
var StatusMap = {
  Continue: 100,
  "Switching Protocols": 101,
  Processing: 102,
  "Early Hints": 103,
  OK: 200,
  Created: 201,
  Accepted: 202,
  "Non-Authoritative Information": 203,
  "No Content": 204,
  "Reset Content": 205,
  "Partial Content": 206,
  "Multi-Status": 207,
  "Already Reported": 208,
  "Multiple Choices": 300,
  "Moved Permanently": 301,
  Found: 302,
  "See Other": 303,
  "Not Modified": 304,
  "Temporary Redirect": 307,
  "Permanent Redirect": 308,
  "Bad Request": 400,
  Unauthorized: 401,
  "Payment Required": 402,
  Forbidden: 403,
  "Not Found": 404,
  "Method Not Allowed": 405,
  "Not Acceptable": 406,
  "Proxy Authentication Required": 407,
  "Request Timeout": 408,
  Conflict: 409,
  Gone: 410,
  "Length Required": 411,
  "Precondition Failed": 412,
  "Payload Too Large": 413,
  "URI Too Long": 414,
  "Unsupported Media Type": 415,
  "Range Not Satisfiable": 416,
  "Expectation Failed": 417,
  "I'm a teapot": 418,
  "Misdirected Request": 421,
  "Unprocessable Content": 422,
  Locked: 423,
  "Failed Dependency": 424,
  "Too Early": 425,
  "Upgrade Required": 426,
  "Precondition Required": 428,
  "Too Many Requests": 429,
  "Request Header Fields Too Large": 431,
  "Unavailable For Legal Reasons": 451,
  "Internal Server Error": 500,
  "Not Implemented": 501,
  "Bad Gateway": 502,
  "Service Unavailable": 503,
  "Gateway Timeout": 504,
  "HTTP Version Not Supported": 505,
  "Variant Also Negotiates": 506,
  "Insufficient Storage": 507,
  "Loop Detected": 508,
  "Not Extended": 510,
  "Network Authentication Required": 511
};
var InvertedStatusMap = Object.fromEntries(Object.entries(StatusMap).map(([k, v]) => [v, k]));
var encoder = new TextEncoder;
var signCookie = async (val, secret) => {
  if (typeof val !== "string")
    throw new TypeError("Cookie value must be provided as a string.");
  if (secret === null)
    throw new TypeError("Secret key must be provided.");
  const secretKey = await crypto.subtle.importKey("raw", encoder.encode(secret), { name: "HMAC", hash: "SHA-256" }, false, ["sign"]);
  const hmacBuffer = await crypto.subtle.sign("HMAC", secretKey, encoder.encode(val));
  return val + "." + removeTrailingEquals(Buffer.from(hmacBuffer).toString("base64"));
};
var unsignCookie = async (input, secret) => {
  if (typeof input !== "string")
    throw new TypeError("Signed cookie string must be provided.");
  if (secret === null)
    throw new TypeError("Secret key must be provided.");
  const tentativeValue = input.slice(0, input.lastIndexOf("."));
  const expectedInput = await signCookie(tentativeValue, secret);
  return expectedInput === input ? tentativeValue : false;
};
var traceBackMacro = (extension, property, hooks = property) => {
  if (!extension || typeof extension !== "object" || !property)
    return;
  for (const [key, value15] of Object.entries(property)) {
    if (key in primitiveHookMap || !(key in extension))
      continue;
    const v = extension[key];
    if (typeof v === "function") {
      v(value15);
    } else if (typeof v === "object")
      traceBackMacro(v, value15, hooks);
  }
};
var createMacroManager = ({
  globalHook,
  localHook
}) => (stackName) => (type47, fn) => {
  if (typeof type47 === "function")
    type47 = {
      fn: type47
    };
  if ("fn" in type47 || Array.isArray(type47)) {
    if (!localHook[stackName])
      localHook[stackName] = [];
    if (typeof localHook[stackName] === "function")
      localHook[stackName] = [localHook[stackName]];
    if (Array.isArray(type47))
      localHook[stackName] = localHook[stackName].concat(type47);
    else
      localHook[stackName].push(type47);
    return;
  }
  const { insert = "after", stack = "local" } = type47;
  if (typeof fn === "function")
    fn = { fn };
  if (stack === "global") {
    if (!Array.isArray(fn)) {
      if (insert === "before") {
        globalHook[stackName].unshift(fn);
      } else {
        globalHook[stackName].push(fn);
      }
    } else {
      if (insert === "before") {
        globalHook[stackName] = fn.concat(globalHook[stackName]);
      } else {
        globalHook[stackName] = globalHook[stackName].concat(fn);
      }
    }
  } else {
    if (!localHook[stackName])
      localHook[stackName] = [];
    if (typeof localHook[stackName] === "function")
      localHook[stackName] = [localHook[stackName]];
    if (!Array.isArray(fn)) {
      if (insert === "before") {
        localHook[stackName].unshift(fn);
      } else {
        localHook[stackName].push(fn);
      }
    } else {
      if (insert === "before") {
        localHook[stackName] = fn.concat(localHook[stackName]);
      } else {
        localHook[stackName] = localHook[stackName].concat(fn);
      }
    }
  }
};
var isNumericString = (message) => {
  if (message.length < 16)
    return message.trim().length !== 0 && !Number.isNaN(Number(message));
  if (message.length === 16) {
    const numVal = Number(message);
    if (numVal.toString() === message)
      return message.trim().length !== 0 && !Number.isNaN(numVal);
  }
  return false;
};
var PromiseGroup = class {
  constructor(onError = console.error) {
    this.onError = onError;
    this.root = null;
    this.promises = [];
  }
  get size() {
    return this.promises.length;
  }
  add(promise5) {
    this.promises.push(promise5);
    this.root ||= this.drain();
    return promise5;
  }
  async drain() {
    while (this.promises.length > 0) {
      try {
        await this.promises[0];
      } catch (error22) {
        this.onError(error22);
      }
      this.promises.shift();
    }
    this.root = null;
  }
  then(onfulfilled, onrejected) {
    return (this.root ?? Promise.resolve()).then(onfulfilled, onrejected);
  }
};
var fnToContainer = (fn) => {
  if (!fn)
    return fn;
  if (!Array.isArray(fn)) {
    if (typeof fn === "function")
      return { fn };
    else if ("fn" in fn)
      return fn;
  }
  const fns = [];
  for (const x of fn) {
    if (typeof x === "function")
      fns.push({ fn: x });
    else if ("fn" in x)
      fns.push(x);
  }
  return fns;
};
var localHookToLifeCycleStore = (a2) => {
  return {
    ...a2,
    start: fnToContainer(a2?.start),
    request: fnToContainer(a2?.request),
    parse: fnToContainer(a2?.parse),
    transform: fnToContainer(a2?.transform),
    beforeHandle: fnToContainer(a2?.beforeHandle),
    afterHandle: fnToContainer(a2?.afterHandle),
    onResponse: fnToContainer(a2?.onResponse),
    mapResponse: fnToContainer(a2?.mapResponse),
    trace: fnToContainer(a2?.trace),
    error: fnToContainer(a2?.error),
    stop: fnToContainer(a2?.stop)
  };
};
var lifeCycleToFn = (a2) => {
  return {
    ...a2,
    start: a2.start?.map((x) => x.fn),
    request: a2.request?.map((x) => x.fn),
    parse: a2.parse?.map((x) => x.fn),
    transform: a2.transform?.map((x) => x.fn),
    beforeHandle: a2.beforeHandle?.map((x) => x.fn),
    afterHandle: a2.afterHandle?.map((x) => x.fn),
    onResponse: a2.onResponse?.map((x) => x.fn),
    mapResponse: a2.mapResponse?.map((x) => x.fn),
    trace: a2.trace?.map((x) => x.fn),
    error: a2.error?.map((x) => x.fn),
    stop: a2.stop?.map((x) => x.fn)
  };
};
var cloneInference = (inference) => ({
  event: {
    body: inference.event.body,
    cookie: inference.event.cookie,
    headers: inference.event.headers,
    queries: [...inference.event.queries],
    query: inference.event.query,
    set: inference.event.set,
    unknownQueries: inference.event.unknownQueries
  },
  trace: {
    request: inference.trace.request,
    parse: inference.trace.parse,
    transform: inference.trace.transform,
    handle: inference.trace.handle,
    beforeHandle: inference.trace.beforeHandle,
    afterHandle: inference.trace.afterHandle,
    error: inference.trace.error,
    context: inference.trace.context,
    store: inference.trace.store,
    set: inference.trace.set
  }
});
var redirect = (url, status = 301) => Response.redirect(url, status);
var ELYSIA_FORM_DATA = Symbol("ElysiaFormData");
var form = (items) => {
  const formData = new FormData;
  for (const [key, value15] of Object.entries(items)) {
    if (Array.isArray(value15)) {
      for (const v of value15) {
        if (value15 instanceof File)
          formData.append(key, value15, value15.name);
        formData.append(key, v);
      }
      continue;
    }
    if (value15 instanceof File)
      formData.append(key, value15, value15.name);
    formData.append(key, value15);
  }
  return formData;
};
var env = typeof Bun !== "undefined" ? Bun.env : typeof process !== "undefined" ? process?.env : undefined;
var ERROR_CODE = Symbol("ElysiaErrorCode");
var ELYSIA_RESPONSE = Symbol("ElysiaResponse");
var isProduction = (env?.NODE_ENV ?? env?.ENV) === "production";
var error22 = (code, response) => ({
  [ELYSIA_RESPONSE]: StatusMap[code] ?? code,
  response: response ?? (code in InvertedStatusMap ? InvertedStatusMap[code] : code),
  _type: undefined
});
var InternalServerError = class extends Error {
  constructor(message) {
    super(message ?? "INTERNAL_SERVER_ERROR");
    this.code = "INTERNAL_SERVER_ERROR";
    this.status = 500;
  }
};
var NotFoundError = class extends Error {
  constructor(message) {
    super(message ?? "NOT_FOUND");
    this.code = "NOT_FOUND";
    this.status = 404;
  }
};
var ParseError = class extends Error {
  constructor(message, body) {
    super(message ?? "PARSE");
    this.body = body;
    this.code = "PARSE";
    this.status = 400;
  }
};
var InvalidCookieSignature = class extends Error {
  constructor(key, message) {
    super(message ?? `"${key}" has invalid cookie signature`);
    this.key = key;
    this.code = "INVALID_COOKIE_SIGNATURE";
    this.status = 400;
  }
};
var ValidationError = class _ValidationError extends Error {
  constructor(type47, validator, value15) {
    if (typeof value15 === "object" && ELYSIA_RESPONSE in value15)
      value15 = value15.response;
    const error23 = isProduction ? undefined : ("Errors" in validator) ? validator.Errors(value15).First() : exports_value2.Errors(validator, value15).First();
    const customError = error23?.schema.error !== undefined ? typeof error23.schema.error === "function" ? error23.schema.error({
      type: type47,
      validator,
      value: value15,
      get errors() {
        return [...validator.Errors(value15)];
      }
    }) : error23.schema.error : undefined;
    const accessor = error23?.path || "root";
    let message = "";
    if (customError !== undefined) {
      message = typeof customError === "object" ? JSON.stringify(customError) : customError + "";
    } else if (isProduction) {
      message = JSON.stringify({
        type: "validation",
        on: type47,
        message: error23?.message,
        found: value15
      });
    } else {
      const schema3 = validator?.schema ?? validator;
      const errors5 = "Errors" in validator ? [...validator.Errors(value15)] : [...exports_value2.Errors(validator, value15)];
      let expected;
      try {
        expected = exports_value2.Create(schema3);
      } catch (error32) {
        expected = {
          type: "Could not create expected value",
          message: error32?.message,
          error: error32
        };
      }
      message = JSON.stringify({
        type: "validation",
        on: type47,
        property: accessor,
        message: error23?.message,
        expected,
        found: value15,
        errors: errors5
      }, null, 2);
    }
    super(message);
    this.type = type47;
    this.validator = validator;
    this.value = value15;
    this.code = "VALIDATION";
    this.status = 422;
    Object.setPrototypeOf(this, _ValidationError.prototype);
  }
  get all() {
    return [...this.validator.Errors(this.value)];
  }
  static simplifyModel(validator) {
    const model = "schema" in validator ? validator.schema : validator;
    try {
      return exports_value2.Create(model);
    } catch {
      return model;
    }
  }
  get model() {
    return _ValidationError.simplifyModel(this.validator);
  }
  toResponse(headers) {
    return new Response(this.message, {
      status: 400,
      headers: {
        ...headers,
        "content-type": "application/json"
      }
    });
  }
};
var websocket = {
  open(ws) {
    ws.data.open?.(ws);
  },
  message(ws, message) {
    ws.data.message?.(ws, message);
  },
  drain(ws) {
    ws.data.drain?.(ws);
  },
  close(ws, code, reason) {
    ws.data.close?.(ws, code, reason);
  }
};
var ElysiaWS = class {
  constructor(raw, data) {
    this.raw = raw;
    this.data = data;
    this.validator = raw.data.validator;
    if (raw.data.id) {
      this.id = raw.data.id;
    } else {
      const array5 = new Uint32Array(1);
      crypto.getRandomValues(array5);
      this.id = array5[0].toString();
    }
  }
  get id() {
    return this.raw.data.id;
  }
  set id(newID) {
    this.raw.data.id = newID;
  }
  get publish() {
    return (topic, data = undefined, compress) => {
      if (this.validator?.Check(data) === false)
        throw new ValidationError("message", this.validator, data);
      if (typeof data === "object")
        data = JSON.stringify(data);
      this.raw.publish(topic, data, compress);
      return this;
    };
  }
  get send() {
    return (data) => {
      if (this.validator?.Check(data) === false)
        throw new ValidationError("message", this.validator, data);
      if (Buffer.isBuffer(data)) {
        this.raw.send(data);
        return this;
      }
      if (typeof data === "object")
        data = JSON.stringify(data);
      this.raw.send(data);
      return this;
    };
  }
  get subscribe() {
    return (room) => {
      this.raw.subscribe(room);
      return this;
    };
  }
  get unsubscribe() {
    return (room) => {
      this.raw.unsubscribe(room);
      return this;
    };
  }
  get cork() {
    return (callback) => {
      this.raw.cork(callback);
      return this;
    };
  }
  get close() {
    return () => {
      this.raw.close();
      return this;
    };
  }
  get terminate() {
    return this.raw.terminate.bind(this.raw);
  }
  get isSubscribed() {
    return this.raw.isSubscribed.bind(this.raw);
  }
  get remoteAddress() {
    return this.raw.remoteAddress;
  }
};
var headersHasToJSON = new Headers().toJSON;
var requestId = { value: 0 };
var createReport = ({
  hasTrace,
  hasTraceSet = false,
  addFn,
  condition = {}
}) => {
  if (hasTrace) {
    addFn(`
const reporter = getReporter()
`);
    return (event, {
      name,
      attribute = "",
      unit = 0
    } = {}) => {
      const dotIndex = event.indexOf(".");
      const isGroup = dotIndex === -1;
      if (event !== "request" && event !== "response" && !condition[isGroup ? event : event.slice(0, dotIndex)])
        return () => {
          if (hasTraceSet && event === "afterHandle")
            addFn(`
await traceDone
`);
        };
      if (isGroup)
        name ||= event;
      else
        name ||= "anonymous";
      addFn("\n" + `reporter.emit('event', {
					id,
					event: '${event}',
					type: 'begin',
					name: '${name}',
					time: performance.now(),
					${isGroup ? `unit: ${unit},` : ""}
					${attribute}
				})`.replace(/(\t| |\n)/g, "") + "\n");
      return () => {
        addFn("\n" + `reporter.emit('event', {
							id,
							event: '${event}',
							type: 'end',
							time: performance.now()
						})`.replace(/(\t| |\n)/g, "") + "\n");
        if (hasTraceSet && event === "afterHandle")
          addFn(`
await traceDone
`);
      };
    };
  } else {
    return () => () => {
    };
  }
};
var hasReturn = (fnLiteral) => {
  const parenthesisEnd = fnLiteral.indexOf(")");
  if (fnLiteral.charCodeAt(parenthesisEnd + 2) === 61 && fnLiteral.charCodeAt(parenthesisEnd + 5) !== 123) {
    return true;
  }
  return fnLiteral.includes("return");
};
var composeValidationFactory = (hasErrorHandler, {
  injectResponse = "",
  normalize = false
} = {}) => ({
  composeValidation: (type47, value15 = `c.${type47}`) => hasErrorHandler ? `c.set.status = 422; throw new ValidationError('${type47}', ${type47}, ${value15})` : `c.set.status = 422; return new ValidationError('${type47}', ${type47}, ${value15}).toResponse(c.set.headers)`,
  composeResponseValidation: (name = "r") => {
    const returnError = hasErrorHandler ? `throw new ValidationError('response', response[c.set.status], ${name})` : `return new ValidationError('response', response[c.set.status], ${name}).toResponse(c.set.headers)`;
    let code = "\n" + injectResponse + "\n";
    code += `let er

		if(${name} && typeof ${name} === "object" && ELYSIA_RESPONSE in ${name})
			er = ${name}[ELYSIA_RESPONSE]
`;
    if (normalize)
      code += `
			if(!er && response[c.set.status]?.Clean)
				${name} = response[c.set.status]?.Clean(${name})
			else if(response[er]?.Clean)
				${name}.response = response[er]?.Clean(${name}.response)`;
    code += `
			if(er) {
				if(!(${name} instanceof Response) && response[er]?.Check(${name}.response) === false) {
					if(!(response instanceof Error)) {
						c.set.status = ${name}[ELYSIA_RESPONSE]

						${returnError}
					}
				}
			} else if(!(${name} instanceof Response) && response[c.set.status]?.Check(${name}) === false) {
				if(!(response instanceof Error))
					${returnError}
			}
`;
    return code;
  }
});
var KindSymbol = Symbol.for("TypeBox.Kind");
var hasProperty = (expectedProperty, schema3) => {
  if (!schema3)
    return;
  if (schema3.type === "object") {
    const properties = schema3.properties;
    if (!properties)
      return false;
    for (const key of Object.keys(properties)) {
      const property = properties[key];
      if (expectedProperty in property)
        return true;
      if (property.type === "object") {
        if (hasProperty(expectedProperty, property))
          return true;
      } else if (property.anyOf) {
        for (let i = 0;i < property.anyOf.length; i++) {
          if (hasProperty(expectedProperty, property.anyOf[i]))
            return true;
        }
      }
    }
    return false;
  }
  return expectedProperty in schema3;
};
var TransformSymbol = Symbol.for("TypeBox.Transform");
var hasTransform = (schema3) => {
  if (!schema3)
    return;
  if (schema3.type === "object" && schema3.properties) {
    const properties = schema3.properties;
    for (const key of Object.keys(properties)) {
      const property = properties[key];
      if (property.type === "object") {
        if (hasTransform(property))
          return true;
      } else if (property.anyOf) {
        for (let i = 0;i < property.anyOf.length; i++)
          if (hasTransform(property.anyOf[i]))
            return true;
      }
      const hasTransformSymbol = TransformSymbol in property;
      if (hasTransformSymbol)
        return true;
    }
    return false;
  }
  return TransformSymbol in schema3 || schema3.properties && TransformSymbol in schema3.properties;
};
var matchFnReturn = /(?:return|=>) \S+\(/g;
var isAsync = (v) => {
  const fn = "fn" in v ? v.fn : v;
  if (fn.constructor.name === "AsyncFunction")
    return true;
  const literal14 = fn.toString();
  if (literal14.includes("=> response.clone("))
    return false;
  if (literal14.includes("await"))
    return true;
  if (literal14.includes("async"))
    return true;
  return !!literal14.match(matchFnReturn);
};
var composeHandler = ({
  app,
  path,
  method,
  localHook,
  hooks,
  validator,
  handler,
  allowMeta = false,
  appInference: { event: eventInference, trace: traceInference }
}) => {
  const isHandleFn = typeof handler === "function";
  if (!isHandleFn)
    handler = mapResponse(handler, {
      headers: app.setHeaders ?? {}
    });
  const hasErrorHandler = app.config.forceErrorEncapsulation && (isHandleFn || hooks.afterHandle.length > 0 || hooks.beforeHandle.length > 0 || hooks.transform.length > 0) || hooks.error.length > 0 || app.event.error.length > 0 || typeof Bun === "undefined" || hooks.onResponse.length > 0 || !!hooks.trace.length;
  const handle = isHandleFn ? `handler(c)` : `handler`;
  const handleResponse = hooks.onResponse.length ? `
;(async () => {${hooks.onResponse.map((_, i) => `await res${i}(c)`).join(";")}})();
` : "";
  const traceConditions = traceInference;
  const hasTrace = hooks.trace.length > 0;
  let fnLiteral = "";
  const inference = sucrose(Object.assign(localHook, {
    handler
  }), eventInference);
  const hasQuery = inference.query || !!validator.query;
  const hasBody = method !== "$INTERNALWS" && method !== "GET" && method !== "HEAD" && hooks.type !== "none" && (inference.body || !!validator.body);
  const defaultHeaders = app.setHeaders;
  const hasDefaultHeaders = defaultHeaders && !!Object.keys(defaultHeaders).length;
  const hasHeaders = inference.headers || validator.headers;
  const hasCookie = inference.cookie || !!validator.cookie;
  const cookieValidator = hasCookie ? getCookieValidator({
    validator: validator.cookie,
    defaultConfig: app.config.cookie,
    dynamic: !!app.config.aot,
    config: validator.cookie?.config ?? {},
    models: app.definitions.type
  }) : undefined;
  const cookieMeta = cookieValidator?.config;
  let encodeCookie = "";
  if (cookieMeta?.sign) {
    if (!cookieMeta.secrets)
      throw new Error(`t.Cookie required secret which is not set in (${method}) ${path}.`);
    const secret = !cookieMeta.secrets ? undefined : typeof cookieMeta.secrets === "string" ? cookieMeta.secrets : cookieMeta.secrets[0];
    encodeCookie += `const _setCookie = c.set.cookie
		if(_setCookie) {`;
    if (cookieMeta.sign === true) {
      encodeCookie += `for(const [key, cookie] of Object.entries(_setCookie)) {
				c.set.cookie[key].value = await signCookie(cookie.value, '${secret}')
			}`;
    } else
      for (const name of cookieMeta.sign) {
        encodeCookie += `if(_setCookie['${name}']?.value) { c.set.cookie['${name}'].value = await signCookie(_setCookie['${name}'].value, '${secret}') }
`;
      }
    encodeCookie += "}\n";
  }
  const normalize = app.config.normalize;
  const { composeValidation, composeResponseValidation } = composeValidationFactory(hasErrorHandler, {
    normalize
  });
  if (hasHeaders) {
    fnLiteral += headersHasToJSON ? `c.headers = c.request.headers.toJSON()
` : `c.headers = {}
                for (const [key, value] of c.request.headers.entries())
					c.headers[key] = value
				`;
  }
  if (hasCookie) {
    const get = (name, defaultValue) => {
      const value15 = cookieMeta?.[name] ?? defaultValue;
      if (!value15)
        return typeof defaultValue === "string" ? `${name}: "${defaultValue}",` : `${name}: ${defaultValue},`;
      if (typeof value15 === "string")
        return `${name}: '${value15}',`;
      if (value15 instanceof Date)
        return `${name}: new Date(${value15.getTime()}),`;
      return `${name}: ${value15},`;
    };
    const options = cookieMeta ? `{
			secrets: ${cookieMeta.secrets !== undefined ? typeof cookieMeta.secrets === "string" ? `'${cookieMeta.secrets}'` : "[" + cookieMeta.secrets.reduce((a2, b) => a2 + `'${b}',`, "") + "]" : "undefined"},
			sign: ${cookieMeta.sign === true ? true : cookieMeta.sign !== undefined ? "[" + cookieMeta.sign.reduce((a2, b) => a2 + `'${b}',`, "") + "]" : "undefined"},
			${get("domain")}
			${get("expires")}
			${get("httpOnly")}
			${get("maxAge")}
			${get("path", "/")}
			${get("priority")}
			${get("sameSite")}
			${get("secure")}
		}` : "undefined";
    if (hasHeaders)
      fnLiteral += `
c.cookie = await parseCookie(c.set, c.headers.cookie, ${options})
`;
    else
      fnLiteral += `
c.cookie = await parseCookie(c.set, c.request.headers.get('cookie'), ${options})
`;
  }
  if (hasQuery) {
    let destructured = [];
    if (validator.query && validator.query.schema.type === "object") {
      destructured = Object.keys(validator.query.schema.properties);
    } else
      for (const query of inference.queries)
        if (destructured.indexOf(query) === -1)
          destructured.push(query);
    if (app.config.forceDynamicQuery === true || inference.unknownQueries === true || !destructured.length) {
      fnLiteral += `if(c.qi !== -1) {
				c.query = parseQuery(c.url.slice(c.qi + 1).replace(/\\+/g, ' '))

				// decodeURIComponent is already done in parseQuery function
				// for(const key of Object.keys(c.query))
				//  	c.query[key] = decodeURIComponentc.query[key])
			} else c.query = {}`;
    } else {
      fnLiteral += `if(c.qi !== -1) {
				let url = '&' + c.url.slice(c.qi + 1).replace(/\\+/g, ' ')

				${destructured.map((name, index) => `
						${index === 0 ? "let" : ""} memory = url.indexOf('&${name}=')
						let a${index}

						if (memory !== -1) {
							const start = memory + ${name.length + 2}
							memory = url.indexOf('&', start)

							if(memory === -1) a${index} = decodeURIComponent(url.slice(start))
							else a${index} = decodeURIComponent(url.slice(start, memory))
						}`).join("\n")}

				c.query = {
					${destructured.map((name, index) => `'${name}': a${index}`).join(", ")}
				}
			} else {
				c.query = {}
			}`;
    }
  }
  const hasTraceSet = traceInference.set;
  const hasSet = inference.cookie || inference.set || hasTraceSet || hasHeaders || isHandleFn && hasDefaultHeaders;
  if (hasTrace)
    fnLiteral += "\nconst id = c.$$requestId\n";
  const report = createReport({
    hasTrace,
    hasTraceSet,
    condition: traceConditions,
    addFn: (word) => {
      fnLiteral += word;
    }
  });
  fnLiteral += hasErrorHandler ? "\n try {\n" : "";
  if (hasTraceSet) {
    fnLiteral += `
const traceDone = Promise.all([`;
    for (let i = 0;i < hooks.trace.length; i++) {
      fnLiteral += `new Promise(r => { reporter.once(\`res\${id}.${i}\`, r) }),`;
    }
    fnLiteral += `])
`;
  }
  const isAsyncHandler = typeof handler === "function" && isAsync(handler);
  const maybeAsync = hasCookie || hasBody || hasTraceSet || isAsyncHandler || !!hooks.mapResponse.length || hooks.parse.length > 0 || hooks.afterHandle.some(isAsync) || hooks.beforeHandle.some(isAsync) || hooks.transform.some(isAsync);
  const endParse = report("parse", {
    unit: hooks.parse.length
  });
  if (hasBody) {
    const hasBodyInference = hooks.parse.length || inference.body || validator.body;
    if (hooks.type && !hooks.parse.length) {
      switch (hooks.type) {
        case "json":
        case "application/json":
          if (hasErrorHandler)
            fnLiteral += `const tempBody = await c.request.text()

							try {
								c.body = JSON.parse(tempBody)
							} catch {
								throw new ParseError('Failed to parse body as found: ' + (typeof body === "string" ? "'" + body + "'" : body), body)
							}`;
          else
            fnLiteral += `c.body = await c.request.json()`;
          break;
        case "text":
        case "text/plain":
          fnLiteral += `c.body = await c.request.text()
`;
          break;
        case "urlencoded":
        case "application/x-www-form-urlencoded":
          fnLiteral += `c.body = parseQuery(await c.request.text())
`;
          break;
        case "arrayBuffer":
        case "application/octet-stream":
          fnLiteral += `c.body = await c.request.arrayBuffer()
`;
          break;
        case "formdata":
        case "multipart/form-data":
          fnLiteral += `c.body = {}

						const form = await c.request.formData()
						for (const key of form.keys()) {
							if (c.body[key])
								continue

							const value = form.getAll(key)
							if (value.length === 1)
								c.body[key] = value[0]
							else c.body[key] = value
						}
`;
          break;
      }
    } else if (hasBodyInference) {
      fnLiteral += "\n";
      fnLiteral += hasHeaders ? `let contentType = c.headers['content-type']` : `let contentType = c.request.headers.get('content-type')`;
      fnLiteral += `
				if (contentType) {
					const index = contentType.indexOf(';')
					if (index !== -1) contentType = contentType.substring(0, index)

					c.contentType = contentType
`;
      if (hooks.parse.length) {
        fnLiteral += `let used = false
`;
        const endReport = report("parse", {
          unit: hooks.parse.length
        });
        for (let i = 0;i < hooks.parse.length; i++) {
          const endUnit = report("parse.unit", {
            name: hooks.parse[i].fn.name
          });
          const name = `bo${i}`;
          if (i !== 0)
            fnLiteral += `if(!used) {
`;
          fnLiteral += `let ${name} = parse[${i}](c, contentType)
`;
          fnLiteral += `if(${name} instanceof Promise) ${name} = await ${name}
`;
          fnLiteral += `if(${name} !== undefined) { c.body = ${name}; used = true }
`;
          endUnit();
          if (i !== 0)
            fnLiteral += `}`;
        }
        endReport();
      }
      fnLiteral += "\ndelete c.contentType\n";
      if (hooks.parse.length)
        fnLiteral += `if (!used) {`;
      if (hooks.type && !Array.isArray(hooks.type)) {
        switch (hooks.type) {
          case "json":
          case "application/json":
            if (hasErrorHandler)
              fnLiteral += `const tempBody = await c.request.text()

								try {
									c.body = JSON.parse(tempBody)
								} catch {
									throw new ParseError('Failed to parse body as found: ' + (typeof body === "string" ? "'" + body + "'" : body), body)
								}`;
            else
              fnLiteral += `c.body = await c.request.json()`;
            break;
          case "text":
          case "text/plain":
            fnLiteral += `c.body = await c.request.text()
`;
            break;
          case "urlencoded":
          case "application/x-www-form-urlencoded":
            fnLiteral += `c.body = parseQuery(await c.request.text())
`;
            break;
          case "arrayBuffer":
          case "application/octet-stream":
            fnLiteral += `c.body = await c.request.arrayBuffer()
`;
            break;
          case "formdata":
          case "multipart/form-data":
            fnLiteral += `c.body = {}

							const form = await c.request.formData()
							for (const key of form.keys()) {
								if (c.body[key])
									continue

								const value = form.getAll(key)
								if (value.length === 1)
									c.body[key] = value[0]
								else c.body[key] = value
							}
`;
            break;
        }
      } else {
        fnLiteral += `
					switch (contentType) {
						case 'application/json':
							${hasErrorHandler ? `
							const tempBody = await c.request.text()

							try {
								c.body = JSON.parse(tempBody)
							} catch {
								throw new ParseError('Failed to parse body as found: ' + (typeof body === "string" ? "'" + body + "'" : body), body)
							}
							` : `c.body = await c.request.json()
`}
							break

						case 'text/plain':
							c.body = await c.request.text()
							break

						case 'application/x-www-form-urlencoded':
							c.body = parseQuery(await c.request.text())
							break

						case 'application/octet-stream':
							c.body = await c.request.arrayBuffer();
							break

						case 'multipart/form-data':
							c.body = {}

							const form = await c.request.formData()
							for (const key of form.keys()) {
								if (c.body[key])
									continue

								const value = form.getAll(key)
								if (value.length === 1)
									c.body[key] = value[0]
								else c.body[key] = value
							}

							break
					}`;
      }
      if (hooks.parse.length)
        fnLiteral += `}`;
      fnLiteral += "}\n";
    }
    fnLiteral += "\n";
  }
  endParse();
  if (hooks?.transform) {
    const endTransform = report("transform", {
      unit: hooks.transform.length
    });
    if (hooks.transform.length)
      fnLiteral += "\nlet transformed\n";
    for (let i = 0;i < hooks.transform.length; i++) {
      const transform7 = hooks.transform[i];
      const endUnit = report("transform.unit", {
        name: transform7.fn.name
      });
      fnLiteral += isAsync(transform7) ? `transformed = await transform[${i}](c)
` : `transformed = transform[${i}](c)
`;
      fnLiteral += `if(transformed?.[ELYSIA_RESPONSE])
				throw transformed
			else
				Object.assign(c, transformed)
`;
      endUnit();
    }
    endTransform();
  }
  if (validator) {
    fnLiteral += "\n";
    if (validator.headers) {
      if (hasProperty("default", validator.headers.params))
        for (const [key, value15] of Object.entries(exports_value2.Default(validator.headers.schema, {}))) {
          const parsed = typeof value15 === "object" ? JSON.stringify(value15) : `'${value15}'`;
          if (parsed)
            fnLiteral += `c.headers['${key}'] ??= ${parsed}
`;
        }
      fnLiteral += `if(headers.Check(c.headers) === false) {
				${composeValidation("headers")}
			}`;
      if (hasTransform(validator.headers.schema))
        fnLiteral += `
c.headers = headers.Decode(c.headers)
`;
    }
    if (validator.params) {
      if (hasProperty("default", validator.params.schema))
        for (const [key, value15] of Object.entries(exports_value2.Default(validator.params.schema, {}))) {
          const parsed = typeof value15 === "object" ? JSON.stringify(value15) : `'${value15}'`;
          if (parsed)
            fnLiteral += `c.params['${key}'] ??= ${parsed}
`;
        }
      fnLiteral += `if(params.Check(c.params) === false) {
				${composeValidation("params")}
			}`;
      if (hasTransform(validator.params.schema))
        fnLiteral += `
c.params = params.Decode(c.params)
`;
    }
    if (validator.query) {
      if (normalize)
        fnLiteral += "c.query = query.Clean(c.query);\n";
      if (hasProperty("default", validator.query.schema))
        for (const [key, value15] of Object.entries(exports_value2.Default(validator.query.schema, {}))) {
          const parsed = typeof value15 === "object" ? JSON.stringify(value15) : `'${value15}'`;
          if (parsed)
            fnLiteral += `c.query['${key}'] ??= ${parsed}
`;
        }
      fnLiteral += `if(query.Check(c.query) === false) {
				${composeValidation("query")}
			}`;
      if (hasTransform(validator.query.schema))
        fnLiteral += `
c.query = query.Decode(Object.assign({}, c.query))
`;
    }
    if (validator.body) {
      if (normalize)
        fnLiteral += "c.body = body.Clean(c.body);\n";
      if (hasProperty("default", validator.body.schema))
        fnLiteral += `if(body.Check(c.body) === false) {
    				c.body = Object.assign(${JSON.stringify(exports_value2.Default(validator.body.schema, null) ?? {})}, c.body)

    				if(body.Check(c.query) === false) {
        				${composeValidation("body")}
     			}
            }`;
      else
        fnLiteral += `if(body.Check(c.body) === false) {
			${composeValidation("body")}
		}`;
      if (hasTransform(validator.body.schema))
        fnLiteral += `
c.body = body.Decode(c.body)
`;
    }
    if (isNotEmpty(cookieValidator?.schema?.properties ?? cookieValidator?.schema?.schema ?? {})) {
      fnLiteral += `const cookieValue = {}
    			for(const [key, value] of Object.entries(c.cookie))
    				cookieValue[key] = value.value
`;
      if (hasProperty("default", cookieValidator.schema))
        for (const [key, value15] of Object.entries(exports_value2.Default(cookieValidator.schema, {}))) {
          fnLiteral += `cookieValue['${key}'] = ${typeof value15 === "object" ? JSON.stringify(value15) : value15}
`;
        }
      fnLiteral += `if(cookie.Check(cookieValue) === false) {
				${composeValidation("cookie", "cookieValue")}
			}`;
    }
  }
  if (hooks?.beforeHandle) {
    const endBeforeHandle = report("beforeHandle", {
      unit: hooks.beforeHandle.length
    });
    let hasResolve = false;
    for (let i = 0;i < hooks.beforeHandle.length; i++) {
      const beforeHandle = hooks.beforeHandle[i];
      const endUnit = report("beforeHandle.unit", {
        name: beforeHandle.fn.name
      });
      const returning = hasReturn(beforeHandle.fn.toString());
      const isResolver = beforeHandle.subType === "resolve";
      if (isResolver) {
        if (!hasResolve) {
          hasResolve = true;
          fnLiteral += "\nlet resolved\n";
        }
        fnLiteral += isAsync(beforeHandle) ? `resolved = await beforeHandle[${i}](c);
` : `resolved = beforeHandle[${i}](c);
`;
        fnLiteral += `if(resolved[ELYSIA_RESPONSE])
						throw resolved
					else
						Object.assign(c, resolved)
`;
      } else if (!returning) {
        fnLiteral += isAsync(beforeHandle) ? `await beforeHandle[${i}](c);
` : `beforeHandle[${i}](c);
`;
        endUnit();
      } else {
        fnLiteral += `Object.assign(c, be);`;
        fnLiteral += isAsync(beforeHandle) ? `be = await beforeHandle[${i}](c);
` : `be = beforeHandle[${i}](c);
`;
        endUnit();
        fnLiteral += `if(be !== undefined) {
`;
        endBeforeHandle();
        if (hooks.afterHandle?.length) {
          const endAfterHandle = report("afterHandle", {
            unit: hooks.transform.length
          });
          report("handle", {
            name: isHandleFn ? handler.name : undefined
          })();
          for (let i2 = 0;i2 < hooks.afterHandle.length; i2++) {
            const hook = hooks.afterHandle[i2];
            const returning2 = hasReturn(hook.fn.toString());
            const endUnit2 = report("afterHandle.unit", {
              name: hook.fn.name
            });
            fnLiteral += `c.response = be
`;
            if (!returning2) {
              fnLiteral += isAsync(hook.fn) ? `await afterHandle[${i2}](c, be)
` : `afterHandle[${i2}](c, be)
`;
            } else {
              fnLiteral += isAsync(hook.fn) ? `af = await afterHandle[${i2}](c)
` : `af = afterHandle[${i2}](c)
`;
              fnLiteral += `if(af !== undefined) { c.response = be = af }
`;
            }
            endUnit2();
          }
          endAfterHandle();
        }
        if (validator.response)
          fnLiteral += composeResponseValidation("be");
        if (hooks.mapResponse.length) {
          fnLiteral += `c.response = be`;
          for (let i2 = 0;i2 < hooks.mapResponse.length; i2++) {
            fnLiteral += `
if(mr === undefined) {
							mr = onMapResponse[${i2}](c)
							if(mr instanceof Promise) mr = await mr
							if(mr !== undefined) c.response = mr
						}
`;
          }
        }
        fnLiteral += encodeCookie;
        fnLiteral += `return mapEarlyResponse(be, c.set)}
`;
      }
    }
    endBeforeHandle();
  }
  if (hooks?.afterHandle.length) {
    const endHandle = report("handle", {
      name: isHandleFn ? handler.name : undefined
    });
    if (hooks.afterHandle.length)
      fnLiteral += isAsyncHandler ? `let r = c.response = await ${handle};
` : `let r = c.response = ${handle};
`;
    else
      fnLiteral += isAsyncHandler ? `let r = await ${handle};
` : `let r = ${handle};
`;
    endHandle();
    const endAfterHandle = report("afterHandle", {
      unit: hooks.afterHandle.length
    });
    for (let i = 0;i < hooks.afterHandle.length; i++) {
      const hook = hooks.afterHandle[i];
      const returning = hasReturn(hook.fn.toString());
      const endUnit = report("afterHandle.unit", {
        name: hook.fn.name
      });
      if (!returning) {
        fnLiteral += isAsync(hook.fn) ? `await afterHandle[${i}](c)
` : `afterHandle[${i}](c)
`;
        endUnit();
      } else {
        fnLiteral += isAsync(hook.fn) ? `af = await afterHandle[${i}](c)
` : `af = afterHandle[${i}](c)
`;
        endUnit();
        if (validator.response) {
          fnLiteral += `if(af !== undefined) {`;
          endAfterHandle();
          fnLiteral += composeResponseValidation("af");
          fnLiteral += `c.response = af }`;
        } else {
          fnLiteral += `if(af !== undefined) {`;
          endAfterHandle();
          fnLiteral += `c.response = af}
`;
        }
      }
    }
    endAfterHandle();
    fnLiteral += `r = c.response
`;
    if (validator.response)
      fnLiteral += composeResponseValidation();
    fnLiteral += encodeCookie;
    if (hooks.mapResponse.length) {
      for (let i = 0;i < hooks.mapResponse.length; i++) {
        fnLiteral += `
mr = onMapResponse[${i}](c)
				if(mr instanceof Promise) mr = await mr
				if(mr !== undefined) c.response = mr
`;
      }
    }
    if (hasSet)
      fnLiteral += `return mapResponse(r, c.set)
`;
    else
      fnLiteral += `return mapCompactResponse(r)
`;
  } else {
    const endHandle = report("handle", {
      name: isHandleFn ? handler.name : undefined
    });
    if (validator.response || hooks.mapResponse.length) {
      fnLiteral += isAsyncHandler ? `let r = await ${handle};
` : `let r = ${handle};
`;
      endHandle();
      if (validator.response)
        fnLiteral += composeResponseValidation();
      report("afterHandle")();
      if (hooks.mapResponse.length) {
        fnLiteral += "c.response = r";
        for (let i = 0;i < hooks.mapResponse.length; i++) {
          fnLiteral += `
if(mr === undefined) {
						mr = onMapResponse[${i}](c)
						if(mr instanceof Promise) mr = await mr
    					if(mr !== undefined) r = c.response = mr
					}
`;
        }
      }
      fnLiteral += encodeCookie;
      if (handler instanceof Response) {
        fnLiteral += inference.set ? `if(
					isNotEmpty(c.set.headers) ||
					c.set.status !== 200 ||
					c.set.redirect ||
					c.set.cookie
				)
					return mapResponse(${handle}.clone(), c.set)
				else
					return ${handle}.clone()` : `return ${handle}.clone()`;
        fnLiteral += "\n";
      } else if (hasSet)
        fnLiteral += `return mapResponse(r, c.set)
`;
      else
        fnLiteral += `return mapCompactResponse(r)
`;
    } else if (traceConditions.handle || hasCookie) {
      fnLiteral += isAsyncHandler ? `let r = await ${handle};
` : `let r = ${handle};
`;
      endHandle();
      report("afterHandle")();
      if (hooks.mapResponse.length) {
        fnLiteral += "c.response = r";
        for (let i = 0;i < hooks.mapResponse.length; i++) {
          fnLiteral += `
if(mr === undefined) {
							mr = onMapResponse[${i}](c)
							if(mr instanceof Promise) mr = await mr
    						if(mr !== undefined) r = c.response = mr
						}
`;
        }
      }
      fnLiteral += encodeCookie;
      if (hasSet)
        fnLiteral += `return mapResponse(r, c.set)
`;
      else
        fnLiteral += `return mapCompactResponse(r)
`;
    } else {
      endHandle();
      const handled = isAsyncHandler ? `await ${handle}` : handle;
      report("afterHandle")();
      if (handler instanceof Response) {
        fnLiteral += inference.set ? `if(
					isNotEmpty(c.set.headers) ||
					c.set.status !== 200 ||
					c.set.redirect ||
					c.set.cookie
				)
					return mapResponse(${handle}.clone(), c.set)
				else
					return ${handle}.clone()` : `return ${handle}.clone()`;
        fnLiteral += "\n";
      } else if (hasSet)
        fnLiteral += `return mapResponse(${handled}, c.set)
`;
      else
        fnLiteral += `return mapCompactResponse(${handled})
`;
    }
  }
  if (hasErrorHandler || handleResponse) {
    fnLiteral += `
} catch(error) {`;
    if (!maybeAsync)
      fnLiteral += `return (async () => {`;
    fnLiteral += `const set = c.set
if (!set.status || set.status < 300) set.status = error?.status || 500
`;
    const endError = report("error", {
      unit: hooks.error.length
    });
    if (hooks.error.length) {
      fnLiteral += `
				c.error = error
				c.code = error.code ?? error[ERROR_CODE] ?? "UNKNOWN"
			`;
      for (let i = 0;i < hooks.error.length; i++) {
        const name = `er${i}`;
        const endUnit = report("error.unit", {
          name: hooks.error[i].fn.name
        });
        fnLiteral += `
let ${name} = handleErrors[${i}](c)
`;
        if (isAsync(hooks.error[i]))
          fnLiteral += `if (${name} instanceof Promise) ${name} = await ${name}
`;
        endUnit();
        fnLiteral += `${name} = mapEarlyResponse(${name}, set)
`;
        fnLiteral += `if (${name}) {`;
        fnLiteral += `return ${name} }
`;
      }
    }
    endError();
    fnLiteral += `return handleError(c, error, true)

`;
    if (!maybeAsync)
      fnLiteral += "})()";
    fnLiteral += "}";
    if (handleResponse || hasTrace) {
      fnLiteral += ` finally { `;
      const endResponse = report("response", {
        unit: hooks.onResponse.length
      });
      fnLiteral += handleResponse;
      endResponse();
      fnLiteral += `}`;
    }
  }
  fnLiteral = `const {
		handler,
		handleError,
		hooks: {
			transform,
			resolve,
			beforeHandle,
			afterHandle,
			mapResponse: onMapResponse,
			parse,
			error: handleErrors,
			onResponse
		},
		validator: {
			body,
			headers,
			params,
			query,
			response,
			cookie
		},
		utils: {
			mapResponse,
			mapCompactResponse,
			mapEarlyResponse,
			parseQuery,
			isNotEmpty
		},
		error: {
			NotFoundError,
			ValidationError,
			InternalServerError,
			ParseError
		},
		schema,
		definitions,
		ERROR_CODE,
		getReporter,
		requestId,
		parseCookie,
		signCookie,
		decodeURIComponent,
		ELYSIA_RESPONSE
	} = hooks

	${hooks.onResponse.length ? `const ${hooks.onResponse.map((x, i) => `res${i} = onResponse[${i}]`).join(",")}` : ""}

	return ${maybeAsync ? "async" : ""} function handle(c) {
		${hooks.beforeHandle.length ? "let be" : ""}
		${hooks.afterHandle.length ? "let af" : ""}
		${hooks.mapResponse.length ? "let mr" : ""}

		${allowMeta ? "c.schema = schema; c.defs = definitions" : ""}
		${fnLiteral}
	}`;
  const createHandler = Function("hooks", fnLiteral);
  return createHandler({
    handler,
    hooks: lifeCycleToFn(hooks),
    validator,
    handleError: app.handleError,
    utils: {
      mapResponse,
      mapCompactResponse,
      mapEarlyResponse,
      parseQuery: import_fast_querystring.parse,
      isNotEmpty
    },
    error: {
      NotFoundError,
      ValidationError,
      InternalServerError,
      ParseError
    },
    schema: app.router.history,
    definitions: app.definitions.type,
    ERROR_CODE,
    getReporter: () => app.reporter,
    requestId,
    parseCookie,
    signCookie,
    decodeURIComponent: import_fast_decode_uri_component2.default,
    ELYSIA_RESPONSE
  });
};
var composeGeneralHandler = (app) => {
  const inference = {
    event: {
      ...app.inference.event,
      queries: [...app.inference.event.queries]
    },
    trace: { ...app.inference.trace }
  };
  let decoratorsLiteral = "";
  let fnLiteral = "";
  const defaultHeaders = app.setHeaders;
  for (const key of Object.keys(app.singleton.decorator))
    decoratorsLiteral += `,${key}: app.singleton.decorator.${key}`;
  const router = app.router;
  const hasTrace = app.event.trace.length > 0;
  let findDynamicRoute = `
	const route = router.find(request.method, path) ${router.http.root.ALL ? '?? router.find("ALL", path)' : ""}

	if (route === null)
		return ${app.event.error.length ? `app.handleError(ctx, notFound)` : app.event.request.length ? `new Response(error404Message, {
					status: ctx.set.status === 200 ? 404 : ctx.set.status,
					headers: ctx.set.headers
				})` : `error404.clone()`}

	ctx.params = route.params
`;
  const shouldPrecompile = app.config.precompile === true || typeof app.config.precompile === "object" && app.config.precompile.compose === true;
  if (!shouldPrecompile)
    findDynamicRoute += `
			if(route.store.composed)
				return route.store.composed(ctx)

			if(route.store.compose)
				return (route.store.compose())(ctx)`;
  else
    findDynamicRoute += `return route.store(ctx)`;
  findDynamicRoute += "\n";
  let switchMap = ``;
  for (const [path, { code, all }] of Object.entries(router.static.http.map))
    switchMap += `case '${path}':
switch(request.method) {
${code}
${all ?? `default: break map`}}

`;
  const maybeAsync = app.event.request.some(isAsync);
  const init = `

	const url = request.url
	const s = url.indexOf('/', 11)
	const qi = url.indexOf('?', s + 1)
	let path
	if(qi === -1)
		path = url.substring(s)
	else
		path = url.substring(s, qi)
`;
  fnLiteral += `const {
		app,
		mapEarlyResponse,
		NotFoundError,
		requestId,
		getReporter,
		handleError,
		error,
		redirect
	} = data

	const store = app.singleton.store
	const staticRouter = app.router.static.http
	const wsRouter = app.router.ws
	const router = app.router.http

	const notFound = new NotFoundError()

	${app.event.request.length ? `const onRequest = app.event.request.map(x => x.fn)` : ""}
	${router.static.http.variables}
	${app.event.error.length ? "" : `
	const error404Message = notFound.message.toString()
	const error404 = new Response(error404Message, { status: 404 });
	`}

	return ${maybeAsync ? "async" : ""} function map(request) {
`;
  if (app.event.request.length)
    fnLiteral += `let re`;
  const report = createReport({
    hasTrace,
    hasTraceSet: inference.trace.set,
    condition: {
      request: inference.trace.request
    },
    addFn: (word) => {
      fnLiteral += word;
    }
  });
  if (app.event.request.length) {
    fnLiteral += `
			${hasTrace ? "const id = +requestId.value++" : ""}

			const ctx = {
				request,
				store,
				redirect,
				set: {
					headers: ${Object.keys(defaultHeaders ?? {}).length ? "Object.assign({}, app.setHeaders)" : "{}"},
					status: 200
				},
				error
				${hasTrace ? ",$$requestId: +id" : ""}
				${decoratorsLiteral}
			}
		`;
    const endReport = report("request", {
      attribute: "ctx",
      unit: app.event.request.length
    });
    fnLiteral += `
 try {
`;
    for (let i = 0;i < app.event.request.length; i++) {
      const hook = app.event.request[i];
      const withReturn = hasReturn(hook.fn.toString());
      const maybeAsync2 = isAsync(hook);
      const endUnit = report("request.unit", {
        name: app.event.request[i].fn.name
      });
      if (withReturn) {
        fnLiteral += `re = mapEarlyResponse(
					${maybeAsync2 ? "await" : ""} onRequest[${i}](ctx),
					ctx.set,
					request
				)
`;
        endUnit();
        fnLiteral += `if(re !== undefined) return re
`;
      } else {
        fnLiteral += `${maybeAsync2 ? "await" : ""} onRequest[${i}](ctx)
`;
        endUnit();
      }
    }
    fnLiteral += `} catch (error) {
			return app.handleError(ctx, error)
		}`;
    endReport();
    fnLiteral += init;
    fnLiteral += `
ctx.qi = qi
 ctx.path = path
ctx.url=url`;
  } else {
    fnLiteral += init;
    fnLiteral += `${hasTrace ? "const id = +requestId.value++" : ""}
		const ctx = {
			request,
			store,
			qi,
			path,
			url,
			redirect,
			set: {
				headers: ${Object.keys(defaultHeaders ?? {}).length ? "Object.assign({}, app.setHeaders)" : "{}"},
				status: 200
			},
			error
			${hasTrace ? ",$$requestId: id" : ""}
			${decoratorsLiteral}
		}`;
    report("request", {
      unit: app.event.request.length,
      attribute: inference.trace.context || inference.trace.store || inference.trace.set ? "ctx" : ""
    })();
  }
  const wsPaths = app.router.static.ws;
  const wsRouter = app.router.ws;
  if (Object.keys(wsPaths).length || wsRouter.history.length) {
    fnLiteral += `
			if(request.method === 'GET') {
				switch(path) {`;
    for (const [path, index] of Object.entries(wsPaths)) {
      fnLiteral += `
					case '${path}':
						if(request.headers.get('upgrade') === 'websocket')
							return st${index}(ctx)

						break`;
    }
    fnLiteral += `
				default:
					if(request.headers.get('upgrade') === 'websocket') {
						const route = wsRouter.find('ws', path)

						if(route) {
							ctx.params = route.params

							return route.store(ctx)
						}
					}

					break
			}
		}
`;
  }
  fnLiteral += `
		map: switch(path) {
			${switchMap}

			default:
				break
		}

		${findDynamicRoute}
	}`;
  const handleError = composeErrorHandler(app);
  app.handleError = handleError;
  return Function("data", fnLiteral)({
    app,
    mapEarlyResponse,
    NotFoundError,
    getReporter: () => app.reporter,
    requestId,
    handleError,
    error: error22,
    redirect
  });
};
var composeErrorHandler = (app) => {
  let fnLiteral = `const {
		app: { event: { error: onErrorContainer, onResponse: resContainer } },
		mapResponse,
		ERROR_CODE,
		ELYSIA_RESPONSE
	} = inject

	const onError = onErrorContainer.map(x => x.fn)
	const res = resContainer.map(x => x.fn)

	return ${app.event.error.find(isAsync) ? "async" : ""} function(context, error, skipGlobal) {
		let r

		const { set } = context

		context.code = error.code
		context.error = error

		if(typeof error === "object" && ELYSIA_RESPONSE in error) {
			error.status = error[ELYSIA_RESPONSE]
			error.message = error.response
		}
`;
  for (let i = 0;i < app.event.error.length; i++) {
    const handler = app.event.error[i];
    const response = `${isAsync(handler) ? "await " : ""}onError[${i}](context)`;
    fnLiteral += "\nif(skipGlobal !== true) {\n";
    if (hasReturn(handler.fn.toString()))
      fnLiteral += `r = ${response}; if(r !== undefined) {
				if(r instanceof Response) return r

				if(r[ELYSIA_RESPONSE]) {
					error.status = error[ELYSIA_RESPONSE]
					error.message = error.response
				}

				if(set.status === 200) set.status = error.status
				return mapResponse(r, set, context.request)
			}
`;
    else
      fnLiteral += response + "\n";
    fnLiteral += "\n}\n";
  }
  fnLiteral += `if(error.constructor.name === "ValidationError" || error.constructor.name === "TransformDecodeError") {
		set.status = error.status ?? 422
		return new Response(
			error.message,
			{
				headers: Object.assign(
					{ 'content-type': 'application/json'},
					set.headers
				),
				status: set.status
			}
		)
	} else {
		if(error.code && typeof error.status === "number")
			return new Response(
				error.message,
				{ headers: set.headers, status: error.status }
			)

		return mapResponse(error, set, context.request)
	}
}`;
  return Function("inject", fnLiteral)({
    app,
    mapResponse,
    ERROR_CODE,
    ELYSIA_RESPONSE
  });
};
var jitRoute = (index) => `if(stc${index}) return stc${index}(ctx)
if(st${index}.compose) return (stc${index} = st${index}.compose())(ctx)

return st${index}(ctx)`;
var createDynamicHandler = (app) => async (request) => {
  const url = request.url, s = url.indexOf("/", 11), qi = url.indexOf("?", s + 1), path = qi === -1 ? url.substring(s) : url.substring(s, qi);
  const set2 = {
    cookie: {},
    status: 200,
    headers: {}
  };
  const context = Object.assign({}, app.singleton.decorator, {
    set: set2,
    store: app.singleton.store,
    request,
    path,
    qi,
    redirect
  });
  try {
    for (let i = 0;i < app.event.request.length; i++) {
      const onRequest = app.event.request[i].fn;
      let response2 = onRequest(context);
      if (response2 instanceof Promise)
        response2 = await response2;
      response2 = mapEarlyResponse(response2, set2);
      if (response2)
        return response2;
    }
    const handler = app.router.dynamic.find(request.method, path) ?? app.router.dynamic.find("ALL", path);
    if (!handler)
      throw new NotFoundError;
    const { handle, hooks, validator, content } = handler.store;
    let body;
    if (request.method !== "GET" && request.method !== "HEAD") {
      if (content) {
        switch (content) {
          case "application/json":
            body = await request.json();
            break;
          case "text/plain":
            body = await request.text();
            break;
          case "application/x-www-form-urlencoded":
            body = import_fast_querystring2.parse(await request.text());
            break;
          case "application/octet-stream":
            body = await request.arrayBuffer();
            break;
          case "multipart/form-data":
            body = {};
            const form2 = await request.formData();
            for (const key of form2.keys()) {
              if (body[key])
                continue;
              const value15 = form2.getAll(key);
              if (value15.length === 1)
                body[key] = value15[0];
              else
                body[key] = value15;
            }
            break;
        }
      } else {
        let contentType = request.headers.get("content-type");
        if (contentType) {
          const index = contentType.indexOf(";");
          if (index !== -1)
            contentType = contentType.slice(0, index);
          context.contentType = contentType;
          for (let i = 0;i < hooks.parse.length; i++) {
            const hook = hooks.parse[i].fn;
            let temp = hook(context, contentType);
            if (temp instanceof Promise)
              temp = await temp;
            if (temp) {
              body = temp;
              break;
            }
          }
          delete context.contentType;
          if (body === undefined) {
            switch (contentType) {
              case "application/json":
                body = await request.json();
                break;
              case "text/plain":
                body = await request.text();
                break;
              case "application/x-www-form-urlencoded":
                body = import_fast_querystring2.parse(await request.text());
                break;
              case "application/octet-stream":
                body = await request.arrayBuffer();
                break;
              case "multipart/form-data":
                body = {};
                const form2 = await request.formData();
                for (const key of form2.keys()) {
                  if (body[key])
                    continue;
                  const value15 = form2.getAll(key);
                  if (value15.length === 1)
                    body[key] = value15[0];
                  else
                    body[key] = value15;
                }
                break;
            }
          }
        }
      }
    }
    context.body = body;
    context.params = handler?.params || undefined;
    context.query = qi === -1 ? {} : import_fast_querystring2.parse(url.substring(qi + 1));
    context.headers = {};
    for (const [key, value15] of request.headers.entries())
      context.headers[key] = value15;
    const cookieMeta = Object.assign({}, app.config?.cookie, validator?.cookie?.config);
    const cookieHeaderValue = request.headers.get("cookie");
    context.cookie = await parseCookie(context.set, cookieHeaderValue, cookieMeta ? {
      secrets: cookieMeta.secrets !== undefined ? typeof cookieMeta.secrets === "string" ? cookieMeta.secrets : cookieMeta.secrets.join(",") : undefined,
      sign: cookieMeta.sign === true ? true : cookieMeta.sign !== undefined ? typeof cookieMeta.sign === "string" ? cookieMeta.sign : cookieMeta.sign.join(",") : undefined
    } : undefined);
    for (let i = 0;i < hooks.transform.length; i++) {
      const hook = hooks.transform[i];
      const operation = hook.fn(context);
      if (hook.subType === "derive") {
        if (operation instanceof Promise)
          Object.assign(context, await operation);
        else
          Object.assign(context, operation);
      } else if (operation instanceof Promise)
        await operation;
    }
    if (validator) {
      if (validator.headers) {
        const _header = {};
        for (const key in request.headers)
          _header[key] = request.headers.get(key);
        if (validator.headers.Check(_header) === false)
          throw new ValidationError("header", validator.headers, _header);
      }
      if (validator.params?.Check(context.params) === false)
        throw new ValidationError("params", validator.params, context.params);
      if (validator.query?.Check(context.query) === false)
        throw new ValidationError("query", validator.query, context.query);
      if (validator.cookie) {
        const cookieValue = {};
        for (const [key, value15] of Object.entries(context.cookie))
          cookieValue[key] = value15.value;
        if (validator.cookie?.Check(cookieValue) === false)
          throw new ValidationError("cookie", validator.cookie, cookieValue);
      }
      if (validator.body?.Check(body) === false)
        throw new ValidationError("body", validator.body, body);
    }
    for (let i = 0;i < hooks.beforeHandle.length; i++) {
      let response2 = hooks.beforeHandle[i].fn(context);
      if (response2 instanceof Promise)
        response2 = await response2;
      if (response2 !== undefined) {
        context.response = response2;
        for (let i2 = 0;i2 < hooks.afterHandle.length; i2++) {
          let newResponse = hooks.afterHandle[i2].fn(context);
          if (newResponse instanceof Promise)
            newResponse = await newResponse;
          if (newResponse)
            response2 = newResponse;
        }
        const result = mapEarlyResponse(response2, context.set);
        if (result)
          return result;
      }
    }
    let response = handle(context);
    if (response instanceof Promise)
      response = await response;
    if (!hooks.afterHandle.length) {
      const responseValidator = validator?.response?.[response.status];
      if (responseValidator?.Check(response) === false)
        throw new ValidationError("response", responseValidator, response);
    } else {
      context.response = response;
      for (let i = 0;i < hooks.afterHandle.length; i++) {
        let newResponse = hooks.afterHandle[i].fn(context);
        if (newResponse instanceof Promise)
          newResponse = await newResponse;
        const result = mapEarlyResponse(newResponse, context.set);
        if (result !== undefined) {
          const responseValidator = validator?.response?.[response.status];
          if (responseValidator?.Check(result) === false)
            throw new ValidationError("response", responseValidator, result);
          return result;
        }
      }
    }
    if (context.set.cookie && cookieMeta?.sign) {
      const secret = !cookieMeta.secrets ? undefined : typeof cookieMeta.secrets === "string" ? cookieMeta.secrets : cookieMeta.secrets[0];
      if (cookieMeta.sign === true)
        for (const [key, cookie] of Object.entries(context.set.cookie))
          context.set.cookie[key].value = await signCookie(cookie.value, "${secret}");
      else {
        const properties = validator?.cookie?.schema?.properties;
        for (const name of cookieMeta.sign) {
          if (!(name in properties))
            continue;
          if (context.set.cookie[name]?.value) {
            context.set.cookie[name].value = await signCookie(context.set.cookie[name].value, secret);
          }
        }
      }
    }
    return mapResponse(response, context.set);
  } catch (error23) {
    if (error23.status)
      set2.status = error23.status;
    return app.handleError(context, error23);
  } finally {
    for (const onResponse of app.event.onResponse)
      await onResponse.fn(context);
  }
};
var createDynamicErrorHandler = (app) => async (context, error23) => {
  const errorContext = Object.assign(context, { error: error23, code: error23.code });
  errorContext.set = context.set;
  for (let i = 0;i < app.event.error.length; i++) {
    const hook = app.event.error[i];
    let response = hook.fn(errorContext);
    if (response instanceof Promise)
      response = await response;
    if (response !== undefined && response !== null)
      return mapResponse(response, context.set);
  }
  return new Response(typeof error23.cause === "string" ? error23.cause : error23.message, {
    headers: context.set.headers,
    status: error23.status ?? 500
  });
};
var fullFormats = {
  date: date5,
  time: getTime(true),
  "date-time": getDateTime(true),
  "iso-time": getTime(false),
  "iso-date-time": getDateTime(false),
  duration: /^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,
  uri,
  "uri-reference": /^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,
  "uri-template": /^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,
  url: /^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,
  email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,
  hostname: /^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,
  ipv4: /^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,
  ipv6: /^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,
  regex,
  uuid: /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,
  "json-pointer": /^(?:\/(?:[^~/]|~0|~1)*)*$/,
  "json-pointer-uri-fragment": /^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,
  "relative-json-pointer": /^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,
  byte,
  int32: { type: "number", validate: validateInt32 },
  int64: { type: "number", validate: validateInt64 },
  float: { type: "number", validate: validateNumber },
  double: { type: "number", validate: validateNumber },
  password: true,
  binary: true
};
var DATE = /^(\d\d\d\d)-(\d\d)-(\d\d)$/;
var DAYS = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
var TIME = /^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;
var DATE_TIME_SEPARATOR = /t|\s/i;
var NOT_URI_FRAGMENT = /\/|:/;
var URI = /^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;
var BYTE = /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;
var MIN_INT32 = -(2 ** 31);
var MAX_INT32 = 2 ** 31 - 1;
var Z_ANCHOR = /[^\\]\\Z/;
var isISO8601 = /(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/;
var isFormalDate = /(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s\d{2}\s\d{4}\s\d{2}:\d{2}:\d{2}\sGMT(?:\+|-)\d{4}\s\([^)]+\)/;
var isShortenDate = /^(?:(?:(?:(?:0?[1-9]|[12][0-9]|3[01])[/\s-](?:0?[1-9]|1[0-2])[/\s-](?:19|20)\d{2})|(?:(?:19|20)\d{2}[/\s-](?:0?[1-9]|1[0-2])[/\s-](?:0?[1-9]|[12][0-9]|3[01]))))(?:\s(?:1[012]|0?[1-9]):[0-5][0-9](?::[0-5][0-9])?(?:\s[AP]M)?)?$/;
var _validateDate = fullFormats.date;
var _validateDateTime = fullFormats["date-time"];
if (!exports_format.Has("date"))
  TypeSystem.Format("date", (value15) => {
    const temp = value15.replace(/"/g, "");
    if (isISO8601.test(temp) || isFormalDate.test(temp) || isShortenDate.test(temp) || _validateDate(temp)) {
      const date22 = new Date(temp);
      if (!Number.isNaN(date22.getTime()))
        return true;
    }
    return false;
  });
if (!exports_format.Has("date-time"))
  TypeSystem.Format("date-time", (value15) => {
    const temp = value15.replace(/"/g, "");
    if (isISO8601.test(temp) || isFormalDate.test(temp) || isShortenDate.test(temp) || _validateDateTime(temp)) {
      const date22 = new Date(temp);
      if (!Number.isNaN(date22.getTime()))
        return true;
    }
    return false;
  });
Object.entries(fullFormats).forEach((formatEntry) => {
  const [formatName, formatValue] = formatEntry;
  if (!exports_format.Has(formatName)) {
    if (formatValue instanceof RegExp)
      TypeSystem.Format(formatName, (value15) => formatValue.test(value15));
    else if (typeof formatValue === "function")
      TypeSystem.Format(formatName, formatValue);
  }
});
var t2 = Object.assign({}, Type);
var parseFileUnit = (size) => {
  if (typeof size === "string")
    switch (size.slice(-1)) {
      case "k":
        return +size.slice(0, size.length - 1) * 1024;
      case "m":
        return +size.slice(0, size.length - 1) * 1048576;
      default:
        return +size;
    }
  return size;
};
var validateFile = (options, value15) => {
  if (!(value15 instanceof Blob))
    return false;
  if (options.minSize && value15.size < parseFileUnit(options.minSize))
    return false;
  if (options.maxSize && value15.size > parseFileUnit(options.maxSize))
    return false;
  if (options.extension)
    if (typeof options.extension === "string") {
      if (!value15.type.startsWith(options.extension))
        return false;
    } else {
      for (let i = 0;i < options.extension.length; i++)
        if (value15.type.startsWith(options.extension[i]))
          return true;
      return false;
    }
  return true;
};
var File2 = exports_type.Get("Files") ?? TypeSystem.Type("File", validateFile);
var Files = exports_type.Get("Files") ?? TypeSystem.Type("Files", (options, value15) => {
  if (!Array.isArray(value15))
    return validateFile(options, value15);
  if (options.minItems && value15.length < options.minItems)
    return false;
  if (options.maxItems && value15.length > options.maxItems)
    return false;
  for (let i = 0;i < value15.length; i++)
    if (!validateFile(options, value15[i]))
      return false;
  return true;
});
if (!exports_format.Has("numeric"))
  exports_format.Set("numeric", (value15) => !!value15 && !isNaN(+value15));
if (!exports_format.Has("boolean"))
  exports_format.Set("boolean", (value15) => value15 === "true" || value15 === "false");
if (!exports_format.Has("ObjectString"))
  exports_format.Set("ObjectString", (value15) => {
    let start = value15.charCodeAt(0);
    if (start === 9 || start === 10 || start === 32)
      start = value15.trimStart().charCodeAt(0);
    if (start !== 123 && start !== 91)
      return false;
    try {
      JSON.parse(value15);
      return true;
    } catch {
      return false;
    }
  });
var ElysiaType = {
  Numeric: (property) => {
    const schema3 = Type.Number(property);
    return t2.Transform(t2.Union([
      t2.String({
        format: "numeric",
        default: 0
      }),
      t2.Number(property)
    ], property)).Decode((value15) => {
      const number7 = +value15;
      if (isNaN(number7))
        return value15;
      if (property && !exports_value2.Check(schema3, number7))
        throw new ValidationError("property", schema3, number7);
      return number7;
    }).Encode((value15) => value15);
  },
  Date: (property) => {
    const schema3 = Type.Date(property);
    return t2.Transform(t2.Union([
      Type.Date(property),
      t2.String({
        format: "date",
        default: (new Date()).toISOString()
      }),
      t2.String({
        format: "date-time",
        default: (new Date()).toISOString()
      })
    ], property)).Decode((value15) => {
      if (value15 instanceof Date)
        return value15;
      const date22 = new Date(value15);
      if (!exports_value2.Check(schema3, date22))
        throw new ValidationError("property", schema3, date22);
      return date22;
    }).Encode((value15) => {
      if (typeof value15 === "string")
        return new Date(value15);
      return value15;
    });
  },
  BooleanString: (property) => {
    const schema3 = Type.Boolean(property);
    return t2.Transform(t2.Union([
      t2.String({
        format: "boolean",
        default: false
      }),
      t2.Boolean(property)
    ], property)).Decode((value15) => {
      if (typeof value15 === "string")
        return value15 === "true";
      if (property && !exports_value2.Check(schema3, value15))
        throw new ValidationError("property", schema3, value15);
      return value15;
    }).Encode((value15) => value15);
  },
  ObjectString: (properties = {}, options) => {
    const schema3 = t2.Object(properties, options);
    const defaultValue = JSON.stringify(exports_value2.Create(schema3));
    return t2.Transform(t2.Union([
      t2.String({
        format: "ObjectString",
        default: defaultValue
      }),
      schema3
    ])).Decode((value15) => {
      if (typeof value15 === "string") {
        try {
          value15 = JSON.parse(value15);
        } catch {
          throw new ValidationError("property", schema3, value15);
        }
        if (!exports_value2.Check(schema3, value15))
          throw new ValidationError("property", schema3, value15);
        return value15;
      }
      return value15;
    }).Encode((value15) => {
      if (typeof value15 === "string")
        try {
          value15 = JSON.parse(value15);
        } catch {
          throw new ValidationError("property", schema3, value15);
        }
      if (!exports_value2.Check(schema3, value15))
        throw new ValidationError("property", schema3, value15);
      return JSON.stringify(value15);
    });
  },
  File: File2,
  Files: (options = {}) => t2.Transform(Files(options)).Decode((value15) => {
    if (Array.isArray(value15))
      return value15;
    return [value15];
  }).Encode((value15) => value15),
  Nullable: (schema3) => t2.Union([t2.Null(), schema3]),
  MaybeEmpty: (schema3) => t2.Union([t2.Null(), t2.Undefined(), schema3]),
  Cookie: (properties, {
    domain,
    expires,
    httpOnly,
    maxAge,
    path,
    priority,
    sameSite,
    secure,
    secrets,
    sign,
    ...options
  } = {}) => {
    const v = t2.Object(properties, options);
    v.config = {
      domain,
      expires,
      httpOnly,
      maxAge,
      path,
      priority,
      sameSite,
      secure,
      secrets,
      sign
    };
    return v;
  }
};
t2.BooleanString = ElysiaType.BooleanString;
t2.ObjectString = ElysiaType.ObjectString;
t2.Numeric = ElysiaType.Numeric;
t2.File = (arg = {}) => ElysiaType.File({
  default: "File",
  ...arg,
  extension: arg?.type,
  type: "string",
  format: "binary"
});
t2.Files = (arg = {}) => ElysiaType.Files({
  ...arg,
  elysiaMeta: "Files",
  default: "Files",
  extension: arg?.type,
  type: "array",
  items: {
    ...arg,
    default: "Files",
    type: "string",
    format: "binary"
  }
});
t2.Nullable = (schema3) => ElysiaType.Nullable(schema3);
t2.MaybeEmpty = ElysiaType.MaybeEmpty;
t2.Cookie = ElysiaType.Cookie;
t2.Date = ElysiaType.Date;
var Elysia = class _Elysia {
  constructor(config) {
    this.server = null;
    this.dependencies = {};
    this.reporter = new eventemitter3_default;
    this._routes = {};
    this._types = {
      Prefix: "",
      Scoped: false,
      Singleton: {},
      Definitions: {},
      Metadata: {}
    };
    this._ephemeral = {};
    this._volatile = {};
    this.singleton = {
      decorator: {},
      store: {},
      derive: {},
      resolve: {}
    };
    this.definitions = {
      type: {},
      error: {}
    };
    this.extender = {
      macros: []
    };
    this.validator = null;
    this.event = {
      start: [],
      request: [],
      parse: [],
      transform: [],
      beforeHandle: [],
      afterHandle: [],
      mapResponse: [],
      onResponse: [],
      trace: [],
      error: [],
      stop: []
    };
    this.telemetry = {
      stack: undefined
    };
    this.router = {
      http: new Memoirist,
      ws: new Memoirist,
      dynamic: new Memoirist,
      static: {
        http: {
          handlers: [],
          variables: "",
          map: {},
          all: ""
        },
        ws: {}
      },
      history: []
    };
    this.inference = {
      event: {
        body: false,
        cookie: false,
        headers: false,
        queries: [],
        query: false,
        set: false,
        unknownQueries: false
      },
      trace: {
        request: false,
        parse: false,
        transform: false,
        handle: false,
        beforeHandle: false,
        afterHandle: false,
        error: false,
        context: false,
        store: false,
        set: false
      }
    };
    this.promisedModules = new PromiseGroup;
    this.routeTree = new Map;
    this.handle = async (request) => this.fetch(request);
    this.fetch = (request) => {
      if (this.config.aot !== false)
        console.warn("Performance degradation found. Please call Elysia.compile() before using 'fetch'");
      return (this.fetch = this.config.aot ? composeGeneralHandler(this) : createDynamicHandler(this))(request);
    };
    this.handleError = async (context, error23) => (this.handleError = this.config.aot ? composeErrorHandler(this) : createDynamicErrorHandler(this))(context, error23);
    this.outerErrorHandler = (error23) => new Response(error23.message || error23.name || "Error", {
      status: error23?.status ?? 500
    });
    this.listen = (options, callback) => {
      if (typeof Bun === "undefined")
        throw new Error(".listen() is designed to run on Bun only. If you are running Elysia in other environment please use a dedicated plugin or export the handler via Elysia.fetch");
      this.compile();
      if (typeof options === "string") {
        if (!isNumericString(options))
          throw new Error("Port must be a numeric value");
        options = parseInt(options);
      }
      const fetch = this.fetch;
      const serve = typeof options === "object" ? {
        development: !isProduction,
        reusePort: true,
        ...this.config.serve || {},
        ...options || {},
        websocket: {
          ...this.config.websocket || {},
          ...websocket || {}
        },
        fetch,
        error: this.outerErrorHandler
      } : {
        development: !isProduction,
        reusePort: true,
        ...this.config.serve || {},
        websocket: {
          ...this.config.websocket || {},
          ...websocket || {}
        },
        port: options,
        fetch,
        error: this.outerErrorHandler
      };
      this.server = Bun?.serve(serve);
      for (let i = 0;i < this.event.start.length; i++)
        this.event.start[i].fn(this);
      if (callback)
        callback(this.server);
      process.on("beforeExit", () => {
        if (this.server) {
          this.server.stop();
          this.server = null;
          for (let i = 0;i < this.event.stop.length; i++)
            this.event.stop[i].fn(this);
        }
      });
      this.promisedModules.then(() => {
        Bun?.gc(false);
      });
      return this;
    };
    this.stop = async () => {
      if (!this.server)
        throw new Error("Elysia isn't running. Call `app.listen` to start the server.");
      if (this.server) {
        this.server.stop();
        this.server = null;
        if (this.event.stop.length)
          for (let i = 0;i < this.event.stop.length; i++)
            this.event.stop[i].fn(this);
      }
    };
    if (config?.tags) {
      if (!config.detail)
        config.detail = {
          tags: config.tags
        };
      else
        config.detail.tags = config.tags;
    }
    this.config = {
      forceErrorEncapsulation: true,
      prefix: "",
      aot: true,
      strictPath: false,
      global: false,
      cookie: {
        path: "/"
      },
      analytic: false,
      ...config,
      experimental: config?.experimental ?? {},
      seed: config?.seed === undefined ? "" : config?.seed
    };
    if (config?.analytic && (config?.name || config?.seed !== undefined))
      this.telemetry.stack = new Error().stack;
  }
  get store() {
    return this.singleton.store;
  }
  get decorator() {
    return this.singleton.decorator;
  }
  get _scoped() {
    return this.config.scoped;
  }
  getServer() {
    return this.server;
  }
  get routes() {
    return this.router.history;
  }
  applyMacro(localHook) {
    if (this.extender.macros.length) {
      const manage = createMacroManager({
        globalHook: this.event,
        localHook
      });
      const manager = {
        events: {
          global: this.event,
          local: localHook
        },
        onParse: manage("parse"),
        onTransform: manage("transform"),
        onBeforeHandle: manage("beforeHandle"),
        onAfterHandle: manage("afterHandle"),
        onResponse: manage("onResponse"),
        mapResponse: manage("mapResponse"),
        onError: manage("error")
      };
      for (const macro of this.extender.macros)
        traceBackMacro(macro.fn(manager), localHook);
    }
  }
  add(method, path, handle, localHook, { allowMeta = false, skipPrefix = false } = {
    allowMeta: false,
    skipPrefix: false
  }) {
    localHook = localHookToLifeCycleStore(localHook);
    if (path !== "" && path.charCodeAt(0) !== 47)
      path = "/" + path;
    if (this.config.prefix && !skipPrefix && !this.config.scoped)
      path = this.config.prefix + path;
    if (localHook?.type)
      switch (localHook.type) {
        case "text":
          localHook.type = "text/plain";
          break;
        case "json":
          localHook.type = "application/json";
          break;
        case "formdata":
          localHook.type = "multipart/form-data";
          break;
        case "urlencoded":
          localHook.type = "application/x-www-form-urlencoded";
          break;
        case "arrayBuffer":
          localHook.type = "application/octet-stream";
          break;
        default:
          break;
      }
    const models = this.definitions.type;
    let _body, _headers, _params, _query, _cookie, _response;
    const dynamic = !this.config.aot;
    const cloned = {
      body: localHook?.body ?? this.validator?.body,
      headers: localHook?.headers ?? this.validator?.headers,
      params: localHook?.params ?? this.validator?.params,
      query: localHook?.query ?? this.validator?.query,
      cookie: localHook?.cookie ?? this.validator?.cookie,
      response: localHook?.response ?? this.validator?.response
    };
    const cookieValidator = () => cloned.cookie ? getCookieValidator({
      validator: cloned.cookie,
      defaultConfig: this.config.cookie,
      config: cloned.cookie?.config ?? {},
      dynamic,
      models
    }) : undefined;
    const normalize = this.config.normalize;
    const validator = this.config.precompile === true || typeof this.config.precompile === "object" && this.config.precompile.schema === true ? {
      body: getSchemaValidator(cloned.body, {
        dynamic,
        models,
        normalize
      }),
      headers: getSchemaValidator(cloned.headers, {
        dynamic,
        models,
        additionalProperties: true
      }),
      params: getSchemaValidator(cloned.params, {
        dynamic,
        models
      }),
      query: getSchemaValidator(cloned.query, {
        dynamic,
        models,
        normalize
      }),
      cookie: cookieValidator(),
      response: getResponseSchemaValidator(cloned.response, {
        dynamic,
        models,
        normalize
      })
    } : {
      get body() {
        if (_body)
          return _body;
        return _body = getSchemaValidator(cloned.body, {
          dynamic,
          models,
          normalize
        });
      },
      get headers() {
        if (_headers)
          return _headers;
        return getSchemaValidator(cloned.headers, {
          dynamic,
          models,
          additionalProperties: true
        });
      },
      get params() {
        if (_params)
          return _params;
        return _params = getSchemaValidator(cloned.params, {
          dynamic,
          models
        });
      },
      get query() {
        if (_query)
          return _query;
        return _query = getSchemaValidator(cloned.query, {
          dynamic,
          models
        });
      },
      get cookie() {
        if (_cookie)
          return _cookie;
        return _cookie = cookieValidator();
      },
      get response() {
        if (_response)
          return _response;
        return _response = getResponseSchemaValidator(cloned.response, {
          dynamic,
          models,
          normalize
        });
      }
    };
    const loosePath = path.endsWith("/") ? path.slice(0, path.length - 1) : path + "/";
    localHook = mergeHook(localHook, {}, { allowMacro: true });
    if (localHook.tags) {
      if (!localHook.detail)
        localHook.detail = {
          tags: localHook.tags
        };
      else
        localHook.detail.tags = localHook.tags;
    }
    if (isNotEmpty(this.config.detail))
      localHook.detail = mergeDeep(Object.assign({}, this.config.detail), localHook.detail);
    this.applyMacro(localHook);
    const hooks = mergeHook(this.event, localHook);
    if (this.config.aot === false) {
      this.router.dynamic.add(method, path, {
        validator,
        hooks,
        content: localHook?.type,
        handle
      });
      if (this.config.strictPath === false) {
        this.router.dynamic.add(method, loosePath, {
          validator,
          hooks,
          content: localHook?.type,
          handle
        });
      }
      this.router.history.push({
        method,
        path,
        composed: null,
        handler: handle,
        hooks
      });
      return;
    }
    let composed = undefined;
    const shouldPrecompile = this.config.precompile === true || typeof this.config.precompile === "object" && this.config.precompile.compose === true;
    const appInference = cloneInference(this.inference);
    const mainHandler = shouldPrecompile ? composeHandler({
      app: this,
      path,
      method,
      localHook: mergeHook(localHook),
      hooks,
      validator,
      handler: handle,
      allowMeta,
      appInference
    }) : (context) => {
      if (composed)
        return composed(context);
      return (composed = composeHandler({
        app: this,
        path,
        method,
        localHook: mergeHook(localHook),
        hooks,
        validator,
        handler: handle,
        allowMeta,
        appInference
      }))(context);
    };
    if (!shouldPrecompile)
      mainHandler.compose = () => {
        return mainHandler.composed = composeHandler({
          app: this,
          path,
          method,
          localHook: mergeHook(localHook),
          hooks,
          validator,
          handler: handle,
          allowMeta,
          appInference
        });
      };
    let routeIndex = this.router.history.length;
    if (this.routeTree.has(method + path)) {
      routeIndex = this.router.history.findIndex((route) => route.path === path && route.method === method);
      if (routeIndex !== -1) {
        const removed = this.router.history.splice(routeIndex, 1)[0];
        if (removed && this.routeTree.has(removed?.method + removed?.path))
          this.routeTree.delete(removed.method + removed.path);
      }
    }
    this.routeTree.set(method + path, routeIndex);
    this.router.history.push({
      method,
      path,
      composed: mainHandler,
      handler: handle,
      hooks
    });
    const staticRouter = this.router.static.http;
    if (method === "$INTERNALWS") {
      const loose = this.config.strictPath ? undefined : path.endsWith("/") ? path.slice(0, path.length - 1) : path + "/";
      if (path.indexOf(":") === -1 && path.indexOf("*") === -1) {
        const index = staticRouter.handlers.length;
        staticRouter.handlers.push(mainHandler);
        staticRouter.variables += `const st${index} = staticRouter.handlers[${index}]
`;
        this.router.static.ws[path] = index;
        if (loose)
          this.router.static.ws[loose] = index;
      } else {
        this.router.ws.add("ws", path, mainHandler);
        if (loose)
          this.router.ws.add("ws", loose, mainHandler);
      }
      return;
    }
    if (path.indexOf(":") === -1 && path.indexOf("*") === -1) {
      const index = staticRouter.handlers.length;
      staticRouter.handlers.push(mainHandler);
      staticRouter.variables += shouldPrecompile ? `const st${index} = staticRouter.handlers[${index}]
` : `let st${index} = staticRouter.handlers[${index}]
let stc${index}
`;
      if (!staticRouter.map[path])
        staticRouter.map[path] = {
          code: ""
        };
      if (method === "ALL")
        staticRouter.map[path].all = shouldPrecompile ? `default: return st${index}(ctx)
` : `default: ${jitRoute(index)}
`;
      else
        staticRouter.map[path].code = shouldPrecompile ? `case '${method}': return st${index}(ctx)
${staticRouter.map[path].code}` : `case '${method}': ${jitRoute(index)}
${staticRouter.map[path].code}`;
      if (!this.config.strictPath) {
        if (!staticRouter.map[loosePath])
          staticRouter.map[loosePath] = {
            code: ""
          };
        if (method === "ALL")
          staticRouter.map[loosePath].all = shouldPrecompile ? `default: return st${index}(ctx)
` : `default: ${jitRoute(index)}
`;
        else
          staticRouter.map[loosePath].code = shouldPrecompile ? `case '${method}': return st${index}(ctx)
${staticRouter.map[loosePath].code}` : `case '${method}': ${jitRoute(index)}
${staticRouter.map[loosePath].code}`;
      }
    } else {
      this.router.http.add(method, path, mainHandler);
      if (!this.config.strictPath)
        this.router.http.add(method, path.endsWith("/") ? path.slice(0, path.length - 1) : path + "/", mainHandler);
    }
  }
  headers(header) {
    if (!header)
      return this;
    if (!this.setHeaders)
      this.setHeaders = {};
    this.setHeaders = mergeDeep(this.setHeaders, header);
    return this;
  }
  onStart(handler) {
    this.on("start", handler);
    return this;
  }
  onRequest(handler) {
    this.on("request", handler);
    return this;
  }
  onParse(options, handler) {
    if (!handler)
      return this.on("parse", options);
    return this.on(options, "parse", handler);
  }
  onTransform(options, handler) {
    if (!handler)
      return this.on("transform", options);
    return this.on(options, "transform", handler);
  }
  resolve(optionsOrResolve, resolve) {
    if (!resolve) {
      resolve = optionsOrResolve;
      optionsOrResolve = { as: "local" };
    }
    const hook = {
      subType: "resolve",
      fn: resolve
    };
    return this.onBeforeHandle(optionsOrResolve, hook);
  }
  mapResolve(optionsOrResolve, mapper) {
    if (!mapper) {
      mapper = optionsOrResolve;
      optionsOrResolve = { as: "local" };
    }
    const hook = {
      subType: "resolve",
      fn: mapper
    };
    return this.onBeforeHandle(optionsOrResolve, hook);
  }
  onBeforeHandle(options, handler) {
    if (!handler)
      return this.on("beforeHandle", options);
    return this.on(options, "beforeHandle", handler);
  }
  onAfterHandle(options, handler) {
    if (!handler)
      return this.on("afterHandle", options);
    return this.on(options, "afterHandle", handler);
  }
  mapResponse(options, handler) {
    if (!handler)
      return this.on("mapResponse", options);
    return this.on(options, "mapResponse", handler);
  }
  onResponse(options, handler) {
    if (!handler)
      return this.on("response", options);
    return this.on(options, "response", handler);
  }
  trace(options, handler) {
    if (!handler) {
      handler = options;
      options = { as: "local" };
    }
    if (!Array.isArray(handler))
      handler = [handler];
    for (const fn of handler)
      this.reporter.on("event", createTraceListener(() => this.reporter, this.event.trace.length, fn));
    this.on(options, "trace", handler);
    return this;
  }
  error(name, error23) {
    switch (typeof name) {
      case "string":
        error23.prototype[ERROR_CODE] = name;
        this.definitions.error[name] = error23;
        return this;
      case "function":
        this.definitions.error = name(this.definitions.error);
        return this;
    }
    for (const [code, error32] of Object.entries(name)) {
      error32.prototype[ERROR_CODE] = code;
      this.definitions.error[code] = error32;
    }
    return this;
  }
  onError(options, handler) {
    if (!handler)
      return this.on("error", options);
    return this.on(options, "error", handler);
  }
  onStop(handler) {
    this.on("stop", handler);
    return this;
  }
  on(optionsOrType, typeOrHandlers, handlers) {
    let type47;
    switch (typeof optionsOrType) {
      case "string":
        type47 = optionsOrType;
        handlers = typeOrHandlers;
        break;
      case "object":
        type47 = typeOrHandlers;
        break;
    }
    if (type47 === "response")
      type47 = "onResponse";
    if (Array.isArray(handlers))
      handlers = fnToContainer(handlers);
    else {
      if (typeof handlers === "function")
        handlers = [
          {
            fn: handlers
          }
        ];
      else
        handlers = [handlers];
    }
    const handles = handlers;
    for (const handle of handles)
      handle.scope = typeof optionsOrType === "string" ? "local" : optionsOrType?.as ?? "local";
    if (type47 === "trace")
      sucroseTrace(handles.map((x) => x.fn), this.inference.trace);
    else
      sucrose({
        [type47]: handles.map((x) => x.fn)
      }, this.inference.event);
    for (const handle of handles) {
      const fn = asHookType(handle, "global", { skipIfHasType: true });
      switch (type47) {
        case "start":
          this.event.start.push(fn);
          break;
        case "request":
          this.event.request.push(fn);
          break;
        case "parse":
          this.event.parse.push(fn);
          break;
        case "transform":
          this.event.transform.push(fn);
          break;
        case "beforeHandle":
          this.event.beforeHandle.push(fn);
          break;
        case "afterHandle":
          this.event.afterHandle.push(fn);
          break;
        case "mapResponse":
          this.event.mapResponse.push(fn);
          break;
        case "onResponse":
          this.event.onResponse.push(fn);
          break;
        case "trace":
          this.event.trace.push(fn);
          break;
        case "error":
          this.event.error.push(fn);
          break;
        case "stop":
          this.event.stop.push(fn);
          break;
      }
    }
    return this;
  }
  propagate() {
    const promoteEvent = (events) => {
      for (const event of events) {
        if ("scope" in event && event.scope === "local")
          event.scope = "scoped";
      }
    };
    promoteEvent(this.event.parse);
    promoteEvent(this.event.transform);
    promoteEvent(this.event.beforeHandle);
    promoteEvent(this.event.afterHandle);
    promoteEvent(this.event.mapResponse);
    promoteEvent(this.event.onResponse);
    promoteEvent(this.event.trace);
    promoteEvent(this.event.error);
    return this;
  }
  group(prefix, schemaOrRun, run) {
    const instance = new _Elysia({
      ...this.config,
      prefix: ""
    });
    instance.singleton = { ...this.singleton };
    instance.definitions = { ...this.definitions };
    instance.getServer = () => this.server;
    instance.inference = cloneInference(this.inference);
    instance.extender = { ...this.extender };
    const isSchema = typeof schemaOrRun === "object";
    const sandbox = (isSchema ? run : schemaOrRun)(instance);
    this.singleton = mergeDeep(this.singleton, instance.singleton);
    this.definitions = mergeDeep(this.definitions, instance.definitions);
    if (sandbox.event.request.length)
      this.event.request = [
        ...this.event.request || [],
        ...sandbox.event.request || []
      ];
    if (sandbox.event.onResponse.length)
      this.event.onResponse = [
        ...this.event.onResponse || [],
        ...sandbox.event.onResponse || []
      ];
    this.model(sandbox.definitions.type);
    Object.values(instance.router.history).forEach(({ method, path, handler, hooks }) => {
      path = (isSchema ? "" : this.config.prefix) + prefix + path;
      if (isSchema) {
        const hook = schemaOrRun;
        const localHook = hooks;
        this.add(method, path, handler, mergeHook(hook, {
          ...localHook || {},
          error: !localHook.error ? sandbox.event.error : Array.isArray(localHook.error) ? [
            ...localHook.error || {},
            ...sandbox.event.error || {}
          ] : [
            localHook.error,
            ...sandbox.event.error || {}
          ]
        }));
      } else {
        this.add(method, path, handler, mergeHook(hooks, {
          error: sandbox.event.error
        }), {
          skipPrefix: true
        });
      }
    });
    return this;
  }
  guard(hook, run) {
    if (!run) {
      if (typeof hook === "object") {
        this.applyMacro(hook);
        this.event = mergeLifeCycle(this.event, hook);
        this.validator = {
          body: hook.body ?? this.validator?.body,
          headers: hook.headers ?? this.validator?.headers,
          params: hook.params ?? this.validator?.params,
          query: hook.query ?? this.validator?.query,
          response: hook.response ?? this.validator?.response,
          cookie: hook.cookie ?? this.validator?.cookie
        };
        if (hook.detail) {
          if (this.config.detail)
            this.config.detail = mergeDeep(Object.assign({}, this.config.detail), hook.detail);
          else
            this.config.detail = hook.detail;
        }
        if (hook?.tags) {
          if (!this.config.detail)
            this.config.detail = {
              tags: hook.tags
            };
          else
            this.config.detail.tags = hook.tags;
        }
        return this;
      }
      return this.guard({}, hook);
    }
    const instance = new _Elysia({
      ...this.config,
      prefix: ""
    });
    instance.singleton = { ...this.singleton };
    instance.definitions = { ...this.definitions };
    instance.inference = cloneInference(this.inference);
    instance.extender = { ...this.extender };
    const sandbox = run(instance);
    this.singleton = mergeDeep(this.singleton, instance.singleton);
    this.definitions = mergeDeep(this.definitions, instance.definitions);
    sandbox.getServer = () => this.server;
    if (sandbox.event.request.length)
      this.event.request = [
        ...this.event.request || [],
        ...sandbox.event.request || []
      ];
    if (sandbox.event.onResponse.length)
      this.event.onResponse = [
        ...this.event.onResponse || [],
        ...sandbox.event.onResponse || []
      ];
    this.model(sandbox.definitions.type);
    Object.values(instance.router.history).forEach(({ method, path, handler, hooks: localHook }) => {
      this.add(method, path, handler, mergeHook(hook, {
        ...localHook || {},
        error: !localHook.error ? sandbox.event.error : Array.isArray(localHook.error) ? [
          ...localHook.error || {},
          ...sandbox.event.error || []
        ] : [
          localHook.error,
          ...sandbox.event.error || []
        ]
      }, {
        allowMacro: true
      }));
    });
    return this;
  }
  use(plugin, options) {
    if (options?.scoped)
      return this.guard({}, (app) => app.use(plugin));
    if (Array.isArray(plugin)) {
      let current = this;
      for (const p of plugin)
        current = this.use(p);
      return current;
    }
    if (plugin instanceof Promise) {
      this.promisedModules.add(plugin.then((plugin2) => {
        if (typeof plugin2 === "function")
          return plugin2(this);
        if (plugin2 instanceof _Elysia)
          return this._use(plugin2);
        if (typeof plugin2.default === "function")
          return plugin2.default(this);
        if (plugin2.default instanceof _Elysia)
          return this._use(plugin2.default);
        throw new Error('Invalid plugin type. Expected Elysia instance, function, or module with "default" as Elysia instance or function that returns Elysia instance.');
      }).then((x) => x.compile()));
      return this;
    }
    return this._use(plugin);
  }
  _use(plugin) {
    if (typeof plugin === "function") {
      const instance = plugin(this);
      if (instance instanceof Promise) {
        this.promisedModules.add(instance.then((plugin2) => {
          if (plugin2 instanceof _Elysia) {
            this.compile();
            for (const {
              method,
              path,
              handler,
              hooks
            } of Object.values(plugin2.router.history)) {
              this.add(method, path, handler, mergeHook(hooks, {
                error: plugin2.event.error
              }));
            }
            return plugin2;
          }
          if (typeof plugin2 === "function")
            return plugin2(this);
          if (typeof plugin2.default === "function")
            return plugin2.default(this);
          return this._use(plugin2);
        }).then((x) => x.compile()));
        return this;
      }
      return instance;
    }
    if (plugin.promisedModules.size) {
      this.promisedModules.add(plugin.modules.then(() => this._use(plugin)).then((x) => x.compile()));
      return this;
    }
    const { name, seed } = plugin.config;
    plugin.getServer = () => this.getServer();
    plugin.model(this.definitions.type);
    plugin.error(this.definitions.error);
    const isScoped = plugin.config.scoped;
    if (isScoped) {
      if (name) {
        if (!(name in this.dependencies))
          this.dependencies[name] = [];
        const current = seed !== undefined ? checksum(name + JSON.stringify(seed)) : 0;
        if (this.dependencies[name].some(({ checksum: checksum2 }) => current === checksum2))
          return this;
        this.dependencies[name].push(!this.config?.analytic ? {
          name: plugin.config.name,
          seed: plugin.config.seed,
          checksum: current,
          dependencies: plugin.dependencies
        } : {
          name: plugin.config.name,
          seed: plugin.config.seed,
          checksum: current,
          dependencies: plugin.dependencies,
          stack: plugin.telemetry.stack,
          routes: plugin.router.history,
          decorators: plugin.singleton.decorator,
          store: plugin.singleton.store,
          type: plugin.definitions.type,
          error: plugin.definitions.error,
          derive: plugin.event.transform.filter((x) => x.subType === "derive").map((x) => ({
            fn: x.fn.toString(),
            stack: new Error().stack ?? ""
          })),
          resolve: plugin.event.transform.filter((x) => x.subType === "derive").map((x) => ({
            fn: x.fn.toString(),
            stack: new Error().stack ?? ""
          }))
        });
      }
      plugin.extender.macros = this.extender.macros.concat(plugin.extender.macros);
      const macroHashes = [];
      for (let i = 0;i < plugin.extender.macros.length; i++) {
        const macro = this.extender.macros[i];
        if (macroHashes.includes(macro.checksum)) {
          plugin.extender.macros.splice(i, 1);
          i--;
        }
        macroHashes.push(macro.checksum);
      }
      plugin.onRequest((context) => {
        Object.assign(context, this.singleton.decorator);
        Object.assign(context.store, this.singleton.store);
      });
      if (plugin.event.trace.length)
        plugin.event.trace.push(...plugin.event.trace);
      if (!plugin.config.prefix)
        console.warn("It's recommended to use scoped instance with a prefix to prevent collision routing with other instance.");
      if (plugin.event.error.length)
        plugin.event.error.push(...this.event.error);
      if (plugin.config.aot)
        plugin.compile();
      if (isScoped === true && plugin.config.prefix) {
        this.mount(plugin.config.prefix + "/", plugin.fetch);
        for (const route of plugin.router.history) {
          this.routeTree.set(route.method + `${plugin.config.prefix}${route.path}`, this.router.history.length);
          this.router.history.push({
            ...route,
            path: `${plugin.config.prefix}${route.path}`,
            hooks: mergeHook(route.hooks, {
              error: this.event.error
            })
          });
        }
      } else {
        this.mount(plugin.fetch);
        for (const route of plugin.router.history) {
          this.routeTree.set(route.method + `${plugin.config.prefix}${route.path}`, this.router.history.length);
          this.router.history.push({
            ...route,
            path: `${plugin.config.prefix}${route.path}`,
            hooks: mergeHook(route.hooks, {
              error: this.event.error
            })
          });
        }
      }
      return this;
    } else {
      this.headers(plugin.setHeaders);
      plugin.reporter = this.reporter;
      for (const trace of plugin.event.trace)
        if (trace.scope && trace.scope !== "local")
          this.trace(trace);
      if (name) {
        if (!(name in this.dependencies))
          this.dependencies[name] = [];
        const current = seed !== undefined ? checksum(name + JSON.stringify(seed)) : 0;
        if (!this.dependencies[name].some(({ checksum: checksum2 }) => current === checksum2))
          this.extender.macros = this.extender.macros.concat(plugin.extender.macros);
      } else {
        this.extender.macros = this.extender.macros.concat(plugin.extender.macros);
      }
      const macroHashes = [];
      for (let i = 0;i < this.extender.macros.length; i++) {
        const macro = this.extender.macros[i];
        if (macro.checksum) {
          if (macroHashes.includes(macro.checksum)) {
            this.extender.macros.splice(i, 1);
            i--;
          }
          macroHashes.push(macro.checksum);
        }
      }
      this.inference = {
        event: {
          body: this.inference.event.body || plugin.inference.event.body,
          cookie: this.inference.event.cookie || plugin.inference.event.cookie,
          headers: this.inference.event.headers || plugin.inference.event.headers,
          queries: [
            ...this.inference.event.queries,
            ...plugin.inference.event.queries
          ],
          query: this.inference.event.query || plugin.inference.event.query,
          set: this.inference.event.set || plugin.inference.event.set,
          unknownQueries: this.inference.event.unknownQueries || plugin.inference.event.unknownQueries
        },
        trace: {
          request: this.inference.trace.request || plugin.inference.trace.request,
          parse: this.inference.trace.parse || plugin.inference.trace.parse,
          transform: this.inference.trace.transform || plugin.inference.trace.transform,
          handle: this.inference.trace.handle || plugin.inference.trace.handle,
          beforeHandle: this.inference.trace.beforeHandle || plugin.inference.trace.beforeHandle,
          afterHandle: this.inference.trace.afterHandle || plugin.inference.trace.afterHandle,
          error: this.inference.trace.error || plugin.inference.trace.error,
          context: this.inference.trace.context || plugin.inference.trace.context,
          store: this.inference.trace.store || plugin.inference.trace.store,
          set: this.inference.trace.set || plugin.inference.trace.set
        }
      };
    }
    this.decorate(plugin.singleton.decorator);
    this.state(plugin.singleton.store);
    this.model(plugin.definitions.type);
    this.error(plugin.definitions.error);
    for (const { method, path, handler, hooks } of Object.values(plugin.router.history)) {
      this.add(method, path, handler, mergeHook(hooks, {
        error: plugin.event.error
      }));
    }
    if (!isScoped)
      if (name) {
        if (!(name in this.dependencies))
          this.dependencies[name] = [];
        const current = seed !== undefined ? checksum(name + JSON.stringify(seed)) : 0;
        if (this.dependencies[name].some(({ checksum: checksum2 }) => current === checksum2))
          return this;
        this.dependencies[name].push(!this.config?.analytic ? {
          name: plugin.config.name,
          seed: plugin.config.seed,
          checksum: current,
          dependencies: plugin.dependencies
        } : {
          name: plugin.config.name,
          seed: plugin.config.seed,
          checksum: current,
          dependencies: plugin.dependencies,
          stack: plugin.telemetry.stack,
          routes: plugin.router.history,
          decorators: plugin.singleton,
          store: plugin.singleton.store,
          type: plugin.definitions.type,
          error: plugin.definitions.error,
          derive: plugin.event.transform.filter((x) => x?.subType === "derive").map((x) => ({
            fn: x.toString(),
            stack: new Error().stack ?? ""
          })),
          resolve: plugin.event.transform.filter((x) => x?.subType === "resolve").map((x) => ({
            fn: x.toString(),
            stack: new Error().stack ?? ""
          }))
        });
        this.event = mergeLifeCycle(this.event, filterGlobalHook(plugin.event), current);
      } else {
        this.event = mergeLifeCycle(this.event, filterGlobalHook(plugin.event));
      }
    return this;
  }
  macro(macro) {
    const hook = {
      checksum: checksum(JSON.stringify({
        name: this.config.name,
        seed: this.config.seed,
        content: macro.toString()
      })),
      fn: macro
    };
    this.extender.macros.push(hook);
    return this;
  }
  mount(path, handle) {
    if (path instanceof _Elysia || typeof path === "function" || path.length === 0 || path === "/") {
      const run = typeof path === "function" ? path : path instanceof _Elysia ? path.compile().fetch : handle instanceof _Elysia ? handle.compile().fetch : handle;
      const handler2 = async ({ request, path: path2 }) => run(new Request(replaceUrlPath(request.url, path2 || "/"), request));
      this.all("/*", handler2, {
        type: "none"
      });
      return this;
    }
    const length = path.length;
    if (handle instanceof _Elysia)
      handle = handle.compile().fetch;
    const handler = async ({ request, path: path2 }) => handle(new Request(replaceUrlPath(request.url, path2.slice(length) || "/"), request));
    this.all(path, handler, {
      type: "none"
    });
    this.all(path + (path.endsWith("/") ? "*" : "/*"), handler, {
      type: "none"
    });
    return this;
  }
  get(path, handler, hook) {
    this.add("GET", path, handler, hook);
    return this;
  }
  post(path, handler, hook) {
    this.add("POST", path, handler, hook);
    return this;
  }
  put(path, handler, hook) {
    this.add("PUT", path, handler, hook);
    return this;
  }
  patch(path, handler, hook) {
    this.add("PATCH", path, handler, hook);
    return this;
  }
  delete(path, handler, hook) {
    this.add("DELETE", path, handler, hook);
    return this;
  }
  options(path, handler, hook) {
    this.add("OPTIONS", path, handler, hook);
    return this;
  }
  all(path, handler, hook) {
    this.add("ALL", path, handler, hook);
    return this;
  }
  head(path, handler, hook) {
    this.add("HEAD", path, handler, hook);
    return this;
  }
  connect(path, handler, hook) {
    this.add("CONNECT", path, handler, hook);
    return this;
  }
  route(method, path, handler, hook) {
    this.add(method.toUpperCase(), path, handler, hook, hook?.config);
    return this;
  }
  ws(path, options) {
    const transform7 = options.transformMessage ? Array.isArray(options.transformMessage) ? options.transformMessage : [options.transformMessage] : undefined;
    let server = null;
    const validateMessage = getSchemaValidator(options?.body, {
      models: this.definitions.type,
      normalize: this.config.normalize
    });
    const validateResponse = getSchemaValidator(options?.response, {
      models: this.definitions.type,
      normalize: this.config.normalize
    });
    const parseMessage = (message) => {
      if (typeof message === "string") {
        const start = message?.charCodeAt(0);
        if (start === 47 || start === 123)
          try {
            message = JSON.parse(message);
          } catch {
          }
        else if (isNumericString(message))
          message = +message;
      }
      if (transform7?.length)
        for (let i = 0;i < transform7.length; i++) {
          const temp = transform7[i](message);
          if (temp !== undefined)
            message = temp;
        }
      return message;
    };
    this.route("$INTERNALWS", path, (context) => {
      const { set: set2, path: path2, qi, headers, query, params } = context;
      if (server === null)
        server = this.getServer();
      if (server?.upgrade(context.request, {
        headers: typeof options.upgrade === "function" ? options.upgrade(context) : options.upgrade,
        data: {
          validator: validateResponse,
          open(ws) {
            options.open?.(new ElysiaWS(ws, context));
          },
          message: (ws, msg) => {
            const message = parseMessage(msg);
            if (validateMessage?.Check(message) === false)
              return void ws.send(new ValidationError("message", validateMessage, message).message);
            options.message?.(new ElysiaWS(ws, context), message);
          },
          drain(ws) {
            options.drain?.(new ElysiaWS(ws, context));
          },
          close(ws, code, reason) {
            options.close?.(new ElysiaWS(ws, context), code, reason);
          }
        }
      }))
        return;
      set2.status = 400;
      return "Expected a websocket connection";
    }, {
      beforeHandle: options.beforeHandle,
      transform: options.transform,
      headers: options.headers,
      params: options.params,
      query: options.query
    });
    return this;
  }
  state(name, value15) {
    switch (typeof name) {
      case "object":
        this.singleton.store = mergeDeep(this.singleton.store, name);
        return this;
      case "function":
        this.singleton.store = name(this.singleton.store);
        return this;
    }
    if (!(name in this.singleton.store)) {
      this.singleton.store[name] = value15;
    }
    return this;
  }
  decorate(name, value15) {
    switch (typeof name) {
      case "object":
        this.singleton.decorator = mergeDeep(this.singleton.decorator, name);
        return this;
      case "function":
        this.singleton.decorator = name(this.singleton.decorator);
        return this;
    }
    if (!(name in this.singleton.decorator))
      this.singleton.decorator[name] = value15;
    return this;
  }
  derive(optionsOrTransform, transform7) {
    if (!transform7) {
      transform7 = optionsOrTransform;
      optionsOrTransform = { as: "local" };
    }
    const hook = {
      subType: "derive",
      fn: transform7
    };
    return this.onTransform(optionsOrTransform, hook);
  }
  model(name, model) {
    switch (typeof name) {
      case "object":
        Object.entries(name).forEach(([key, value15]) => {
          if (!(key in this.definitions.type))
            this.definitions.type[key] = value15;
        });
        return this;
      case "function":
        this.definitions.type = name(this.definitions.type);
        return this;
    }
    this.definitions.type[name] = model;
    return this;
  }
  mapDerive(optionsOrDerive, mapper) {
    if (!mapper) {
      mapper = optionsOrDerive;
      optionsOrDerive = { as: "local" };
    }
    const hook = {
      subType: "derive",
      fn: mapper
    };
    return this.onTransform(optionsOrDerive, hook);
  }
  affix(base, type47, word) {
    if (word === "")
      return this;
    const delimieter = ["_", "-", " "];
    const capitalize2 = (word2) => word2[0].toUpperCase() + word2.slice(1);
    const joinKey = base === "prefix" ? (prefix, word2) => delimieter.includes(prefix.at(-1) ?? "") ? prefix + word2 : prefix + capitalize2(word2) : delimieter.includes(word.at(-1) ?? "") ? (suffix, word2) => word2 + suffix : (suffix, word2) => word2 + capitalize2(suffix);
    const remap = (type210) => {
      const store = {};
      switch (type210) {
        case "decorator":
          for (const key in this.singleton.decorator) {
            store[joinKey(word, key)] = this.singleton.decorator[key];
          }
          this.singleton.decorator = store;
          break;
        case "state":
          for (const key in this.singleton.store)
            store[joinKey(word, key)] = this.singleton.store[key];
          this.singleton.store = store;
          break;
        case "model":
          for (const key in this.definitions.type)
            store[joinKey(word, key)] = this.definitions.type[key];
          this.definitions.type = store;
          break;
        case "error":
          for (const key in this.definitions.error)
            store[joinKey(word, key)] = this.definitions.error[key];
          this.definitions.error = store;
          break;
      }
    };
    const types = Array.isArray(type47) ? type47 : [type47];
    for (const type210 of types.some((x) => x === "all") ? ["decorator", "state", "model", "error"] : types)
      remap(type210);
    return this;
  }
  prefix(type47, word) {
    return this.affix("prefix", type47, word);
  }
  suffix(type47, word) {
    return this.affix("suffix", type47, word);
  }
  compile() {
    this.fetch = this.config.aot ? composeGeneralHandler(this) : createDynamicHandler(this);
    if (typeof this.server?.reload === "function")
      this.server.reload({
        ...this.server || {},
        fetch: this.fetch
      });
    return this;
  }
  get modules() {
    return Promise.all(this.promisedModules.promises);
  }
};

// node_modules/@elysiajs/cors/dist/index.js
var processOrigin = (origin, request, from) => {
  if (Array.isArray(origin))
    return origin.some((o) => processOrigin(o, request, from));
  switch (typeof origin) {
    case "string":
      const protocolStart = from.indexOf("://");
      if (protocolStart !== -1)
        from = from.slice(protocolStart + 3);
      const trailingSlash = from.indexOf("/", 0);
      if (trailingSlash !== -1)
        from = from.slice(trailingSlash);
      return origin === from;
    case "function":
      return origin(request) === true;
    case "object":
      if (origin instanceof RegExp)
        return origin.test(from);
  }
  return false;
};
var cors = (config) => {
  let { aot = true, origin = "*", methods = "*", allowedHeaders = "*", exposedHeaders = "*", credentials = true, maxAge = 5, preflight = true } = config ?? {};
  if (Array.isArray(allowedHeaders))
    allowedHeaders = allowedHeaders.join(", ");
  if (Array.isArray(exposedHeaders))
    exposedHeaders = exposedHeaders.join(", ");
  const origins = typeof origin === "boolean" ? undefined : Array.isArray(origin) ? origin : [origin];
  const app = new Elysia({
    name: "@elysiajs/cors",
    seed: config,
    aot
  });
  const anyOrigin = origins?.some((o) => o === "*");
  const handleOrigin = (set2, request) => {
    if (origin === true) {
      set2.headers["Vary"] = "*";
      set2.headers["Access-Control-Allow-Origin"] = request.headers.get("Origin") || "*";
      return;
    }
    if (anyOrigin) {
      set2.headers["Vary"] = "*";
      set2.headers["Access-Control-Allow-Origin"] = "*";
      return;
    }
    if (!origins?.length)
      return;
    const headers = [];
    if (origins.length) {
      const from = request.headers.get("Origin") ?? "";
      for (let i = 0;i < origins.length; i++) {
        const value15 = processOrigin(origins[i], request, from);
        if (value15 === true) {
          set2.headers["Vary"] = origin ? "Origin" : "*";
          set2.headers["Access-Control-Allow-Origin"] = from || "*";
          return;
        }
        if (value15)
          headers.push(value15);
      }
    }
    set2.headers["Vary"] = "Origin";
    set2.headers["Access-Control-Allow-Origin"] = headers.join(", ");
  };
  const handleMethod = (set2, method) => {
    if (methods === true)
      return set2.headers["Access-Control-Allow-Methods"] = method ?? "*";
    if (methods === false || !methods?.length)
      return;
    if (methods === "*")
      return set2.headers["Access-Control-Allow-Methods"] = "*";
    if (!Array.isArray(methods))
      return set2.headers["Access-Control-Allow-Methods"] = methods;
    set2.headers["Access-Control-Allow-Methods"] = methods.join(", ");
  };
  if (preflight)
    app.options("/", ({ set: set2, request }) => {
      handleOrigin(set2, request);
      handleMethod(set2, request.method);
      if (allowedHeaders.length)
        set2.headers["Access-Control-Allow-Headers"] = allowedHeaders;
      if (exposedHeaders.length)
        set2.headers["Access-Control-Expose-Headers"] = exposedHeaders;
      if (maxAge)
        set2.headers["Access-Control-Max-Age"] = maxAge.toString();
      return new Response(null, {
        status: 204
      });
    }).options("/*", ({ set: set2, request }) => {
      handleOrigin(set2, request);
      handleMethod(set2, request.method);
      if (allowedHeaders.length)
        set2.headers["Access-Control-Allow-Headers"] = allowedHeaders;
      if (exposedHeaders.length)
        set2.headers["Access-Control-Expose-Headers"] = exposedHeaders;
      if (maxAge)
        set2.headers["Access-Control-Max-Age"] = maxAge.toString();
      return new Response(null, {
        status: 204
      });
    });
  const defaultHeaders = {
    "Access-Control-Allow-Headers": allowedHeaders,
    "Access-Control-Exposed-Headers": exposedHeaders
  };
  if (credentials === true)
    defaultHeaders["Access-Control-Allow-Credentials"] = "true";
  return app.headers(defaultHeaders).onRequest(({ set: set2, request }) => {
    handleOrigin(set2, request);
    handleMethod(set2, request.method);
    if (allowedHeaders.length)
      set2.headers["Access-Control-Allow-Headers"] = allowedHeaders;
    if (exposedHeaders.length)
      set2.headers["Access-Control-Expose-Headers"] = exposedHeaders;
  });
};
var dist_default = cors;

// node_modules/@elysiajs/swagger/dist/swagger/index.js
var SwaggerUIRender = (info, version, theme, stringifiedSwaggerOptions, autoDarkMode) => `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>${info.title}</title>
    <meta
        name="description"
        content="${info.description}"
    />
    <meta
        name="og:description"
        content="${info.description}"
    />
    ${autoDarkMode && typeof theme === "string" ? `
    <style>
        @media (prefers-color-scheme: dark) {
            body {
                background-color: #222;
                color: #faf9a;
            }
            .swagger-ui {
                filter: invert(92%) hue-rotate(180deg);
            }

            .swagger-ui .microlight {
                filter: invert(100%) hue-rotate(180deg);
            }
        }
    </style>` : ""}
    ${typeof theme === "string" ? `<link rel="stylesheet" href="${theme}" />` : `<link rel="stylesheet" media="(prefers-color-scheme: light)" href="${theme.light}" />
<link rel="stylesheet" media="(prefers-color-scheme: dark)" href="${theme.dark}" />`}
</head>
<body>
    <div id="swagger-ui"></div>
    <script src="https://unpkg.com/swagger-ui-dist@${version}/swagger-ui-bundle.js" crossorigin></script>
    <script>
        window.onload = () => {
            window.ui = SwaggerUIBundle(${stringifiedSwaggerOptions});
        };
    </script>
</body>
</html>`;

// node_modules/@elysiajs/swagger/dist/scalar/theme.js
var theme_default = `
/* basic theme */
.light-mode {
  --theme-color-1: #2a2f45;
  --theme-color-2: #757575;
  --theme-color-3: #8e8e8e;
  --theme-color-accent: #f06292;

  --theme-background-1: #fff;
  --theme-background-2: #f6f6f6;
  --theme-background-3: #e7e7e7;
  --theme-background-accent: #f062921f;

  --theme-border-color: rgba(0, 0, 0, 0.1);
}
.dark-mode {
  --theme-color-1: rgba(255, 255, 255, 0.9);
  --theme-color-2: rgba(156, 163, 175, 1);
  --theme-color-3: rgba(255, 255, 255, 0.44);
  --theme-color-accent: #f06292;

  --theme-background-1: #111728;
  --theme-background-2: #1e293b;
  --theme-background-3: #334155;
  --theme-background-accent: #f062921f;

  --theme-border-color: rgba(255, 255, 255, 0.1);
}
/* Document Sidebar */
.light-mode .sidebar,
.dark-mode .sidebar {
  --sidebar-background-1: var(--theme-background-1);
  --sidebar-item-hover-color: currentColor;
  --sidebar-item-hover-background: var(--theme-background-2);
  --sidebar-item-active-background: var(--theme-background-accent);
  --sidebar-border-color: transparent;
  --sidebar-color-1: var(--theme-color-1);
  --sidebar-color-2: var(--theme-color-2);
  --sidebar-color-active: var(--theme-color-accent);
  --sidebar-search-background: transparent;
  --sidebar-search-border-color: var(--theme-border-color);
  --sidebar-search--color: var(--theme-color-3);
}
/* Document header only shows on mobile*/
.dark-mode .t-doc__header,
.light-mode .t-doc__header {
  --header-background-1: rgba(255, 255, 255, 0.85);
  --header-border-color: transparent;
  --header-color-1: var(--theme-color-1);
  --header-color-2: var(--theme-color-2);
  --header-background-toggle: var(--theme-color-3);
  --header-call-to-action-color: var(--theme-color-accent);
}

.dark-mode .t-doc__header {
  --header-background-1: rgba(17, 23, 40, 0.75);
}

/* advanced */
.light-mode {
  --theme-button-1: rgb(49 53 56);
  --theme-button-1-color: #fff;
  --theme-button-1-hover: rgb(28 31 33);

  --theme-color-green: #069061;
  --theme-color-red: #ef0006;
  --theme-color-yellow: #edbe20;
  --theme-color-blue: #0082d0;
  --theme-color-orange: #fb892c;
  --theme-color-purple: #5203d1;

  --theme-scrollbar-color: rgba(0, 0, 0, 0.18);
  --theme-scrollbar-color-active: rgba(0, 0, 0, 0.36);
}
.dark-mode {
  --theme-button-1: #f6f6f6;
  --theme-button-1-color: #000;
  --theme-button-1-hover: #e7e7e7;

  --theme-color-green: #a3ffa9;
  --theme-color-red: #ffa3a3;
  --theme-color-yellow: #fffca3;
  --theme-color-blue: #a5d6ff;
  --theme-color-orange: #e2ae83;
  --theme-color-purple: #d2a8ff;

  --theme-scrollbar-color: rgba(255, 255, 255, 0.24);
  --theme-scrollbar-color-active: rgba(255, 255, 255, 0.48);
}
/* Elysia Specific */
.scalar-api-client__send-request-button,
.show-api-client-button {
  background: #3c82f6 !important;
}
.show-api-client-button:before {
  display: none;
}

.sidebar-search:hover {
  transition: all 0.15s ease-in-out;
  --sidebar-search-border-color: var(--theme-color-accent) !important;
  color: var(--sidebar-color-1) !important;
}
.scalar-api-client__container .sidebar {
  --sidebar-border-color: var(--theme-border-color);
}
@media (min-width: 1150px) {
  .section-container:has( ~ .footer):before,
  .tag-section-container:before {
    content: "";
    position: absolute;
    top: -5px;
    left: 0;
    width: 100%;
    height: 10px;
    background: linear-gradient(90deg, var(--theme-background-1) 3%,transparent 10%);
  }
}
.section-flare {
  position: absolute;
  width: 100vw;
  height: 300px;
  --stripes: repeating-linear-gradient(
    100deg,
    #fff 0%,
    #fff 7%,
    transparent 10%,
    transparent 12%,
    #fff 16%
  );
  --stripesDark: repeating-linear-gradient(
    100deg,
    #000 0%,
    #000 7%,
    transparent 10%,
    transparent 12%,
    #000 16%
  );
  --rainbow: repeating-linear-gradient(
    100deg,
    #60a5fa 10%,
    #e879f9 16%,
    #5eead4 22%,
    #60a5fa 30%
  );
  background-image: var(--stripes), var(--rainbow);
  background-size: 300%, 200%;
  background-position: 50% 50%, 50% 50%;
  filter: invert(100%);
  -webkit-mask-image: radial-gradient(
    ellipse at 100% 0%,
    black 40%,
    transparent 70%
  );
  mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
  pointer-events: none;
  opacity: 0.15;
}
.dark-mode .section-flare {
  background-image: var(--stripesDark), var(--rainbow);
  filter: opacity(50%) saturate(200%);
  opacity: 0.25;
}
.section-flare:after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-image: var(--stripes), var(--rainbow);
  background-size: 200%, 100%;
  background-attachment: fixed;
  mix-blend-mode: difference;
}
.dark-mode .section-flare:after {
  background-image: var(--stripesDark), var(--rainbow);
}
@keyframes headerbackground {
  from {
    background: transparent;
    backdrop-filter: none;
  }
  to {
    background: var(--header-background-1);
    backdrop-filter: blur(12px);
  }
}
.light-mode .t-doc__header,
.dark-mode .t-doc__header {
  animation: headerbackground forwards;
  animation-timeline: scroll();
  animation-range: 0px 200px;
  --header-border-color: transparent;
}
`;

// node_modules/@elysiajs/swagger/dist/scalar/index.js
var ScalarRender = (version, config, cdn) => `<!doctype html>
<html>
  <head>
    <title>API Reference</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1" />
    <style>
      body {
        margin: 0;
      }
    </style>
    <style>
      ${config.customCss ?? theme_default}
    </style>
  </head>
  <body>
    <script
      id="api-reference"
      data-url="${config.spec?.url}"
      data-configuration='${JSON.stringify(config)}'
    >
    </script>
    <script src="${cdn ? cdn : `https://cdn.jsdelivr.net/npm/@scalar/api-reference@${version}/dist/browser/standalone.min.js`}" crossorigin></script>
  </body>
</html>`;

// node_modules/@elysiajs/swagger/dist/utils.js
var import_lodash = __toESM(require_lodash(), 1);
var toOpenAPIPath = (path) => path.split("/").map((x) => x.startsWith(":") ? `{${x.slice(1, x.length)}}` : x).join("/");
var mapProperties = (name, schema3, models) => {
  if (schema3 === undefined)
    return [];
  if (typeof schema3 === "string")
    if (schema3 in models)
      schema3 = models[schema3];
    else
      throw new Error(`Can't find model ${schema3}`);
  return Object.entries(schema3?.properties ?? []).map(([key, value15]) => {
    const { type: valueType = undefined, description, examples, ...schemaKeywords } = value15;
    return {
      description,
      examples,
      schema: { type: valueType, ...schemaKeywords },
      in: name,
      name: key,
      required: schema3.required?.includes(key) ?? false
    };
  });
};
var mapTypesResponse = (types, schema3) => {
  if (typeof schema3 === "object" && ["void", "undefined", "null"].includes(schema3.type))
    return;
  const responses = {};
  for (const type47 of types)
    responses[type47] = {
      schema: typeof schema3 === "string" ? {
        $ref: `#/components/schemas/${schema3}`
      } : { ...schema3 }
    };
  return responses;
};
var capitalize2 = (word) => word.charAt(0).toUpperCase() + word.slice(1);
var generateOperationId = (method, paths) => {
  let operationId = method.toLowerCase();
  if (paths === "/")
    return operationId + "Index";
  for (const path of paths.split("/")) {
    if (path.charCodeAt(0) === 123) {
      operationId += "By" + capitalize2(path.slice(1, -1));
    } else {
      operationId += capitalize2(path);
    }
  }
  return operationId;
};
var registerSchemaPath = ({ schema: schema3, path, method, hook, models }) => {
  if (hook)
    hook = import_lodash.default(hook);
  const contentType = hook?.type ?? [
    "application/json",
    "multipart/form-data",
    "text/plain"
  ];
  path = toOpenAPIPath(path);
  const contentTypes = typeof contentType === "string" ? [contentType] : contentType ?? ["application/json"];
  const bodySchema = hook?.body;
  const paramsSchema = hook?.params;
  const headerSchema = hook?.headers;
  const querySchema = hook?.query;
  let responseSchema = hook?.response;
  if (typeof responseSchema === "object") {
    if (Kind in responseSchema) {
      const { type: type47, properties, required: required5, additionalProperties, patternProperties, ...rest4 } = responseSchema;
      responseSchema = {
        "200": {
          ...rest4,
          description: rest4.description,
          content: mapTypesResponse(contentTypes, type47 === "object" || type47 === "array" ? {
            type: type47,
            properties,
            patternProperties,
            items: responseSchema.items,
            required: required5
          } : responseSchema)
        }
      };
    } else {
      Object.entries(responseSchema).forEach(([key, value15]) => {
        if (typeof value15 === "string") {
          if (!models[value15])
            return;
          const { type: type47, properties, required: required5, additionalProperties: _1, patternProperties: _2, ...rest4 } = models[value15];
          responseSchema[key] = {
            ...rest4,
            description: rest4.description,
            content: mapTypesResponse(contentTypes, value15)
          };
        } else {
          const { type: type47, properties, required: required5, additionalProperties, patternProperties, ...rest4 } = value15;
          responseSchema[key] = {
            ...rest4,
            description: rest4.description,
            content: mapTypesResponse(contentTypes, type47 === "object" || type47 === "array" ? {
              type: type47,
              properties,
              patternProperties,
              items: value15.items,
              required: required5
            } : value15)
          };
        }
      });
    }
  } else if (typeof responseSchema === "string") {
    if (!(responseSchema in models))
      return;
    const { type: type47, properties, required: required5, additionalProperties: _1, patternProperties: _2, ...rest4 } = models[responseSchema];
    responseSchema = {
      "200": {
        ...rest4,
        content: mapTypesResponse(contentTypes, responseSchema)
      }
    };
  }
  const parameters4 = [
    ...mapProperties("header", headerSchema, models),
    ...mapProperties("path", paramsSchema, models),
    ...mapProperties("query", querySchema, models)
  ];
  schema3[path] = {
    ...schema3[path] ? schema3[path] : {},
    [method.toLowerCase()]: {
      ...headerSchema || paramsSchema || querySchema || bodySchema ? { parameters: parameters4 } : {},
      ...responseSchema ? {
        responses: responseSchema
      } : {},
      operationId: hook?.detail?.operationId ?? generateOperationId(method, path),
      ...hook?.detail,
      ...bodySchema ? {
        requestBody: {
          required: true,
          content: mapTypesResponse(contentTypes, typeof bodySchema === "string" ? {
            $ref: `#/components/schemas/${bodySchema}`
          } : bodySchema)
        }
      } : null
    }
  };
};
var filterPaths = (paths, { excludeStaticFile = true, exclude: exclude6 = [] }) => {
  const newPaths = {};
  for (const [key, value15] of Object.entries(paths))
    if (!exclude6.some((x) => {
      if (typeof x === "string")
        return key === x;
      return x.test(key);
    }) && !key.includes("/swagger") && !key.includes("*") && (excludeStaticFile ? !key.includes(".") : true)) {
      Object.keys(value15).forEach((method) => {
        const schema3 = value15[method];
        if (key.includes("{")) {
          if (!schema3.parameters)
            schema3.parameters = [];
          schema3.parameters = [
            ...key.split("/").filter((x) => x.startsWith("{") && !schema3.parameters.find((params) => params.in === "path" && params.name === x.slice(1, x.length - 1))).map((x) => ({
              schema: { type: "string" },
              in: "path",
              name: x.slice(1, x.length - 1),
              required: true
            })),
            ...schema3.parameters
          ];
        }
        if (!schema3.responses)
          schema3.responses = {
            200: {}
          };
      });
      newPaths[key] = value15;
    }
  return newPaths;
};

// node_modules/@elysiajs/swagger/dist/index.js
var swagger2 = ({ provider = "scalar", scalarVersion = "latest", scalarCDN = "", scalarConfig = {}, documentation = {}, version = "5.9.0", excludeStaticFile = true, path = "/swagger", exclude: exclude6 = [], swaggerOptions = {}, theme: theme2 = `https://unpkg.com/swagger-ui-dist@${version}/swagger-ui.css`, autoDarkMode = true, excludeMethods = ["OPTIONS"], excludeTags = [] } = {
  provider: "scalar",
  scalarVersion: "latest",
  scalarCDN: "",
  scalarConfig: {},
  documentation: {},
  version: "5.9.0",
  excludeStaticFile: true,
  path: "/swagger",
  exclude: [],
  swaggerOptions: {},
  autoDarkMode: true,
  excludeMethods: ["OPTIONS"],
  excludeTags: []
}) => (app) => {
  const schema3 = {};
  let totalRoutes = 0;
  if (!version)
    version = `https://unpkg.com/swagger-ui-dist@${version}/swagger-ui.css`;
  const info = {
    title: "Elysia Documentation",
    description: "Development documentation",
    version: "0.0.0",
    ...documentation.info
  };
  const relativePath = path.startsWith("/") ? path.slice(1) : path;
  app.get(path, () => {
    const combinedSwaggerOptions = {
      url: `${relativePath}/json`,
      dom_id: "#swagger-ui",
      ...swaggerOptions
    };
    const stringifiedSwaggerOptions = JSON.stringify(combinedSwaggerOptions, (key, value15) => {
      if (typeof value15 == "function")
        return;
      return value15;
    });
    const scalarConfiguration = {
      spec: {
        ...scalarConfig.spec,
        url: `${relativePath}/json`
      },
      ...scalarConfig
    };
    return new Response(provider === "swagger-ui" ? SwaggerUIRender(info, version, theme2, stringifiedSwaggerOptions, autoDarkMode) : ScalarRender(scalarVersion, scalarConfiguration, scalarCDN), {
      headers: {
        "content-type": "text/html; charset=utf8"
      }
    });
  }).get(path === "/" ? "/json" : `${path}/json`, () => {
    const routes = app.routes;
    if (routes.length !== totalRoutes) {
      totalRoutes = routes.length;
      routes.forEach((route) => {
        if (excludeMethods.includes(route.method))
          return;
        registerSchemaPath({
          schema: schema3,
          hook: route.hooks,
          method: route.method,
          path: route.path,
          models: app.definitions?.type,
          contentType: route.hooks.type
        });
      });
    }
    return {
      openapi: "3.0.3",
      ...{
        ...documentation,
        tags: documentation.tags?.filter((tag) => !excludeTags?.includes(tag?.name)),
        info: {
          title: "Elysia Documentation",
          description: "Development documentation",
          version: "0.0.0",
          ...documentation.info
        }
      },
      paths: {
        ...filterPaths(schema3, {
          excludeStaticFile,
          exclude: Array.isArray(exclude6) ? exclude6 : [exclude6]
        }),
        ...documentation.paths
      },
      components: {
        ...documentation.components,
        schemas: {
          ...app.definitions?.type,
          ...documentation.components?.schemas
        }
      }
    };
  });
  return app;
};
var dist_default2 = swagger2;
// config.json
var config_default = {
  server: {
    port: 3333,
    name: "LGS1920 Backend server"
  }
};
// version.json
var version_default = {
  backend: "0.1-beta",
  api: "v1"
};

// src/controllers/ChangelogController.js
import * as fspromises from "fs/promises";
import * as path from "path";

// src/utils/FileUtils.js
import * as fs from "fs";

class FileUtils {
  static sortFilesByTime = async (directory, files) => {
    return files.map((fileName) => ({
      name: fileName,
      time: fs.statSync(`${directory}/${fileName}`).mtime.getTime()
    })).sort((a2, b) => a2.time - b.time).map((file) => ({
      file: file.name,
      time: file.time
    }));
  };
}

// src/controllers/Controller.js
class Controller {
  BACKEND = "../backend/";
  STUDIO = "../studio/";
  ASSETS = "assets/";
  constructor() {
  }
  setStudioWorkingDirectory = () => {
    return `${this.STUDIO}dist/`;
  };
  setPublicFilePath = (name) => {
    return `${this.setStudioWorkingDirectory()}${""}${name}`;
  };
  setPublicDirectoryPath = (name) => {
    return this.setPublicFilePath(name) + "/";
  };
  setAssetFilePath = (name) => {
    return this.setPublicFilePath(`${this.ASSETS}${name}`);
  };
  setAssetDirectoryPath = (name) => {
    return this.setAssetFilePath(name) + "/";
  };
}

// src/controllers/ChangelogController.js
class ChangelogController extends Controller {
  CHANGELOG_DIR = "changelog";
  list = async (context) => {
    const directory = this.setAssetDirectoryPath(this.CHANGELOG_DIR);
    let extension = context.query.extension;
    if (extension && !extension.startsWith(".")) {
      extension = `.${extension}`;
    }
    let fileList = await fspromises.readdir(directory);
    if (extension) {
      fileList = fileList.filter((file) => path.extname(file).toLowerCase() === extension);
    }
    fileList = await FileUtils.sortFilesByTime(directory, fileList);
    return {
      list: fileList,
      last: fileList[0]
    };
  };
}

// src/resources/ChangelogResource.js
class ChangelogResource {
  controller = new ChangelogController;
  constructor() {
    this.resource = new Elysia({ prefix: `/${CHANGELOG_ROUTE}` }).get("/list", this.controller.list, {
      detail: {
        tags: this.tags,
        description: "Get changelog file listing",
        produces: ["application/json"],
        responses: {
          200: {
            description: "The listing you requested"
          },
          500: {
            description: "Internal error"
          }
        }
      }
    });
  }
}

// src/controllers/VersionsController.js
class VersionsController extends Controller {
  versions = async () => {
    const backend = await Bun.file("./version.json").json();
    const studio = await Bun.file(this.setPublicFilePath("version.json")).json();
    return { ...studio, ...backend };
  };
}

// src/resources/VersionsResource.js
class VersionsResource {
  controller = new VersionsController;
  constructor() {
    this.resource = new Elysia({}).get(`${VERSIONS_ROUTE}`, this.controller.versions, {
      detail: {
        tags: this.tags,
        description: "Get Backend and API Versions",
        produces: ["application/json"],
        responses: {
          200: {
            description: "The versions you requested"
          },
          500: {
            description: "Internal error"
          }
        }
      }
    });
  }
}

// src/index.js
var CHANGELOG_ROUTE = "changelog";
var VERSIONS_ROUTE = "versions";
var resources = new Map([
  [CHANGELOG_ROUTE, new ChangelogResource],
  [VERSIONS_ROUTE, new VersionsResource]
]);
var app = new Elysia().use(dist_default2({
  documentation: {
    info: {
      title: config_default.server.name,
      version: version_default.api
    },
    tags: [
      { name: "file", description: "file endpoints" }
    ],
    servers: [
      {
        url: `https://localhost:${config_default.server.port}`,
        description: ""
      }
    ]
  }
})).get("/", ({ set: set2 }) => {
  set2.redirect = "/swagger";
}).use(resources.get(CHANGELOG_ROUTE).resource).use(resources.get(VERSIONS_ROUTE).resource).use(dist_default({ origin: /^https?:\/\/(?:localhost|localhost:5173|localhost:4173|studio\.lgs1920.fr)(?::\d+)?\/?$/ })).listen(config_default.server.port);
console.log(`LGS120 Backend (based on \uD83E\uDD8A Elysia) is running at ${app.server?.hostname}:${app.server?.port}`);
export {
  VERSIONS_ROUTE,
  CHANGELOG_ROUTE
};

//# debugId=043CBD06A250D8AF64756e2164756e21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL2V2ZW50ZW1pdHRlcjMvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2Zhc3QtZGVjb2RlLXVyaS1jb21wb25lbnQvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2Zhc3QtcXVlcnlzdHJpbmcvbGliL3BhcnNlLmpzIiwgIm5vZGVfbW9kdWxlcy9mYXN0LXF1ZXJ5c3RyaW5nL2xpYi9pbnRlcm5hbHMvcXVlcnlzdHJpbmcuanMiLCAibm9kZV9tb2R1bGVzL2Zhc3QtcXVlcnlzdHJpbmcvbGliL3N0cmluZ2lmeS5qcyIsICJub2RlX21vZHVsZXMvZmFzdC1xdWVyeXN0cmluZy9saWIvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2xvZGFzaC5jbG9uZWRlZXAvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2V2ZW50ZW1pdHRlcjMvaW5kZXgubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdmFsdWUvZ3VhcmQvZ3VhcmQubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vc3lzdGVtL3BvbGljeS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3JlZ2lzdHJ5L2Zvcm1hdC5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3JlZ2lzdHJ5L3R5cGUubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9zeW1ib2xzL3N5bWJvbHMubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS91bnNhZmUvdW5zYWZlLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvZXJyb3IvZXJyb3IubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vc3lzdGVtL3N5c3RlbS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL21hcHBlZC9tYXBwZWQtcmVzdWx0Lm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvZ3VhcmQvdmFsdWUubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9jbG9uZS92YWx1ZS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2Nsb25lL3R5cGUubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9kaXNjYXJkL2Rpc2NhcmQubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9hcnJheS9hcnJheS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2FzeW5jLWl0ZXJhdG9yL2FzeW5jLWl0ZXJhdG9yLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvY29uc3RydWN0b3IvY29uc3RydWN0b3IubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9mdW5jdGlvbi9mdW5jdGlvbi5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL25ldmVyL25ldmVyLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvZ3VhcmQva2luZC5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL29wdGlvbmFsL29wdGlvbmFsLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvb3B0aW9uYWwvb3B0aW9uYWwtZnJvbS1tYXBwZWQtcmVzdWx0Lm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvaW50ZXJzZWN0L2ludGVyc2VjdC1jcmVhdGUubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9pbnRlcnNlY3QvaW50ZXJzZWN0LWV2YWx1YXRlZC5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2ludGVyc2VjdC9pbnRlcnNlY3QubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS91bmlvbi91bmlvbi1jcmVhdGUubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS91bmlvbi91bmlvbi1ldmFsdWF0ZWQubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS91bmlvbi91bmlvbi5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3RlbXBsYXRlLWxpdGVyYWwvcGFyc2UubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS90ZW1wbGF0ZS1saXRlcmFsL2Zpbml0ZS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3RlbXBsYXRlLWxpdGVyYWwvZ2VuZXJhdGUubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9saXRlcmFsL2xpdGVyYWwubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9ib29sZWFuL2Jvb2xlYW4ubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9iaWdpbnQvYmlnaW50Lm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvbnVtYmVyL251bWJlci5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3N0cmluZy9zdHJpbmcubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS90ZW1wbGF0ZS1saXRlcmFsL3N5bnRheC5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3BhdHRlcm5zL3BhdHRlcm5zLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvdGVtcGxhdGUtbGl0ZXJhbC9wYXR0ZXJuLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvdGVtcGxhdGUtbGl0ZXJhbC91bmlvbi5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3RlbXBsYXRlLWxpdGVyYWwvdGVtcGxhdGUtbGl0ZXJhbC5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2luZGV4ZWQvaW5kZXhlZC1wcm9wZXJ0eS1rZXlzLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvaW5kZXhlZC9pbmRleGVkLWZyb20tbWFwcGVkLXJlc3VsdC5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2luZGV4ZWQvaW5kZXhlZC5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2luZGV4ZWQvaW5kZXhlZC1mcm9tLW1hcHBlZC1rZXkubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9pdGVyYXRvci9pdGVyYXRvci5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL29iamVjdC9vYmplY3QubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9wcm9taXNlL3Byb21pc2UubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9yZWFkb25seS9yZWFkb25seS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3JlYWRvbmx5L3JlYWRvbmx5LWZyb20tbWFwcGVkLXJlc3VsdC5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3R1cGxlL3R1cGxlLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvc2V0cy9zZXQubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9tYXBwZWQvbWFwcGVkLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUva2V5b2Yva2V5b2YtcHJvcGVydHkta2V5cy5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2tleW9mL2tleW9mLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUva2V5b2Yva2V5b2YtZnJvbS1tYXBwZWQtcmVzdWx0Lm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUva2V5b2Yva2V5b2YtcHJvcGVydHktZW50cmllcy5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2V4dGVuZHMvZXh0ZW5kcy11bmRlZmluZWQubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vZXJyb3JzL2Z1bmN0aW9uLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3ZhbHVlL2RlcmVmL2RlcmVmLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3ZhbHVlL2hhc2gvaGFzaC5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS9lcnJvcnMvZXJyb3JzLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvYW55L2FueS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3Vua25vd24vdW5rbm93bi5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2d1YXJkL3R5cGUubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9leHRlbmRzL2V4dGVuZHMtY2hlY2subWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9leHRlbmRzL2V4dGVuZHMtZnJvbS1tYXBwZWQtcmVzdWx0Lm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvZXh0ZW5kcy9leHRlbmRzLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvZXh0ZW5kcy9leHRlbmRzLWZyb20tbWFwcGVkLWtleS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS92YWx1ZS9jaGVjay9jaGVjay5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS92YWx1ZS9jbG9uZS9jbG9uZS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS92YWx1ZS9jcmVhdGUvY3JlYXRlLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3ZhbHVlL2Nhc3QvY2FzdC5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS92YWx1ZS9jbGVhbi9jbGVhbi5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS92YWx1ZS9jb252ZXJ0L2NvbnZlcnQubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdmFsdWUvZGVmYXVsdC9kZWZhdWx0Lm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3ZhbHVlL3BvaW50ZXIvcG9pbnRlci5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS92YWx1ZS9kZWx0YS9kZWx0YS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS92YWx1ZS9lcXVhbC9lcXVhbC5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS92YWx1ZS9tdXRhdGUvbXV0YXRlLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3ZhbHVlL3RyYW5zZm9ybS9kZWNvZGUubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdmFsdWUvdHJhbnNmb3JtL2VuY29kZS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS92YWx1ZS90cmFuc2Zvcm0vaGFzLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3ZhbHVlL3ZhbHVlL3ZhbHVlLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvYXdhaXRlZC9hd2FpdGVkLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvY29tcG9zaXRlL2NvbXBvc2l0ZS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2RhdGUvZGF0ZS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL251bGwvbnVsbC5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3N5bWJvbC9zeW1ib2wubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS91bmRlZmluZWQvdW5kZWZpbmVkLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvdWludDhhcnJheS91aW50OGFycmF5Lm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvY29uc3QvY29uc3QubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9jb25zdHJ1Y3Rvci1wYXJhbWV0ZXJzL2NvbnN0cnVjdG9yLXBhcmFtZXRlcnMubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9kZXJlZi9kZXJlZi5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2VudW0vZW51bS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2V4Y2x1ZGUvZXhjbHVkZS1mcm9tLXRlbXBsYXRlLWxpdGVyYWwubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9leGNsdWRlL2V4Y2x1ZGUubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9leGNsdWRlL2V4Y2x1ZGUtZnJvbS1tYXBwZWQtcmVzdWx0Lm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvZXh0cmFjdC9leHRyYWN0LWZyb20tdGVtcGxhdGUtbGl0ZXJhbC5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2V4dHJhY3QvZXh0cmFjdC5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2V4dHJhY3QvZXh0cmFjdC1mcm9tLW1hcHBlZC1yZXN1bHQubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9pbnN0YW5jZS10eXBlL2luc3RhbmNlLXR5cGUubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9pbnRlZ2VyL2ludGVnZXIubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9pbnRyaW5zaWMvaW50cmluc2ljLWZyb20tbWFwcGVkLWtleS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2ludHJpbnNpYy9pbnRyaW5zaWMubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9pbnRyaW5zaWMvY2FwaXRhbGl6ZS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2ludHJpbnNpYy9sb3dlcmNhc2UubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9pbnRyaW5zaWMvdW5jYXBpdGFsaXplLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvaW50cmluc2ljL3VwcGVyY2FzZS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL25vdC9ub3QubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9vbWl0L29taXQtZnJvbS1tYXBwZWQtcmVzdWx0Lm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvb21pdC9vbWl0Lm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvb21pdC9vbWl0LWZyb20tbWFwcGVkLWtleS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3BhcmFtZXRlcnMvcGFyYW1ldGVycy5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3BhcnRpYWwvcGFydGlhbC5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3BhcnRpYWwvcGFydGlhbC1mcm9tLW1hcHBlZC1yZXN1bHQubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9waWNrL3BpY2stZnJvbS1tYXBwZWQtcmVzdWx0Lm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvcGljay9waWNrLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvcGljay9waWNrLWZyb20tbWFwcGVkLWtleS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3JlYWRvbmx5LW9wdGlvbmFsL3JlYWRvbmx5LW9wdGlvbmFsLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvcmVjb3JkL3JlY29yZC5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3JlY3Vyc2l2ZS9yZWN1cnNpdmUubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9yZWYvcmVmLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvcmVnZXhwL3JlZ2V4cC5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3JlcXVpcmVkL3JlcXVpcmVkLm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvcmVxdWlyZWQvcmVxdWlyZWQtZnJvbS1tYXBwZWQtcmVzdWx0Lm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvcmVzdC9yZXN0Lm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvcmV0dXJuLXR5cGUvcmV0dXJuLXR5cGUubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9zdHJpY3Qvc3RyaWN0Lm1qcyIsICJub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvdHJhbnNmb3JtL3RyYW5zZm9ybS5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3ZvaWQvdm9pZC5tanMiLCAibm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3R5cGUvaW5kZXgubWpzIiwgIm5vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vY29tcGlsZXIvY29tcGlsZXIubWpzIiwgIm5vZGVfbW9kdWxlcy9jb29raWUvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2VseXNpYS9kaXN0L2luZGV4Lm1qcyIsICJub2RlX21vZHVsZXMvQGVseXNpYWpzL2NvcnMvZGlzdC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvQGVseXNpYWpzL3N3YWdnZXIvZGlzdC9zd2FnZ2VyL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9AZWx5c2lhanMvc3dhZ2dlci9kaXN0L3NjYWxhci90aGVtZS5qcyIsICJub2RlX21vZHVsZXMvQGVseXNpYWpzL3N3YWdnZXIvZGlzdC9zY2FsYXIvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL0BlbHlzaWFqcy9zd2FnZ2VyL2Rpc3QvdXRpbHMuanMiLCAibm9kZV9tb2R1bGVzL0BlbHlzaWFqcy9zd2FnZ2VyL2Rpc3QvaW5kZXguanMiLCAic3JjL2NvbnRyb2xsZXJzL0NoYW5nZWxvZ0NvbnRyb2xsZXIuanMiLCAic3JjL3V0aWxzL0ZpbGVVdGlscy5qcyIsICJzcmMvY29udHJvbGxlcnMvQ29udHJvbGxlci5qcyIsICJzcmMvcmVzb3VyY2VzL0NoYW5nZWxvZ1Jlc291cmNlLmpzIiwgInNyYy9jb250cm9sbGVycy9WZXJzaW9uc0NvbnRyb2xsZXIuanMiLCAic3JjL3Jlc291cmNlcy9WZXJzaW9uc1Jlc291cmNlLmpzIiwgInNyYy9pbmRleC5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG4gICwgcHJlZml4ID0gJ34nO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIHRvIGNyZWF0ZSBhIHN0b3JhZ2UgZm9yIG91ciBgRUVgIG9iamVjdHMuXG4gKiBBbiBgRXZlbnRzYCBpbnN0YW5jZSBpcyBhIHBsYWluIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIGFyZSBldmVudCBuYW1lcy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEV2ZW50cygpIHt9XG5cbi8vXG4vLyBXZSB0cnkgdG8gbm90IGluaGVyaXQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuIEluIHNvbWUgZW5naW5lcyBjcmVhdGluZyBhblxuLy8gaW5zdGFuY2UgaW4gdGhpcyB3YXkgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBgT2JqZWN0LmNyZWF0ZShudWxsKWAgZGlyZWN0bHkuXG4vLyBJZiBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgbm90IHN1cHBvcnRlZCB3ZSBwcmVmaXggdGhlIGV2ZW50IG5hbWVzIHdpdGggYVxuLy8gY2hhcmFjdGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90XG4vLyBvdmVycmlkZGVuIG9yIHVzZWQgYXMgYW4gYXR0YWNrIHZlY3Rvci5cbi8vXG5pZiAoT2JqZWN0LmNyZWF0ZSkge1xuICBFdmVudHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvL1xuICAvLyBUaGlzIGhhY2sgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGBfX3Byb3RvX19gIHByb3BlcnR5IGlzIHN0aWxsIGluaGVyaXRlZCBpblxuICAvLyBzb21lIG9sZCBicm93c2VycyBsaWtlIEFuZHJvaWQgNCwgaVBob25lIDUuMSwgT3BlcmEgMTEgYW5kIFNhZmFyaSA1LlxuICAvL1xuICBpZiAoIW5ldyBFdmVudHMoKS5fX3Byb3RvX18pIHByZWZpeCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFRShmbiwgY29udGV4dCwgb25jZSkge1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMub25jZSA9IG9uY2UgfHwgZmFsc2U7XG59XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCBlbWl0dGVyLCBvbmNlKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdKSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCBlbWl0dGVyLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0uZm4pIGVtaXR0ZXIuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gW2VtaXR0ZXIuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIGVtaXR0ZXI7XG59XG5cbi8qKlxuICogQ2xlYXIgZXZlbnQgYnkgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2dCBUaGUgRXZlbnQgbmFtZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyRXZlbnQoZW1pdHRlciwgZXZ0KSB7XG4gIGlmICgtLWVtaXR0ZXIuX2V2ZW50c0NvdW50ID09PSAwKSBlbWl0dGVyLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIGVsc2UgZGVsZXRlIGVtaXR0ZXIuX2V2ZW50c1tldnRdO1xufVxuXG4vKipcbiAqIE1pbmltYWwgYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgbGlzdGluZyB0aGUgZXZlbnRzIGZvciB3aGljaCB0aGUgZW1pdHRlciBoYXMgcmVnaXN0ZXJlZFxuICogbGlzdGVuZXJzLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgdmFyIG5hbWVzID0gW11cbiAgICAsIGV2ZW50c1xuICAgICwgbmFtZTtcblxuICBpZiAodGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHJldHVybiBuYW1lcztcblxuICBmb3IgKG5hbWUgaW4gKGV2ZW50cyA9IHRoaXMuX2V2ZW50cykpIHtcbiAgICBpZiAoaGFzLmNhbGwoZXZlbnRzLCBuYW1lKSkgbmFtZXMucHVzaChwcmVmaXggPyBuYW1lLnNsaWNlKDEpIDogbmFtZSk7XG4gIH1cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHJldHVybiBuYW1lcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhldmVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFRoZSByZWdpc3RlcmVkIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGhhbmRsZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFoYW5kbGVycykgcmV0dXJuIFtdO1xuICBpZiAoaGFuZGxlcnMuZm4pIHJldHVybiBbaGFuZGxlcnMuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gaGFuZGxlcnMubGVuZ3RoLCBlZSA9IG5ldyBBcnJheShsKTsgaSA8IGw7IGkrKykge1xuICAgIGVlW2ldID0gaGFuZGxlcnNbaV0uZm47XG4gIH1cblxuICByZXR1cm4gZWU7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbnVtYmVyIG9mIGxpc3RlbmVycyBsaXN0ZW5pbmcgdG8gYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gbGlzdGVuZXJDb3VudChldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybiAwO1xuICBpZiAobGlzdGVuZXJzLmZuKSByZXR1cm4gMTtcbiAgcmV0dXJuIGxpc3RlbmVycy5sZW5ndGg7XG59O1xuXG4vKipcbiAqIENhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGVsc2UgYGZhbHNlYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChldmVudCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiBmYWxzZTtcblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF1cbiAgICAsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGFyZ3NcbiAgICAsIGk7XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChsaXN0ZW5lcnMub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgc3dpdGNoIChsZW4pIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSksIHRydWU7XG4gICAgICBjYXNlIDM6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCksIHRydWU7XG4gICAgICBjYXNlIDY6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQsIGE1KSwgdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGkgPCBsZW47IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZuLmFwcGx5KGxpc3RlbmVycy5jb250ZXh0LCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aFxuICAgICAgLCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tpXS5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgc3dpdGNoIChsZW4pIHtcbiAgICAgICAgY2FzZSAxOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCk7IGJyZWFrO1xuICAgICAgICBjYXNlIDI6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSk7IGJyZWFrO1xuICAgICAgICBjYXNlIDM6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIpOyBicmVhaztcbiAgICAgICAgY2FzZSA0OiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyLCBhMyk7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghYXJncykgZm9yIChqID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaV0uY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIHRydWUpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGxpc3RlbmVycyBvZiBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBtYXRjaCB0aGlzIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBoYXZlIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIHRoaXM7XG4gIGlmICghZm4pIHtcbiAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChcbiAgICAgIGxpc3RlbmVycy5mbiA9PT0gZm4gJiZcbiAgICAgICghb25jZSB8fCBsaXN0ZW5lcnMub25jZSkgJiZcbiAgICAgICghY29udGV4dCB8fCBsaXN0ZW5lcnMuY29udGV4dCA9PT0gY29udGV4dClcbiAgICApIHtcbiAgICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGV2ZW50cyA9IFtdLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgbGlzdGVuZXJzW2ldLmZuICE9PSBmbiB8fFxuICAgICAgICAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpIHx8XG4gICAgICAgIChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXG4gICAgLy9cbiAgICBpZiAoZXZlbnRzLmxlbmd0aCkgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHMubGVuZ3RoID09PSAxID8gZXZlbnRzWzBdIDogZXZlbnRzO1xuICAgIGVsc2UgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBbZXZlbnRdIFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0O1xuXG4gIGlmIChldmVudCkge1xuICAgIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG4gICAgaWYgKHRoaXMuX2V2ZW50c1tldnRdKSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBFeHBvc2UgdGhlIHByZWZpeC5cbi8vXG5FdmVudEVtaXR0ZXIucHJlZml4ZWQgPSBwcmVmaXg7XG5cbi8vXG4vLyBBbGxvdyBgRXZlbnRFbWl0dGVyYCB0byBiZSBpbXBvcnRlZCBhcyBtb2R1bGUgbmFtZXNwYWNlLlxuLy9cbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbi8vXG4vLyBFeHBvc2UgdGhlIG1vZHVsZS5cbi8vXG5pZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBtb2R1bGUpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG59XG4iLAogICAgIid1c2Ugc3RyaWN0J1xuXG52YXIgVVRGOF9BQ0NFUFQgPSAxMlxudmFyIFVURjhfUkVKRUNUID0gMFxudmFyIFVURjhfREFUQSA9IFtcbiAgLy8gVGhlIGZpcnN0IHBhcnQgb2YgdGhlIHRhYmxlIG1hcHMgYnl0ZXMgdG8gY2hhcmFjdGVyIHRvIGEgdHJhbnNpdGlvbi5cbiAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSxcbiAgMiwgMiwgMiwgMiwgMiwgMiwgMiwgMiwgMiwgMiwgMiwgMiwgMiwgMiwgMiwgMixcbiAgMywgMywgMywgMywgMywgMywgMywgMywgMywgMywgMywgMywgMywgMywgMywgMyxcbiAgMywgMywgMywgMywgMywgMywgMywgMywgMywgMywgMywgMywgMywgMywgMywgMyxcbiAgNCwgNCwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSxcbiAgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSxcbiAgNiwgNywgNywgNywgNywgNywgNywgNywgNywgNywgNywgNywgNywgOCwgNywgNyxcbiAgMTAsIDksIDksIDksIDExLCA0LCA0LCA0LCA0LCA0LCA0LCA0LCA0LCA0LCA0LCA0LFxuXG4gIC8vIFRoZSBzZWNvbmQgcGFydCBvZiB0aGUgdGFibGUgbWFwcyBhIHN0YXRlIHRvIGEgbmV3IHN0YXRlIHdoZW4gYWRkaW5nIGFcbiAgLy8gdHJhbnNpdGlvbi5cbiAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgMTIsIDAsIDAsIDAsIDAsIDI0LCAzNiwgNDgsIDYwLCA3MiwgODQsIDk2LFxuICAwLCAxMiwgMTIsIDEyLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLFxuICAwLCAwLCAwLCAyNCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgMCwgMjQsIDI0LCAyNCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgMCwgMjQsIDI0LCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLFxuICAwLCA0OCwgNDgsIDQ4LCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLFxuICAwLCAwLCA0OCwgNDgsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gIDAsIDQ4LCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLFxuXG4gIC8vIFRoZSB0aGlyZCBwYXJ0IG1hcHMgdGhlIGN1cnJlbnQgdHJhbnNpdGlvbiB0byBhIG1hc2sgdGhhdCBuZWVkcyB0byBhcHBseVxuICAvLyB0byB0aGUgYnl0ZS5cbiAgMHg3RiwgMHgzRiwgMHgzRiwgMHgzRiwgMHgwMCwgMHgxRiwgMHgwRiwgMHgwRiwgMHgwRiwgMHgwNywgMHgwNywgMHgwN1xuXVxuXG5mdW5jdGlvbiBkZWNvZGVVUklDb21wb25lbnQgKHVyaSkge1xuICB2YXIgcGVyY2VudFBvc2l0aW9uID0gdXJpLmluZGV4T2YoJyUnKVxuICBpZiAocGVyY2VudFBvc2l0aW9uID09PSAtMSkgcmV0dXJuIHVyaVxuXG4gIHZhciBsZW5ndGggPSB1cmkubGVuZ3RoXG4gIHZhciBkZWNvZGVkID0gJydcbiAgdmFyIGxhc3QgPSAwXG4gIHZhciBjb2RlcG9pbnQgPSAwXG4gIHZhciBzdGFydE9mT2N0ZXRzID0gcGVyY2VudFBvc2l0aW9uXG4gIHZhciBzdGF0ZSA9IFVURjhfQUNDRVBUXG5cbiAgd2hpbGUgKHBlcmNlbnRQb3NpdGlvbiA+IC0xICYmIHBlcmNlbnRQb3NpdGlvbiA8IGxlbmd0aCkge1xuICAgIHZhciBoaWdoID0gaGV4Q29kZVRvSW50KHVyaVtwZXJjZW50UG9zaXRpb24gKyAxXSwgNClcbiAgICB2YXIgbG93ID0gaGV4Q29kZVRvSW50KHVyaVtwZXJjZW50UG9zaXRpb24gKyAyXSwgMClcbiAgICB2YXIgYnl0ZSA9IGhpZ2ggfCBsb3dcbiAgICB2YXIgdHlwZSA9IFVURjhfREFUQVtieXRlXVxuICAgIHN0YXRlID0gVVRGOF9EQVRBWzI1NiArIHN0YXRlICsgdHlwZV1cbiAgICBjb2RlcG9pbnQgPSAoY29kZXBvaW50IDw8IDYpIHwgKGJ5dGUgJiBVVEY4X0RBVEFbMzY0ICsgdHlwZV0pXG5cbiAgICBpZiAoc3RhdGUgPT09IFVURjhfQUNDRVBUKSB7XG4gICAgICBkZWNvZGVkICs9IHVyaS5zbGljZShsYXN0LCBzdGFydE9mT2N0ZXRzKVxuXG4gICAgICBkZWNvZGVkICs9IChjb2RlcG9pbnQgPD0gMHhGRkZGKVxuICAgICAgICA/IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZXBvaW50KVxuICAgICAgICA6IFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgICAgICAgKDB4RDdDMCArIChjb2RlcG9pbnQgPj4gMTApKSxcbiAgICAgICAgICAoMHhEQzAwICsgKGNvZGVwb2ludCAmIDB4M0ZGKSlcbiAgICAgICAgKVxuXG4gICAgICBjb2RlcG9pbnQgPSAwXG4gICAgICBsYXN0ID0gcGVyY2VudFBvc2l0aW9uICsgM1xuICAgICAgcGVyY2VudFBvc2l0aW9uID0gc3RhcnRPZk9jdGV0cyA9IHVyaS5pbmRleE9mKCclJywgbGFzdClcbiAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBVVEY4X1JFSkVDVCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9IGVsc2Uge1xuICAgICAgcGVyY2VudFBvc2l0aW9uICs9IDNcbiAgICAgIGlmIChwZXJjZW50UG9zaXRpb24gPCBsZW5ndGggJiYgdXJpLmNoYXJDb2RlQXQocGVyY2VudFBvc2l0aW9uKSA9PT0gMzcpIGNvbnRpbnVlXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkZWNvZGVkICsgdXJpLnNsaWNlKGxhc3QpXG59XG5cbnZhciBIRVggPSB7XG4gICcwJzogMCxcbiAgJzEnOiAxLFxuICAnMic6IDIsXG4gICczJzogMyxcbiAgJzQnOiA0LFxuICAnNSc6IDUsXG4gICc2JzogNixcbiAgJzcnOiA3LFxuICAnOCc6IDgsXG4gICc5JzogOSxcbiAgJ2EnOiAxMCxcbiAgJ0EnOiAxMCxcbiAgJ2InOiAxMSxcbiAgJ0InOiAxMSxcbiAgJ2MnOiAxMixcbiAgJ0MnOiAxMixcbiAgJ2QnOiAxMyxcbiAgJ0QnOiAxMyxcbiAgJ2UnOiAxNCxcbiAgJ0UnOiAxNCxcbiAgJ2YnOiAxNSxcbiAgJ0YnOiAxNVxufVxuXG5mdW5jdGlvbiBoZXhDb2RlVG9JbnQgKGMsIHNoaWZ0KSB7XG4gIHZhciBpID0gSEVYW2NdXG4gIHJldHVybiBpID09PSB1bmRlZmluZWQgPyAyNTUgOiBpIDw8IHNoaWZ0XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVjb2RlVVJJQ29tcG9uZW50XG4iLAogICAgIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBmYXN0RGVjb2RlID0gcmVxdWlyZShcImZhc3QtZGVjb2RlLXVyaS1jb21wb25lbnRcIik7XG5cbmNvbnN0IHBsdXNSZWdleCA9IC9cXCsvZztcbmNvbnN0IEVtcHR5ID0gZnVuY3Rpb24gKCkge307XG5FbXB0eS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4vKipcbiAqIEBjYWxsYmFjayBwYXJzZVxuICogQHBhcmFtIHtzdHJpbmd9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIHBhcnNlKGlucHV0KSB7XG4gIC8vIE9wdGltaXphdGlvbjogVXNlIG5ldyBFbXB0eSgpIGluc3RlYWQgb2YgT2JqZWN0LmNyZWF0ZShudWxsKSBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gdjggaGFzIGEgYmV0dGVyIG9wdGltaXphdGlvbiBmb3IgaW5pdGlhbGl6aW5nIGZ1bmN0aW9ucyBjb21wYXJlZCB0byBPYmplY3RcbiAgY29uc3QgcmVzdWx0ID0gbmV3IEVtcHR5KCk7XG5cbiAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBsZXQgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gIGxldCBrZXkgPSBcIlwiO1xuICBsZXQgdmFsdWUgPSBcIlwiO1xuICBsZXQgc3RhcnRpbmdJbmRleCA9IC0xO1xuICBsZXQgZXF1YWxpdHlJbmRleCA9IC0xO1xuICBsZXQgc2hvdWxkRGVjb2RlS2V5ID0gZmFsc2U7XG4gIGxldCBzaG91bGREZWNvZGVWYWx1ZSA9IGZhbHNlO1xuICBsZXQga2V5SGFzUGx1cyA9IGZhbHNlO1xuICBsZXQgdmFsdWVIYXNQbHVzID0gZmFsc2U7XG4gIGxldCBoYXNCb3RoS2V5VmFsdWVQYWlyID0gZmFsc2U7XG4gIGxldCBjID0gMDtcblxuICAvLyBIYXZlIGEgYm91bmRhcnkgb2YgaW5wdXQubGVuZ3RoICsgMSB0byBhY2Nlc3MgbGFzdCBwYWlyIGluc2lkZSB0aGUgbG9vcC5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dExlbmd0aCArIDE7IGkrKykge1xuICAgIGMgPSBpICE9PSBpbnB1dExlbmd0aCA/IGlucHV0LmNoYXJDb2RlQXQoaSkgOiAzODtcblxuICAgIC8vIEhhbmRsZSAnJicgYW5kIGVuZCBvZiBsaW5lIHRvIHBhc3MgdGhlIGN1cnJlbnQgdmFsdWVzIHRvIHJlc3VsdFxuICAgIGlmIChjID09PSAzOCkge1xuICAgICAgaGFzQm90aEtleVZhbHVlUGFpciA9IGVxdWFsaXR5SW5kZXggPiBzdGFydGluZ0luZGV4O1xuXG4gICAgICAvLyBPcHRpbWl6YXRpb246IFJldXNlIGVxdWFsaXR5IGluZGV4IHRvIHN0b3JlIHRoZSBlbmQgb2Yga2V5XG4gICAgICBpZiAoIWhhc0JvdGhLZXlWYWx1ZVBhaXIpIHtcbiAgICAgICAgZXF1YWxpdHlJbmRleCA9IGk7XG4gICAgICB9XG5cbiAgICAgIGtleSA9IGlucHV0LnNsaWNlKHN0YXJ0aW5nSW5kZXggKyAxLCBlcXVhbGl0eUluZGV4KTtcblxuICAgICAgLy8gQWRkIGtleS92YWx1ZSBwYWlyIG9ubHkgaWYgdGhlIHJhbmdlIHNpemUgaXMgZ3JlYXRlciB0aGFuIDE7IGEuay5hLiBjb250YWlucyBhdCBsZWFzdCBcIj1cIlxuICAgICAgaWYgKGhhc0JvdGhLZXlWYWx1ZVBhaXIgfHwga2V5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gT3B0aW1pemF0aW9uOiBSZXBsYWNlICcrJyB3aXRoIHNwYWNlXG4gICAgICAgIGlmIChrZXlIYXNQbHVzKSB7XG4gICAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UocGx1c1JlZ2V4LCBcIiBcIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPcHRpbWl6YXRpb246IERvIG5vdCBkZWNvZGUgaWYgaXQncyBub3QgbmVjZXNzYXJ5LlxuICAgICAgICBpZiAoc2hvdWxkRGVjb2RlS2V5KSB7XG4gICAgICAgICAga2V5ID0gZmFzdERlY29kZShrZXkpIHx8IGtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNCb3RoS2V5VmFsdWVQYWlyKSB7XG4gICAgICAgICAgdmFsdWUgPSBpbnB1dC5zbGljZShlcXVhbGl0eUluZGV4ICsgMSwgaSk7XG5cbiAgICAgICAgICBpZiAodmFsdWVIYXNQbHVzKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UocGx1c1JlZ2V4LCBcIiBcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNob3VsZERlY29kZVZhbHVlKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGZhc3REZWNvZGUodmFsdWUpIHx8IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSByZXN1bHRba2V5XTtcblxuICAgICAgICBpZiAoY3VycmVudFZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE9wdGltaXphdGlvbjogdmFsdWUucG9wIGlzIGZhc3RlciB0aGFuIEFycmF5LmlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZS5wb3ApIHtcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBbY3VycmVudFZhbHVlLCB2YWx1ZV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFJlc2V0IHJlYWRpbmcga2V5IHZhbHVlIHBhaXJzXG4gICAgICB2YWx1ZSA9IFwiXCI7XG4gICAgICBzdGFydGluZ0luZGV4ID0gaTtcbiAgICAgIGVxdWFsaXR5SW5kZXggPSBpO1xuICAgICAgc2hvdWxkRGVjb2RlS2V5ID0gZmFsc2U7XG4gICAgICBzaG91bGREZWNvZGVWYWx1ZSA9IGZhbHNlO1xuICAgICAga2V5SGFzUGx1cyA9IGZhbHNlO1xuICAgICAgdmFsdWVIYXNQbHVzID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIENoZWNrICc9J1xuICAgIGVsc2UgaWYgKGMgPT09IDYxKSB7XG4gICAgICBpZiAoZXF1YWxpdHlJbmRleCA8PSBzdGFydGluZ0luZGV4KSB7XG4gICAgICAgIGVxdWFsaXR5SW5kZXggPSBpO1xuICAgICAgfVxuICAgICAgLy8gSWYgJz0nIGNoYXJhY3RlciBvY2N1cnMgYWdhaW4sIHdlIHNob3VsZCBkZWNvZGUgdGhlIGlucHV0LlxuICAgICAgZWxzZSB7XG4gICAgICAgIHNob3VsZERlY29kZVZhbHVlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQ2hlY2sgJysnLCBhbmQgcmVtZW1iZXIgdG8gcmVwbGFjZSBpdCB3aXRoIGVtcHR5IHNwYWNlLlxuICAgIGVsc2UgaWYgKGMgPT09IDQzKSB7XG4gICAgICBpZiAoZXF1YWxpdHlJbmRleCA+IHN0YXJ0aW5nSW5kZXgpIHtcbiAgICAgICAgdmFsdWVIYXNQbHVzID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGtleUhhc1BsdXMgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBDaGVjayAnJScgY2hhcmFjdGVyIGZvciBlbmNvZGluZ1xuICAgIGVsc2UgaWYgKGMgPT09IDM3KSB7XG4gICAgICBpZiAoZXF1YWxpdHlJbmRleCA+IHN0YXJ0aW5nSW5kZXgpIHtcbiAgICAgICAgc2hvdWxkRGVjb2RlVmFsdWUgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2hvdWxkRGVjb2RlS2V5ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlO1xuIiwKICAgICIvLyBUaGlzIGZpbGUgaXMgdGFrZW4gZnJvbSBOb2RlLmpzIHByb2plY3QuXG4vLyBGdWxsIGltcGxlbWVudGF0aW9uIGNhbiBiZSBmb3VuZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9ibG9iL21haW4vbGliL2ludGVybmFsL3F1ZXJ5c3RyaW5nLmpzXG5cbmNvbnN0IGhleFRhYmxlID0gQXJyYXkuZnJvbShcbiAgeyBsZW5ndGg6IDI1NiB9LFxuICAoXywgaSkgPT4gXCIlXCIgKyAoKGkgPCAxNiA/IFwiMFwiIDogXCJcIikgKyBpLnRvU3RyaW5nKDE2KSkudG9VcHBlckNhc2UoKSxcbik7XG5cbi8vIFRoZXNlIGNoYXJhY3RlcnMgZG8gbm90IG5lZWQgZXNjYXBpbmcgd2hlbiBnZW5lcmF0aW5nIHF1ZXJ5IHN0cmluZ3M6XG4vLyAhIC0gLiBfIH5cbi8vICcgKCApICpcbi8vIGRpZ2l0c1xuLy8gYWxwaGEgKHVwcGVyY2FzZSlcbi8vIGFscGhhIChsb3dlcmNhc2UpXG4vLyByb21lLWlnbm9yZSBmb3JtYXQ6IHRoZSBhcnJheSBzaG91bGQgbm90IGJlIGZvcm1hdHRlZFxuY29uc3Qgbm9Fc2NhcGUgPSBuZXcgSW50OEFycmF5KFtcbiAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgLy8gMCAtIDE1XG4gIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIC8vIDE2IC0gMzFcbiAgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMCwgMCwgMSwgMSwgMCwgLy8gMzIgLSA0N1xuICAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAvLyA0OCAtIDYzXG4gIDAsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIC8vIDY0IC0gNzlcbiAgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMCwgMSwgLy8gODAgLSA5NVxuICAwLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAvLyA5NiAtIDExMVxuICAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAxLCAwLCAvLyAxMTIgLSAxMjdcbl0pO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVuY29kZVN0cmluZyhzdHIpIHtcbiAgY29uc3QgbGVuID0gc3RyLmxlbmd0aDtcbiAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIFwiXCI7XG5cbiAgbGV0IG91dCA9IFwiXCI7XG4gIGxldCBsYXN0UG9zID0gMDtcbiAgbGV0IGkgPSAwO1xuXG4gIG91dGVyOiBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgbGV0IGMgPSBzdHIuY2hhckNvZGVBdChpKTtcblxuICAgIC8vIEFTQ0lJXG4gICAgd2hpbGUgKGMgPCAweDgwKSB7XG4gICAgICBpZiAobm9Fc2NhcGVbY10gIT09IDEpIHtcbiAgICAgICAgaWYgKGxhc3RQb3MgPCBpKSBvdXQgKz0gc3RyLnNsaWNlKGxhc3RQb3MsIGkpO1xuICAgICAgICBsYXN0UG9zID0gaSArIDE7XG4gICAgICAgIG91dCArPSBoZXhUYWJsZVtjXTtcbiAgICAgIH1cblxuICAgICAgaWYgKCsraSA9PT0gbGVuKSBicmVhayBvdXRlcjtcblxuICAgICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIH1cblxuICAgIGlmIChsYXN0UG9zIDwgaSkgb3V0ICs9IHN0ci5zbGljZShsYXN0UG9zLCBpKTtcblxuICAgIC8vIE11bHRpLWJ5dGUgY2hhcmFjdGVycyAuLi5cbiAgICBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICBsYXN0UG9zID0gaSArIDE7XG4gICAgICBvdXQgKz0gaGV4VGFibGVbMHhjMCB8IChjID4+IDYpXSArIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M2YpXTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoYyA8IDB4ZDgwMCB8fCBjID49IDB4ZTAwMCkge1xuICAgICAgbGFzdFBvcyA9IGkgKyAxO1xuICAgICAgb3V0ICs9XG4gICAgICAgIGhleFRhYmxlWzB4ZTAgfCAoYyA+PiAxMildICtcbiAgICAgICAgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M2YpXSArXG4gICAgICAgIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M2YpXTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICAvLyBTdXJyb2dhdGUgcGFpclxuICAgICsraTtcblxuICAgIC8vIFRoaXMgYnJhbmNoIHNob3VsZCBuZXZlciBoYXBwZW4gYmVjYXVzZSBhbGwgVVJMU2VhcmNoUGFyYW1zIGVudHJpZXNcbiAgICAvLyBzaG91bGQgYWxyZWFkeSBiZSBjb252ZXJ0ZWQgdG8gVVNWU3RyaW5nLiBCdXQsIGluY2x1ZGVkIGZvclxuICAgIC8vIGNvbXBsZXRpb24ncyBzYWtlIGFueXdheS5cbiAgICBpZiAoaSA+PSBsZW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVSSSBtYWxmb3JtZWRcIik7XG4gICAgfVxuXG4gICAgY29uc3QgYzIgPSBzdHIuY2hhckNvZGVBdChpKSAmIDB4M2ZmO1xuXG4gICAgbGFzdFBvcyA9IGkgKyAxO1xuICAgIGMgPSAweDEwMDAwICsgKCgoYyAmIDB4M2ZmKSA8PCAxMCkgfCBjMik7XG4gICAgb3V0ICs9XG4gICAgICBoZXhUYWJsZVsweGYwIHwgKGMgPj4gMTgpXSArXG4gICAgICBoZXhUYWJsZVsweDgwIHwgKChjID4+IDEyKSAmIDB4M2YpXSArXG4gICAgICBoZXhUYWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzZildICtcbiAgICAgIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M2YpXTtcbiAgfVxuICBpZiAobGFzdFBvcyA9PT0gMCkgcmV0dXJuIHN0cjtcbiAgaWYgKGxhc3RQb3MgPCBsZW4pIHJldHVybiBvdXQgKyBzdHIuc2xpY2UobGFzdFBvcyk7XG4gIHJldHVybiBvdXQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0geyBlbmNvZGVTdHJpbmcgfTtcbiIsCiAgICAiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHsgZW5jb2RlU3RyaW5nIH0gPSByZXF1aXJlKFwiLi9pbnRlcm5hbHMvcXVlcnlzdHJpbmdcIik7XG5cbmZ1bmN0aW9uIGdldEFzUHJpbWl0aXZlKHZhbHVlKSB7XG4gIGNvbnN0IHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cbiAgaWYgKHR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAvLyBMZW5ndGggY2hlY2sgaXMgaGFuZGxlZCBpbnNpZGUgZW5jb2RlU3RyaW5nIGZ1bmN0aW9uXG4gICAgcmV0dXJuIGVuY29kZVN0cmluZyh2YWx1ZSk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJiaWdpbnRcIikge1xuICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgcmV0dXJuIHZhbHVlID8gXCJ0cnVlXCIgOiBcImZhbHNlXCI7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJudW1iZXJcIiAmJiBOdW1iZXIuaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlIDwgMWUyMSA/IFwiXCIgKyB2YWx1ZSA6IGVuY29kZVN0cmluZyhcIlwiICsgdmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIFwiXCI7XG59XG5cbi8qKlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuXG4gKiB8IFJlYWRvbmx5QXJyYXk8c3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbj4gfCBudWxsPn0gaW5wdXRcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeShpbnB1dCkge1xuICBsZXQgcmVzdWx0ID0gXCJcIjtcblxuICBpZiAoaW5wdXQgPT09IG51bGwgfHwgdHlwZW9mIGlucHV0ICE9PSBcIm9iamVjdFwiKSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGNvbnN0IHNlcGFyYXRvciA9IFwiJlwiO1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoaW5wdXQpO1xuICBjb25zdCBrZXlMZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgbGV0IHZhbHVlTGVuZ3RoID0gMDtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGtleUxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICBjb25zdCB2YWx1ZSA9IGlucHV0W2tleV07XG4gICAgY29uc3QgZW5jb2RlZEtleSA9IGVuY29kZVN0cmluZyhrZXkpICsgXCI9XCI7XG5cbiAgICBpZiAoaSkge1xuICAgICAgcmVzdWx0ICs9IHNlcGFyYXRvcjtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHZhbHVlTGVuZ3RoID0gdmFsdWUubGVuZ3RoO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB2YWx1ZUxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChqKSB7XG4gICAgICAgICAgcmVzdWx0ICs9IHNlcGFyYXRvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9wdGltaXphdGlvbjogRGl2aWRpbmcgaW50byBtdWx0aXBsZSBsaW5lcyBpbXByb3ZlcyB0aGUgcGVyZm9ybWFuY2UuXG4gICAgICAgIC8vIFNpbmNlIHY4IGRvZXMgbm90IG5lZWQgdG8gY2FyZSBhYm91dCB0aGUgJysnIGNoYXJhY3RlciBpZiBpdCB3YXMgb25lLWxpbmVyLlxuICAgICAgICByZXN1bHQgKz0gZW5jb2RlZEtleTtcbiAgICAgICAgcmVzdWx0ICs9IGdldEFzUHJpbWl0aXZlKHZhbHVlW2pdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ICs9IGVuY29kZWRLZXk7XG4gICAgICByZXN1bHQgKz0gZ2V0QXNQcmltaXRpdmUodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3RyaW5naWZ5O1xuIiwKICAgICJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgcGFyc2UgPSByZXF1aXJlKFwiLi9wYXJzZVwiKTtcbmNvbnN0IHN0cmluZ2lmeSA9IHJlcXVpcmUoXCIuL3N0cmluZ2lmeVwiKTtcblxuY29uc3QgZmFzdFF1ZXJ5c3RyaW5nID0ge1xuICBwYXJzZSxcbiAgc3RyaW5naWZ5LFxufTtcblxuLyoqXG4gKiBFbmFibGUgVFMgYW5kIEpTIHN1cHBvcnRcbiAqXG4gKiAtIGBjb25zdCBxcyA9IHJlcXVpcmUoJ2Zhc3QtcXVlcnlzdHJpbmcnKWBcbiAqIC0gYGltcG9ydCBxcyBmcm9tICdmYXN0LXF1ZXJ5c3RyaW5nJ2BcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmYXN0UXVlcnlzdHJpbmc7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZmFzdFF1ZXJ5c3RyaW5nO1xubW9kdWxlLmV4cG9ydHMucGFyc2UgPSBwYXJzZTtcbm1vZHVsZS5leHBvcnRzLnN0cmluZ2lmeSA9IHN0cmluZ2lmeTtcbiIsCiAgICAiLyoqXG4gKiBsb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBgUmVnRXhwYCBmbGFncyBmcm9tIHRoZWlyIGNvZXJjZWQgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUZsYWdzID0gL1xcdyokLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIHN1cHBvcnRlZCBieSBgXy5jbG9uZWAuICovXG52YXIgY2xvbmVhYmxlVGFncyA9IHt9O1xuY2xvbmVhYmxlVGFnc1thcmdzVGFnXSA9IGNsb25lYWJsZVRhZ3NbYXJyYXlUYWddID1cbmNsb25lYWJsZVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRhVmlld1RhZ10gPVxuY2xvbmVhYmxlVGFnc1tib29sVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0ZVRhZ10gPVxuY2xvbmVhYmxlVGFnc1tmbG9hdDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZmxvYXQ2NFRhZ10gPVxuY2xvbmVhYmxlVGFnc1tpbnQ4VGFnXSA9IGNsb25lYWJsZVRhZ3NbaW50MTZUYWddID1cbmNsb25lYWJsZVRhZ3NbaW50MzJUYWddID0gY2xvbmVhYmxlVGFnc1ttYXBUYWddID1cbmNsb25lYWJsZVRhZ3NbbnVtYmVyVGFnXSA9IGNsb25lYWJsZVRhZ3Nbb2JqZWN0VGFnXSA9XG5jbG9uZWFibGVUYWdzW3JlZ2V4cFRhZ10gPSBjbG9uZWFibGVUYWdzW3NldFRhZ10gPVxuY2xvbmVhYmxlVGFnc1tzdHJpbmdUYWddID0gY2xvbmVhYmxlVGFnc1tzeW1ib2xUYWddID1cbmNsb25lYWJsZVRhZ3NbdWludDhUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50OENsYW1wZWRUYWddID1cbmNsb25lYWJsZVRhZ3NbdWludDE2VGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG5jbG9uZWFibGVUYWdzW2Vycm9yVGFnXSA9IGNsb25lYWJsZVRhZ3NbZnVuY1RhZ10gPVxuY2xvbmVhYmxlVGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqXG4gKiBBZGRzIHRoZSBrZXktdmFsdWUgYHBhaXJgIHRvIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheX0gcGFpciBUaGUga2V5LXZhbHVlIHBhaXIgdG8gYWRkLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgbWFwYC5cbiAqL1xuZnVuY3Rpb24gYWRkTWFwRW50cnkobWFwLCBwYWlyKSB7XG4gIC8vIERvbid0IHJldHVybiBgbWFwLnNldGAgYmVjYXVzZSBpdCdzIG5vdCBjaGFpbmFibGUgaW4gSUUgMTEuXG4gIG1hcC5zZXQocGFpclswXSwgcGFpclsxXSk7XG4gIHJldHVybiBtYXA7XG59XG5cbi8qKlxuICogQWRkcyBgdmFsdWVgIHRvIGBzZXRgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYWRkLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgc2V0YC5cbiAqL1xuZnVuY3Rpb24gYWRkU2V0RW50cnkoc2V0LCB2YWx1ZSkge1xuICAvLyBEb24ndCByZXR1cm4gYHNldC5hZGRgIGJlY2F1c2UgaXQncyBub3QgY2hhaW5hYmxlIGluIElFIDExLlxuICBzZXQuYWRkKHZhbHVlKTtcbiAgcmV0dXJuIHNldDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5RWFjaChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGFycmF5UmVkdWNlKGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbKytpbmRleF07XG4gIH1cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gIH1cbiAgcmV0dXJuIGFjY3VtdWxhdG9yO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0IGluIElFIDwgOS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSG9zdE9iamVjdCh2YWx1ZSkge1xuICAvLyBNYW55IGhvc3Qgb2JqZWN0cyBhcmUgYE9iamVjdGAgb2JqZWN0cyB0aGF0IGNhbiBjb2VyY2UgdG8gc3RyaW5nc1xuICAvLyBkZXNwaXRlIGhhdmluZyBpbXByb3Blcmx5IGRlZmluZWQgYHRvU3RyaW5nYCBtZXRob2RzLlxuICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9ICEhKHZhbHVlICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICovXG5mdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTtcblxuICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbi8qKlxuICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyByb290LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBTeW1ib2wgPSByb290LlN5bWJvbCxcbiAgICBVaW50OEFycmF5ID0gcm9vdC5VaW50OEFycmF5LFxuICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUsXG4gICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgIG5hdGl2ZUlzQnVmZmVyID0gQnVmZmVyID8gQnVmZmVyLmlzQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgRGF0YVZpZXcgPSBnZXROYXRpdmUocm9vdCwgJ0RhdGFWaWV3JyksXG4gICAgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICBQcm9taXNlID0gZ2V0TmF0aXZlKHJvb3QsICdQcm9taXNlJyksXG4gICAgU2V0ID0gZ2V0TmF0aXZlKHJvb3QsICdTZXQnKSxcbiAgICBXZWFrTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdXZWFrTWFwJyksXG4gICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xudmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHJldHVybiB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gZGF0YVtrZXldICE9PSB1bmRlZmluZWQgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gW107XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSB7XG4gICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICBnZXRNYXBEYXRhKHRoaXMsIGtleSkuc2V0KGtleSwgdmFsdWUpO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqL1xuZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfX1snZGVsZXRlJ10oa2V5KTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gIHZhciBjYWNoZSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChjYWNoZSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgIHZhciBwYWlycyA9IGNhY2hlLl9fZGF0YV9fO1xuICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjYWNoZSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICB9XG4gIGNhY2hlLnNldChrZXksIHZhbHVlKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG5TdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgLy8gU2FmYXJpIDguMSBtYWtlcyBgYXJndW1lbnRzLmNhbGxlZWAgZW51bWVyYWJsZSBpbiBzdHJpY3QgbW9kZS5cbiAgLy8gU2FmYXJpIDkgbWFrZXMgYGFyZ3VtZW50cy5sZW5ndGhgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuXG4gIHZhciByZXN1bHQgPSAoaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKVxuICAgID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKVxuICAgIDogW107XG5cbiAgdmFyIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGgsXG4gICAgICBza2lwSW5kZXhlcyA9ICEhbGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKGtleSA9PSAnbGVuZ3RoJyB8fCBpc0luZGV4KGtleSwgbGVuZ3RoKSkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICB9XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAqIG9yIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG5mdW5jdGlvbiBiYXNlQXNzaWduKG9iamVjdCwgc291cmNlKSB7XG4gIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbG9uZWAgYW5kIGBfLmNsb25lRGVlcGAgd2hpY2ggdHJhY2tzXG4gKiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNGdWxsXSBTcGVjaWZ5IGEgY2xvbmUgaW5jbHVkaW5nIHN5bWJvbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIFRoZSBrZXkgb2YgYHZhbHVlYC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgcGFyZW50IG9iamVjdCBvZiBgdmFsdWVgLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGFuZCB0aGVpciBjbG9uZSBjb3VudGVycGFydHMuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICovXG5mdW5jdGlvbiBiYXNlQ2xvbmUodmFsdWUsIGlzRGVlcCwgaXNGdWxsLCBjdXN0b21pemVyLCBrZXksIG9iamVjdCwgc3RhY2spIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICByZXN1bHQgPSBvYmplY3QgPyBjdXN0b21pemVyKHZhbHVlLCBrZXksIG9iamVjdCwgc3RhY2spIDogY3VzdG9taXplcih2YWx1ZSk7XG4gIH1cbiAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKTtcbiAgaWYgKGlzQXJyKSB7XG4gICAgcmVzdWx0ID0gaW5pdENsb25lQXJyYXkodmFsdWUpO1xuICAgIGlmICghaXNEZWVwKSB7XG4gICAgICByZXR1cm4gY29weUFycmF5KHZhbHVlLCByZXN1bHQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgaXNGdW5jID0gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcblxuICAgIGlmIChpc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjbG9uZUJ1ZmZlcih2YWx1ZSwgaXNEZWVwKTtcbiAgICB9XG4gICAgaWYgKHRhZyA9PSBvYmplY3RUYWcgfHwgdGFnID09IGFyZ3NUYWcgfHwgKGlzRnVuYyAmJiAhb2JqZWN0KSkge1xuICAgICAgaWYgKGlzSG9zdE9iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA/IHZhbHVlIDoge307XG4gICAgICB9XG4gICAgICByZXN1bHQgPSBpbml0Q2xvbmVPYmplY3QoaXNGdW5jID8ge30gOiB2YWx1ZSk7XG4gICAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgICByZXR1cm4gY29weVN5bWJvbHModmFsdWUsIGJhc2VBc3NpZ24ocmVzdWx0LCB2YWx1ZSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWNsb25lYWJsZVRhZ3NbdGFnXSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0ID8gdmFsdWUgOiB7fTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUJ5VGFnKHZhbHVlLCB0YWcsIGJhc2VDbG9uZSwgaXNEZWVwKTtcbiAgICB9XG4gIH1cbiAgLy8gQ2hlY2sgZm9yIGNpcmN1bGFyIHJlZmVyZW5jZXMgYW5kIHJldHVybiBpdHMgY29ycmVzcG9uZGluZyBjbG9uZS5cbiAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQodmFsdWUpO1xuICBpZiAoc3RhY2tlZCkge1xuICAgIHJldHVybiBzdGFja2VkO1xuICB9XG4gIHN0YWNrLnNldCh2YWx1ZSwgcmVzdWx0KTtcblxuICBpZiAoIWlzQXJyKSB7XG4gICAgdmFyIHByb3BzID0gaXNGdWxsID8gZ2V0QWxsS2V5cyh2YWx1ZSkgOiBrZXlzKHZhbHVlKTtcbiAgfVxuICBhcnJheUVhY2gocHJvcHMgfHwgdmFsdWUsIGZ1bmN0aW9uKHN1YlZhbHVlLCBrZXkpIHtcbiAgICBpZiAocHJvcHMpIHtcbiAgICAgIGtleSA9IHN1YlZhbHVlO1xuICAgICAgc3ViVmFsdWUgPSB2YWx1ZVtrZXldO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBwb3B1bGF0ZSBjbG9uZSAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGlzRGVlcCwgaXNGdWxsLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jcmVhdGVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgYXNzaWduaW5nXG4gKiBwcm9wZXJ0aWVzIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHByb3RvdHlwZSBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGJhc2VDcmVhdGUocHJvdG8pIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHByb3RvKSA/IG9iamVjdENyZWF0ZShwcm90bykgOiB7fTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNGdW5jLCBzeW1ib2xzRnVuYykge1xuICB2YXIgcmVzdWx0ID0ga2V5c0Z1bmMob2JqZWN0KTtcbiAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgcmV0dXJuIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSAoaXNGdW5jdGlvbih2YWx1ZSkgfHwgaXNIb3N0T2JqZWN0KHZhbHVlKSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBiYXNlS2V5cyhvYmplY3QpIHtcbiAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgIGBidWZmZXJgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICogQHJldHVybnMge0J1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGJ1ZmZlci5cbiAqL1xuZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcbiAgaWYgKGlzRGVlcCkge1xuICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gbmV3IGJ1ZmZlci5jb25zdHJ1Y3RvcihidWZmZXIubGVuZ3RoKTtcbiAgYnVmZmVyLmNvcHkocmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGFycmF5QnVmZmVyYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgVGhlIGFycmF5IGJ1ZmZlciB0byBjbG9uZS5cbiAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGFycmF5IGJ1ZmZlci5cbiAqL1xuZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihhcnJheUJ1ZmZlcikge1xuICB2YXIgcmVzdWx0ID0gbmV3IGFycmF5QnVmZmVyLmNvbnN0cnVjdG9yKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuICBuZXcgVWludDhBcnJheShyZXN1bHQpLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgZGF0YVZpZXdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YVZpZXcgVGhlIGRhdGEgdmlldyB0byBjbG9uZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgZGF0YSB2aWV3LlxuICovXG5mdW5jdGlvbiBjbG9uZURhdGFWaWV3KGRhdGFWaWV3LCBpc0RlZXApIHtcbiAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIoZGF0YVZpZXcuYnVmZmVyKSA6IGRhdGFWaWV3LmJ1ZmZlcjtcbiAgcmV0dXJuIG5ldyBkYXRhVmlldy5jb25zdHJ1Y3RvcihidWZmZXIsIGRhdGFWaWV3LmJ5dGVPZmZzZXQsIGRhdGFWaWV3LmJ5dGVMZW5ndGgpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNsb25lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2xvbmVGdW5jIFRoZSBmdW5jdGlvbiB0byBjbG9uZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIG1hcC5cbiAqL1xuZnVuY3Rpb24gY2xvbmVNYXAobWFwLCBpc0RlZXAsIGNsb25lRnVuYykge1xuICB2YXIgYXJyYXkgPSBpc0RlZXAgPyBjbG9uZUZ1bmMobWFwVG9BcnJheShtYXApLCB0cnVlKSA6IG1hcFRvQXJyYXkobWFwKTtcbiAgcmV0dXJuIGFycmF5UmVkdWNlKGFycmF5LCBhZGRNYXBFbnRyeSwgbmV3IG1hcC5jb25zdHJ1Y3Rvcik7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIGByZWdleHBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gcmVnZXhwIFRoZSByZWdleHAgdG8gY2xvbmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgcmVnZXhwLlxuICovXG5mdW5jdGlvbiBjbG9uZVJlZ0V4cChyZWdleHApIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyByZWdleHAuY29uc3RydWN0b3IocmVnZXhwLnNvdXJjZSwgcmVGbGFncy5leGVjKHJlZ2V4cCkpO1xuICByZXN1bHQubGFzdEluZGV4ID0gcmVnZXhwLmxhc3RJbmRleDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHNldGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjbG9uZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNsb25lRnVuYyBUaGUgZnVuY3Rpb24gdG8gY2xvbmUgdmFsdWVzLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBzZXQuXG4gKi9cbmZ1bmN0aW9uIGNsb25lU2V0KHNldCwgaXNEZWVwLCBjbG9uZUZ1bmMpIHtcbiAgdmFyIGFycmF5ID0gaXNEZWVwID8gY2xvbmVGdW5jKHNldFRvQXJyYXkoc2V0KSwgdHJ1ZSkgOiBzZXRUb0FycmF5KHNldCk7XG4gIHJldHVybiBhcnJheVJlZHVjZShhcnJheSwgYWRkU2V0RW50cnksIG5ldyBzZXQuY29uc3RydWN0b3IpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgYHN5bWJvbGAgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc3ltYm9sIFRoZSBzeW1ib2wgb2JqZWN0IHRvIGNsb25lLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHN5bWJvbCBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGNsb25lU3ltYm9sKHN5bWJvbCkge1xuICByZXR1cm4gc3ltYm9sVmFsdWVPZiA/IE9iamVjdChzeW1ib2xWYWx1ZU9mLmNhbGwoc3ltYm9sKSkgOiB7fTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHR5cGVkQXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gdHlwZWRBcnJheSBUaGUgdHlwZWQgYXJyYXkgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHR5cGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBjbG9uZVR5cGVkQXJyYXkodHlwZWRBcnJheSwgaXNEZWVwKSB7XG4gIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKHR5cGVkQXJyYXkuYnVmZmVyKSA6IHR5cGVkQXJyYXkuYnVmZmVyO1xuICByZXR1cm4gbmV3IHR5cGVkQXJyYXkuY29uc3RydWN0b3IoYnVmZmVyLCB0eXBlZEFycmF5LmJ5dGVPZmZzZXQsIHR5cGVkQXJyYXkubGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlPYmplY3Qoc291cmNlLCBwcm9wcywgb2JqZWN0LCBjdXN0b21pemVyKSB7XG4gIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblxuICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkID8gc291cmNlW2tleV0gOiBuZXdWYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIG9iamVjdDtcbn1cblxuLyoqXG4gKiBDb3BpZXMgb3duIHN5bWJvbCBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgdG8uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG5mdW5jdGlvbiBjb3B5U3ltYm9scyhzb3VyY2UsIG9iamVjdCkge1xuICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHMoc291cmNlKSwgb2JqZWN0KTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICovXG5mdW5jdGlvbiBnZXRBbGxLZXlzKG9iamVjdCkge1xuICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICA6IGRhdGEubWFwO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbCBwcm9wZXJ0aWVzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gKi9cbnZhciBnZXRTeW1ib2xzID0gbmF0aXZlR2V0U3ltYm9scyA/IG92ZXJBcmcobmF0aXZlR2V0U3ltYm9scywgT2JqZWN0KSA6IHN0dWJBcnJheTtcblxuLyoqXG4gKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xudmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbi8vIEZhbGxiYWNrIGZvciBkYXRhIHZpZXdzLCBtYXBzLCBzZXRzLCBhbmQgd2VhayBtYXBzIGluIElFIDExLFxuLy8gZm9yIGRhdGEgdmlld3MgaW4gRWRnZSA8IDE0LCBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcy5cbmlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgKFByb21pc2UgJiYgZ2V0VGFnKFByb21pc2UucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnKSB8fFxuICAgIChTZXQgJiYgZ2V0VGFnKG5ldyBTZXQpICE9IHNldFRhZykgfHxcbiAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gIGdldFRhZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpLFxuICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBjdG9yU3RyaW5nID0gQ3RvciA/IHRvU291cmNlKEN0b3IpIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKGN0b3JTdHJpbmcpIHtcbiAgICAgIHN3aXRjaCAoY3RvclN0cmluZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzogcmV0dXJuIGRhdGFWaWV3VGFnO1xuICAgICAgICBjYXNlIG1hcEN0b3JTdHJpbmc6IHJldHVybiBtYXBUYWc7XG4gICAgICAgIGNhc2UgcHJvbWlzZUN0b3JTdHJpbmc6IHJldHVybiBwcm9taXNlVGFnO1xuICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6IHJldHVybiBzZXRUYWc7XG4gICAgICAgIGNhc2Ugd2Vha01hcEN0b3JTdHJpbmc6IHJldHVybiB3ZWFrTWFwVGFnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufVxuXG4vKipcbiAqIEluaXRpYWxpemVzIGFuIGFycmF5IGNsb25lLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY2xvbmUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICovXG5mdW5jdGlvbiBpbml0Q2xvbmVBcnJheShhcnJheSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgcmVzdWx0ID0gYXJyYXkuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAvLyBBZGQgcHJvcGVydGllcyBhc3NpZ25lZCBieSBgUmVnRXhwI2V4ZWNgLlxuICBpZiAobGVuZ3RoICYmIHR5cGVvZiBhcnJheVswXSA9PSAnc3RyaW5nJyAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCAnaW5kZXgnKSkge1xuICAgIHJlc3VsdC5pbmRleCA9IGFycmF5LmluZGV4O1xuICAgIHJlc3VsdC5pbnB1dCA9IGFycmF5LmlucHV0O1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAqL1xuZnVuY3Rpb24gaW5pdENsb25lT2JqZWN0KG9iamVjdCkge1xuICByZXR1cm4gKHR5cGVvZiBvYmplY3QuY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNQcm90b3R5cGUob2JqZWN0KSlcbiAgICA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpXG4gICAgOiB7fTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUgYmFzZWQgb24gaXRzIGB0b1N0cmluZ1RhZ2AuXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjbG9uaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3QgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjbG9uZUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNsb25lIHZhbHVlcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAqL1xuZnVuY3Rpb24gaW5pdENsb25lQnlUYWcob2JqZWN0LCB0YWcsIGNsb25lRnVuYywgaXNEZWVwKSB7XG4gIHZhciBDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yO1xuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICByZXR1cm4gY2xvbmVBcnJheUJ1ZmZlcihvYmplY3QpO1xuXG4gICAgY2FzZSBib29sVGFnOlxuICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgIHJldHVybiBuZXcgQ3Rvcigrb2JqZWN0KTtcblxuICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICByZXR1cm4gY2xvbmVEYXRhVmlldyhvYmplY3QsIGlzRGVlcCk7XG5cbiAgICBjYXNlIGZsb2F0MzJUYWc6IGNhc2UgZmxvYXQ2NFRhZzpcbiAgICBjYXNlIGludDhUYWc6IGNhc2UgaW50MTZUYWc6IGNhc2UgaW50MzJUYWc6XG4gICAgY2FzZSB1aW50OFRhZzogY2FzZSB1aW50OENsYW1wZWRUYWc6IGNhc2UgdWludDE2VGFnOiBjYXNlIHVpbnQzMlRhZzpcbiAgICAgIHJldHVybiBjbG9uZVR5cGVkQXJyYXkob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgY2FzZSBtYXBUYWc6XG4gICAgICByZXR1cm4gY2xvbmVNYXAob2JqZWN0LCBpc0RlZXAsIGNsb25lRnVuYyk7XG5cbiAgICBjYXNlIG51bWJlclRhZzpcbiAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgIHJldHVybiBuZXcgQ3RvcihvYmplY3QpO1xuXG4gICAgY2FzZSByZWdleHBUYWc6XG4gICAgICByZXR1cm4gY2xvbmVSZWdFeHAob2JqZWN0KTtcblxuICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgcmV0dXJuIGNsb25lU2V0KG9iamVjdCwgaXNEZWVwLCBjbG9uZUZ1bmMpO1xuXG4gICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICByZXR1cm4gY2xvbmVTeW1ib2wob2JqZWN0KTtcbiAgfVxufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgcmVJc1VpbnQudGVzdCh2YWx1ZSkpICYmXG4gICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG59XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDEuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gKiBAc2VlIF8uY2xvbmVcbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gKlxuICogdmFyIGRlZXAgPSBfLmNsb25lRGVlcChvYmplY3RzKTtcbiAqIGNvbnNvbGUubG9nKGRlZXBbMF0gPT09IG9iamVjdHNbMF0pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gY2xvbmVEZWVwKHZhbHVlKSB7XG4gIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIHRydWUsIHRydWUpO1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcmd1bWVudHModmFsdWUpIHtcbiAgLy8gU2FmYXJpIDguMSBtYWtlcyBgYXJndW1lbnRzLmNhbGxlZWAgZW51bWVyYWJsZSBpbiBzdHJpY3QgbW9kZS5cbiAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAoIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKSB8fCBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBhcmdzVGFnKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAqIGlzIGFuIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheS1saWtlIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjMuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA4LTkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXkgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGlzT2JqZWN0KHZhbHVlKSA/IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gKiBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5cyhuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqXG4gKiBfLmtleXMoJ2hpJyk7XG4gKiAvLyA9PiBbJzAnLCAnMSddXG4gKi9cbmZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgYXJyYXkuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBhcnJheXMgPSBfLnRpbWVzKDIsIF8uc3R1YkFycmF5KTtcbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICogLy8gPT4gW1tdLCBbXV1cbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gIHJldHVybiBbXTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAqIC8vID0+IFtmYWxzZSwgZmFsc2VdXG4gKi9cbmZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb25lRGVlcDtcbiIsCiAgICAiaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICcuL2luZGV4LmpzJ1xuXG5leHBvcnQgeyBFdmVudEVtaXR0ZXIgfVxuZXhwb3J0IGRlZmF1bHQgRXZlbnRFbWl0dGVyXG4iLAogICAgIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBJdGVyYXRvcnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYW4gYXN5bmMgaXRlcmF0b3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0FzeW5jSXRlcmF0b3IodmFsdWUpIHtcbiAgICByZXR1cm4gSXNPYmplY3QodmFsdWUpICYmIFN5bWJvbC5hc3luY0l0ZXJhdG9yIGluIHZhbHVlO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIGFuIGl0ZXJhdG9yICovXG5leHBvcnQgZnVuY3Rpb24gSXNJdGVyYXRvcih2YWx1ZSkge1xuICAgIHJldHVybiBJc09iamVjdCh2YWx1ZSkgJiYgU3ltYm9sLml0ZXJhdG9yIGluIHZhbHVlO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE9iamVjdCBJbnN0YW5jZXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgbm90IGFuIGluc3RhbmNlIG9mIGEgY2xhc3MgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1N0YW5kYXJkT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIElzT2JqZWN0KHZhbHVlKSAmJiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKSA9PT0gT2JqZWN0LnByb3RvdHlwZSB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpID09PSBudWxsKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBhbiBpbnN0YW5jZSBvZiBhIGNsYXNzICovXG5leHBvcnQgZnVuY3Rpb24gSXNJbnN0YW5jZU9iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiBJc09iamVjdCh2YWx1ZSkgJiYgIUlzQXJyYXkodmFsdWUpICYmIElzRnVuY3Rpb24odmFsdWUuY29uc3RydWN0b3IpICYmIHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgIT09ICdPYmplY3QnO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEphdmFTY3JpcHRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYSBQcm9taXNlICovXG5leHBvcnQgZnVuY3Rpb24gSXNQcm9taXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBhIERhdGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0RhdGUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBEYXRlICYmIE51bWJlci5pc0Zpbml0ZSh2YWx1ZS5nZXRUaW1lKCkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIGFuIGluc3RhbmNlIG9mIE1hcDxLLCBUPiAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzTWFwKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5NYXA7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYW4gaW5zdGFuY2Ugb2YgU2V0PFQ+ICovXG5leHBvcnQgZnVuY3Rpb24gSXNTZXQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLlNldDtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBSZWdFeHAgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1JlZ0V4cCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuUmVnRXhwO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIGEgdHlwZWQgYXJyYXkgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIHZhbHVlIGlzIGEgSW50OEFycmF5ICovXG5leHBvcnQgZnVuY3Rpb24gSXNJbnQ4QXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLkludDhBcnJheTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIHZhbHVlIGlzIGEgVWludDhBcnJheSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVWludDhBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuVWludDhBcnJheTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIHZhbHVlIGlzIGEgVWludDhDbGFtcGVkQXJyYXkgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1VpbnQ4Q2xhbXBlZEFycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5VaW50OENsYW1wZWRBcnJheTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIHZhbHVlIGlzIGEgSW50MTZBcnJheSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzSW50MTZBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuSW50MTZBcnJheTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIHZhbHVlIGlzIGEgVWludDE2QXJyYXkgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1VpbnQxNkFycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5VaW50MTZBcnJheTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIHZhbHVlIGlzIGEgSW50MzJBcnJheSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzSW50MzJBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuSW50MzJBcnJheTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIHZhbHVlIGlzIGEgVWludDMyQXJyYXkgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1VpbnQzMkFycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5VaW50MzJBcnJheTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIHZhbHVlIGlzIGEgRmxvYXQzMkFycmF5ICovXG5leHBvcnQgZnVuY3Rpb24gSXNGbG9hdDMyQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLkZsb2F0MzJBcnJheTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIHZhbHVlIGlzIGEgRmxvYXQ2NEFycmF5ICovXG5leHBvcnQgZnVuY3Rpb24gSXNGbG9hdDY0QXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLkZsb2F0NjRBcnJheTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIHZhbHVlIGlzIGEgQmlnSW50NjRBcnJheSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzQmlnSW50NjRBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuQmlnSW50NjRBcnJheTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIHZhbHVlIGlzIGEgQmlnVWludDY0QXJyYXkgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0JpZ1VpbnQ2NEFycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5CaWdVaW50NjRBcnJheTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGFuZGFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBoYXMgdGhpcyBwcm9wZXJ0eSBrZXkgKi9cbmV4cG9ydCBmdW5jdGlvbiBIYXNQcm9wZXJ0eUtleSh2YWx1ZSwga2V5KSB7XG4gICAgcmV0dXJuIGtleSBpbiB2YWx1ZTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgb2YgdGhpcyB2YWx1ZSBpcyBhbiBvYmplY3QgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCc7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYW4gYXJyYXksIGJ1dCBub3QgYSB0eXBlZCBhcnJheSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgIUFycmF5QnVmZmVyLmlzVmlldyh2YWx1ZSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYW4gdW5kZWZpbmVkICovXG5leHBvcnQgZnVuY3Rpb24gSXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZDtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBhbiBudWxsICovXG5leHBvcnQgZnVuY3Rpb24gSXNOdWxsKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIGFuIGJvb2xlYW4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0Jvb2xlYW4odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbic7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYW4gbnVtYmVyICovXG5leHBvcnQgZnVuY3Rpb24gSXNOdW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJztcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBhbiBpbnRlZ2VyICovXG5leHBvcnQgZnVuY3Rpb24gSXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgcmV0dXJuIE51bWJlci5pc0ludGVnZXIodmFsdWUpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIGJpZ2ludCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzQmlnSW50KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2JpZ2ludCc7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgc3RyaW5nICovXG5leHBvcnQgZnVuY3Rpb24gSXNTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBhIGZ1bmN0aW9uICovXG5leHBvcnQgZnVuY3Rpb24gSXNGdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYSBzeW1ib2wgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1N5bWJvbCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzeW1ib2wnO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIGEgdmFsdWUgdHlwZSBzdWNoIGFzIG51bWJlciwgc3RyaW5nLCBib29sZWFuICovXG5leHBvcnQgZnVuY3Rpb24gSXNWYWx1ZVR5cGUodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzQmlnSW50KHZhbHVlKSB8fFxuICAgICAgICBJc0Jvb2xlYW4odmFsdWUpIHx8XG4gICAgICAgIElzTnVsbCh2YWx1ZSkgfHxcbiAgICAgICAgSXNOdW1iZXIodmFsdWUpIHx8XG4gICAgICAgIElzU3RyaW5nKHZhbHVlKSB8fFxuICAgICAgICBJc1N5bWJvbCh2YWx1ZSkgfHxcbiAgICAgICAgSXNVbmRlZmluZWQodmFsdWUpKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgSXNPYmplY3QsIElzQXJyYXksIElzTnVtYmVyLCBJc1VuZGVmaW5lZCB9IGZyb20gJy4uL3ZhbHVlL2d1YXJkL2luZGV4Lm1qcyc7XG5leHBvcnQgdmFyIFR5cGVTeXN0ZW1Qb2xpY3k7XG4oZnVuY3Rpb24gKFR5cGVTeXN0ZW1Qb2xpY3kpIHtcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBUeXBlU3lzdGVtUG9saWN5XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqIFNoYXJlZCBhc3NlcnRpb24gcm91dGluZXMgdXNlZCBieSB0aGUgdmFsdWUgYW5kIGVycm9ycyBtb2R1bGVzICovXG4gICAgLyoqIFNldHMgd2hldGhlciBUeXBlQm94IHNob3VsZCBhc3NlcnQgb3B0aW9uYWwgcHJvcGVydGllcyB1c2luZyB0aGUgVHlwZVNjcmlwdCBgZXhhY3RPcHRpb25hbFByb3BlcnR5VHlwZXNgIGFzc2VydGlvbiBwb2xpY3kuIFRoZSBkZWZhdWx0IGlzIGBmYWxzZWAgKi9cbiAgICBUeXBlU3lzdGVtUG9saWN5LkV4YWN0T3B0aW9uYWxQcm9wZXJ0eVR5cGVzID0gZmFsc2U7XG4gICAgLyoqIFNldHMgd2hldGhlciBhcnJheXMgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgYSBraW5kIG9mIG9iamVjdHMuIFRoZSBkZWZhdWx0IGlzIGBmYWxzZWAgKi9cbiAgICBUeXBlU3lzdGVtUG9saWN5LkFsbG93QXJyYXlPYmplY3QgPSBmYWxzZTtcbiAgICAvKiogU2V0cyB3aGV0aGVyIGBOYU5gIG9yIGBJbmZpbml0eWAgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgdmFsaWQgbnVtZXJpYyB2YWx1ZXMuIFRoZSBkZWZhdWx0IGlzIGBmYWxzZWAgKi9cbiAgICBUeXBlU3lzdGVtUG9saWN5LkFsbG93TmFOID0gZmFsc2U7XG4gICAgLyoqIFNldHMgd2hldGhlciBgbnVsbGAgc2hvdWxkIHZhbGlkYXRlIGZvciB2b2lkIHR5cGVzLiBUaGUgZGVmYXVsdCBpcyBgZmFsc2VgICovXG4gICAgVHlwZVN5c3RlbVBvbGljeS5BbGxvd051bGxWb2lkID0gZmFsc2U7XG4gICAgLyoqIEFzc2VydHMgdGhpcyB2YWx1ZSB1c2luZyB0aGUgRXhhY3RPcHRpb25hbFByb3BlcnR5VHlwZXMgcG9saWN5ICovXG4gICAgZnVuY3Rpb24gSXNFeGFjdE9wdGlvbmFsUHJvcGVydHkodmFsdWUsIGtleSkge1xuICAgICAgICByZXR1cm4gVHlwZVN5c3RlbVBvbGljeS5FeGFjdE9wdGlvbmFsUHJvcGVydHlUeXBlcyA/IGtleSBpbiB2YWx1ZSA6IHZhbHVlW2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgVHlwZVN5c3RlbVBvbGljeS5Jc0V4YWN0T3B0aW9uYWxQcm9wZXJ0eSA9IElzRXhhY3RPcHRpb25hbFByb3BlcnR5O1xuICAgIC8qKiBBc3NlcnRzIHRoaXMgdmFsdWUgdXNpbmcgdGhlIEFsbG93QXJyYXlPYmplY3RzIHBvbGljeSAqL1xuICAgIGZ1bmN0aW9uIElzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBpc09iamVjdCA9IElzT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIFR5cGVTeXN0ZW1Qb2xpY3kuQWxsb3dBcnJheU9iamVjdCA/IGlzT2JqZWN0IDogaXNPYmplY3QgJiYgIUlzQXJyYXkodmFsdWUpO1xuICAgIH1cbiAgICBUeXBlU3lzdGVtUG9saWN5LklzT2JqZWN0TGlrZSA9IElzT2JqZWN0TGlrZTtcbiAgICAvKiogQXNzZXJ0cyB0aGlzIHZhbHVlIGFzIGEgcmVjb3JkIHVzaW5nIHRoZSBBbGxvd0FycmF5T2JqZWN0cyBwb2xpY3kgKi9cbiAgICBmdW5jdGlvbiBJc1JlY29yZExpa2UodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIElzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpICYmICEodmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5KTtcbiAgICB9XG4gICAgVHlwZVN5c3RlbVBvbGljeS5Jc1JlY29yZExpa2UgPSBJc1JlY29yZExpa2U7XG4gICAgLyoqIEFzc2VydHMgdGhpcyB2YWx1ZSB1c2luZyB0aGUgQWxsb3dOYU4gcG9saWN5ICovXG4gICAgZnVuY3Rpb24gSXNOdW1iZXJMaWtlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBUeXBlU3lzdGVtUG9saWN5LkFsbG93TmFOID8gSXNOdW1iZXIodmFsdWUpIDogTnVtYmVyLmlzRmluaXRlKHZhbHVlKTtcbiAgICB9XG4gICAgVHlwZVN5c3RlbVBvbGljeS5Jc051bWJlckxpa2UgPSBJc051bWJlckxpa2U7XG4gICAgLyoqIEFzc2VydHMgdGhpcyB2YWx1ZSB1c2luZyB0aGUgQWxsb3dWb2lkTnVsbCBwb2xpY3kgKi9cbiAgICBmdW5jdGlvbiBJc1ZvaWRMaWtlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGlzVW5kZWZpbmVkID0gSXNVbmRlZmluZWQodmFsdWUpO1xuICAgICAgICByZXR1cm4gVHlwZVN5c3RlbVBvbGljeS5BbGxvd051bGxWb2lkID8gaXNVbmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwgOiBpc1VuZGVmaW5lZDtcbiAgICB9XG4gICAgVHlwZVN5c3RlbVBvbGljeS5Jc1ZvaWRMaWtlID0gSXNWb2lkTGlrZTtcbn0pKFR5cGVTeXN0ZW1Qb2xpY3kgfHwgKFR5cGVTeXN0ZW1Qb2xpY3kgPSB7fSkpO1xuIiwKICAgICIvKiogQSByZWdpc3RyeSBmb3IgdXNlciBkZWZpbmVkIHN0cmluZyBmb3JtYXRzICovXG5jb25zdCBtYXAgPSBuZXcgTWFwKCk7XG4vKiogUmV0dXJucyB0aGUgZW50cmllcyBpbiB0aGlzIHJlZ2lzdHJ5ICovXG5leHBvcnQgZnVuY3Rpb24gRW50cmllcygpIHtcbiAgICByZXR1cm4gbmV3IE1hcChtYXApO1xufVxuLyoqIENsZWFycyBhbGwgdXNlciBkZWZpbmVkIHN0cmluZyBmb3JtYXRzICovXG5leHBvcnQgZnVuY3Rpb24gQ2xlYXIoKSB7XG4gICAgcmV0dXJuIG1hcC5jbGVhcigpO1xufVxuLyoqIERlbGV0ZXMgYSByZWdpc3RlcmVkIGZvcm1hdCAqL1xuZXhwb3J0IGZ1bmN0aW9uIERlbGV0ZShmb3JtYXQpIHtcbiAgICByZXR1cm4gbWFwLmRlbGV0ZShmb3JtYXQpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdXNlciBkZWZpbmVkIHN0cmluZyBmb3JtYXQgZXhpc3RzICovXG5leHBvcnQgZnVuY3Rpb24gSGFzKGZvcm1hdCkge1xuICAgIHJldHVybiBtYXAuaGFzKGZvcm1hdCk7XG59XG4vKiogU2V0cyBhIHZhbGlkYXRpb24gZnVuY3Rpb24gZm9yIGEgdXNlciBkZWZpbmVkIHN0cmluZyBmb3JtYXQgKi9cbmV4cG9ydCBmdW5jdGlvbiBTZXQoZm9ybWF0LCBmdW5jKSB7XG4gICAgbWFwLnNldChmb3JtYXQsIGZ1bmMpO1xufVxuLyoqIEdldHMgYSB2YWxpZGF0aW9uIGZ1bmN0aW9uIGZvciBhIHVzZXIgZGVmaW5lZCBzdHJpbmcgZm9ybWF0ICovXG5leHBvcnQgZnVuY3Rpb24gR2V0KGZvcm1hdCkge1xuICAgIHJldHVybiBtYXAuZ2V0KGZvcm1hdCk7XG59XG4iLAogICAgIi8qKiBBIHJlZ2lzdHJ5IGZvciB1c2VyIGRlZmluZWQgdHlwZXMgKi9cbmNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcbi8qKiBSZXR1cm5zIHRoZSBlbnRyaWVzIGluIHRoaXMgcmVnaXN0cnkgKi9cbmV4cG9ydCBmdW5jdGlvbiBFbnRyaWVzKCkge1xuICAgIHJldHVybiBuZXcgTWFwKG1hcCk7XG59XG4vKiogQ2xlYXJzIGFsbCB1c2VyIGRlZmluZWQgdHlwZXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBDbGVhcigpIHtcbiAgICByZXR1cm4gbWFwLmNsZWFyKCk7XG59XG4vKiogRGVsZXRlcyBhIHJlZ2lzdGVyZWQgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIERlbGV0ZShraW5kKSB7XG4gICAgcmV0dXJuIG1hcC5kZWxldGUoa2luZCk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgcmVnaXN0cnkgY29udGFpbnMgdGhpcyBraW5kICovXG5leHBvcnQgZnVuY3Rpb24gSGFzKGtpbmQpIHtcbiAgICByZXR1cm4gbWFwLmhhcyhraW5kKTtcbn1cbi8qKiBTZXRzIGEgdmFsaWRhdGlvbiBmdW5jdGlvbiBmb3IgYSB1c2VyIGRlZmluZWQgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNldChraW5kLCBmdW5jKSB7XG4gICAgbWFwLnNldChraW5kLCBmdW5jKTtcbn1cbi8qKiBHZXRzIGEgY3VzdG9tIHZhbGlkYXRpb24gZnVuY3Rpb24gZm9yIGEgdXNlciBkZWZpbmVkIHR5cGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBHZXQoa2luZCkge1xuICAgIHJldHVybiBtYXAuZ2V0KGtpbmQpO1xufVxuIiwKICAgICIvKiogU3ltYm9sIGtleSBhcHBsaWVkIHRvIHRyYW5zZm9ybSB0eXBlcyAqL1xuZXhwb3J0IGNvbnN0IFRyYW5zZm9ybUtpbmQgPSBTeW1ib2wuZm9yKCdUeXBlQm94LlRyYW5zZm9ybScpO1xuLyoqIFN5bWJvbCBrZXkgYXBwbGllZCB0byByZWFkb25seSB0eXBlcyAqL1xuZXhwb3J0IGNvbnN0IFJlYWRvbmx5S2luZCA9IFN5bWJvbC5mb3IoJ1R5cGVCb3guUmVhZG9ubHknKTtcbi8qKiBTeW1ib2wga2V5IGFwcGxpZWQgdG8gb3B0aW9uYWwgdHlwZXMgKi9cbmV4cG9ydCBjb25zdCBPcHRpb25hbEtpbmQgPSBTeW1ib2wuZm9yKCdUeXBlQm94Lk9wdGlvbmFsJyk7XG4vKiogU3ltYm9sIGtleSBhcHBsaWVkIHRvIHR5cGVzICovXG5leHBvcnQgY29uc3QgSGludCA9IFN5bWJvbC5mb3IoJ1R5cGVCb3guSGludCcpO1xuLyoqIFN5bWJvbCBrZXkgYXBwbGllZCB0byB0eXBlcyAqL1xuZXhwb3J0IGNvbnN0IEtpbmQgPSBTeW1ib2wuZm9yKCdUeXBlQm94LktpbmQnKTtcbiIsCiAgICAiaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8qKiBgW0pzb25dYCBDcmVhdGVzIGEgVW5zYWZlIHR5cGUgdGhhdCB3aWxsIGluZmVycyBhcyB0aGUgZ2VuZXJpYyBhcmd1bWVudCBUICovXG5leHBvcnQgZnVuY3Rpb24gVW5zYWZlKG9wdGlvbnMgPSB7fSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIFtLaW5kXTogb3B0aW9uc1tLaW5kXSA/PyAnVW5zYWZlJyxcbiAgICB9O1xufVxuIiwKICAgICIvKiogVGhlIGJhc2UgRXJyb3IgdHlwZSB0aHJvd24gZm9yIGFsbCBUeXBlQm94IGV4Y2VwdGlvbnMgICovXG5leHBvcnQgY2xhc3MgVHlwZUJveEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgfVxufVxuIiwKICAgICJpbXBvcnQgeyBUeXBlUmVnaXN0cnksIEZvcm1hdFJlZ2lzdHJ5IH0gZnJvbSAnLi4vdHlwZS9yZWdpc3RyeS9pbmRleC5tanMnO1xuaW1wb3J0IHsgVW5zYWZlIH0gZnJvbSAnLi4vdHlwZS91bnNhZmUvaW5kZXgubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi90eXBlL3N5bWJvbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IFR5cGVCb3hFcnJvciB9IGZyb20gJy4uL3R5cGUvZXJyb3IvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRXJyb3JzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjbGFzcyBUeXBlU3lzdGVtRHVwbGljYXRlVHlwZUtpbmQgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGtpbmQpIHtcbiAgICAgICAgc3VwZXIoYER1cGxpY2F0ZSB0eXBlIGtpbmQgJyR7a2luZH0nIGRldGVjdGVkYCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFR5cGVTeXN0ZW1EdXBsaWNhdGVGb3JtYXQgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGtpbmQpIHtcbiAgICAgICAgc3VwZXIoYER1cGxpY2F0ZSBzdHJpbmcgZm9ybWF0ICcke2tpbmR9JyBkZXRlY3RlZGApO1xuICAgIH1cbn1cbi8qKiBDcmVhdGVzIHVzZXIgZGVmaW5lZCB0eXBlcyBhbmQgZm9ybWF0cyBhbmQgcHJvdmlkZXMgb3ZlcnJpZGVzIGZvciB2YWx1ZSBjaGVja2luZyBiZWhhdmlvdXJzICovXG5leHBvcnQgdmFyIFR5cGVTeXN0ZW07XG4oZnVuY3Rpb24gKFR5cGVTeXN0ZW0pIHtcbiAgICAvKiogQ3JlYXRlcyBhIG5ldyB0eXBlICovXG4gICAgZnVuY3Rpb24gVHlwZShraW5kLCBjaGVjaykge1xuICAgICAgICBpZiAoVHlwZVJlZ2lzdHJ5LkhhcyhraW5kKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlU3lzdGVtRHVwbGljYXRlVHlwZUtpbmQoa2luZCk7XG4gICAgICAgIFR5cGVSZWdpc3RyeS5TZXQoa2luZCwgY2hlY2spO1xuICAgICAgICByZXR1cm4gKG9wdGlvbnMgPSB7fSkgPT4gVW5zYWZlKHsgLi4ub3B0aW9ucywgW0tpbmRdOiBraW5kIH0pO1xuICAgIH1cbiAgICBUeXBlU3lzdGVtLlR5cGUgPSBUeXBlO1xuICAgIC8qKiBDcmVhdGVzIGEgbmV3IHN0cmluZyBmb3JtYXQgKi9cbiAgICBmdW5jdGlvbiBGb3JtYXQoZm9ybWF0LCBjaGVjaykge1xuICAgICAgICBpZiAoRm9ybWF0UmVnaXN0cnkuSGFzKGZvcm1hdCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZVN5c3RlbUR1cGxpY2F0ZUZvcm1hdChmb3JtYXQpO1xuICAgICAgICBGb3JtYXRSZWdpc3RyeS5TZXQoZm9ybWF0LCBjaGVjayk7XG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgfVxuICAgIFR5cGVTeXN0ZW0uRm9ybWF0ID0gRm9ybWF0O1xufSkoVHlwZVN5c3RlbSB8fCAoVHlwZVN5c3RlbSA9IHt9KSk7XG4iLAogICAgImltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBNYXBwZWRSZXN1bHQocHJvcGVydGllcykge1xuICAgIHJldHVybiB7XG4gICAgICAgIFtLaW5kXTogJ01hcHBlZFJlc3VsdCcsXG4gICAgICAgIHByb3BlcnRpZXNcbiAgICB9O1xufVxuIiwKICAgICIvKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYW4gYXN5bmMgaXRlcmF0b3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0FzeW5jSXRlcmF0b3IodmFsdWUpIHtcbiAgICByZXR1cm4gSXNPYmplY3QodmFsdWUpICYmICFJc0FycmF5KHZhbHVlKSAmJiAhSXNVaW50OEFycmF5KHZhbHVlKSAmJiBTeW1ib2wuYXN5bmNJdGVyYXRvciBpbiB2YWx1ZTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBhbiBhcnJheSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYmlnaW50ICovXG5leHBvcnQgZnVuY3Rpb24gSXNCaWdJbnQodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnYmlnaW50Jztcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBhIGJvb2xlYW4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0Jvb2xlYW4odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbic7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYSBEYXRlIG9iamVjdCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzRGF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuRGF0ZTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBhIGZ1bmN0aW9uICovXG5leHBvcnQgZnVuY3Rpb24gSXNGdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYW4gaXRlcmF0b3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0l0ZXJhdG9yKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzT2JqZWN0KHZhbHVlKSAmJiAhSXNBcnJheSh2YWx1ZSkgJiYgIUlzVWludDhBcnJheSh2YWx1ZSkgJiYgU3ltYm9sLml0ZXJhdG9yIGluIHZhbHVlO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIG51bGwgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc051bGwodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgbnVtYmVyICovXG5leHBvcnQgZnVuY3Rpb24gSXNOdW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJztcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBhbiBvYmplY3QgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc09iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIFJlZ0V4cCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzUmVnRXhwKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5SZWdFeHA7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgc3RyaW5nICovXG5leHBvcnQgZnVuY3Rpb24gSXNTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBzeW1ib2wgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1N5bWJvbCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzeW1ib2wnO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIGEgVWludDhBcnJheSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVWludDhBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuVWludDhBcnJheTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyB1bmRlZmluZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1VuZGVmaW5lZCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xufVxuIiwKICAgICJpbXBvcnQgKiBhcyBWYWx1ZUd1YXJkIGZyb20gJy4uL2d1YXJkL3ZhbHVlLm1qcyc7XG5mdW5jdGlvbiBBcnJheVR5cGUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUubWFwKCh2YWx1ZSkgPT4gVmlzaXQodmFsdWUpKTtcbn1cbmZ1bmN0aW9uIERhdGVUeXBlKHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlLmdldFRpbWUoKSk7XG59XG5mdW5jdGlvbiBVaW50OEFycmF5VHlwZSh2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheSh2YWx1ZSk7XG59XG5mdW5jdGlvbiBSZWdFeHBUeXBlKHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAodmFsdWUuc291cmNlLCB2YWx1ZS5mbGFncyk7XG59XG5mdW5jdGlvbiBPYmplY3RUeXBlKHZhbHVlKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gVmlzaXQodmFsdWVba2V5XSk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gVmlzaXQodmFsdWVba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFZpc2l0KHZhbHVlKSB7XG4gICAgcmV0dXJuIChWYWx1ZUd1YXJkLklzQXJyYXkodmFsdWUpID8gQXJyYXlUeXBlKHZhbHVlKSA6XG4gICAgICAgIFZhbHVlR3VhcmQuSXNEYXRlKHZhbHVlKSA/IERhdGVUeXBlKHZhbHVlKSA6XG4gICAgICAgICAgICBWYWx1ZUd1YXJkLklzVWludDhBcnJheSh2YWx1ZSkgPyBVaW50OEFycmF5VHlwZSh2YWx1ZSkgOlxuICAgICAgICAgICAgICAgIFZhbHVlR3VhcmQuSXNSZWdFeHAodmFsdWUpID8gUmVnRXhwVHlwZSh2YWx1ZSkgOlxuICAgICAgICAgICAgICAgICAgICBWYWx1ZUd1YXJkLklzT2JqZWN0KHZhbHVlKSA/IE9iamVjdFR5cGUodmFsdWUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlKTtcbn1cbi8qKiBDbG9uZXMgYSB2YWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIENsb25lKHZhbHVlKSB7XG4gICAgcmV0dXJuIFZpc2l0KHZhbHVlKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ2xvbmUgfSBmcm9tICcuL3ZhbHVlLm1qcyc7XG4vKiogQ2xvbmVzIGEgUmVzdCAqL1xuZXhwb3J0IGZ1bmN0aW9uIENsb25lUmVzdChzY2hlbWFzKSB7XG4gICAgcmV0dXJuIHNjaGVtYXMubWFwKChzY2hlbWEpID0+IENsb25lVHlwZShzY2hlbWEpKTtcbn1cbi8qKiBDbG9uZXMgYSBUeXBlICovXG5leHBvcnQgZnVuY3Rpb24gQ2xvbmVUeXBlKHNjaGVtYSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIHsgLi4uQ2xvbmUoc2NoZW1hKSwgLi4ub3B0aW9ucyB9O1xufVxuIiwKICAgICJmdW5jdGlvbiBEaXNjYXJkS2V5KHZhbHVlLCBrZXkpIHtcbiAgICBjb25zdCB7IFtrZXldOiBfLCAuLi5yZXN0IH0gPSB2YWx1ZTtcbiAgICByZXR1cm4gcmVzdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBEaXNjYXJkKHZhbHVlLCBrZXlzKSB7XG4gICAgcmV0dXJuIGtleXMucmVkdWNlKChhY2MsIGtleSkgPT4gRGlzY2FyZEtleShhY2MsIGtleSksIHZhbHVlKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ2xvbmVUeXBlIH0gZnJvbSAnLi4vY2xvbmUvdHlwZS5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8qKiBgW0pzb25dYCBDcmVhdGVzIGFuIEFycmF5IHR5cGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBBcnJheShzY2hlbWEsIG9wdGlvbnMgPSB7fSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIFtLaW5kXTogJ0FycmF5JyxcbiAgICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgICAgaXRlbXM6IENsb25lVHlwZShzY2hlbWEpLFxuICAgIH07XG59XG4iLAogICAgImltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDbG9uZVR5cGUgfSBmcm9tICcuLi9jbG9uZS90eXBlLm1qcyc7XG4vKiogYFtKYXZhU2NyaXB0XWAgQ3JlYXRlcyBhIEFzeW5jSXRlcmF0b3IgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoaXRlbXMsIG9wdGlvbnMgPSB7fSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIFtLaW5kXTogJ0FzeW5jSXRlcmF0b3InLFxuICAgICAgICB0eXBlOiAnQXN5bmNJdGVyYXRvcicsXG4gICAgICAgIGl0ZW1zOiBDbG9uZVR5cGUoaXRlbXMpLFxuICAgIH07XG59XG4iLAogICAgImltcG9ydCB7IENsb25lVHlwZSwgQ2xvbmVSZXN0IH0gZnJvbSAnLi4vY2xvbmUvdHlwZS5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8qKiBgW0phdmFTY3JpcHRdYCBDcmVhdGVzIGEgQ29uc3RydWN0b3IgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvbnN0cnVjdG9yKHBhcmFtZXRlcnMsIHJldHVybnMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBbS2luZF06ICdDb25zdHJ1Y3RvcicsXG4gICAgICAgIHR5cGU6ICdDb25zdHJ1Y3RvcicsXG4gICAgICAgIHBhcmFtZXRlcnM6IENsb25lUmVzdChwYXJhbWV0ZXJzKSxcbiAgICAgICAgcmV0dXJuczogQ2xvbmVUeXBlKHJldHVybnMpLFxuICAgIH07XG59XG4iLAogICAgImltcG9ydCB7IENsb25lVHlwZSwgQ2xvbmVSZXN0IH0gZnJvbSAnLi4vY2xvbmUvdHlwZS5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8qKiBgW0phdmFTY3JpcHRdYCBDcmVhdGVzIGEgRnVuY3Rpb24gdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZ1bmN0aW9uKHBhcmFtZXRlcnMsIHJldHVybnMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBbS2luZF06ICdGdW5jdGlvbicsXG4gICAgICAgIHR5cGU6ICdGdW5jdGlvbicsXG4gICAgICAgIHBhcmFtZXRlcnM6IENsb25lUmVzdChwYXJhbWV0ZXJzKSxcbiAgICAgICAgcmV0dXJuczogQ2xvbmVUeXBlKHJldHVybnMpLFxuICAgIH07XG59XG4iLAogICAgImltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhIE5ldmVyIHR5cGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBOZXZlcihvcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBbS2luZF06ICdOZXZlcicsXG4gICAgICAgIG5vdDoge30sXG4gICAgfTtcbn1cbiIsCiAgICAiaW1wb3J0ICogYXMgVmFsdWVHdWFyZCBmcm9tICcuL3ZhbHVlLm1qcyc7XG5pbXBvcnQgeyBLaW5kLCBIaW50LCBUcmFuc2Zvcm1LaW5kLCBSZWFkb25seUtpbmQsIE9wdGlvbmFsS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGhhcyBhIFJlYWRvbmx5IHN5bWJvbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzUmVhZG9ubHkodmFsdWUpIHtcbiAgICByZXR1cm4gVmFsdWVHdWFyZC5Jc09iamVjdCh2YWx1ZSkgJiYgdmFsdWVbUmVhZG9ubHlLaW5kXSA9PT0gJ1JlYWRvbmx5Jztcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGhhcyBhIE9wdGlvbmFsIHN5bWJvbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzT3B0aW9uYWwodmFsdWUpIHtcbiAgICByZXR1cm4gVmFsdWVHdWFyZC5Jc09iamVjdCh2YWx1ZSkgJiYgdmFsdWVbT3B0aW9uYWxLaW5kXSA9PT0gJ09wdGlvbmFsJztcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEFueSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzQW55KHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnQW55Jyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRBcnJheSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdBcnJheScpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUQXN5bmNJdGVyYXRvciAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzQXN5bmNJdGVyYXRvcih2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ0FzeW5jSXRlcmF0b3InKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEJpZ0ludCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzQmlnSW50KHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnQmlnSW50Jyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRCb29sZWFuICovXG5leHBvcnQgZnVuY3Rpb24gSXNCb29sZWFuKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnQm9vbGVhbicpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUQ29uc3RydWN0b3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0NvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnQ29uc3RydWN0b3InKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVERhdGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0RhdGUodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdEYXRlJyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRGdW5jdGlvbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzRnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdGdW5jdGlvbicpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUSW50ZWdlciAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzSW50ZWdlcih2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ0ludGVnZXInKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gc2NoZW1hIGlzIFRQcm9wZXJ0aWVzICovXG5leHBvcnQgZnVuY3Rpb24gSXNQcm9wZXJ0aWVzKHZhbHVlKSB7XG4gICAgcmV0dXJuIFZhbHVlR3VhcmQuSXNPYmplY3QodmFsdWUpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUSW50ZXJzZWN0ICovXG5leHBvcnQgZnVuY3Rpb24gSXNJbnRlcnNlY3QodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdJbnRlcnNlY3QnKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEl0ZXJhdG9yICovXG5leHBvcnQgZnVuY3Rpb24gSXNJdGVyYXRvcih2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ0l0ZXJhdG9yJyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgVEtpbmQgd2l0aCB0aGUgZ2l2ZW4gbmFtZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0tpbmRPZih2YWx1ZSwga2luZCkge1xuICAgIHJldHVybiBWYWx1ZUd1YXJkLklzT2JqZWN0KHZhbHVlKSAmJiBLaW5kIGluIHZhbHVlICYmIHZhbHVlW0tpbmRdID09PSBraW5kO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUTGl0ZXJhbDxzdHJpbmc+ICovXG5leHBvcnQgZnVuY3Rpb24gSXNMaXRlcmFsU3RyaW5nKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzTGl0ZXJhbCh2YWx1ZSkgJiYgVmFsdWVHdWFyZC5Jc1N0cmluZyh2YWx1ZS5jb25zdCk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRMaXRlcmFsPG51bWJlcj4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0xpdGVyYWxOdW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gSXNMaXRlcmFsKHZhbHVlKSAmJiBWYWx1ZUd1YXJkLklzTnVtYmVyKHZhbHVlLmNvbnN0KTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVExpdGVyYWw8Ym9vbGVhbj4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0xpdGVyYWxCb29sZWFuKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzTGl0ZXJhbCh2YWx1ZSkgJiYgVmFsdWVHdWFyZC5Jc0Jvb2xlYW4odmFsdWUuY29uc3QpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUTGl0ZXJhbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzTGl0ZXJhbCh2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ0xpdGVyYWwnKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBUTWFwcGVkS2V5ICovXG5leHBvcnQgZnVuY3Rpb24gSXNNYXBwZWRLZXkodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdNYXBwZWRLZXknKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVE1hcHBlZFJlc3VsdCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzTWFwcGVkUmVzdWx0KHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnTWFwcGVkUmVzdWx0Jyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFROZXZlciAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzTmV2ZXIodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdOZXZlcicpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUTm90ICovXG5leHBvcnQgZnVuY3Rpb24gSXNOb3QodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdOb3QnKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVE51bGwgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc051bGwodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdOdWxsJyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFROdW1iZXIgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc051bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ051bWJlcicpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUT2JqZWN0ICovXG5leHBvcnQgZnVuY3Rpb24gSXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdPYmplY3QnKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVFByb21pc2UgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1Byb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdQcm9taXNlJyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRSZWNvcmQgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1JlY29yZCh2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ1JlY29yZCcpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgVFJlY3Vyc2l2ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzUmVjdXJzaXZlKHZhbHVlKSB7XG4gICAgcmV0dXJuIFZhbHVlR3VhcmQuSXNPYmplY3QodmFsdWUpICYmIEhpbnQgaW4gdmFsdWUgJiYgdmFsdWVbSGludF0gPT09ICdSZWN1cnNpdmUnO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUUmVmICovXG5leHBvcnQgZnVuY3Rpb24gSXNSZWYodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdSZWYnKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVFJlZ0V4cCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzUmVnRXhwKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnUmVnRXhwJyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRTdHJpbmcgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1N0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ1N0cmluZycpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUU3ltYm9sICovXG5leHBvcnQgZnVuY3Rpb24gSXNTeW1ib2wodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdTeW1ib2wnKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVFRlbXBsYXRlTGl0ZXJhbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVGVtcGxhdGVMaXRlcmFsKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnVGVtcGxhdGVMaXRlcmFsJyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRUaGlzICovXG5leHBvcnQgZnVuY3Rpb24gSXNUaGlzKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnVGhpcycpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIG9mIHRoaXMgdmFsdWUgaXMgVFRyYW5zZm9ybSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVHJhbnNmb3JtKHZhbHVlKSB7XG4gICAgcmV0dXJuIFZhbHVlR3VhcmQuSXNPYmplY3QodmFsdWUpICYmIFRyYW5zZm9ybUtpbmQgaW4gdmFsdWU7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRUdXBsZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVHVwbGUodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdUdXBsZScpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUVW5kZWZpbmVkICovXG5leHBvcnQgZnVuY3Rpb24gSXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdVbmRlZmluZWQnKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVFVuaW9uICovXG5leHBvcnQgZnVuY3Rpb24gSXNVbmlvbih2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ1VuaW9uJyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRVaW50OEFycmF5ICovXG5leHBvcnQgZnVuY3Rpb24gSXNVaW50OEFycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnVWludDhBcnJheScpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUVW5rbm93biAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVW5rbm93bih2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ1Vua25vd24nKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSByYXcgVFVuc2FmZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVW5zYWZlKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnVW5zYWZlJyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRWb2lkICovXG5leHBvcnQgZnVuY3Rpb24gSXNWb2lkKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnVm9pZCcpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUS2luZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzS2luZCh2YWx1ZSkge1xuICAgIHJldHVybiBWYWx1ZUd1YXJkLklzT2JqZWN0KHZhbHVlKSAmJiBLaW5kIGluIHZhbHVlICYmIFZhbHVlR3VhcmQuSXNTdHJpbmcodmFsdWVbS2luZF0pO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUU2NoZW1hICovXG5leHBvcnQgZnVuY3Rpb24gSXNTY2hlbWEodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzQW55KHZhbHVlKSB8fFxuICAgICAgICBJc0FycmF5KHZhbHVlKSB8fFxuICAgICAgICBJc0Jvb2xlYW4odmFsdWUpIHx8XG4gICAgICAgIElzQmlnSW50KHZhbHVlKSB8fFxuICAgICAgICBJc0FzeW5jSXRlcmF0b3IodmFsdWUpIHx8XG4gICAgICAgIElzQ29uc3RydWN0b3IodmFsdWUpIHx8XG4gICAgICAgIElzRGF0ZSh2YWx1ZSkgfHxcbiAgICAgICAgSXNGdW5jdGlvbih2YWx1ZSkgfHxcbiAgICAgICAgSXNJbnRlZ2VyKHZhbHVlKSB8fFxuICAgICAgICBJc0ludGVyc2VjdCh2YWx1ZSkgfHxcbiAgICAgICAgSXNJdGVyYXRvcih2YWx1ZSkgfHxcbiAgICAgICAgSXNMaXRlcmFsKHZhbHVlKSB8fFxuICAgICAgICBJc01hcHBlZEtleSh2YWx1ZSkgfHxcbiAgICAgICAgSXNNYXBwZWRSZXN1bHQodmFsdWUpIHx8XG4gICAgICAgIElzTmV2ZXIodmFsdWUpIHx8XG4gICAgICAgIElzTm90KHZhbHVlKSB8fFxuICAgICAgICBJc051bGwodmFsdWUpIHx8XG4gICAgICAgIElzTnVtYmVyKHZhbHVlKSB8fFxuICAgICAgICBJc09iamVjdCh2YWx1ZSkgfHxcbiAgICAgICAgSXNQcm9taXNlKHZhbHVlKSB8fFxuICAgICAgICBJc1JlY29yZCh2YWx1ZSkgfHxcbiAgICAgICAgSXNSZWYodmFsdWUpIHx8XG4gICAgICAgIElzUmVnRXhwKHZhbHVlKSB8fFxuICAgICAgICBJc1N0cmluZyh2YWx1ZSkgfHxcbiAgICAgICAgSXNTeW1ib2wodmFsdWUpIHx8XG4gICAgICAgIElzVGVtcGxhdGVMaXRlcmFsKHZhbHVlKSB8fFxuICAgICAgICBJc1RoaXModmFsdWUpIHx8XG4gICAgICAgIElzVHVwbGUodmFsdWUpIHx8XG4gICAgICAgIElzVW5kZWZpbmVkKHZhbHVlKSB8fFxuICAgICAgICBJc1VuaW9uKHZhbHVlKSB8fFxuICAgICAgICBJc1VpbnQ4QXJyYXkodmFsdWUpIHx8XG4gICAgICAgIElzVW5rbm93bih2YWx1ZSkgfHxcbiAgICAgICAgSXNVbnNhZmUodmFsdWUpIHx8XG4gICAgICAgIElzVm9pZCh2YWx1ZSkgfHxcbiAgICAgICAgSXNLaW5kKHZhbHVlKSk7XG59XG4iLAogICAgImltcG9ydCB7IE9wdGlvbmFsS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IENsb25lVHlwZSB9IGZyb20gJy4uL2Nsb25lL3R5cGUubWpzJztcbmltcG9ydCB7IERpc2NhcmQgfSBmcm9tICcuLi9kaXNjYXJkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBPcHRpb25hbEZyb21NYXBwZWRSZXN1bHQgfSBmcm9tICcuL29wdGlvbmFsLWZyb20tbWFwcGVkLXJlc3VsdC5tanMnO1xuaW1wb3J0IHsgSXNNYXBwZWRSZXN1bHQgfSBmcm9tICcuLi9ndWFyZC9raW5kLm1qcyc7XG5mdW5jdGlvbiBSZW1vdmVPcHRpb25hbChzY2hlbWEpIHtcbiAgICByZXR1cm4gRGlzY2FyZChDbG9uZVR5cGUoc2NoZW1hKSwgW09wdGlvbmFsS2luZF0pO1xufVxuZnVuY3Rpb24gQWRkT3B0aW9uYWwoc2NoZW1hKSB7XG4gICAgcmV0dXJuIHsgLi4uQ2xvbmVUeXBlKHNjaGVtYSksIFtPcHRpb25hbEtpbmRdOiAnT3B0aW9uYWwnIH07XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIE9wdGlvbmFsV2l0aEZsYWcoc2NoZW1hLCBGKSB7XG4gICAgcmV0dXJuIChGID09PSBmYWxzZVxuICAgICAgICA/IFJlbW92ZU9wdGlvbmFsKHNjaGVtYSlcbiAgICAgICAgOiBBZGRPcHRpb25hbChzY2hlbWEpKTtcbn1cbi8qKiBgW0pzb25dYCBDcmVhdGVzIGEgT3B0aW9uYWwgcHJvcGVydHkgKi9cbmV4cG9ydCBmdW5jdGlvbiBPcHRpb25hbChzY2hlbWEsIGVuYWJsZSkge1xuICAgIGNvbnN0IEYgPSBlbmFibGUgPz8gdHJ1ZTtcbiAgICByZXR1cm4gSXNNYXBwZWRSZXN1bHQoc2NoZW1hKSA/IE9wdGlvbmFsRnJvbU1hcHBlZFJlc3VsdChzY2hlbWEsIEYpIDogT3B0aW9uYWxXaXRoRmxhZyhzY2hlbWEsIEYpO1xufVxuIiwKICAgICJpbXBvcnQgeyBNYXBwZWRSZXN1bHQgfSBmcm9tICcuLi9tYXBwZWQvaW5kZXgubWpzJztcbmltcG9ydCB7IE9wdGlvbmFsIH0gZnJvbSAnLi9vcHRpb25hbC5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydGllcyhQLCBGKSB7XG4gICAgY29uc3QgQWNjID0ge307XG4gICAgZm9yIChjb25zdCBLMiBvZiBnbG9iYWxUaGlzLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKFApKVxuICAgICAgICBBY2NbSzJdID0gT3B0aW9uYWwoUFtLMl0sIEYpO1xuICAgIHJldHVybiBBY2M7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21NYXBwZWRSZXN1bHQoUiwgRikge1xuICAgIHJldHVybiBGcm9tUHJvcGVydGllcyhSLnByb3BlcnRpZXMsIEYpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gT3B0aW9uYWxGcm9tTWFwcGVkUmVzdWx0KFIsIEYpIHtcbiAgICBjb25zdCBQID0gRnJvbU1hcHBlZFJlc3VsdChSLCBGKTtcbiAgICByZXR1cm4gTWFwcGVkUmVzdWx0KFApO1xufVxuIiwKICAgICJpbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2xvbmVUeXBlLCBDbG9uZVJlc3QgfSBmcm9tICcuLi9jbG9uZS90eXBlLm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc09iamVjdCwgSXNTY2hlbWEgfSBmcm9tICcuLi9ndWFyZC9raW5kLm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEludGVyc2VjdENyZWF0ZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBJbnRlcnNlY3RDcmVhdGUoVCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGFsbE9iamVjdHMgPSBULmV2ZXJ5KChzY2hlbWEpID0+IElzT2JqZWN0KHNjaGVtYSkpO1xuICAgIGNvbnN0IGNsb25lZFVuZXZhbHVhdGVkUHJvcGVydGllcyA9IElzU2NoZW1hKG9wdGlvbnMudW5ldmFsdWF0ZWRQcm9wZXJ0aWVzKVxuICAgICAgICA/IHsgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzOiBDbG9uZVR5cGUob3B0aW9ucy51bmV2YWx1YXRlZFByb3BlcnRpZXMpIH1cbiAgICAgICAgOiB7fTtcbiAgICByZXR1cm4gKChvcHRpb25zLnVuZXZhbHVhdGVkUHJvcGVydGllcyA9PT0gZmFsc2UgfHwgSXNTY2hlbWEob3B0aW9ucy51bmV2YWx1YXRlZFByb3BlcnRpZXMpIHx8IGFsbE9iamVjdHNcbiAgICAgICAgPyB7IC4uLm9wdGlvbnMsIC4uLmNsb25lZFVuZXZhbHVhdGVkUHJvcGVydGllcywgW0tpbmRdOiAnSW50ZXJzZWN0JywgdHlwZTogJ29iamVjdCcsIGFsbE9mOiBDbG9uZVJlc3QoVCkgfVxuICAgICAgICA6IHsgLi4ub3B0aW9ucywgLi4uY2xvbmVkVW5ldmFsdWF0ZWRQcm9wZXJ0aWVzLCBbS2luZF06ICdJbnRlcnNlY3QnLCBhbGxPZjogQ2xvbmVSZXN0KFQpIH0pKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgT3B0aW9uYWxLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2xvbmVUeXBlIH0gZnJvbSAnLi4vY2xvbmUvdHlwZS5tanMnO1xuaW1wb3J0IHsgRGlzY2FyZCB9IGZyb20gJy4uL2Rpc2NhcmQvaW5kZXgubWpzJztcbmltcG9ydCB7IE5ldmVyIH0gZnJvbSAnLi4vbmV2ZXIvaW5kZXgubWpzJztcbmltcG9ydCB7IE9wdGlvbmFsIH0gZnJvbSAnLi4vb3B0aW9uYWwvaW5kZXgubWpzJztcbmltcG9ydCB7IEludGVyc2VjdENyZWF0ZSB9IGZyb20gJy4vaW50ZXJzZWN0LWNyZWF0ZS5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUeXBlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNPcHRpb25hbCwgSXNUcmFuc2Zvcm0gfSBmcm9tICcuLi9ndWFyZC9raW5kLm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIElzSW50ZXJzZWN0T3B0aW9uYWwoVCkge1xuICAgIHJldHVybiBULmV2ZXJ5KEwgPT4gSXNPcHRpb25hbChMKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFJlbW92ZU9wdGlvbmFsRnJvbVR5cGUoVCkge1xuICAgIHJldHVybiAoRGlzY2FyZChULCBbT3B0aW9uYWxLaW5kXSkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBSZW1vdmVPcHRpb25hbEZyb21SZXN0KFQpIHtcbiAgICByZXR1cm4gVC5tYXAoTCA9PiBJc09wdGlvbmFsKEwpID8gUmVtb3ZlT3B0aW9uYWxGcm9tVHlwZShMKSA6IEwpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBSZXNvbHZlSW50ZXJzZWN0KFQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gKElzSW50ZXJzZWN0T3B0aW9uYWwoVClcbiAgICAgICAgPyBPcHRpb25hbChJbnRlcnNlY3RDcmVhdGUoUmVtb3ZlT3B0aW9uYWxGcm9tUmVzdChUKSwgb3B0aW9ucykpXG4gICAgICAgIDogSW50ZXJzZWN0Q3JlYXRlKFJlbW92ZU9wdGlvbmFsRnJvbVJlc3QoVCksIG9wdGlvbnMpKTtcbn1cbi8qKiBgW0pzb25dYCBDcmVhdGVzIGFuIGV2YWx1YXRlZCBJbnRlcnNlY3QgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIEludGVyc2VjdEV2YWx1YXRlZChULCBvcHRpb25zID0ge30pIHtcbiAgICBpZiAoVC5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBOZXZlcihvcHRpb25zKTtcbiAgICBpZiAoVC5sZW5ndGggPT09IDEpXG4gICAgICAgIHJldHVybiBDbG9uZVR5cGUoVFswXSwgb3B0aW9ucyk7XG4gICAgaWYgKFQuc29tZSgoc2NoZW1hKSA9PiBJc1RyYW5zZm9ybShzY2hlbWEpKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW50ZXJzZWN0IHRyYW5zZm9ybSB0eXBlcycpO1xuICAgIHJldHVybiBSZXNvbHZlSW50ZXJzZWN0KFQsIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBDbG9uZVR5cGUgfSBmcm9tICcuLi9jbG9uZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBOZXZlciB9IGZyb20gJy4uL25ldmVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBJbnRlcnNlY3RDcmVhdGUgfSBmcm9tICcuL2ludGVyc2VjdC1jcmVhdGUubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzVHJhbnNmb3JtIH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYW4gZXZhbHVhdGVkIEludGVyc2VjdCB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gSW50ZXJzZWN0KFQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmIChULmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuIE5ldmVyKG9wdGlvbnMpO1xuICAgIGlmIChULmxlbmd0aCA9PT0gMSlcbiAgICAgICAgcmV0dXJuIENsb25lVHlwZShUWzBdLCBvcHRpb25zKTtcbiAgICBpZiAoVC5zb21lKChzY2hlbWEpID0+IElzVHJhbnNmb3JtKHNjaGVtYSkpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnRlcnNlY3QgdHJhbnNmb3JtIHR5cGVzJyk7XG4gICAgcmV0dXJuIEludGVyc2VjdENyZWF0ZShULCBvcHRpb25zKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ2xvbmVSZXN0IH0gZnJvbSAnLi4vY2xvbmUvdHlwZS5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbmV4cG9ydCBmdW5jdGlvbiBVbmlvbkNyZWF0ZShULCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHsgLi4ub3B0aW9ucywgW0tpbmRdOiAnVW5pb24nLCBhbnlPZjogQ2xvbmVSZXN0KFQpIH07XG59XG4iLAogICAgImltcG9ydCB7IE9wdGlvbmFsS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IENsb25lVHlwZSB9IGZyb20gJy4uL2Nsb25lL3R5cGUubWpzJztcbmltcG9ydCB7IERpc2NhcmQgfSBmcm9tICcuLi9kaXNjYXJkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBOZXZlciB9IGZyb20gJy4uL25ldmVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBPcHRpb25hbCB9IGZyb20gJy4uL29wdGlvbmFsL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBVbmlvbkNyZWF0ZSB9IGZyb20gJy4vdW5pb24tY3JlYXRlLm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc09wdGlvbmFsIH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBJc1VuaW9uT3B0aW9uYWwoVCkge1xuICAgIHJldHVybiBULnNvbWUoTCA9PiBJc09wdGlvbmFsKEwpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gUmVtb3ZlT3B0aW9uYWxGcm9tUmVzdChUKSB7XG4gICAgcmV0dXJuIFQubWFwKEwgPT4gSXNPcHRpb25hbChMKSA/IFJlbW92ZU9wdGlvbmFsRnJvbVR5cGUoTCkgOiBMKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gUmVtb3ZlT3B0aW9uYWxGcm9tVHlwZShUKSB7XG4gICAgcmV0dXJuIChEaXNjYXJkKFQsIFtPcHRpb25hbEtpbmRdKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFJlc29sdmVVbmlvbihULCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIChJc1VuaW9uT3B0aW9uYWwoVClcbiAgICAgICAgPyBPcHRpb25hbChVbmlvbkNyZWF0ZShSZW1vdmVPcHRpb25hbEZyb21SZXN0KFQpLCBvcHRpb25zKSlcbiAgICAgICAgOiBVbmlvbkNyZWF0ZShSZW1vdmVPcHRpb25hbEZyb21SZXN0KFQpLCBvcHRpb25zKSk7XG59XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhbiBldmFsdWF0ZWQgVW5pb24gdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIFVuaW9uRXZhbHVhdGVkKFQsIG9wdGlvbnMgPSB7fSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoVC5sZW5ndGggPT09IDAgPyBOZXZlcihvcHRpb25zKSA6XG4gICAgICAgIFQubGVuZ3RoID09PSAxID8gQ2xvbmVUeXBlKFRbMF0sIG9wdGlvbnMpIDpcbiAgICAgICAgICAgIFJlc29sdmVVbmlvbihULCBvcHRpb25zKSk7XG59XG4iLAogICAgImltcG9ydCB7IE5ldmVyIH0gZnJvbSAnLi4vbmV2ZXIvaW5kZXgubWpzJztcbmltcG9ydCB7IENsb25lVHlwZSB9IGZyb20gJy4uL2Nsb25lL3R5cGUubWpzJztcbmltcG9ydCB7IFVuaW9uQ3JlYXRlIH0gZnJvbSAnLi91bmlvbi1jcmVhdGUubWpzJztcbi8qKiBgW0pzb25dYCBDcmVhdGVzIGEgVW5pb24gdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIFVuaW9uKFQsIG9wdGlvbnMgPSB7fSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoVC5sZW5ndGggPT09IDAgPyBOZXZlcihvcHRpb25zKSA6XG4gICAgICAgIFQubGVuZ3RoID09PSAxID8gQ2xvbmVUeXBlKFRbMF0sIG9wdGlvbnMpIDpcbiAgICAgICAgICAgIFVuaW9uQ3JlYXRlKFQsIG9wdGlvbnMpKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgVHlwZUJveEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVGVtcGxhdGVMaXRlcmFsUGFyc2VyRXJyb3Jcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIFRlbXBsYXRlTGl0ZXJhbFBhcnNlckVycm9yIGV4dGVuZHMgVHlwZUJveEVycm9yIHtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFVuZXNjYXBlXG4vL1xuLy8gVW5lc2NhcGUgZm9yIHRoZXNlIGNvbnRyb2wgY2hhcmFjdGVycyBzcGVjaWZpY2FsbHkuIE5vdGUgdGhhdCB0aGlzXG4vLyBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZCBvbiBub24gdW5pb24gZ3JvdXAgY29udGVudCwgYW5kIHdoZXJlIHdlXG4vLyBzdGlsbCB3YW50IHRvIGFsbG93IHRoZSB1c2VyIHRvIGVtYmVkIGNvbnRyb2wgY2hhcmFjdGVycyBpbiB0aGF0XG4vLyBjb250ZW50LiBGb3IgcmV2aWV3LlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBVbmVzY2FwZShwYXR0ZXJuKSB7XG4gICAgcmV0dXJuIHBhdHRlcm5cbiAgICAgICAgLnJlcGxhY2UoL1xcXFxcXCQvZywgJyQnKVxuICAgICAgICAucmVwbGFjZSgvXFxcXFxcKi9nLCAnKicpXG4gICAgICAgIC5yZXBsYWNlKC9cXFxcXFxeL2csICdeJylcbiAgICAgICAgLnJlcGxhY2UoL1xcXFxcXHwvZywgJ3wnKVxuICAgICAgICAucmVwbGFjZSgvXFxcXFxcKC9nLCAnKCcpXG4gICAgICAgIC5yZXBsYWNlKC9cXFxcXFwpL2csICcpJyk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDb250cm9sIENoYXJhY3RlcnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIElzTm9uRXNjYXBlZChwYXR0ZXJuLCBpbmRleCwgY2hhcikge1xuICAgIHJldHVybiBwYXR0ZXJuW2luZGV4XSA9PT0gY2hhciAmJiBwYXR0ZXJuLmNoYXJDb2RlQXQoaW5kZXggLSAxKSAhPT0gOTI7XG59XG5mdW5jdGlvbiBJc09wZW5QYXJlbihwYXR0ZXJuLCBpbmRleCkge1xuICAgIHJldHVybiBJc05vbkVzY2FwZWQocGF0dGVybiwgaW5kZXgsICcoJyk7XG59XG5mdW5jdGlvbiBJc0Nsb3NlUGFyZW4ocGF0dGVybiwgaW5kZXgpIHtcbiAgICByZXR1cm4gSXNOb25Fc2NhcGVkKHBhdHRlcm4sIGluZGV4LCAnKScpO1xufVxuZnVuY3Rpb24gSXNTZXBhcmF0b3IocGF0dGVybiwgaW5kZXgpIHtcbiAgICByZXR1cm4gSXNOb25Fc2NhcGVkKHBhdHRlcm4sIGluZGV4LCAnfCcpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ29udHJvbCBHcm91cHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIElzR3JvdXAocGF0dGVybikge1xuICAgIGlmICghKElzT3BlblBhcmVuKHBhdHRlcm4sIDApICYmIElzQ2xvc2VQYXJlbihwYXR0ZXJuLCBwYXR0ZXJuLmxlbmd0aCAtIDEpKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHBhdHRlcm4ubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGlmIChJc09wZW5QYXJlbihwYXR0ZXJuLCBpbmRleCkpXG4gICAgICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICBpZiAoSXNDbG9zZVBhcmVuKHBhdHRlcm4sIGluZGV4KSlcbiAgICAgICAgICAgIGNvdW50IC09IDE7XG4gICAgICAgIGlmIChjb3VudCA9PT0gMCAmJiBpbmRleCAhPT0gcGF0dGVybi5sZW5ndGggLSAxKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gSW5Hcm91cChwYXR0ZXJuKSB7XG4gICAgcmV0dXJuIHBhdHRlcm4uc2xpY2UoMSwgcGF0dGVybi5sZW5ndGggLSAxKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gSXNQcmVjZWRlbmNlT3IocGF0dGVybikge1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHBhdHRlcm4ubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGlmIChJc09wZW5QYXJlbihwYXR0ZXJuLCBpbmRleCkpXG4gICAgICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICBpZiAoSXNDbG9zZVBhcmVuKHBhdHRlcm4sIGluZGV4KSlcbiAgICAgICAgICAgIGNvdW50IC09IDE7XG4gICAgICAgIGlmIChJc1NlcGFyYXRvcihwYXR0ZXJuLCBpbmRleCkgJiYgY291bnQgPT09IDApXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBJc1ByZWNlZGVuY2VBbmQocGF0dGVybikge1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwYXR0ZXJuLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBpZiAoSXNPcGVuUGFyZW4ocGF0dGVybiwgaW5kZXgpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gT3IocGF0dGVybikge1xuICAgIGxldCBbY291bnQsIHN0YXJ0XSA9IFswLCAwXTtcbiAgICBjb25zdCBleHByZXNzaW9ucyA9IFtdO1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwYXR0ZXJuLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBpZiAoSXNPcGVuUGFyZW4ocGF0dGVybiwgaW5kZXgpKVxuICAgICAgICAgICAgY291bnQgKz0gMTtcbiAgICAgICAgaWYgKElzQ2xvc2VQYXJlbihwYXR0ZXJuLCBpbmRleCkpXG4gICAgICAgICAgICBjb3VudCAtPSAxO1xuICAgICAgICBpZiAoSXNTZXBhcmF0b3IocGF0dGVybiwgaW5kZXgpICYmIGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IHBhdHRlcm4uc2xpY2Uoc3RhcnQsIGluZGV4KTtcbiAgICAgICAgICAgIGlmIChyYW5nZS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb25zLnB1c2goVGVtcGxhdGVMaXRlcmFsUGFyc2UocmFuZ2UpKTtcbiAgICAgICAgICAgIHN0YXJ0ID0gaW5kZXggKyAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJhbmdlID0gcGF0dGVybi5zbGljZShzdGFydCk7XG4gICAgaWYgKHJhbmdlLmxlbmd0aCA+IDApXG4gICAgICAgIGV4cHJlc3Npb25zLnB1c2goVGVtcGxhdGVMaXRlcmFsUGFyc2UocmFuZ2UpKTtcbiAgICBpZiAoZXhwcmVzc2lvbnMubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4geyB0eXBlOiAnY29uc3QnLCBjb25zdDogJycgfTtcbiAgICBpZiAoZXhwcmVzc2lvbnMubGVuZ3RoID09PSAxKVxuICAgICAgICByZXR1cm4gZXhwcmVzc2lvbnNbMF07XG4gICAgcmV0dXJuIHsgdHlwZTogJ29yJywgZXhwcjogZXhwcmVzc2lvbnMgfTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gQW5kKHBhdHRlcm4pIHtcbiAgICBmdW5jdGlvbiBHcm91cCh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgaWYgKCFJc09wZW5QYXJlbih2YWx1ZSwgaW5kZXgpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlTGl0ZXJhbFBhcnNlckVycm9yKGBUZW1wbGF0ZUxpdGVyYWxQYXJzZXI6IEluZGV4IG11c3QgcG9pbnQgdG8gb3BlbiBwYXJlbnNgKTtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgZm9yIChsZXQgc2NhbiA9IGluZGV4OyBzY2FuIDwgdmFsdWUubGVuZ3RoOyBzY2FuKyspIHtcbiAgICAgICAgICAgIGlmIChJc09wZW5QYXJlbih2YWx1ZSwgc2NhbikpXG4gICAgICAgICAgICAgICAgY291bnQgKz0gMTtcbiAgICAgICAgICAgIGlmIChJc0Nsb3NlUGFyZW4odmFsdWUsIHNjYW4pKVxuICAgICAgICAgICAgICAgIGNvdW50IC09IDE7XG4gICAgICAgICAgICBpZiAoY291bnQgPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtpbmRleCwgc2Nhbl07XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlTGl0ZXJhbFBhcnNlckVycm9yKGBUZW1wbGF0ZUxpdGVyYWxQYXJzZXI6IFVuY2xvc2VkIGdyb3VwIHBhcmVucyBpbiBleHByZXNzaW9uYCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJhbmdlKHBhdHRlcm4sIGluZGV4KSB7XG4gICAgICAgIGZvciAobGV0IHNjYW4gPSBpbmRleDsgc2NhbiA8IHBhdHRlcm4ubGVuZ3RoOyBzY2FuKyspIHtcbiAgICAgICAgICAgIGlmIChJc09wZW5QYXJlbihwYXR0ZXJuLCBzY2FuKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gW2luZGV4LCBzY2FuXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2luZGV4LCBwYXR0ZXJuLmxlbmd0aF07XG4gICAgfVxuICAgIGNvbnN0IGV4cHJlc3Npb25zID0gW107XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHBhdHRlcm4ubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGlmIChJc09wZW5QYXJlbihwYXR0ZXJuLCBpbmRleCkpIHtcbiAgICAgICAgICAgIGNvbnN0IFtzdGFydCwgZW5kXSA9IEdyb3VwKHBhdHRlcm4sIGluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gcGF0dGVybi5zbGljZShzdGFydCwgZW5kICsgMSk7XG4gICAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKFRlbXBsYXRlTGl0ZXJhbFBhcnNlKHJhbmdlKSk7XG4gICAgICAgICAgICBpbmRleCA9IGVuZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IFtzdGFydCwgZW5kXSA9IFJhbmdlKHBhdHRlcm4sIGluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gcGF0dGVybi5zbGljZShzdGFydCwgZW5kKTtcbiAgICAgICAgICAgIGlmIChyYW5nZS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb25zLnB1c2goVGVtcGxhdGVMaXRlcmFsUGFyc2UocmFuZ2UpKTtcbiAgICAgICAgICAgIGluZGV4ID0gZW5kIC0gMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKChleHByZXNzaW9ucy5sZW5ndGggPT09IDApID8geyB0eXBlOiAnY29uc3QnLCBjb25zdDogJycgfSA6XG4gICAgICAgIChleHByZXNzaW9ucy5sZW5ndGggPT09IDEpID8gZXhwcmVzc2lvbnNbMF0gOlxuICAgICAgICAgICAgeyB0eXBlOiAnYW5kJywgZXhwcjogZXhwcmVzc2lvbnMgfSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRlbXBsYXRlTGl0ZXJhbFBhcnNlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKiBQYXJzZXMgYSBwYXR0ZXJuIGFuZCByZXR1cm5zIGFuIGV4cHJlc3Npb24gdHJlZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIFRlbXBsYXRlTGl0ZXJhbFBhcnNlKHBhdHRlcm4pIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzR3JvdXAocGF0dGVybikgPyBUZW1wbGF0ZUxpdGVyYWxQYXJzZShJbkdyb3VwKHBhdHRlcm4pKSA6XG4gICAgICAgIElzUHJlY2VkZW5jZU9yKHBhdHRlcm4pID8gT3IocGF0dGVybikgOlxuICAgICAgICAgICAgSXNQcmVjZWRlbmNlQW5kKHBhdHRlcm4pID8gQW5kKHBhdHRlcm4pIDpcbiAgICAgICAgICAgICAgICB7IHR5cGU6ICdjb25zdCcsIGNvbnN0OiBVbmVzY2FwZShwYXR0ZXJuKSB9KTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVGVtcGxhdGVMaXRlcmFsUGFyc2VFeGFjdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKiogUGFyc2VzIGEgcGF0dGVybiBhbmQgc3RyaXBzIGZvcndhcmQgYW5kIHRyYWlsaW5nIF4gYW5kICQgKi9cbmV4cG9ydCBmdW5jdGlvbiBUZW1wbGF0ZUxpdGVyYWxQYXJzZUV4YWN0KHBhdHRlcm4pIHtcbiAgICByZXR1cm4gVGVtcGxhdGVMaXRlcmFsUGFyc2UocGF0dGVybi5zbGljZSgxLCBwYXR0ZXJuLmxlbmd0aCAtIDEpKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgVGVtcGxhdGVMaXRlcmFsUGFyc2VFeGFjdCB9IGZyb20gJy4vcGFyc2UubWpzJztcbmltcG9ydCB7IFR5cGVCb3hFcnJvciB9IGZyb20gJy4uL2Vycm9yL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRlbXBsYXRlTGl0ZXJhbEZpbml0ZUVycm9yXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZUxpdGVyYWxGaW5pdGVFcnJvciBleHRlbmRzIFR5cGVCb3hFcnJvciB7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIElzVGVtcGxhdGVMaXRlcmFsRmluaXRlQ2hlY2tcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBJc051bWJlckV4cHJlc3Npb24oZXhwcmVzc2lvbikge1xuICAgIHJldHVybiAoZXhwcmVzc2lvbi50eXBlID09PSAnb3InICYmXG4gICAgICAgIGV4cHJlc3Npb24uZXhwci5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgZXhwcmVzc2lvbi5leHByWzBdLnR5cGUgPT09ICdjb25zdCcgJiZcbiAgICAgICAgZXhwcmVzc2lvbi5leHByWzBdLmNvbnN0ID09PSAnMCcgJiZcbiAgICAgICAgZXhwcmVzc2lvbi5leHByWzFdLnR5cGUgPT09ICdjb25zdCcgJiZcbiAgICAgICAgZXhwcmVzc2lvbi5leHByWzFdLmNvbnN0ID09PSAnWzEtOV1bMC05XSonKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gSXNCb29sZWFuRXhwcmVzc2lvbihleHByZXNzaW9uKSB7XG4gICAgcmV0dXJuIChleHByZXNzaW9uLnR5cGUgPT09ICdvcicgJiZcbiAgICAgICAgZXhwcmVzc2lvbi5leHByLmxlbmd0aCA9PT0gMiAmJlxuICAgICAgICBleHByZXNzaW9uLmV4cHJbMF0udHlwZSA9PT0gJ2NvbnN0JyAmJlxuICAgICAgICBleHByZXNzaW9uLmV4cHJbMF0uY29uc3QgPT09ICd0cnVlJyAmJlxuICAgICAgICBleHByZXNzaW9uLmV4cHJbMV0udHlwZSA9PT0gJ2NvbnN0JyAmJlxuICAgICAgICBleHByZXNzaW9uLmV4cHJbMV0uY29uc3QgPT09ICdmYWxzZScpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBJc1N0cmluZ0V4cHJlc3Npb24oZXhwcmVzc2lvbikge1xuICAgIHJldHVybiBleHByZXNzaW9uLnR5cGUgPT09ICdjb25zdCcgJiYgZXhwcmVzc2lvbi5jb25zdCA9PT0gJy4qJztcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSXNUZW1wbGF0ZUxpdGVyYWxFeHByZXNzaW9uRmluaXRlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIElzVGVtcGxhdGVMaXRlcmFsRXhwcmVzc2lvbkZpbml0ZShleHByZXNzaW9uKSB7XG4gICAgcmV0dXJuIChJc051bWJlckV4cHJlc3Npb24oZXhwcmVzc2lvbikgfHwgSXNTdHJpbmdFeHByZXNzaW9uKGV4cHJlc3Npb24pID8gZmFsc2UgOlxuICAgICAgICBJc0Jvb2xlYW5FeHByZXNzaW9uKGV4cHJlc3Npb24pID8gdHJ1ZSA6XG4gICAgICAgICAgICAoZXhwcmVzc2lvbi50eXBlID09PSAnYW5kJykgPyBleHByZXNzaW9uLmV4cHIuZXZlcnkoKGV4cHIpID0+IElzVGVtcGxhdGVMaXRlcmFsRXhwcmVzc2lvbkZpbml0ZShleHByKSkgOlxuICAgICAgICAgICAgICAgIChleHByZXNzaW9uLnR5cGUgPT09ICdvcicpID8gZXhwcmVzc2lvbi5leHByLmV2ZXJ5KChleHByKSA9PiBJc1RlbXBsYXRlTGl0ZXJhbEV4cHJlc3Npb25GaW5pdGUoZXhwcikpIDpcbiAgICAgICAgICAgICAgICAgICAgKGV4cHJlc3Npb24udHlwZSA9PT0gJ2NvbnN0JykgPyB0cnVlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICgoKSA9PiB7IHRocm93IG5ldyBUZW1wbGF0ZUxpdGVyYWxGaW5pdGVFcnJvcihgVW5rbm93biBleHByZXNzaW9uIHR5cGVgKTsgfSkoKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgVGVtcGxhdGVMaXRlcmFsIHJlc29sdmVzIHRvIGEgZmluaXRlIHNldCBvZiB2YWx1ZXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1RlbXBsYXRlTGl0ZXJhbEZpbml0ZShzY2hlbWEpIHtcbiAgICBjb25zdCBleHByZXNzaW9uID0gVGVtcGxhdGVMaXRlcmFsUGFyc2VFeGFjdChzY2hlbWEucGF0dGVybik7XG4gICAgcmV0dXJuIElzVGVtcGxhdGVMaXRlcmFsRXhwcmVzc2lvbkZpbml0ZShleHByZXNzaW9uKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgSXNUZW1wbGF0ZUxpdGVyYWxFeHByZXNzaW9uRmluaXRlIH0gZnJvbSAnLi9maW5pdGUubWpzJztcbmltcG9ydCB7IFRlbXBsYXRlTGl0ZXJhbFBhcnNlRXhhY3QgfSBmcm9tICcuL3BhcnNlLm1qcyc7XG5pbXBvcnQgeyBUeXBlQm94RXJyb3IgfSBmcm9tICcuLi9lcnJvci9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUZW1wbGF0ZUxpdGVyYWxHZW5lcmF0ZUVycm9yXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZUxpdGVyYWxHZW5lcmF0ZUVycm9yIGV4dGVuZHMgVHlwZUJveEVycm9yIHtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVGVtcGxhdGVMaXRlcmFsRXhwcmVzc2lvbkdlbmVyYXRlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24qIEdlbmVyYXRlUmVkdWNlKGJ1ZmZlcikge1xuICAgIGlmIChidWZmZXIubGVuZ3RoID09PSAxKVxuICAgICAgICByZXR1cm4geWllbGQqIGJ1ZmZlclswXTtcbiAgICBmb3IgKGNvbnN0IGxlZnQgb2YgYnVmZmVyWzBdKSB7XG4gICAgICAgIGZvciAoY29uc3QgcmlnaHQgb2YgR2VuZXJhdGVSZWR1Y2UoYnVmZmVyLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgeWllbGQgYCR7bGVmdH0ke3JpZ2h0fWA7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uKiBHZW5lcmF0ZUFuZChleHByZXNzaW9uKSB7XG4gICAgcmV0dXJuIHlpZWxkKiBHZW5lcmF0ZVJlZHVjZShleHByZXNzaW9uLmV4cHIubWFwKChleHByKSA9PiBbLi4uVGVtcGxhdGVMaXRlcmFsRXhwcmVzc2lvbkdlbmVyYXRlKGV4cHIpXSkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiogR2VuZXJhdGVPcihleHByZXNzaW9uKSB7XG4gICAgZm9yIChjb25zdCBleHByIG9mIGV4cHJlc3Npb24uZXhwcilcbiAgICAgICAgeWllbGQqIFRlbXBsYXRlTGl0ZXJhbEV4cHJlc3Npb25HZW5lcmF0ZShleHByKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24qIEdlbmVyYXRlQ29uc3QoZXhwcmVzc2lvbikge1xuICAgIHJldHVybiB5aWVsZCBleHByZXNzaW9uLmNvbnN0O1xufVxuZXhwb3J0IGZ1bmN0aW9uKiBUZW1wbGF0ZUxpdGVyYWxFeHByZXNzaW9uR2VuZXJhdGUoZXhwcmVzc2lvbikge1xuICAgIHJldHVybiBleHByZXNzaW9uLnR5cGUgPT09ICdhbmQnXG4gICAgICAgID8geWllbGQqIEdlbmVyYXRlQW5kKGV4cHJlc3Npb24pXG4gICAgICAgIDogZXhwcmVzc2lvbi50eXBlID09PSAnb3InXG4gICAgICAgICAgICA/IHlpZWxkKiBHZW5lcmF0ZU9yKGV4cHJlc3Npb24pXG4gICAgICAgICAgICA6IGV4cHJlc3Npb24udHlwZSA9PT0gJ2NvbnN0J1xuICAgICAgICAgICAgICAgID8geWllbGQqIEdlbmVyYXRlQ29uc3QoZXhwcmVzc2lvbilcbiAgICAgICAgICAgICAgICA6ICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUxpdGVyYWxHZW5lcmF0ZUVycm9yKCdVbmtub3duIGV4cHJlc3Npb24nKTtcbiAgICAgICAgICAgICAgICB9KSgpO1xufVxuLyoqIEdlbmVyYXRlcyBhIHR1cGxlIG9mIHN0cmluZ3MgZnJvbSB0aGUgZ2l2ZW4gVGVtcGxhdGVMaXRlcmFsLiBSZXR1cm5zIGFuIGVtcHR5IHR1cGxlIGlmIGluZmluaXRlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFRlbXBsYXRlTGl0ZXJhbEdlbmVyYXRlKHNjaGVtYSkge1xuICAgIGNvbnN0IGV4cHJlc3Npb24gPSBUZW1wbGF0ZUxpdGVyYWxQYXJzZUV4YWN0KHNjaGVtYS5wYXR0ZXJuKTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzVGVtcGxhdGVMaXRlcmFsRXhwcmVzc2lvbkZpbml0ZShleHByZXNzaW9uKVxuICAgICAgICA/IFsuLi5UZW1wbGF0ZUxpdGVyYWxFeHByZXNzaW9uR2VuZXJhdGUoZXhwcmVzc2lvbildXG4gICAgICAgIDogW10pO1xufVxuIiwKICAgICJpbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYSBMaXRlcmFsIHR5cGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBMaXRlcmFsKHZhbHVlLCBvcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBbS2luZF06ICdMaXRlcmFsJyxcbiAgICAgICAgY29uc3Q6IHZhbHVlLFxuICAgICAgICB0eXBlOiB0eXBlb2YgdmFsdWUsXG4gICAgfTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8qKiBgW0pzb25dYCBDcmVhdGVzIGEgQm9vbGVhbiB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gQm9vbGVhbihvcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBbS2luZF06ICdCb29sZWFuJyxcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgIH07XG59XG4iLAogICAgImltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vKiogYFtKYXZhU2NyaXB0XWAgQ3JlYXRlcyBhIEJpZ0ludCB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gQmlnSW50KG9wdGlvbnMgPSB7fSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIFtLaW5kXTogJ0JpZ0ludCcsXG4gICAgICAgIHR5cGU6ICdiaWdpbnQnLFxuICAgIH07XG59XG4iLAogICAgImltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhIE51bWJlciB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gTnVtYmVyKG9wdGlvbnMgPSB7fSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIFtLaW5kXTogJ051bWJlcicsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgIH07XG59XG4iLAogICAgImltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhIFN0cmluZyB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gU3RyaW5nKG9wdGlvbnMgPSB7fSkge1xuICAgIHJldHVybiB7IC4uLm9wdGlvbnMsIFtLaW5kXTogJ1N0cmluZycsIHR5cGU6ICdzdHJpbmcnIH07XG59XG4iLAogICAgImltcG9ydCB7IExpdGVyYWwgfSBmcm9tICcuLi9saXRlcmFsL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBCb29sZWFuIH0gZnJvbSAnLi4vYm9vbGVhbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgQmlnSW50IH0gZnJvbSAnLi4vYmlnaW50L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBOdW1iZXIgfSBmcm9tICcuLi9udW1iZXIvaW5kZXgubWpzJztcbmltcG9ydCB7IFN0cmluZyB9IGZyb20gJy4uL3N0cmluZy9pbmRleC5tanMnO1xuaW1wb3J0IHsgVW5pb25FdmFsdWF0ZWQgfSBmcm9tICcuLi91bmlvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgTmV2ZXIgfSBmcm9tICcuLi9uZXZlci9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTeW50YXhQYXJzZXJzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24qIEZyb21VbmlvbihzeW50YXgpIHtcbiAgICBjb25zdCB0cmltID0gc3ludGF4LnRyaW0oKS5yZXBsYWNlKC9cInwnL2csICcnKTtcbiAgICByZXR1cm4gKHRyaW0gPT09ICdib29sZWFuJyA/IHlpZWxkIEJvb2xlYW4oKSA6XG4gICAgICAgIHRyaW0gPT09ICdudW1iZXInID8geWllbGQgTnVtYmVyKCkgOlxuICAgICAgICAgICAgdHJpbSA9PT0gJ2JpZ2ludCcgPyB5aWVsZCBCaWdJbnQoKSA6XG4gICAgICAgICAgICAgICAgdHJpbSA9PT0gJ3N0cmluZycgPyB5aWVsZCBTdHJpbmcoKSA6XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaXRlcmFscyA9IHRyaW0uc3BsaXQoJ3wnKS5tYXAoKGxpdGVyYWwpID0+IExpdGVyYWwobGl0ZXJhbC50cmltKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAobGl0ZXJhbHMubGVuZ3RoID09PSAwID8gTmV2ZXIoKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGl0ZXJhbHMubGVuZ3RoID09PSAxID8gbGl0ZXJhbHNbMF0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVbmlvbkV2YWx1YXRlZChsaXRlcmFscykpO1xuICAgICAgICAgICAgICAgICAgICB9KSgpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24qIEZyb21UZXJtaW5hbChzeW50YXgpIHtcbiAgICBpZiAoc3ludGF4WzFdICE9PSAneycpIHtcbiAgICAgICAgY29uc3QgTCA9IExpdGVyYWwoJyQnKTtcbiAgICAgICAgY29uc3QgUiA9IEZyb21TeW50YXgoc3ludGF4LnNsaWNlKDEpKTtcbiAgICAgICAgcmV0dXJuIHlpZWxkKiBbTCwgLi4uUl07XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAyOyBpIDwgc3ludGF4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzeW50YXhbaV0gPT09ICd9Jykge1xuICAgICAgICAgICAgY29uc3QgTCA9IEZyb21VbmlvbihzeW50YXguc2xpY2UoMiwgaSkpO1xuICAgICAgICAgICAgY29uc3QgUiA9IEZyb21TeW50YXgoc3ludGF4LnNsaWNlKGkgKyAxKSk7XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIFsuLi5MLCAuLi5SXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB5aWVsZCBMaXRlcmFsKHN5bnRheCk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uKiBGcm9tU3ludGF4KHN5bnRheCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ludGF4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzeW50YXhbaV0gPT09ICckJykge1xuICAgICAgICAgICAgY29uc3QgTCA9IExpdGVyYWwoc3ludGF4LnNsaWNlKDAsIGkpKTtcbiAgICAgICAgICAgIGNvbnN0IFIgPSBGcm9tVGVybWluYWwoc3ludGF4LnNsaWNlKGkpKTtcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogW0wsIC4uLlJdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHlpZWxkIExpdGVyYWwoc3ludGF4KTtcbn1cbi8qKiBQYXJzZXMgVGVtcGxhdGVMaXRlcmFsU3ludGF4IGFuZCByZXR1cm5zIGEgdHVwbGUgb2YgVGVtcGxhdGVMaXRlcmFsS2luZHMgKi9cbmV4cG9ydCBmdW5jdGlvbiBUZW1wbGF0ZUxpdGVyYWxTeW50YXgoc3ludGF4KSB7XG4gICAgcmV0dXJuIFsuLi5Gcm9tU3ludGF4KHN5bnRheCldO1xufVxuIiwKICAgICJleHBvcnQgY29uc3QgUGF0dGVybkJvb2xlYW4gPSAnKHRydWV8ZmFsc2UpJztcbmV4cG9ydCBjb25zdCBQYXR0ZXJuTnVtYmVyID0gJygwfFsxLTldWzAtOV0qKSc7XG5leHBvcnQgY29uc3QgUGF0dGVyblN0cmluZyA9ICcoLiopJztcbmV4cG9ydCBjb25zdCBQYXR0ZXJuQm9vbGVhbkV4YWN0ID0gYF4ke1BhdHRlcm5Cb29sZWFufSRgO1xuZXhwb3J0IGNvbnN0IFBhdHRlcm5OdW1iZXJFeGFjdCA9IGBeJHtQYXR0ZXJuTnVtYmVyfSRgO1xuZXhwb3J0IGNvbnN0IFBhdHRlcm5TdHJpbmdFeGFjdCA9IGBeJHtQYXR0ZXJuU3RyaW5nfSRgO1xuIiwKICAgICJpbXBvcnQgeyBQYXR0ZXJuTnVtYmVyLCBQYXR0ZXJuU3RyaW5nLCBQYXR0ZXJuQm9vbGVhbiB9IGZyb20gJy4uL3BhdHRlcm5zL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuaW1wb3J0IHsgVHlwZUJveEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzVGVtcGxhdGVMaXRlcmFsLCBJc1VuaW9uLCBJc051bWJlciwgSXNJbnRlZ2VyLCBJc0JpZ0ludCwgSXNTdHJpbmcsIElzTGl0ZXJhbCwgSXNCb29sZWFuIH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUZW1wbGF0ZUxpdGVyYWxQYXR0ZXJuRXJyb3Jcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIFRlbXBsYXRlTGl0ZXJhbFBhdHRlcm5FcnJvciBleHRlbmRzIFR5cGVCb3hFcnJvciB7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRlbXBsYXRlTGl0ZXJhbFBhdHRlcm5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gRXNjYXBlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCAnXFxcXCQmJyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFZpc2l0KHNjaGVtYSwgYWNjKSB7XG4gICAgcmV0dXJuIChJc1RlbXBsYXRlTGl0ZXJhbChzY2hlbWEpID8gc2NoZW1hLnBhdHRlcm4uc2xpY2UoMSwgc2NoZW1hLnBhdHRlcm4ubGVuZ3RoIC0gMSkgOlxuICAgICAgICBJc1VuaW9uKHNjaGVtYSkgPyBgKCR7c2NoZW1hLmFueU9mLm1hcCgoc2NoZW1hKSA9PiBWaXNpdChzY2hlbWEsIGFjYykpLmpvaW4oJ3wnKX0pYCA6XG4gICAgICAgICAgICBJc051bWJlcihzY2hlbWEpID8gYCR7YWNjfSR7UGF0dGVybk51bWJlcn1gIDpcbiAgICAgICAgICAgICAgICBJc0ludGVnZXIoc2NoZW1hKSA/IGAke2FjY30ke1BhdHRlcm5OdW1iZXJ9YCA6XG4gICAgICAgICAgICAgICAgICAgIElzQmlnSW50KHNjaGVtYSkgPyBgJHthY2N9JHtQYXR0ZXJuTnVtYmVyfWAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgSXNTdHJpbmcoc2NoZW1hKSA/IGAke2FjY30ke1BhdHRlcm5TdHJpbmd9YCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNMaXRlcmFsKHNjaGVtYSkgPyBgJHthY2N9JHtFc2NhcGUoc2NoZW1hLmNvbnN0LnRvU3RyaW5nKCkpfWAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJc0Jvb2xlYW4oc2NoZW1hKSA/IGAke2FjY30ke1BhdHRlcm5Cb29sZWFufWAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCgpID0+IHsgdGhyb3cgbmV3IFRlbXBsYXRlTGl0ZXJhbFBhdHRlcm5FcnJvcihgVW5leHBlY3RlZCBLaW5kICcke3NjaGVtYVtLaW5kXX0nYCk7IH0pKCkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIFRlbXBsYXRlTGl0ZXJhbFBhdHRlcm4oa2luZHMpIHtcbiAgICByZXR1cm4gYF4ke2tpbmRzLm1hcCgoc2NoZW1hKSA9PiBWaXNpdChzY2hlbWEsICcnKSkuam9pbignJyl9XFwkYDtcbn1cbiIsCiAgICAiaW1wb3J0IHsgVW5pb25FdmFsdWF0ZWQgfSBmcm9tICcuLi91bmlvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgTGl0ZXJhbCB9IGZyb20gJy4uL2xpdGVyYWwvaW5kZXgubWpzJztcbmltcG9ydCB7IFRlbXBsYXRlTGl0ZXJhbEdlbmVyYXRlIH0gZnJvbSAnLi9nZW5lcmF0ZS5tanMnO1xuLyoqIFJldHVybnMgYSBVbmlvbiBmcm9tIHRoZSBnaXZlbiBUZW1wbGF0ZUxpdGVyYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBUZW1wbGF0ZUxpdGVyYWxUb1VuaW9uKHNjaGVtYSkge1xuICAgIGNvbnN0IFIgPSBUZW1wbGF0ZUxpdGVyYWxHZW5lcmF0ZShzY2hlbWEpO1xuICAgIGNvbnN0IEwgPSBSLm1hcCgoUykgPT4gTGl0ZXJhbChTKSk7XG4gICAgcmV0dXJuIFVuaW9uRXZhbHVhdGVkKEwpO1xufVxuIiwKICAgICJpbXBvcnQgeyBUZW1wbGF0ZUxpdGVyYWxTeW50YXggfSBmcm9tICcuL3N5bnRheC5tanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVMaXRlcmFsUGF0dGVybiB9IGZyb20gJy4vcGF0dGVybi5tanMnO1xuaW1wb3J0IHsgSXNTdHJpbmcgfSBmcm9tICcuLi9ndWFyZC92YWx1ZS5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8qKiBgW0pzb25dYCBDcmVhdGVzIGEgVGVtcGxhdGVMaXRlcmFsIHR5cGUgKi9cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIFRlbXBsYXRlTGl0ZXJhbCh1bnJlc29sdmVkLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBwYXR0ZXJuID0gSXNTdHJpbmcodW5yZXNvbHZlZClcbiAgICAgICAgPyBUZW1wbGF0ZUxpdGVyYWxQYXR0ZXJuKFRlbXBsYXRlTGl0ZXJhbFN5bnRheCh1bnJlc29sdmVkKSlcbiAgICAgICAgOiBUZW1wbGF0ZUxpdGVyYWxQYXR0ZXJuKHVucmVzb2x2ZWQpO1xuICAgIHJldHVybiB7IC4uLm9wdGlvbnMsIFtLaW5kXTogJ1RlbXBsYXRlTGl0ZXJhbCcsIHR5cGU6ICdzdHJpbmcnLCBwYXR0ZXJuIH07XG59XG4iLAogICAgImltcG9ydCB7IFRlbXBsYXRlTGl0ZXJhbEdlbmVyYXRlIH0gZnJvbSAnLi4vdGVtcGxhdGUtbGl0ZXJhbC9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUeXBlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNUZW1wbGF0ZUxpdGVyYWwsIElzVW5pb24sIElzTGl0ZXJhbCwgSXNOdW1iZXIsIElzSW50ZWdlciB9IGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVRlbXBsYXRlTGl0ZXJhbChUKSB7XG4gICAgY29uc3QgUiA9IFRlbXBsYXRlTGl0ZXJhbEdlbmVyYXRlKFQpO1xuICAgIHJldHVybiBSLm1hcChTID0+IFMudG9TdHJpbmcoKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21VbmlvbihUKSB7XG4gICAgY29uc3QgQWNjID0gW107XG4gICAgZm9yIChjb25zdCBMIG9mIFQpXG4gICAgICAgIEFjYy5wdXNoKC4uLkluZGV4UHJvcGVydHlLZXlzKEwpKTtcbiAgICByZXR1cm4gQWNjO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTGl0ZXJhbChUKSB7XG4gICAgcmV0dXJuIChbVC50b1N0cmluZygpXSAvLyBUUyA1LjQgb2JzZXJ2ZXMgVExpdGVyYWxWYWx1ZSBhcyBub3QgaGF2aW5nIGEgdG9TdHJpbmcoKVxuICAgICk7XG59XG4vKiogUmV0dXJucyBhIHR1cGxlIG9mIFByb3BlcnR5S2V5cyBkZXJpdmVkIGZyb20gdGhlIGdpdmVuIFRTY2hlbWEgKi9cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIEluZGV4UHJvcGVydHlLZXlzKFQpIHtcbiAgICByZXR1cm4gWy4uLm5ldyBTZXQoKElzVGVtcGxhdGVMaXRlcmFsKFQpID8gRnJvbVRlbXBsYXRlTGl0ZXJhbChUKSA6XG4gICAgICAgICAgICBJc1VuaW9uKFQpID8gRnJvbVVuaW9uKFQuYW55T2YpIDpcbiAgICAgICAgICAgICAgICBJc0xpdGVyYWwoVCkgPyBGcm9tTGl0ZXJhbChULmNvbnN0KSA6XG4gICAgICAgICAgICAgICAgICAgIElzTnVtYmVyKFQpID8gWydbbnVtYmVyXSddIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIElzSW50ZWdlcihUKSA/IFsnW251bWJlcl0nXSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW10pKV07XG59XG4iLAogICAgImltcG9ydCB7IE1hcHBlZFJlc3VsdCB9IGZyb20gJy4uL21hcHBlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgSW5kZXhQcm9wZXJ0eUtleXMgfSBmcm9tICcuL2luZGV4ZWQtcHJvcGVydHkta2V5cy5tanMnO1xuaW1wb3J0IHsgSW5kZXggfSBmcm9tICcuL2luZGV4Lm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9wZXJ0aWVzKFQsIFAsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBBY2MgPSB7fTtcbiAgICBmb3IgKGNvbnN0IEsyIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKFApKSB7XG4gICAgICAgIEFjY1tLMl0gPSBJbmRleChULCBJbmRleFByb3BlcnR5S2V5cyhQW0syXSksIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gQWNjO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTWFwcGVkUmVzdWx0KFQsIFIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gRnJvbVByb3BlcnRpZXMoVCwgUi5wcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIEluZGV4RnJvbU1hcHBlZFJlc3VsdChULCBSLCBvcHRpb25zKSB7XG4gICAgY29uc3QgUCA9IEZyb21NYXBwZWRSZXN1bHQoVCwgUiwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIE1hcHBlZFJlc3VsdChQKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgTmV2ZXIgfSBmcm9tICcuLi9uZXZlci9pbmRleC5tanMnO1xuaW1wb3J0IHsgSW50ZXJzZWN0RXZhbHVhdGVkIH0gZnJvbSAnLi4vaW50ZXJzZWN0L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBVbmlvbkV2YWx1YXRlZCB9IGZyb20gJy4uL3VuaW9uL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDbG9uZVR5cGUgfSBmcm9tICcuLi9jbG9uZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBJbmRleFByb3BlcnR5S2V5cyB9IGZyb20gJy4vaW5kZXhlZC1wcm9wZXJ0eS1rZXlzLm1qcyc7XG5pbXBvcnQgeyBJbmRleEZyb21NYXBwZWRLZXkgfSBmcm9tICcuL2luZGV4ZWQtZnJvbS1tYXBwZWQta2V5Lm1qcyc7XG5pbXBvcnQgeyBJbmRleEZyb21NYXBwZWRSZXN1bHQgfSBmcm9tICcuL2luZGV4ZWQtZnJvbS1tYXBwZWQtcmVzdWx0Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc0FycmF5LCBJc0ludGVyc2VjdCwgSXNPYmplY3QsIElzTWFwcGVkS2V5LCBJc01hcHBlZFJlc3VsdCwgSXNOZXZlciwgSXNTY2hlbWEsIElzVHVwbGUsIElzVW5pb24gfSBmcm9tICcuLi9ndWFyZC9raW5kLm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZXN0KFQsIEspIHtcbiAgICByZXR1cm4gVC5tYXAoTCA9PiBJbmRleEZyb21Qcm9wZXJ0eUtleShMLCBLKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21JbnRlcnNlY3RSZXN0KFQpIHtcbiAgICByZXR1cm4gVC5maWx0ZXIoTCA9PiAhSXNOZXZlcihMKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21JbnRlcnNlY3QoVCwgSykge1xuICAgIHJldHVybiAoSW50ZXJzZWN0RXZhbHVhdGVkKEZyb21JbnRlcnNlY3RSZXN0KEZyb21SZXN0KFQsIEspKSkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVW5pb25SZXN0KFQpIHtcbiAgICByZXR1cm4gKFQuc29tZShMID0+IElzTmV2ZXIoTCkpXG4gICAgICAgID8gW11cbiAgICAgICAgOiBUKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVVuaW9uKFQsIEspIHtcbiAgICByZXR1cm4gKFVuaW9uRXZhbHVhdGVkKEZyb21VbmlvblJlc3QoRnJvbVJlc3QoVCwgSykpKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21UdXBsZShULCBLKSB7XG4gICAgcmV0dXJuIChLIGluIFQgPyBUW0tdIDpcbiAgICAgICAgSyA9PT0gJ1tudW1iZXJdJyA/IFVuaW9uRXZhbHVhdGVkKFQpIDpcbiAgICAgICAgICAgIE5ldmVyKCkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQXJyYXkoVCwgSykge1xuICAgIHJldHVybiAoSyA9PT0gJ1tudW1iZXJdJ1xuICAgICAgICA/IFRcbiAgICAgICAgOiBOZXZlcigpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnR5KFQsIEspIHtcbiAgICByZXR1cm4gKEsgaW4gVCA/IFRbS10gOiBOZXZlcigpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIEluZGV4RnJvbVByb3BlcnR5S2V5KFQsIEspIHtcbiAgICByZXR1cm4gKElzSW50ZXJzZWN0KFQpID8gRnJvbUludGVyc2VjdChULmFsbE9mLCBLKSA6XG4gICAgICAgIElzVW5pb24oVCkgPyBGcm9tVW5pb24oVC5hbnlPZiwgSykgOlxuICAgICAgICAgICAgSXNUdXBsZShUKSA/IEZyb21UdXBsZShULml0ZW1zID8/IFtdLCBLKSA6XG4gICAgICAgICAgICAgICAgSXNBcnJheShUKSA/IEZyb21BcnJheShULml0ZW1zLCBLKSA6XG4gICAgICAgICAgICAgICAgICAgIElzT2JqZWN0KFQpID8gRnJvbVByb3BlcnR5KFQucHJvcGVydGllcywgSykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgTmV2ZXIoKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBJbmRleEZyb21Qcm9wZXJ0eUtleXMoVCwgSykge1xuICAgIHJldHVybiBLLm1hcChMID0+IEluZGV4RnJvbVByb3BlcnR5S2V5KFQsIEwpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVNjaGVtYShULCBLKSB7XG4gICAgcmV0dXJuIChVbmlvbkV2YWx1YXRlZChJbmRleEZyb21Qcm9wZXJ0eUtleXMoVCwgSykpKTtcbn1cbi8qKiBgW0pzb25dYCBSZXR1cm5zIGFuIEluZGV4ZWQgcHJvcGVydHkgdHlwZSBmb3IgdGhlIGdpdmVuIGtleXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBJbmRleChULCBLLCBvcHRpb25zID0ge30pIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzTWFwcGVkUmVzdWx0KEspID8gQ2xvbmVUeXBlKEluZGV4RnJvbU1hcHBlZFJlc3VsdChULCBLLCBvcHRpb25zKSkgOlxuICAgICAgICBJc01hcHBlZEtleShLKSA/IENsb25lVHlwZShJbmRleEZyb21NYXBwZWRLZXkoVCwgSywgb3B0aW9ucykpIDpcbiAgICAgICAgICAgIElzU2NoZW1hKEspID8gQ2xvbmVUeXBlKEZyb21TY2hlbWEoVCwgSW5kZXhQcm9wZXJ0eUtleXMoSykpLCBvcHRpb25zKSA6XG4gICAgICAgICAgICAgICAgQ2xvbmVUeXBlKEZyb21TY2hlbWEoVCwgSyksIG9wdGlvbnMpKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgSW5kZXggfSBmcm9tICcuL2luZGV4ZWQubWpzJztcbmltcG9ydCB7IE1hcHBlZFJlc3VsdCB9IGZyb20gJy4uL21hcHBlZC9pbmRleC5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBNYXBwZWRJbmRleFByb3BlcnR5S2V5KFQsIEssIG9wdGlvbnMpIHtcbiAgICByZXR1cm4geyBbS106IEluZGV4KFQsIFtLXSwgb3B0aW9ucykgfTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gTWFwcGVkSW5kZXhQcm9wZXJ0eUtleXMoVCwgSywgb3B0aW9ucykge1xuICAgIHJldHVybiBLLnJlZHVjZSgoQWNjLCBMKSA9PiB7XG4gICAgICAgIHJldHVybiB7IC4uLkFjYywgLi4uTWFwcGVkSW5kZXhQcm9wZXJ0eUtleShULCBMLCBvcHRpb25zKSB9O1xuICAgIH0sIHt9KTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gTWFwcGVkSW5kZXhQcm9wZXJ0aWVzKFQsIEssIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gTWFwcGVkSW5kZXhQcm9wZXJ0eUtleXMoVCwgSy5rZXlzLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIEluZGV4RnJvbU1hcHBlZEtleShULCBLLCBvcHRpb25zKSB7XG4gICAgY29uc3QgUCA9IE1hcHBlZEluZGV4UHJvcGVydGllcyhULCBLLCBvcHRpb25zKTtcbiAgICByZXR1cm4gTWFwcGVkUmVzdWx0KFApO1xufVxuIiwKICAgICJpbXBvcnQgeyBDbG9uZVR5cGUgfSBmcm9tICcuLi9jbG9uZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLyoqIGBbSmF2YVNjcmlwdF1gIENyZWF0ZXMgYW4gSXRlcmF0b3IgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIEl0ZXJhdG9yKGl0ZW1zLCBvcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBbS2luZF06ICdJdGVyYXRvcicsXG4gICAgICAgIHR5cGU6ICdJdGVyYXRvcicsXG4gICAgICAgIGl0ZW1zOiBDbG9uZVR5cGUoaXRlbXMpLFxuICAgIH07XG59XG4iLAogICAgImltcG9ydCB7IENsb25lVHlwZSB9IGZyb20gJy4uL2Nsb25lL3R5cGUubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc09wdGlvbmFsLCBJc1NjaGVtYSB9IGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbi8qKiBgW0pzb25dYCBDcmVhdGVzIGFuIE9iamVjdCB0eXBlICovXG5mdW5jdGlvbiBfT2JqZWN0KHByb3BlcnRpZXMsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHByb3BlcnR5S2V5cyA9IGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvcGVydGllcyk7XG4gICAgY29uc3Qgb3B0aW9uYWxLZXlzID0gcHJvcGVydHlLZXlzLmZpbHRlcigoa2V5KSA9PiBJc09wdGlvbmFsKHByb3BlcnRpZXNba2V5XSkpO1xuICAgIGNvbnN0IHJlcXVpcmVkS2V5cyA9IHByb3BlcnR5S2V5cy5maWx0ZXIoKG5hbWUpID0+ICFvcHRpb25hbEtleXMuaW5jbHVkZXMobmFtZSkpO1xuICAgIGNvbnN0IGNsb25lZEFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gSXNTY2hlbWEob3B0aW9ucy5hZGRpdGlvbmFsUHJvcGVydGllcykgPyB7IGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBDbG9uZVR5cGUob3B0aW9ucy5hZGRpdGlvbmFsUHJvcGVydGllcykgfSA6IHt9O1xuICAgIGNvbnN0IGNsb25lZFByb3BlcnRpZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBwcm9wZXJ0eUtleXMpXG4gICAgICAgIGNsb25lZFByb3BlcnRpZXNba2V5XSA9IENsb25lVHlwZShwcm9wZXJ0aWVzW2tleV0pO1xuICAgIHJldHVybiAocmVxdWlyZWRLZXlzLmxlbmd0aCA+IDBcbiAgICAgICAgPyB7IC4uLm9wdGlvbnMsIC4uLmNsb25lZEFkZGl0aW9uYWxQcm9wZXJ0aWVzLCBbS2luZF06ICdPYmplY3QnLCB0eXBlOiAnb2JqZWN0JywgcHJvcGVydGllczogY2xvbmVkUHJvcGVydGllcywgcmVxdWlyZWQ6IHJlcXVpcmVkS2V5cyB9XG4gICAgICAgIDogeyAuLi5vcHRpb25zLCAuLi5jbG9uZWRBZGRpdGlvbmFsUHJvcGVydGllcywgW0tpbmRdOiAnT2JqZWN0JywgdHlwZTogJ29iamVjdCcsIHByb3BlcnRpZXM6IGNsb25lZFByb3BlcnRpZXMgfSk7XG59XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhbiBPYmplY3QgdHlwZSAqL1xuZXhwb3J0IGNvbnN0IE9iamVjdCA9IF9PYmplY3Q7XG4iLAogICAgImltcG9ydCB7IENsb25lVHlwZSB9IGZyb20gJy4uL2Nsb25lL3R5cGUubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vKiogYFtKYXZhU2NyaXB0XWAgQ3JlYXRlcyBhIFByb21pc2UgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIFByb21pc2UoaXRlbSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgW0tpbmRdOiAnUHJvbWlzZScsXG4gICAgICAgIHR5cGU6ICdQcm9taXNlJyxcbiAgICAgICAgaXRlbTogQ2xvbmVUeXBlKGl0ZW0pLFxuICAgIH07XG59XG4iLAogICAgImltcG9ydCB7IFJlYWRvbmx5S2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IENsb25lVHlwZSB9IGZyb20gJy4uL2Nsb25lL3R5cGUubWpzJztcbmltcG9ydCB7IERpc2NhcmQgfSBmcm9tICcuLi9kaXNjYXJkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBSZWFkb25seUZyb21NYXBwZWRSZXN1bHQgfSBmcm9tICcuL3JlYWRvbmx5LWZyb20tbWFwcGVkLXJlc3VsdC5tanMnO1xuaW1wb3J0IHsgSXNNYXBwZWRSZXN1bHQgfSBmcm9tICcuLi9ndWFyZC9raW5kLm1qcyc7XG5mdW5jdGlvbiBSZW1vdmVSZWFkb25seShzY2hlbWEpIHtcbiAgICByZXR1cm4gRGlzY2FyZChDbG9uZVR5cGUoc2NoZW1hKSwgW1JlYWRvbmx5S2luZF0pO1xufVxuZnVuY3Rpb24gQWRkUmVhZG9ubHkoc2NoZW1hKSB7XG4gICAgcmV0dXJuIHsgLi4uQ2xvbmVUeXBlKHNjaGVtYSksIFtSZWFkb25seUtpbmRdOiAnUmVhZG9ubHknIH07XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFJlYWRvbmx5V2l0aEZsYWcoc2NoZW1hLCBGKSB7XG4gICAgcmV0dXJuIChGID09PSBmYWxzZVxuICAgICAgICA/IFJlbW92ZVJlYWRvbmx5KHNjaGVtYSlcbiAgICAgICAgOiBBZGRSZWFkb25seShzY2hlbWEpKTtcbn1cbi8qKiBgW0pzb25dYCBDcmVhdGVzIGEgUmVhZG9ubHkgcHJvcGVydHkgKi9cbmV4cG9ydCBmdW5jdGlvbiBSZWFkb25seShzY2hlbWEsIGVuYWJsZSkge1xuICAgIGNvbnN0IEYgPSBlbmFibGUgPz8gdHJ1ZTtcbiAgICByZXR1cm4gSXNNYXBwZWRSZXN1bHQoc2NoZW1hKSA/IFJlYWRvbmx5RnJvbU1hcHBlZFJlc3VsdChzY2hlbWEsIEYpIDogUmVhZG9ubHlXaXRoRmxhZyhzY2hlbWEsIEYpO1xufVxuIiwKICAgICJpbXBvcnQgeyBNYXBwZWRSZXN1bHQgfSBmcm9tICcuLi9tYXBwZWQvaW5kZXgubWpzJztcbmltcG9ydCB7IFJlYWRvbmx5IH0gZnJvbSAnLi9yZWFkb25seS5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydGllcyhLLCBGKSB7XG4gICAgY29uc3QgQWNjID0ge307XG4gICAgZm9yIChjb25zdCBLMiBvZiBnbG9iYWxUaGlzLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKEspKVxuICAgICAgICBBY2NbSzJdID0gUmVhZG9ubHkoS1tLMl0sIEYpO1xuICAgIHJldHVybiBBY2M7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21NYXBwZWRSZXN1bHQoUiwgRikge1xuICAgIHJldHVybiBGcm9tUHJvcGVydGllcyhSLnByb3BlcnRpZXMsIEYpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gUmVhZG9ubHlGcm9tTWFwcGVkUmVzdWx0KFIsIEYpIHtcbiAgICBjb25zdCBQID0gRnJvbU1hcHBlZFJlc3VsdChSLCBGKTtcbiAgICByZXR1cm4gTWFwcGVkUmVzdWx0KFApO1xufVxuIiwKICAgICJpbXBvcnQgeyBDbG9uZVJlc3QgfSBmcm9tICcuLi9jbG9uZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYSBUdXBsZSB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gVHVwbGUoaXRlbXMsIG9wdGlvbnMgPSB7fSkge1xuICAgIC8vIHJldHVybiBUdXBsZVJlc29sdmVyLlJlc29sdmUoVClcbiAgICBjb25zdCBbYWRkaXRpb25hbEl0ZW1zLCBtaW5JdGVtcywgbWF4SXRlbXNdID0gW2ZhbHNlLCBpdGVtcy5sZW5ndGgsIGl0ZW1zLmxlbmd0aF07XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChpdGVtcy5sZW5ndGggPiAwID9cbiAgICAgICAgeyAuLi5vcHRpb25zLCBbS2luZF06ICdUdXBsZScsIHR5cGU6ICdhcnJheScsIGl0ZW1zOiBDbG9uZVJlc3QoaXRlbXMpLCBhZGRpdGlvbmFsSXRlbXMsIG1pbkl0ZW1zLCBtYXhJdGVtcyB9IDpcbiAgICAgICAgeyAuLi5vcHRpb25zLCBbS2luZF06ICdUdXBsZScsIHR5cGU6ICdhcnJheScsIG1pbkl0ZW1zLCBtYXhJdGVtcyB9KTtcbn1cbiIsCiAgICAiLyoqIFJldHVybnMgdHJ1ZSBpZiBlbGVtZW50IHJpZ2h0IGlzIGluIHRoZSBzZXQgb2YgbGVmdCAqL1xuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gU2V0SW5jbHVkZXMoVCwgUykge1xuICAgIHJldHVybiBULmluY2x1ZGVzKFMpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiBsZWZ0IGlzIGEgc3Vic2V0IG9mIHJpZ2h0ICovXG5leHBvcnQgZnVuY3Rpb24gU2V0SXNTdWJzZXQoVCwgUykge1xuICAgIHJldHVybiBULmV2ZXJ5KChMKSA9PiBTZXRJbmNsdWRlcyhTLCBMKSk7XG59XG4vKiogUmV0dXJucyBhIGRpc3RpbmN0IHNldCBvZiBlbGVtZW50cyAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNldERpc3RpbmN0KFQpIHtcbiAgICByZXR1cm4gWy4uLm5ldyBTZXQoVCldO1xufVxuLyoqIFJldHVybnMgdGhlIEludGVyc2VjdCBvZiB0aGUgZ2l2ZW4gc2V0cyAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNldEludGVyc2VjdChULCBTKSB7XG4gICAgcmV0dXJuIFQuZmlsdGVyKChMKSA9PiBTLmluY2x1ZGVzKEwpKTtcbn1cbi8qKiBSZXR1cm5zIHRoZSBVbmlvbiBvZiB0aGUgZ2l2ZW4gc2V0cyAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNldFVuaW9uKFQsIFMpIHtcbiAgICByZXR1cm4gWy4uLlQsIC4uLlNdO1xufVxuLyoqIFJldHVybnMgdGhlIENvbXBsZW1lbnQgYnkgb21pdHRpbmcgZWxlbWVudHMgaW4gVCB0aGF0IGFyZSBpbiBTICovXG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBTZXRDb21wbGVtZW50KFQsIFMpIHtcbiAgICByZXR1cm4gVC5maWx0ZXIoTCA9PiAhUy5pbmNsdWRlcyhMKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFNldEludGVyc2VjdE1hbnlSZXNvbHZlKFQsIEluaXQpIHtcbiAgICByZXR1cm4gVC5yZWR1Y2UoKEFjYywgTCkgPT4ge1xuICAgICAgICByZXR1cm4gU2V0SW50ZXJzZWN0KEFjYywgTCk7XG4gICAgfSwgSW5pdCk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBTZXRJbnRlcnNlY3RNYW55KFQpIHtcbiAgICByZXR1cm4gKFQubGVuZ3RoID09PSAxXG4gICAgICAgID8gVFswXVxuICAgICAgICAvLyBVc2UgbGVmdCB0byBpbml0aWFsaXplIHRoZSBhY2N1bXVsYXRvciBmb3IgcmVzb2x2ZVxuICAgICAgICA6IFQubGVuZ3RoID4gMVxuICAgICAgICAgICAgPyBTZXRJbnRlcnNlY3RNYW55UmVzb2x2ZShULnNsaWNlKDEpLCBUWzBdKVxuICAgICAgICAgICAgOiBbXSk7XG59XG4vKiogUmV0dXJucyB0aGUgVW5pb24gb2YgbXVsdGlwbGUgc2V0cyAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNldFVuaW9uTWFueShUKSB7XG4gICAgY29uc3QgQWNjID0gW107XG4gICAgZm9yIChjb25zdCBMIG9mIFQpXG4gICAgICAgIEFjYy5wdXNoKC4uLkwpO1xuICAgIHJldHVybiBBY2M7XG59XG4iLAogICAgImltcG9ydCB7IEtpbmQsIE9wdGlvbmFsS2luZCwgUmVhZG9ubHlLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2xvbmVUeXBlIH0gZnJvbSAnLi4vY2xvbmUvdHlwZS5tanMnO1xuaW1wb3J0IHsgRGlzY2FyZCB9IGZyb20gJy4uL2Rpc2NhcmQvaW5kZXgubWpzJztcbi8vIGV2YWx1YXRpb24gdHlwZXNcbmltcG9ydCB7IEFycmF5IH0gZnJvbSAnLi4vYXJyYXkvaW5kZXgubWpzJztcbmltcG9ydCB7IEFzeW5jSXRlcmF0b3IgfSBmcm9tICcuLi9hc3luYy1pdGVyYXRvci9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ29uc3RydWN0b3IgfSBmcm9tICcuLi9jb25zdHJ1Y3Rvci9pbmRleC5tanMnO1xuaW1wb3J0IHsgRnVuY3Rpb24gYXMgRnVuY3Rpb25UeXBlIH0gZnJvbSAnLi4vZnVuY3Rpb24vaW5kZXgubWpzJztcbmltcG9ydCB7IEluZGV4UHJvcGVydHlLZXlzIH0gZnJvbSAnLi4vaW5kZXhlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgSW50ZXJzZWN0IH0gZnJvbSAnLi4vaW50ZXJzZWN0L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBJdGVyYXRvciB9IGZyb20gJy4uL2l0ZXJhdG9yL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBMaXRlcmFsIH0gZnJvbSAnLi4vbGl0ZXJhbC9pbmRleC5tanMnO1xuaW1wb3J0IHsgT2JqZWN0IH0gZnJvbSAnLi4vb2JqZWN0L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBPcHRpb25hbCB9IGZyb20gJy4uL29wdGlvbmFsL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBQcm9taXNlIH0gZnJvbSAnLi4vcHJvbWlzZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgUmVhZG9ubHkgfSBmcm9tICcuLi9yZWFkb25seS9pbmRleC5tanMnO1xuaW1wb3J0IHsgVHVwbGUgfSBmcm9tICcuLi90dXBsZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgVW5pb24gfSBmcm9tICcuLi91bmlvbi9pbmRleC5tanMnO1xuLy8gb3BlcmF0b3JcbmltcG9ydCB7IFNldEluY2x1ZGVzIH0gZnJvbSAnLi4vc2V0cy9pbmRleC5tanMnO1xuLy8gbWFwcGluZyB0eXBlc1xuaW1wb3J0IHsgTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi9tYXBwZWQtcmVzdWx0Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc0FycmF5LCBJc0FzeW5jSXRlcmF0b3IsIElzQ29uc3RydWN0b3IsIElzRnVuY3Rpb24sIElzSW50ZXJzZWN0LCBJc0l0ZXJhdG9yLCBJc1JlYWRvbmx5LCBJc01hcHBlZFJlc3VsdCwgSXNNYXBwZWRLZXksIElzT2JqZWN0LCBJc09wdGlvbmFsLCBJc1Byb21pc2UsIElzU2NoZW1hLCBJc1R1cGxlLCBJc1VuaW9uIH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTWFwcGVkUmVzdWx0KEssIFApIHtcbiAgICByZXR1cm4gKEsgaW4gUFxuICAgICAgICA/IEZyb21TY2hlbWFUeXBlKEssIFBbS10pXG4gICAgICAgIDogTWFwcGVkUmVzdWx0KFApKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gTWFwcGVkS2V5VG9Lbm93bk1hcHBlZFJlc3VsdFByb3BlcnRpZXMoSykge1xuICAgIHJldHVybiB7IFtLXTogTGl0ZXJhbChLKSB9O1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBNYXBwZWRLZXlUb1Vua25vd25NYXBwZWRSZXN1bHRQcm9wZXJ0aWVzKFApIHtcbiAgICBjb25zdCBBY2MgPSB7fTtcbiAgICBmb3IgKGNvbnN0IEwgb2YgUClcbiAgICAgICAgQWNjW0xdID0gTGl0ZXJhbChMKTtcbiAgICByZXR1cm4gQWNjO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBNYXBwZWRLZXlUb01hcHBlZFJlc3VsdFByb3BlcnRpZXMoSywgUCkge1xuICAgIHJldHVybiAoU2V0SW5jbHVkZXMoUCwgSylcbiAgICAgICAgPyBNYXBwZWRLZXlUb0tub3duTWFwcGVkUmVzdWx0UHJvcGVydGllcyhLKVxuICAgICAgICA6IE1hcHBlZEtleVRvVW5rbm93bk1hcHBlZFJlc3VsdFByb3BlcnRpZXMoUCkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTWFwcGVkS2V5KEssIFApIHtcbiAgICBjb25zdCBSID0gTWFwcGVkS2V5VG9NYXBwZWRSZXN1bHRQcm9wZXJ0aWVzKEssIFApO1xuICAgIHJldHVybiBGcm9tTWFwcGVkUmVzdWx0KEssIFIpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUmVzdChLLCBUKSB7XG4gICAgcmV0dXJuIFQubWFwKEwgPT4gRnJvbVNjaGVtYVR5cGUoSywgTCkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydGllcyhLLCBUKSB7XG4gICAgY29uc3QgQWNjID0ge307XG4gICAgZm9yIChjb25zdCBLMiBvZiBnbG9iYWxUaGlzLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKFQpKVxuICAgICAgICBBY2NbSzJdID0gRnJvbVNjaGVtYVR5cGUoSywgVFtLMl0pO1xuICAgIHJldHVybiBBY2M7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21TY2hlbWFUeXBlKEssIFQpIHtcbiAgICByZXR1cm4gKFxuICAgIC8vIHVuZXZhbHVhdGVkIG1vZGlmaWVyIHR5cGVzXG4gICAgSXNPcHRpb25hbChUKSA/IE9wdGlvbmFsKEZyb21TY2hlbWFUeXBlKEssIERpc2NhcmQoVCwgW09wdGlvbmFsS2luZF0pKSkgOlxuICAgICAgICBJc1JlYWRvbmx5KFQpID8gUmVhZG9ubHkoRnJvbVNjaGVtYVR5cGUoSywgRGlzY2FyZChULCBbUmVhZG9ubHlLaW5kXSkpKSA6XG4gICAgICAgICAgICAvLyB1bmV2YWx1YXRlZCBtYXBwZWQgdHlwZXNcbiAgICAgICAgICAgIElzTWFwcGVkUmVzdWx0KFQpID8gRnJvbU1hcHBlZFJlc3VsdChLLCBULnByb3BlcnRpZXMpIDpcbiAgICAgICAgICAgICAgICBJc01hcHBlZEtleShUKSA/IEZyb21NYXBwZWRLZXkoSywgVC5rZXlzKSA6XG4gICAgICAgICAgICAgICAgICAgIC8vIHVuZXZhbHVhdGVkIHR5cGVzXG4gICAgICAgICAgICAgICAgICAgIElzQ29uc3RydWN0b3IoVCkgPyBDb25zdHJ1Y3RvcihGcm9tUmVzdChLLCBULnBhcmFtZXRlcnMpLCBGcm9tU2NoZW1hVHlwZShLLCBULnJldHVybnMpKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBJc0Z1bmN0aW9uKFQpID8gRnVuY3Rpb25UeXBlKEZyb21SZXN0KEssIFQucGFyYW1ldGVycyksIEZyb21TY2hlbWFUeXBlKEssIFQucmV0dXJucykpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJc0FzeW5jSXRlcmF0b3IoVCkgPyBBc3luY0l0ZXJhdG9yKEZyb21TY2hlbWFUeXBlKEssIFQuaXRlbXMpKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzSXRlcmF0b3IoVCkgPyBJdGVyYXRvcihGcm9tU2NoZW1hVHlwZShLLCBULml0ZW1zKSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNJbnRlcnNlY3QoVCkgPyBJbnRlcnNlY3QoRnJvbVJlc3QoSywgVC5hbGxPZikpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJc1VuaW9uKFQpID8gVW5pb24oRnJvbVJlc3QoSywgVC5hbnlPZikpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNUdXBsZShUKSA/IFR1cGxlKEZyb21SZXN0KEssIFQuaXRlbXMgPz8gW10pKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJc09iamVjdChUKSA/IE9iamVjdChGcm9tUHJvcGVydGllcyhLLCBULnByb3BlcnRpZXMpKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNBcnJheShUKSA/IEFycmF5KEZyb21TY2hlbWFUeXBlKEssIFQuaXRlbXMpKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzUHJvbWlzZShUKSA/IFByb21pc2UoRnJvbVNjaGVtYVR5cGUoSywgVC5pdGVtKSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVCk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBNYXBwZWRGdW5jdGlvblJldHVyblR5cGUoSywgVCkge1xuICAgIGNvbnN0IEFjYyA9IHt9O1xuICAgIGZvciAoY29uc3QgTCBvZiBLKVxuICAgICAgICBBY2NbTF0gPSBGcm9tU2NoZW1hVHlwZShMLCBUKTtcbiAgICByZXR1cm4gQWNjO1xufVxuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYSBNYXBwZWQgb2JqZWN0IHR5cGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBNYXBwZWQoa2V5LCBtYXAsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IEsgPSBJc1NjaGVtYShrZXkpID8gSW5kZXhQcm9wZXJ0eUtleXMoa2V5KSA6IGtleTtcbiAgICBjb25zdCBSVCA9IG1hcCh7IFtLaW5kXTogJ01hcHBlZEtleScsIGtleXM6IEsgfSk7XG4gICAgY29uc3QgUiA9IE1hcHBlZEZ1bmN0aW9uUmV0dXJuVHlwZShLLCBSVCk7XG4gICAgcmV0dXJuIENsb25lVHlwZShPYmplY3QoUiksIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBTZXRVbmlvbk1hbnksIFNldEludGVyc2VjdE1hbnkgfSBmcm9tICcuLi9zZXRzL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc0ludGVyc2VjdCwgSXNVbmlvbiwgSXNUdXBsZSwgSXNBcnJheSwgSXNPYmplY3QsIElzUmVjb3JkIH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUmVzdChUKSB7XG4gICAgY29uc3QgQWNjID0gW107XG4gICAgZm9yIChjb25zdCBMIG9mIFQpXG4gICAgICAgIEFjYy5wdXNoKEtleU9mUHJvcGVydHlLZXlzKEwpKTtcbiAgICByZXR1cm4gQWNjO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tSW50ZXJzZWN0KFQpIHtcbiAgICBjb25zdCBDID0gRnJvbVJlc3QoVCk7XG4gICAgY29uc3QgUiA9IFNldFVuaW9uTWFueShDKTtcbiAgICByZXR1cm4gUjtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVVuaW9uKFQpIHtcbiAgICBjb25zdCBDID0gRnJvbVJlc3QoVCk7XG4gICAgY29uc3QgUiA9IFNldEludGVyc2VjdE1hbnkoQyk7XG4gICAgcmV0dXJuIFI7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21UdXBsZShUKSB7XG4gICAgcmV0dXJuIFQubWFwKChfLCBJKSA9PiBJLnRvU3RyaW5nKCkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQXJyYXkoXykge1xuICAgIHJldHVybiAoWydbbnVtYmVyXSddKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnRpZXMoVCkge1xuICAgIHJldHVybiAoZ2xvYmFsVGhpcy5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhUKSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEZyb21QYXR0ZXJuUHJvcGVydGllc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21QYXR0ZXJuUHJvcGVydGllcyhwYXR0ZXJuUHJvcGVydGllcykge1xuICAgIGlmICghaW5jbHVkZVBhdHRlcm5Qcm9wZXJ0aWVzKVxuICAgICAgICByZXR1cm4gW107XG4gICAgY29uc3QgcGF0dGVyblByb3BlcnR5S2V5cyA9IGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocGF0dGVyblByb3BlcnRpZXMpO1xuICAgIHJldHVybiBwYXR0ZXJuUHJvcGVydHlLZXlzLm1hcChrZXkgPT4ge1xuICAgICAgICByZXR1cm4gKGtleVswXSA9PT0gJ14nICYmIGtleVtrZXkubGVuZ3RoIC0gMV0gPT09ICckJylcbiAgICAgICAgICAgID8ga2V5LnNsaWNlKDEsIGtleS5sZW5ndGggLSAxKVxuICAgICAgICAgICAgOiBrZXk7XG4gICAgfSk7XG59XG4vKiogUmV0dXJucyBhIHR1cGxlIG9mIFByb3BlcnR5S2V5cyBkZXJpdmVkIGZyb20gdGhlIGdpdmVuIFRTY2hlbWEuICovXG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBLZXlPZlByb3BlcnR5S2V5cyhUKSB7XG4gICAgcmV0dXJuIChJc0ludGVyc2VjdChUKSA/IEZyb21JbnRlcnNlY3QoVC5hbGxPZikgOlxuICAgICAgICBJc1VuaW9uKFQpID8gRnJvbVVuaW9uKFQuYW55T2YpIDpcbiAgICAgICAgICAgIElzVHVwbGUoVCkgPyBGcm9tVHVwbGUoVC5pdGVtcyA/PyBbXSkgOlxuICAgICAgICAgICAgICAgIElzQXJyYXkoVCkgPyBGcm9tQXJyYXkoVC5pdGVtcykgOlxuICAgICAgICAgICAgICAgICAgICBJc09iamVjdChUKSA/IEZyb21Qcm9wZXJ0aWVzKFQucHJvcGVydGllcykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgSXNSZWNvcmQoVCkgPyBGcm9tUGF0dGVyblByb3BlcnRpZXMoVC5wYXR0ZXJuUHJvcGVydGllcykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtdKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEtleU9mUGF0dGVyblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxubGV0IGluY2x1ZGVQYXR0ZXJuUHJvcGVydGllcyA9IGZhbHNlO1xuLyoqIFJldHVybnMgYSByZWd1bGFyIGV4cHJlc3Npb24gcGF0dGVybiBkZXJpdmVkIGZyb20gdGhlIGdpdmVuIFRTY2hlbWEgKi9cbmV4cG9ydCBmdW5jdGlvbiBLZXlPZlBhdHRlcm4oc2NoZW1hKSB7XG4gICAgaW5jbHVkZVBhdHRlcm5Qcm9wZXJ0aWVzID0gdHJ1ZTtcbiAgICBjb25zdCBrZXlzID0gS2V5T2ZQcm9wZXJ0eUtleXMoc2NoZW1hKTtcbiAgICBpbmNsdWRlUGF0dGVyblByb3BlcnRpZXMgPSBmYWxzZTtcbiAgICBjb25zdCBwYXR0ZXJuID0ga2V5cy5tYXAoKGtleSkgPT4gYCgke2tleX0pYCk7XG4gICAgcmV0dXJuIGBeKCR7cGF0dGVybi5qb2luKCd8Jyl9KSRgO1xufVxuIiwKICAgICJpbXBvcnQgeyBMaXRlcmFsIH0gZnJvbSAnLi4vbGl0ZXJhbC9pbmRleC5tanMnO1xuaW1wb3J0IHsgTnVtYmVyIH0gZnJvbSAnLi4vbnVtYmVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLZXlPZlByb3BlcnR5S2V5cyB9IGZyb20gJy4va2V5b2YtcHJvcGVydHkta2V5cy5tanMnO1xuaW1wb3J0IHsgVW5pb25FdmFsdWF0ZWQgfSBmcm9tICcuLi91bmlvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2xvbmVUeXBlIH0gZnJvbSAnLi4vY2xvbmUvdHlwZS5tanMnO1xuaW1wb3J0IHsgS2V5T2ZGcm9tTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi9rZXlvZi1mcm9tLW1hcHBlZC1yZXN1bHQubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gS2V5T2ZQcm9wZXJ0eUtleXNUb1Jlc3QoVCkge1xuICAgIHJldHVybiBULm1hcChMID0+IEwgPT09ICdbbnVtYmVyXScgPyBOdW1iZXIoKSA6IExpdGVyYWwoTCkpO1xufVxuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYSBLZXlPZiB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gS2V5T2YoVCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKElzTWFwcGVkUmVzdWx0KFQpKSB7XG4gICAgICAgIHJldHVybiBLZXlPZkZyb21NYXBwZWRSZXN1bHQoVCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBLID0gS2V5T2ZQcm9wZXJ0eUtleXMoVCk7XG4gICAgICAgIGNvbnN0IFMgPSBLZXlPZlByb3BlcnR5S2V5c1RvUmVzdChLKTtcbiAgICAgICAgY29uc3QgVSA9IFVuaW9uRXZhbHVhdGVkKFMpO1xuICAgICAgICByZXR1cm4gQ2xvbmVUeXBlKFUsIG9wdGlvbnMpO1xuICAgIH1cbn1cbiIsCiAgICAiaW1wb3J0IHsgTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi4vbWFwcGVkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLZXlPZiB9IGZyb20gJy4va2V5b2YubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnRpZXMoSywgb3B0aW9ucykge1xuICAgIGNvbnN0IEFjYyA9IHt9O1xuICAgIGZvciAoY29uc3QgSzIgb2YgZ2xvYmFsVGhpcy5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhLKSlcbiAgICAgICAgQWNjW0syXSA9IEtleU9mKEtbSzJdLCBvcHRpb25zKTtcbiAgICByZXR1cm4gQWNjO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTWFwcGVkUmVzdWx0KFIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gRnJvbVByb3BlcnRpZXMoUi5wcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIEtleU9mRnJvbU1hcHBlZFJlc3VsdChSLCBvcHRpb25zKSB7XG4gICAgY29uc3QgUCA9IEZyb21NYXBwZWRSZXN1bHQoUiwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIE1hcHBlZFJlc3VsdChQKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgSW5kZXhGcm9tUHJvcGVydHlLZXlzIH0gZnJvbSAnLi4vaW5kZXhlZC9pbmRleGVkLm1qcyc7XG5pbXBvcnQgeyBLZXlPZlByb3BlcnR5S2V5cyB9IGZyb20gJy4va2V5b2YtcHJvcGVydHkta2V5cy5tanMnO1xuLyoqXG4gKiBgW1V0aWxpdHldYCBSZXNvbHZlcyBhbiBhcnJheSBvZiBrZXlzIGFuZCBzY2hlbWFzIGZyb20gdGhlIGdpdmVuIHNjaGVtYS4gVGhpcyBtZXRob2QgaXMgZmFzdGVyXG4gKiB0aGFuIG9idGFpbmluZyB0aGUga2V5cyBhbmQgcmVzb2x2aW5nIGVhY2ggaW5kaXZpZHVhbGx5IHZpYSBpbmRleGluZy4gVGhpcyBtZXRob2Qgd2FzIHdyaXR0ZW5cbiAqIGFjY2VsbGVyYXRlIEludGVyc2VjdCBhbmQgVW5pb24gZW5jb2RpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBLZXlPZlByb3BlcnR5RW50cmllcyhzY2hlbWEpIHtcbiAgICBjb25zdCBrZXlzID0gS2V5T2ZQcm9wZXJ0eUtleXMoc2NoZW1hKTtcbiAgICBjb25zdCBzY2hlbWFzID0gSW5kZXhGcm9tUHJvcGVydHlLZXlzKHNjaGVtYSwga2V5cyk7XG4gICAgcmV0dXJuIGtleXMubWFwKChfLCBpbmRleCkgPT4gW2tleXNbaW5kZXhdLCBzY2hlbWFzW2luZGV4XV0pO1xufVxuIiwKICAgICJpbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLyoqIEZhc3QgdW5kZWZpbmVkIGNoZWNrIHVzZWQgZm9yIHByb3BlcnRpZXMgb2YgdHlwZSB1bmRlZmluZWQgKi9cbmZ1bmN0aW9uIEludGVyc2VjdChzY2hlbWEpIHtcbiAgICByZXR1cm4gc2NoZW1hLmFsbE9mLmV2ZXJ5KChzY2hlbWEpID0+IEV4dGVuZHNVbmRlZmluZWRDaGVjayhzY2hlbWEpKTtcbn1cbmZ1bmN0aW9uIFVuaW9uKHNjaGVtYSkge1xuICAgIHJldHVybiBzY2hlbWEuYW55T2Yuc29tZSgoc2NoZW1hKSA9PiBFeHRlbmRzVW5kZWZpbmVkQ2hlY2soc2NoZW1hKSk7XG59XG5mdW5jdGlvbiBOb3Qoc2NoZW1hKSB7XG4gICAgcmV0dXJuICFFeHRlbmRzVW5kZWZpbmVkQ2hlY2soc2NoZW1hLm5vdCk7XG59XG4vKiogRmFzdCB1bmRlZmluZWQgY2hlY2sgdXNlZCBmb3IgcHJvcGVydGllcyBvZiB0eXBlIHVuZGVmaW5lZCAqL1xuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gRXh0ZW5kc1VuZGVmaW5lZENoZWNrKHNjaGVtYSkge1xuICAgIHJldHVybiAoc2NoZW1hW0tpbmRdID09PSAnSW50ZXJzZWN0JyA/IEludGVyc2VjdChzY2hlbWEpIDpcbiAgICAgICAgc2NoZW1hW0tpbmRdID09PSAnVW5pb24nID8gVW5pb24oc2NoZW1hKSA6XG4gICAgICAgICAgICBzY2hlbWFbS2luZF0gPT09ICdOb3QnID8gTm90KHNjaGVtYSkgOlxuICAgICAgICAgICAgICAgIHNjaGVtYVtLaW5kXSA9PT0gJ1VuZGVmaW5lZCcgPyB0cnVlIDpcbiAgICAgICAgICAgICAgICAgICAgZmFsc2UpO1xufVxuIiwKICAgICJpbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vdHlwZS9zeW1ib2xzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBWYWx1ZUVycm9yVHlwZSB9IGZyb20gJy4vZXJyb3JzLm1qcyc7XG4vKiogQ3JlYXRlcyBhbiBlcnJvciBtZXNzYWdlIHVzaW5nIGVuLVVTIGFzIHRoZSBkZWZhdWx0IGxvY2FsZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIERlZmF1bHRFcnJvckZ1bmN0aW9uKGVycm9yKSB7XG4gICAgc3dpdGNoIChlcnJvci5lcnJvclR5cGUpIHtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5BcnJheUNvbnRhaW5zOlxuICAgICAgICAgICAgcmV0dXJuICdFeHBlY3RlZCBhcnJheSB0byBjb250YWluIGF0IGxlYXN0IG9uZSBtYXRjaGluZyB2YWx1ZSc7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuQXJyYXlNYXhDb250YWluczpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgYXJyYXkgdG8gY29udGFpbiBubyBtb3JlIHRoYW4gJHtlcnJvci5zY2hlbWEubWF4Q29udGFpbnN9IG1hdGNoaW5nIHZhbHVlc2A7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuQXJyYXlNaW5Db250YWluczpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgYXJyYXkgdG8gY29udGFpbiBhdCBsZWFzdCAke2Vycm9yLnNjaGVtYS5taW5Db250YWluc30gbWF0Y2hpbmcgdmFsdWVzYDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5BcnJheU1heEl0ZW1zOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBhcnJheSBsZW5ndGggdG8gYmUgbGVzcyBvciBlcXVhbCB0byAke2Vycm9yLnNjaGVtYS5tYXhJdGVtc31gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkFycmF5TWluSXRlbXM6XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIGFycmF5IGxlbmd0aCB0byBiZSBncmVhdGVyIG9yIGVxdWFsIHRvICR7ZXJyb3Iuc2NoZW1hLm1pbkl0ZW1zfWA7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuQXJyYXlVbmlxdWVJdGVtczpcbiAgICAgICAgICAgIHJldHVybiAnRXhwZWN0ZWQgYXJyYXkgZWxlbWVudHMgdG8gYmUgdW5pcXVlJztcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5BcnJheTpcbiAgICAgICAgICAgIHJldHVybiAnRXhwZWN0ZWQgYXJyYXknO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkFzeW5jSXRlcmF0b3I6XG4gICAgICAgICAgICByZXR1cm4gJ0V4cGVjdGVkIEFzeW5jSXRlcmF0b3InO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkJpZ0ludEV4Y2x1c2l2ZU1heGltdW06XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIGJpZ2ludCB0byBiZSBsZXNzIHRoYW4gJHtlcnJvci5zY2hlbWEuZXhjbHVzaXZlTWF4aW11bX1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkJpZ0ludEV4Y2x1c2l2ZU1pbmltdW06XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIGJpZ2ludCB0byBiZSBncmVhdGVyIHRoYW4gJHtlcnJvci5zY2hlbWEuZXhjbHVzaXZlTWluaW11bX1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkJpZ0ludE1heGltdW06XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIGJpZ2ludCB0byBiZSBsZXNzIG9yIGVxdWFsIHRvICR7ZXJyb3Iuc2NoZW1hLm1heGltdW19YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5CaWdJbnRNaW5pbXVtOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBiaWdpbnQgdG8gYmUgZ3JlYXRlciBvciBlcXVhbCB0byAke2Vycm9yLnNjaGVtYS5taW5pbXVtfWA7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuQmlnSW50TXVsdGlwbGVPZjpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgYmlnaW50IHRvIGJlIGEgbXVsdGlwbGUgb2YgJHtlcnJvci5zY2hlbWEubXVsdGlwbGVPZn1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkJpZ0ludDpcbiAgICAgICAgICAgIHJldHVybiAnRXhwZWN0ZWQgYmlnaW50JztcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5Cb29sZWFuOlxuICAgICAgICAgICAgcmV0dXJuICdFeHBlY3RlZCBib29sZWFuJztcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5EYXRlRXhjbHVzaXZlTWluaW11bVRpbWVzdGFtcDpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgRGF0ZSB0aW1lc3RhbXAgdG8gYmUgZ3JlYXRlciB0aGFuICR7ZXJyb3Iuc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW1UaW1lc3RhbXB9YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5EYXRlRXhjbHVzaXZlTWF4aW11bVRpbWVzdGFtcDpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgRGF0ZSB0aW1lc3RhbXAgdG8gYmUgbGVzcyB0aGFuICR7ZXJyb3Iuc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW1UaW1lc3RhbXB9YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5EYXRlTWluaW11bVRpbWVzdGFtcDpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgRGF0ZSB0aW1lc3RhbXAgdG8gYmUgZ3JlYXRlciBvciBlcXVhbCB0byAke2Vycm9yLnNjaGVtYS5taW5pbXVtVGltZXN0YW1wfWA7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuRGF0ZU1heGltdW1UaW1lc3RhbXA6XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIERhdGUgdGltZXN0YW1wIHRvIGJlIGxlc3Mgb3IgZXF1YWwgdG8gJHtlcnJvci5zY2hlbWEubWF4aW11bVRpbWVzdGFtcH1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkRhdGVNdWx0aXBsZU9mVGltZXN0YW1wOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBEYXRlIHRpbWVzdGFtcCB0byBiZSBhIG11bHRpcGxlIG9mICR7ZXJyb3Iuc2NoZW1hLm11bHRpcGxlT2ZUaW1lc3RhbXB9YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5EYXRlOlxuICAgICAgICAgICAgcmV0dXJuICdFeHBlY3RlZCBEYXRlJztcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5GdW5jdGlvbjpcbiAgICAgICAgICAgIHJldHVybiAnRXhwZWN0ZWQgZnVuY3Rpb24nO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkludGVnZXJFeGNsdXNpdmVNYXhpbXVtOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBpbnRlZ2VyIHRvIGJlIGxlc3MgdGhhbiAke2Vycm9yLnNjaGVtYS5leGNsdXNpdmVNYXhpbXVtfWA7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuSW50ZWdlckV4Y2x1c2l2ZU1pbmltdW06XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIGludGVnZXIgdG8gYmUgZ3JlYXRlciB0aGFuICR7ZXJyb3Iuc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW19YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5JbnRlZ2VyTWF4aW11bTpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgaW50ZWdlciB0byBiZSBsZXNzIG9yIGVxdWFsIHRvICR7ZXJyb3Iuc2NoZW1hLm1heGltdW19YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5JbnRlZ2VyTWluaW11bTpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgaW50ZWdlciB0byBiZSBncmVhdGVyIG9yIGVxdWFsIHRvICR7ZXJyb3Iuc2NoZW1hLm1pbmltdW19YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5JbnRlZ2VyTXVsdGlwbGVPZjpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgaW50ZWdlciB0byBiZSBhIG11bHRpcGxlIG9mICR7ZXJyb3Iuc2NoZW1hLm11bHRpcGxlT2Z9YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5JbnRlZ2VyOlxuICAgICAgICAgICAgcmV0dXJuICdFeHBlY3RlZCBpbnRlZ2VyJztcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5JbnRlcnNlY3RVbmV2YWx1YXRlZFByb3BlcnRpZXM6XG4gICAgICAgICAgICByZXR1cm4gJ1VuZXhwZWN0ZWQgcHJvcGVydHknO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkludGVyc2VjdDpcbiAgICAgICAgICAgIHJldHVybiAnRXhwZWN0ZWQgYWxsIHZhbHVlcyB0byBtYXRjaCc7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuSXRlcmF0b3I6XG4gICAgICAgICAgICByZXR1cm4gJ0V4cGVjdGVkIEl0ZXJhdG9yJztcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5MaXRlcmFsOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCAke3R5cGVvZiBlcnJvci5zY2hlbWEuY29uc3QgPT09ICdzdHJpbmcnID8gYCcke2Vycm9yLnNjaGVtYS5jb25zdH0nYCA6IGVycm9yLnNjaGVtYS5jb25zdH1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLk5ldmVyOlxuICAgICAgICAgICAgcmV0dXJuICdOZXZlcic7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuTm90OlxuICAgICAgICAgICAgcmV0dXJuICdWYWx1ZSBzaG91bGQgbm90IG1hdGNoJztcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5OdWxsOlxuICAgICAgICAgICAgcmV0dXJuICdFeHBlY3RlZCBudWxsJztcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5OdW1iZXJFeGNsdXNpdmVNYXhpbXVtOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBudW1iZXIgdG8gYmUgbGVzcyB0aGFuICR7ZXJyb3Iuc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW19YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5OdW1iZXJFeGNsdXNpdmVNaW5pbXVtOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBudW1iZXIgdG8gYmUgZ3JlYXRlciB0aGFuICR7ZXJyb3Iuc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW19YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5OdW1iZXJNYXhpbXVtOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBudW1iZXIgdG8gYmUgbGVzcyBvciBlcXVhbCB0byAke2Vycm9yLnNjaGVtYS5tYXhpbXVtfWA7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuTnVtYmVyTWluaW11bTpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgbnVtYmVyIHRvIGJlIGdyZWF0ZXIgb3IgZXF1YWwgdG8gJHtlcnJvci5zY2hlbWEubWluaW11bX1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLk51bWJlck11bHRpcGxlT2Y6XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIG51bWJlciB0byBiZSBhIG11bHRpcGxlIG9mICR7ZXJyb3Iuc2NoZW1hLm11bHRpcGxlT2Z9YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5OdW1iZXI6XG4gICAgICAgICAgICByZXR1cm4gJ0V4cGVjdGVkIG51bWJlcic7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuT2JqZWN0OlxuICAgICAgICAgICAgcmV0dXJuICdFeHBlY3RlZCBvYmplY3QnO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLk9iamVjdEFkZGl0aW9uYWxQcm9wZXJ0aWVzOlxuICAgICAgICAgICAgcmV0dXJuICdVbmV4cGVjdGVkIHByb3BlcnR5JztcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5PYmplY3RNYXhQcm9wZXJ0aWVzOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBvYmplY3QgdG8gaGF2ZSBubyBtb3JlIHRoYW4gJHtlcnJvci5zY2hlbWEubWF4UHJvcGVydGllc30gcHJvcGVydGllc2A7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuT2JqZWN0TWluUHJvcGVydGllczpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgb2JqZWN0IHRvIGhhdmUgYXQgbGVhc3QgJHtlcnJvci5zY2hlbWEubWluUHJvcGVydGllc30gcHJvcGVydGllc2A7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuT2JqZWN0UmVxdWlyZWRQcm9wZXJ0eTpcbiAgICAgICAgICAgIHJldHVybiAnUmVxdWlyZWQgcHJvcGVydHknO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLlByb21pc2U6XG4gICAgICAgICAgICByZXR1cm4gJ0V4cGVjdGVkIFByb21pc2UnO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLlJlZ0V4cDpcbiAgICAgICAgICAgIHJldHVybiAnRXhwZWN0ZWQgc3RyaW5nIHRvIG1hdGNoIHJlZ3VsYXIgZXhwcmVzc2lvbic7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuU3RyaW5nRm9ybWF0VW5rbm93bjpcbiAgICAgICAgICAgIHJldHVybiBgVW5rbm93biBmb3JtYXQgJyR7ZXJyb3Iuc2NoZW1hLmZvcm1hdH0nYDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5TdHJpbmdGb3JtYXQ6XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIHN0cmluZyB0byBtYXRjaCAnJHtlcnJvci5zY2hlbWEuZm9ybWF0fScgZm9ybWF0YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5TdHJpbmdNYXhMZW5ndGg6XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIHN0cmluZyBsZW5ndGggbGVzcyBvciBlcXVhbCB0byAke2Vycm9yLnNjaGVtYS5tYXhMZW5ndGh9YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5TdHJpbmdNaW5MZW5ndGg6XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIHN0cmluZyBsZW5ndGggZ3JlYXRlciBvciBlcXVhbCB0byAke2Vycm9yLnNjaGVtYS5taW5MZW5ndGh9YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5TdHJpbmdQYXR0ZXJuOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBzdHJpbmcgdG8gbWF0Y2ggJyR7ZXJyb3Iuc2NoZW1hLnBhdHRlcm59J2A7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuU3RyaW5nOlxuICAgICAgICAgICAgcmV0dXJuICdFeHBlY3RlZCBzdHJpbmcnO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLlN5bWJvbDpcbiAgICAgICAgICAgIHJldHVybiAnRXhwZWN0ZWQgc3ltYm9sJztcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5UdXBsZUxlbmd0aDpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgdHVwbGUgdG8gaGF2ZSAke2Vycm9yLnNjaGVtYS5tYXhJdGVtcyB8fCAwfSBlbGVtZW50c2A7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuVHVwbGU6XG4gICAgICAgICAgICByZXR1cm4gJ0V4cGVjdGVkIHR1cGxlJztcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5VaW50OEFycmF5TWF4Qnl0ZUxlbmd0aDpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgYnl0ZSBsZW5ndGggbGVzcyBvciBlcXVhbCB0byAke2Vycm9yLnNjaGVtYS5tYXhCeXRlTGVuZ3RofWA7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuVWludDhBcnJheU1pbkJ5dGVMZW5ndGg6XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIGJ5dGUgbGVuZ3RoIGdyZWF0ZXIgb3IgZXF1YWwgdG8gJHtlcnJvci5zY2hlbWEubWluQnl0ZUxlbmd0aH1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLlVpbnQ4QXJyYXk6XG4gICAgICAgICAgICByZXR1cm4gJ0V4cGVjdGVkIFVpbnQ4QXJyYXknO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLlVuZGVmaW5lZDpcbiAgICAgICAgICAgIHJldHVybiAnRXhwZWN0ZWQgdW5kZWZpbmVkJztcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5VbmlvbjpcbiAgICAgICAgICAgIHJldHVybiAnRXhwZWN0ZWQgdW5pb24gdmFsdWUnO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLlZvaWQ6XG4gICAgICAgICAgICByZXR1cm4gJ0V4cGVjdGVkIHZvaWQnO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLktpbmQ6XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIGtpbmQgJyR7ZXJyb3Iuc2NoZW1hW0tpbmRdfSdgO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICdVbmtub3duIGVycm9yIHR5cGUnO1xuICAgIH1cbn1cbi8qKiBNYW5hZ2VzIGVycm9yIG1lc3NhZ2UgcHJvdmlkZXJzICovXG5sZXQgZXJyb3JGdW5jdGlvbiA9IERlZmF1bHRFcnJvckZ1bmN0aW9uO1xuLyoqIFNldHMgdGhlIGVycm9yIGZ1bmN0aW9uIHVzZWQgdG8gZ2VuZXJhdGUgZXJyb3IgbWVzc2FnZXMuICovXG5leHBvcnQgZnVuY3Rpb24gU2V0RXJyb3JGdW5jdGlvbihjYWxsYmFjaykge1xuICAgIGVycm9yRnVuY3Rpb24gPSBjYWxsYmFjaztcbn1cbi8qKiBHZXRzIHRoZSBlcnJvciBmdW5jdGlvbiB1c2VkIHRvIGdlbmVyYXRlIGVycm9yIG1lc3NhZ2VzICovXG5leHBvcnQgZnVuY3Rpb24gR2V0RXJyb3JGdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZXJyb3JGdW5jdGlvbjtcbn1cbiIsCiAgICAiaW1wb3J0IHsgVHlwZUJveEVycm9yIH0gZnJvbSAnLi4vLi4vdHlwZS9lcnJvci9pbmRleC5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uLy4uL3R5cGUvc3ltYm9scy9pbmRleC5tanMnO1xuZXhwb3J0IGNsYXNzIFR5cGVEZXJlZmVyZW5jZUVycm9yIGV4dGVuZHMgVHlwZUJveEVycm9yIHtcbiAgICBzY2hlbWE7XG4gICAgY29uc3RydWN0b3Ioc2NoZW1hKSB7XG4gICAgICAgIHN1cGVyKGBVbmFibGUgdG8gZGVyZWZlcmVuY2Ugc2NoZW1hIHdpdGggJGlkICcke3NjaGVtYS4kaWR9J2ApO1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICB9XG59XG5mdW5jdGlvbiBSZXNvbHZlKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGNvbnN0IHRhcmdldCA9IHJlZmVyZW5jZXMuZmluZCgodGFyZ2V0KSA9PiB0YXJnZXQuJGlkID09PSBzY2hlbWEuJHJlZik7XG4gICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZURlcmVmZXJlbmNlRXJyb3Ioc2NoZW1hKTtcbiAgICByZXR1cm4gRGVyZWYodGFyZ2V0LCByZWZlcmVuY2VzKTtcbn1cbi8qKiBEZXJlZmVyZW5jZXMgYSBzY2hlbWEgZnJvbSB0aGUgcmVmZXJlbmNlcyBhcnJheSBvciB0aHJvd3MgaWYgbm90IGZvdW5kICovXG5leHBvcnQgZnVuY3Rpb24gRGVyZWYoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChzY2hlbWFbS2luZF0gPT09ICdUaGlzJyB8fCBzY2hlbWFbS2luZF0gPT09ICdSZWYnKVxuICAgICAgICA/IFJlc29sdmUoc2NoZW1hLCByZWZlcmVuY2VzKVxuICAgICAgICA6IHNjaGVtYTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgSXNBcnJheSwgSXNCb29sZWFuLCBJc0JpZ0ludCwgSXNEYXRlLCBJc051bGwsIElzTnVtYmVyLCBJc1N0YW5kYXJkT2JqZWN0LCBJc1N0cmluZywgSXNTeW1ib2wsIElzVWludDhBcnJheSwgSXNVbmRlZmluZWQgfSBmcm9tICcuLi9ndWFyZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgVHlwZUJveEVycm9yIH0gZnJvbSAnLi4vLi4vdHlwZS9lcnJvci9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFcnJvcnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIFZhbHVlSGFzaEVycm9yIGV4dGVuZHMgVHlwZUJveEVycm9yIHtcbiAgICB2YWx1ZTtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICBzdXBlcihgVW5hYmxlIHRvIGhhc2ggdmFsdWVgKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQnl0ZU1hcmtlclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG52YXIgQnl0ZU1hcmtlcjtcbihmdW5jdGlvbiAoQnl0ZU1hcmtlcikge1xuICAgIEJ5dGVNYXJrZXJbQnl0ZU1hcmtlcltcIlVuZGVmaW5lZFwiXSA9IDBdID0gXCJVbmRlZmluZWRcIjtcbiAgICBCeXRlTWFya2VyW0J5dGVNYXJrZXJbXCJOdWxsXCJdID0gMV0gPSBcIk51bGxcIjtcbiAgICBCeXRlTWFya2VyW0J5dGVNYXJrZXJbXCJCb29sZWFuXCJdID0gMl0gPSBcIkJvb2xlYW5cIjtcbiAgICBCeXRlTWFya2VyW0J5dGVNYXJrZXJbXCJOdW1iZXJcIl0gPSAzXSA9IFwiTnVtYmVyXCI7XG4gICAgQnl0ZU1hcmtlcltCeXRlTWFya2VyW1wiU3RyaW5nXCJdID0gNF0gPSBcIlN0cmluZ1wiO1xuICAgIEJ5dGVNYXJrZXJbQnl0ZU1hcmtlcltcIk9iamVjdFwiXSA9IDVdID0gXCJPYmplY3RcIjtcbiAgICBCeXRlTWFya2VyW0J5dGVNYXJrZXJbXCJBcnJheVwiXSA9IDZdID0gXCJBcnJheVwiO1xuICAgIEJ5dGVNYXJrZXJbQnl0ZU1hcmtlcltcIkRhdGVcIl0gPSA3XSA9IFwiRGF0ZVwiO1xuICAgIEJ5dGVNYXJrZXJbQnl0ZU1hcmtlcltcIlVpbnQ4QXJyYXlcIl0gPSA4XSA9IFwiVWludDhBcnJheVwiO1xuICAgIEJ5dGVNYXJrZXJbQnl0ZU1hcmtlcltcIlN5bWJvbFwiXSA9IDldID0gXCJTeW1ib2xcIjtcbiAgICBCeXRlTWFya2VyW0J5dGVNYXJrZXJbXCJCaWdJbnRcIl0gPSAxMF0gPSBcIkJpZ0ludFwiO1xufSkoQnl0ZU1hcmtlciB8fCAoQnl0ZU1hcmtlciA9IHt9KSk7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YXRlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmxldCBBY2N1bXVsYXRvciA9IEJpZ0ludCgnMTQ2OTU5ODEwMzkzNDY2NTYwMzcnKTtcbmNvbnN0IFtQcmltZSwgU2l6ZV0gPSBbQmlnSW50KCcxMDk5NTExNjI4MjExJyksIEJpZ0ludCgnMicpICoqIEJpZ0ludCgnNjQnKV07XG5jb25zdCBCeXRlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDI1NiB9KS5tYXAoKF8sIGkpID0+IEJpZ0ludChpKSk7XG5jb25zdCBGNjQgPSBuZXcgRmxvYXQ2NEFycmF5KDEpO1xuY29uc3QgRjY0SW4gPSBuZXcgRGF0YVZpZXcoRjY0LmJ1ZmZlcik7XG5jb25zdCBGNjRPdXQgPSBuZXcgVWludDhBcnJheShGNjQuYnVmZmVyKTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gTnVtYmVyVG9CeXRlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiogTnVtYmVyVG9CeXRlcyh2YWx1ZSkge1xuICAgIGNvbnN0IGJ5dGVDb3VudCA9IHZhbHVlID09PSAwID8gMSA6IE1hdGguY2VpbChNYXRoLmZsb29yKE1hdGgubG9nMih2YWx1ZSkgKyAxKSAvIDgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZUNvdW50OyBpKyspIHtcbiAgICAgICAgeWllbGQgKHZhbHVlID4+ICg4ICogKGJ5dGVDb3VudCAtIDEgLSBpKSkpICYgMHhmZjtcbiAgICB9XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEhhc2hpbmcgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIEFycmF5VHlwZSh2YWx1ZSkge1xuICAgIEZOVjFBNjQoQnl0ZU1hcmtlci5BcnJheSk7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHZhbHVlKSB7XG4gICAgICAgIFZpc2l0KGl0ZW0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIEJvb2xlYW5UeXBlKHZhbHVlKSB7XG4gICAgRk5WMUE2NChCeXRlTWFya2VyLkJvb2xlYW4pO1xuICAgIEZOVjFBNjQodmFsdWUgPyAxIDogMCk7XG59XG5mdW5jdGlvbiBCaWdJbnRUeXBlKHZhbHVlKSB7XG4gICAgRk5WMUE2NChCeXRlTWFya2VyLkJpZ0ludCk7XG4gICAgRjY0SW4uc2V0QmlnSW50NjQoMCwgdmFsdWUpO1xuICAgIGZvciAoY29uc3QgYnl0ZSBvZiBGNjRPdXQpIHtcbiAgICAgICAgRk5WMUE2NChieXRlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBEYXRlVHlwZSh2YWx1ZSkge1xuICAgIEZOVjFBNjQoQnl0ZU1hcmtlci5EYXRlKTtcbiAgICBWaXNpdCh2YWx1ZS5nZXRUaW1lKCkpO1xufVxuZnVuY3Rpb24gTnVsbFR5cGUodmFsdWUpIHtcbiAgICBGTlYxQTY0KEJ5dGVNYXJrZXIuTnVsbCk7XG59XG5mdW5jdGlvbiBOdW1iZXJUeXBlKHZhbHVlKSB7XG4gICAgRk5WMUE2NChCeXRlTWFya2VyLk51bWJlcik7XG4gICAgRjY0SW4uc2V0RmxvYXQ2NCgwLCB2YWx1ZSk7XG4gICAgZm9yIChjb25zdCBieXRlIG9mIEY2NE91dCkge1xuICAgICAgICBGTlYxQTY0KGJ5dGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIE9iamVjdFR5cGUodmFsdWUpIHtcbiAgICBGTlYxQTY0KEJ5dGVNYXJrZXIuT2JqZWN0KTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBnbG9iYWxUaGlzLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKS5zb3J0KCkpIHtcbiAgICAgICAgVmlzaXQoa2V5KTtcbiAgICAgICAgVmlzaXQodmFsdWVba2V5XSk7XG4gICAgfVxufVxuZnVuY3Rpb24gU3RyaW5nVHlwZSh2YWx1ZSkge1xuICAgIEZOVjFBNjQoQnl0ZU1hcmtlci5TdHJpbmcpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yIChjb25zdCBieXRlIG9mIE51bWJlclRvQnl0ZXModmFsdWUuY2hhckNvZGVBdChpKSkpIHtcbiAgICAgICAgICAgIEZOVjFBNjQoYnl0ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBTeW1ib2xUeXBlKHZhbHVlKSB7XG4gICAgRk5WMUE2NChCeXRlTWFya2VyLlN5bWJvbCk7XG4gICAgVmlzaXQodmFsdWUuZGVzY3JpcHRpb24pO1xufVxuZnVuY3Rpb24gVWludDhBcnJheVR5cGUodmFsdWUpIHtcbiAgICBGTlYxQTY0KEJ5dGVNYXJrZXIuVWludDhBcnJheSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBGTlYxQTY0KHZhbHVlW2ldKTtcbiAgICB9XG59XG5mdW5jdGlvbiBVbmRlZmluZWRUeXBlKHZhbHVlKSB7XG4gICAgcmV0dXJuIEZOVjFBNjQoQnl0ZU1hcmtlci5VbmRlZmluZWQpO1xufVxuZnVuY3Rpb24gVmlzaXQodmFsdWUpIHtcbiAgICBpZiAoSXNBcnJheSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiBBcnJheVR5cGUodmFsdWUpO1xuICAgIGlmIChJc0Jvb2xlYW4odmFsdWUpKVxuICAgICAgICByZXR1cm4gQm9vbGVhblR5cGUodmFsdWUpO1xuICAgIGlmIChJc0JpZ0ludCh2YWx1ZSkpXG4gICAgICAgIHJldHVybiBCaWdJbnRUeXBlKHZhbHVlKTtcbiAgICBpZiAoSXNEYXRlKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIERhdGVUeXBlKHZhbHVlKTtcbiAgICBpZiAoSXNOdWxsKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIE51bGxUeXBlKHZhbHVlKTtcbiAgICBpZiAoSXNOdW1iZXIodmFsdWUpKVxuICAgICAgICByZXR1cm4gTnVtYmVyVHlwZSh2YWx1ZSk7XG4gICAgaWYgKElzU3RhbmRhcmRPYmplY3QodmFsdWUpKVxuICAgICAgICByZXR1cm4gT2JqZWN0VHlwZSh2YWx1ZSk7XG4gICAgaWYgKElzU3RyaW5nKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIFN0cmluZ1R5cGUodmFsdWUpO1xuICAgIGlmIChJc1N5bWJvbCh2YWx1ZSkpXG4gICAgICAgIHJldHVybiBTeW1ib2xUeXBlKHZhbHVlKTtcbiAgICBpZiAoSXNVaW50OEFycmF5KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXlUeXBlKHZhbHVlKTtcbiAgICBpZiAoSXNVbmRlZmluZWQodmFsdWUpKVxuICAgICAgICByZXR1cm4gVW5kZWZpbmVkVHlwZSh2YWx1ZSk7XG4gICAgdGhyb3cgbmV3IFZhbHVlSGFzaEVycm9yKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZOVjFBNjQoYnl0ZSkge1xuICAgIEFjY3VtdWxhdG9yID0gQWNjdW11bGF0b3IgXiBCeXRlc1tieXRlXTtcbiAgICBBY2N1bXVsYXRvciA9IChBY2N1bXVsYXRvciAqIFByaW1lKSAlIFNpemU7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEhhc2hcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIENyZWF0ZXMgYSBGTlYxQS02NCBub24gY3J5cHRvZ3JhcGhpYyBoYXNoIG9mIHRoZSBnaXZlbiB2YWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIEhhc2godmFsdWUpIHtcbiAgICBBY2N1bXVsYXRvciA9IEJpZ0ludCgnMTQ2OTU5ODEwMzkzNDY2NTYwMzcnKTtcbiAgICBWaXNpdCh2YWx1ZSk7XG4gICAgcmV0dXJuIEFjY3VtdWxhdG9yO1xufVxuIiwKICAgICJpbXBvcnQgeyBUeXBlU3lzdGVtUG9saWN5IH0gZnJvbSAnLi4vc3lzdGVtL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLZXlPZlBhdHRlcm4gfSBmcm9tICcuLi90eXBlL2tleW9mL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUeXBlUmVnaXN0cnksIEZvcm1hdFJlZ2lzdHJ5IH0gZnJvbSAnLi4vdHlwZS9yZWdpc3RyeS9pbmRleC5tanMnO1xuaW1wb3J0IHsgRXh0ZW5kc1VuZGVmaW5lZENoZWNrIH0gZnJvbSAnLi4vdHlwZS9leHRlbmRzL2V4dGVuZHMtdW5kZWZpbmVkLm1qcyc7XG5pbXBvcnQgeyBHZXRFcnJvckZ1bmN0aW9uIH0gZnJvbSAnLi9mdW5jdGlvbi5tanMnO1xuaW1wb3J0IHsgVHlwZUJveEVycm9yIH0gZnJvbSAnLi4vdHlwZS9lcnJvci9pbmRleC5tanMnO1xuaW1wb3J0IHsgRGVyZWYgfSBmcm9tICcuLi92YWx1ZS9kZXJlZi9pbmRleC5tanMnO1xuaW1wb3J0IHsgSGFzaCB9IGZyb20gJy4uL3ZhbHVlL2hhc2gvaW5kZXgubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi90eXBlL3N5bWJvbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IE5ldmVyIH0gZnJvbSAnLi4vdHlwZS9uZXZlci9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBWYWx1ZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuaW1wb3J0IHsgSXNBcnJheSwgSXNVaW50OEFycmF5LCBJc0RhdGUsIElzUHJvbWlzZSwgSXNGdW5jdGlvbiwgSXNBc3luY0l0ZXJhdG9yLCBJc0l0ZXJhdG9yLCBJc0Jvb2xlYW4sIElzTnVtYmVyLCBJc0JpZ0ludCwgSXNTdHJpbmcsIElzU3ltYm9sLCBJc0ludGVnZXIsIElzTnVsbCwgSXNVbmRlZmluZWQgfSBmcm9tICcuLi92YWx1ZS9ndWFyZC9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBWYWx1ZUVycm9yVHlwZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgdmFyIFZhbHVlRXJyb3JUeXBlO1xuKGZ1bmN0aW9uIChWYWx1ZUVycm9yVHlwZSkge1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiQXJyYXlDb250YWluc1wiXSA9IDBdID0gXCJBcnJheUNvbnRhaW5zXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJBcnJheU1heENvbnRhaW5zXCJdID0gMV0gPSBcIkFycmF5TWF4Q29udGFpbnNcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkFycmF5TWF4SXRlbXNcIl0gPSAyXSA9IFwiQXJyYXlNYXhJdGVtc1wiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiQXJyYXlNaW5Db250YWluc1wiXSA9IDNdID0gXCJBcnJheU1pbkNvbnRhaW5zXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJBcnJheU1pbkl0ZW1zXCJdID0gNF0gPSBcIkFycmF5TWluSXRlbXNcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkFycmF5VW5pcXVlSXRlbXNcIl0gPSA1XSA9IFwiQXJyYXlVbmlxdWVJdGVtc1wiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiQXJyYXlcIl0gPSA2XSA9IFwiQXJyYXlcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkFzeW5jSXRlcmF0b3JcIl0gPSA3XSA9IFwiQXN5bmNJdGVyYXRvclwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiQmlnSW50RXhjbHVzaXZlTWF4aW11bVwiXSA9IDhdID0gXCJCaWdJbnRFeGNsdXNpdmVNYXhpbXVtXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJCaWdJbnRFeGNsdXNpdmVNaW5pbXVtXCJdID0gOV0gPSBcIkJpZ0ludEV4Y2x1c2l2ZU1pbmltdW1cIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkJpZ0ludE1heGltdW1cIl0gPSAxMF0gPSBcIkJpZ0ludE1heGltdW1cIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkJpZ0ludE1pbmltdW1cIl0gPSAxMV0gPSBcIkJpZ0ludE1pbmltdW1cIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkJpZ0ludE11bHRpcGxlT2ZcIl0gPSAxMl0gPSBcIkJpZ0ludE11bHRpcGxlT2ZcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkJpZ0ludFwiXSA9IDEzXSA9IFwiQmlnSW50XCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJCb29sZWFuXCJdID0gMTRdID0gXCJCb29sZWFuXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJEYXRlRXhjbHVzaXZlTWF4aW11bVRpbWVzdGFtcFwiXSA9IDE1XSA9IFwiRGF0ZUV4Y2x1c2l2ZU1heGltdW1UaW1lc3RhbXBcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkRhdGVFeGNsdXNpdmVNaW5pbXVtVGltZXN0YW1wXCJdID0gMTZdID0gXCJEYXRlRXhjbHVzaXZlTWluaW11bVRpbWVzdGFtcFwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiRGF0ZU1heGltdW1UaW1lc3RhbXBcIl0gPSAxN10gPSBcIkRhdGVNYXhpbXVtVGltZXN0YW1wXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJEYXRlTWluaW11bVRpbWVzdGFtcFwiXSA9IDE4XSA9IFwiRGF0ZU1pbmltdW1UaW1lc3RhbXBcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkRhdGVNdWx0aXBsZU9mVGltZXN0YW1wXCJdID0gMTldID0gXCJEYXRlTXVsdGlwbGVPZlRpbWVzdGFtcFwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiRGF0ZVwiXSA9IDIwXSA9IFwiRGF0ZVwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiRnVuY3Rpb25cIl0gPSAyMV0gPSBcIkZ1bmN0aW9uXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJJbnRlZ2VyRXhjbHVzaXZlTWF4aW11bVwiXSA9IDIyXSA9IFwiSW50ZWdlckV4Y2x1c2l2ZU1heGltdW1cIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkludGVnZXJFeGNsdXNpdmVNaW5pbXVtXCJdID0gMjNdID0gXCJJbnRlZ2VyRXhjbHVzaXZlTWluaW11bVwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiSW50ZWdlck1heGltdW1cIl0gPSAyNF0gPSBcIkludGVnZXJNYXhpbXVtXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJJbnRlZ2VyTWluaW11bVwiXSA9IDI1XSA9IFwiSW50ZWdlck1pbmltdW1cIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkludGVnZXJNdWx0aXBsZU9mXCJdID0gMjZdID0gXCJJbnRlZ2VyTXVsdGlwbGVPZlwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiSW50ZWdlclwiXSA9IDI3XSA9IFwiSW50ZWdlclwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiSW50ZXJzZWN0VW5ldmFsdWF0ZWRQcm9wZXJ0aWVzXCJdID0gMjhdID0gXCJJbnRlcnNlY3RVbmV2YWx1YXRlZFByb3BlcnRpZXNcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkludGVyc2VjdFwiXSA9IDI5XSA9IFwiSW50ZXJzZWN0XCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJJdGVyYXRvclwiXSA9IDMwXSA9IFwiSXRlcmF0b3JcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIktpbmRcIl0gPSAzMV0gPSBcIktpbmRcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkxpdGVyYWxcIl0gPSAzMl0gPSBcIkxpdGVyYWxcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIk5ldmVyXCJdID0gMzNdID0gXCJOZXZlclwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiTm90XCJdID0gMzRdID0gXCJOb3RcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIk51bGxcIl0gPSAzNV0gPSBcIk51bGxcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIk51bWJlckV4Y2x1c2l2ZU1heGltdW1cIl0gPSAzNl0gPSBcIk51bWJlckV4Y2x1c2l2ZU1heGltdW1cIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIk51bWJlckV4Y2x1c2l2ZU1pbmltdW1cIl0gPSAzN10gPSBcIk51bWJlckV4Y2x1c2l2ZU1pbmltdW1cIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIk51bWJlck1heGltdW1cIl0gPSAzOF0gPSBcIk51bWJlck1heGltdW1cIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIk51bWJlck1pbmltdW1cIl0gPSAzOV0gPSBcIk51bWJlck1pbmltdW1cIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIk51bWJlck11bHRpcGxlT2ZcIl0gPSA0MF0gPSBcIk51bWJlck11bHRpcGxlT2ZcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIk51bWJlclwiXSA9IDQxXSA9IFwiTnVtYmVyXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJPYmplY3RBZGRpdGlvbmFsUHJvcGVydGllc1wiXSA9IDQyXSA9IFwiT2JqZWN0QWRkaXRpb25hbFByb3BlcnRpZXNcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIk9iamVjdE1heFByb3BlcnRpZXNcIl0gPSA0M10gPSBcIk9iamVjdE1heFByb3BlcnRpZXNcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIk9iamVjdE1pblByb3BlcnRpZXNcIl0gPSA0NF0gPSBcIk9iamVjdE1pblByb3BlcnRpZXNcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIk9iamVjdFJlcXVpcmVkUHJvcGVydHlcIl0gPSA0NV0gPSBcIk9iamVjdFJlcXVpcmVkUHJvcGVydHlcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIk9iamVjdFwiXSA9IDQ2XSA9IFwiT2JqZWN0XCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJQcm9taXNlXCJdID0gNDddID0gXCJQcm9taXNlXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJSZWdFeHBcIl0gPSA0OF0gPSBcIlJlZ0V4cFwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiU3RyaW5nRm9ybWF0VW5rbm93blwiXSA9IDQ5XSA9IFwiU3RyaW5nRm9ybWF0VW5rbm93blwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiU3RyaW5nRm9ybWF0XCJdID0gNTBdID0gXCJTdHJpbmdGb3JtYXRcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIlN0cmluZ01heExlbmd0aFwiXSA9IDUxXSA9IFwiU3RyaW5nTWF4TGVuZ3RoXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJTdHJpbmdNaW5MZW5ndGhcIl0gPSA1Ml0gPSBcIlN0cmluZ01pbkxlbmd0aFwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiU3RyaW5nUGF0dGVyblwiXSA9IDUzXSA9IFwiU3RyaW5nUGF0dGVyblwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiU3RyaW5nXCJdID0gNTRdID0gXCJTdHJpbmdcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIlN5bWJvbFwiXSA9IDU1XSA9IFwiU3ltYm9sXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJUdXBsZUxlbmd0aFwiXSA9IDU2XSA9IFwiVHVwbGVMZW5ndGhcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIlR1cGxlXCJdID0gNTddID0gXCJUdXBsZVwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiVWludDhBcnJheU1heEJ5dGVMZW5ndGhcIl0gPSA1OF0gPSBcIlVpbnQ4QXJyYXlNYXhCeXRlTGVuZ3RoXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJVaW50OEFycmF5TWluQnl0ZUxlbmd0aFwiXSA9IDU5XSA9IFwiVWludDhBcnJheU1pbkJ5dGVMZW5ndGhcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIlVpbnQ4QXJyYXlcIl0gPSA2MF0gPSBcIlVpbnQ4QXJyYXlcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIlVuZGVmaW5lZFwiXSA9IDYxXSA9IFwiVW5kZWZpbmVkXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJVbmlvblwiXSA9IDYyXSA9IFwiVW5pb25cIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIlZvaWRcIl0gPSA2M10gPSBcIlZvaWRcIjtcbn0pKFZhbHVlRXJyb3JUeXBlIHx8IChWYWx1ZUVycm9yVHlwZSA9IHt9KSk7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFZhbHVlRXJyb3JzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjbGFzcyBWYWx1ZUVycm9yc1Vua25vd25UeXBlRXJyb3IgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xuICAgIHNjaGVtYTtcbiAgICBjb25zdHJ1Y3RvcihzY2hlbWEpIHtcbiAgICAgICAgc3VwZXIoJ1Vua25vd24gdHlwZScpO1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICB9XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEVzY2FwZUtleVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBFc2NhcGVLZXkoa2V5KSB7XG4gICAgcmV0dXJuIGtleS5yZXBsYWNlKC9+L2csICd+MCcpLnJlcGxhY2UoL1xcLy9nLCAnfjEnKTsgLy8gUkZDNjkwMSBQYXRoXG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEd1YXJkc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBJc0RlZmluZWQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVmFsdWVFcnJvckl0ZXJhdG9yXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjbGFzcyBWYWx1ZUVycm9ySXRlcmF0b3Ige1xuICAgIGl0ZXJhdG9yO1xuICAgIGNvbnN0cnVjdG9yKGl0ZXJhdG9yKSB7XG4gICAgICAgIHRoaXMuaXRlcmF0b3IgPSBpdGVyYXRvcjtcbiAgICB9XG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZXJhdG9yO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyB0aGUgZmlyc3QgdmFsdWUgZXJyb3Igb3IgdW5kZWZpbmVkIGlmIG5vIGVycm9ycyAqL1xuICAgIEZpcnN0KCkge1xuICAgICAgICBjb25zdCBuZXh0ID0gdGhpcy5pdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHJldHVybiBuZXh0LmRvbmUgPyB1bmRlZmluZWQgOiBuZXh0LnZhbHVlO1xuICAgIH1cbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDcmVhdGVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBDcmVhdGUoZXJyb3JUeXBlLCBzY2hlbWEsIHBhdGgsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogZXJyb3JUeXBlLCBzY2hlbWEsIHBhdGgsIHZhbHVlLCBtZXNzYWdlOiBHZXRFcnJvckZ1bmN0aW9uKCkoeyBlcnJvclR5cGUsIHBhdGgsIHNjaGVtYSwgdmFsdWUgfSkgfTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUeXBlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uKiBGcm9tQW55KHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHsgfVxuZnVuY3Rpb24qIEZyb21BcnJheShzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgaWYgKCFJc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4geWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLkFycmF5LCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWluSXRlbXMpICYmICEodmFsdWUubGVuZ3RoID49IHNjaGVtYS5taW5JdGVtcykpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLkFycmF5TWluSXRlbXMsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tYXhJdGVtcykgJiYgISh2YWx1ZS5sZW5ndGggPD0gc2NoZW1hLm1heEl0ZW1zKSkge1xuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuQXJyYXlNYXhJdGVtcywgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgeWllbGQqIFZpc2l0KHNjaGVtYS5pdGVtcywgcmVmZXJlbmNlcywgYCR7cGF0aH0vJHtpfWAsIHZhbHVlW2ldKTtcbiAgICB9XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgaWYgKHNjaGVtYS51bmlxdWVJdGVtcyA9PT0gdHJ1ZSAmJiAhKChmdW5jdGlvbiAoKSB7IGNvbnN0IHNldCA9IG5ldyBTZXQoKTsgZm9yIChjb25zdCBlbGVtZW50IG9mIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGhhc2hlZCA9IEhhc2goZWxlbWVudCk7XG4gICAgICAgIGlmIChzZXQuaGFzKGhhc2hlZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldC5hZGQoaGFzaGVkKTtcbiAgICAgICAgfVxuICAgIH0gcmV0dXJuIHRydWU7IH0pKCkpKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5BcnJheVVuaXF1ZUl0ZW1zLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgLy8gY29udGFpbnNcbiAgICBpZiAoIShJc0RlZmluZWQoc2NoZW1hLmNvbnRhaW5zKSB8fCBJc0RlZmluZWQoc2NoZW1hLm1pbkNvbnRhaW5zKSB8fCBJc0RlZmluZWQoc2NoZW1hLm1heENvbnRhaW5zKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb250YWluc1NjaGVtYSA9IElzRGVmaW5lZChzY2hlbWEuY29udGFpbnMpID8gc2NoZW1hLmNvbnRhaW5zIDogTmV2ZXIoKTtcbiAgICBjb25zdCBjb250YWluc0NvdW50ID0gdmFsdWUucmVkdWNlKChhY2MsIHZhbHVlLCBpbmRleCkgPT4gKFZpc2l0KGNvbnRhaW5zU2NoZW1hLCByZWZlcmVuY2VzLCBgJHtwYXRofSR7aW5kZXh9YCwgdmFsdWUpLm5leHQoKS5kb25lID09PSB0cnVlID8gYWNjICsgMSA6IGFjYyksIDApO1xuICAgIGlmIChjb250YWluc0NvdW50ID09PSAwKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5BcnJheUNvbnRhaW5zLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKElzTnVtYmVyKHNjaGVtYS5taW5Db250YWlucykgJiYgY29udGFpbnNDb3VudCA8IHNjaGVtYS5taW5Db250YWlucykge1xuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuQXJyYXlNaW5Db250YWlucywgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChJc051bWJlcihzY2hlbWEubWF4Q29udGFpbnMpICYmIGNvbnRhaW5zQ291bnQgPiBzY2hlbWEubWF4Q29udGFpbnMpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLkFycmF5TWF4Q29udGFpbnMsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uKiBGcm9tQXN5bmNJdGVyYXRvcihzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgaWYgKCFJc0FzeW5jSXRlcmF0b3IodmFsdWUpKVxuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuQXN5bmNJdGVyYXRvciwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiogRnJvbUJpZ0ludChzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgaWYgKCFJc0JpZ0ludCh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuQmlnSW50LCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtKSAmJiAhKHZhbHVlIDwgc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0pKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5CaWdJbnRFeGNsdXNpdmVNYXhpbXVtLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEuZXhjbHVzaXZlTWluaW11bSkgJiYgISh2YWx1ZSA+IHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtKSkge1xuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuQmlnSW50RXhjbHVzaXZlTWluaW11bSwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1heGltdW0pICYmICEodmFsdWUgPD0gc2NoZW1hLm1heGltdW0pKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5CaWdJbnRNYXhpbXVtLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWluaW11bSkgJiYgISh2YWx1ZSA+PSBzY2hlbWEubWluaW11bSkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLkJpZ0ludE1pbmltdW0sIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tdWx0aXBsZU9mKSAmJiAhKHZhbHVlICUgc2NoZW1hLm11bHRpcGxlT2YgPT09IEJpZ0ludCgwKSkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLkJpZ0ludE11bHRpcGxlT2YsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uKiBGcm9tQm9vbGVhbihzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgaWYgKCFJc0Jvb2xlYW4odmFsdWUpKVxuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuQm9vbGVhbiwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiogRnJvbUNvbnN0cnVjdG9yKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICB5aWVsZCogVmlzaXQoc2NoZW1hLnJldHVybnMsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlLnByb3RvdHlwZSk7XG59XG5mdW5jdGlvbiogRnJvbURhdGUoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGlmICghSXNEYXRlKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5EYXRlLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtVGltZXN0YW1wKSAmJiAhKHZhbHVlLmdldFRpbWUoKSA8IHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtVGltZXN0YW1wKSkge1xuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuRGF0ZUV4Y2x1c2l2ZU1heGltdW1UaW1lc3RhbXAsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtVGltZXN0YW1wKSAmJiAhKHZhbHVlLmdldFRpbWUoKSA+IHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtVGltZXN0YW1wKSkge1xuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuRGF0ZUV4Y2x1c2l2ZU1pbmltdW1UaW1lc3RhbXAsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tYXhpbXVtVGltZXN0YW1wKSAmJiAhKHZhbHVlLmdldFRpbWUoKSA8PSBzY2hlbWEubWF4aW11bVRpbWVzdGFtcCkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLkRhdGVNYXhpbXVtVGltZXN0YW1wLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWluaW11bVRpbWVzdGFtcCkgJiYgISh2YWx1ZS5nZXRUaW1lKCkgPj0gc2NoZW1hLm1pbmltdW1UaW1lc3RhbXApKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5EYXRlTWluaW11bVRpbWVzdGFtcCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm11bHRpcGxlT2ZUaW1lc3RhbXApICYmICEodmFsdWUuZ2V0VGltZSgpICUgc2NoZW1hLm11bHRpcGxlT2ZUaW1lc3RhbXAgPT09IDApKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5EYXRlTXVsdGlwbGVPZlRpbWVzdGFtcCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24qIEZyb21GdW5jdGlvbihzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgaWYgKCFJc0Z1bmN0aW9uKHZhbHVlKSlcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLkZ1bmN0aW9uLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uKiBGcm9tSW50ZWdlcihzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgaWYgKCFJc0ludGVnZXIodmFsdWUpKVxuICAgICAgICByZXR1cm4geWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLkludGVnZXIsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0pICYmICEodmFsdWUgPCBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLkludGVnZXJFeGNsdXNpdmVNYXhpbXVtLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEuZXhjbHVzaXZlTWluaW11bSkgJiYgISh2YWx1ZSA+IHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtKSkge1xuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuSW50ZWdlckV4Y2x1c2l2ZU1pbmltdW0sIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tYXhpbXVtKSAmJiAhKHZhbHVlIDw9IHNjaGVtYS5tYXhpbXVtKSkge1xuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuSW50ZWdlck1heGltdW0sIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5taW5pbXVtKSAmJiAhKHZhbHVlID49IHNjaGVtYS5taW5pbXVtKSkge1xuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuSW50ZWdlck1pbmltdW0sIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tdWx0aXBsZU9mKSAmJiAhKHZhbHVlICUgc2NoZW1hLm11bHRpcGxlT2YgPT09IDApKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5JbnRlZ2VyTXVsdGlwbGVPZiwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24qIEZyb21JbnRlcnNlY3Qoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGZvciAoY29uc3QgaW5uZXIgb2Ygc2NoZW1hLmFsbE9mKSB7XG4gICAgICAgIGNvbnN0IG5leHQgPSBWaXNpdChpbm5lciwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpLm5leHQoKTtcbiAgICAgICAgaWYgKCFuZXh0LmRvbmUpIHtcbiAgICAgICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5JbnRlcnNlY3QsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgICAgICAgICAgeWllbGQgbmV4dC52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2NoZW1hLnVuZXZhbHVhdGVkUHJvcGVydGllcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29uc3Qga2V5Q2hlY2sgPSBuZXcgUmVnRXhwKEtleU9mUGF0dGVybihzY2hlbWEpKTtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZUtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICgha2V5Q2hlY2sudGVzdCh2YWx1ZUtleSkpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuSW50ZXJzZWN0VW5ldmFsdWF0ZWRQcm9wZXJ0aWVzLCBzY2hlbWEsIGAke3BhdGh9LyR7dmFsdWVLZXl9YCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2NoZW1hLnVuZXZhbHVhdGVkUHJvcGVydGllcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgY29uc3Qga2V5Q2hlY2sgPSBuZXcgUmVnRXhwKEtleU9mUGF0dGVybihzY2hlbWEpKTtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZUtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICgha2V5Q2hlY2sudGVzdCh2YWx1ZUtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gVmlzaXQoc2NoZW1hLnVuZXZhbHVhdGVkUHJvcGVydGllcywgcmVmZXJlbmNlcywgYCR7cGF0aH0vJHt2YWx1ZUtleX1gLCB2YWx1ZVt2YWx1ZUtleV0pLm5leHQoKTtcbiAgICAgICAgICAgICAgICBpZiAoIW5leHQuZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgbmV4dC52YWx1ZTsgLy8geWllbGQgaW50ZXJpb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uKiBGcm9tSXRlcmF0b3Ioc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGlmICghSXNJdGVyYXRvcih2YWx1ZSkpXG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5JdGVyYXRvciwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiogRnJvbUxpdGVyYWwoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGlmICghKHZhbHVlID09PSBzY2hlbWEuY29uc3QpKVxuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuTGl0ZXJhbCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiogRnJvbU5ldmVyKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuTmV2ZXIsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xufVxuZnVuY3Rpb24qIEZyb21Ob3Qoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGlmIChWaXNpdChzY2hlbWEubm90LCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkubmV4dCgpLmRvbmUgPT09IHRydWUpXG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5Ob3QsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xufVxuZnVuY3Rpb24qIEZyb21OdWxsKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIUlzTnVsbCh2YWx1ZSkpXG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5OdWxsLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uKiBGcm9tTnVtYmVyKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIVR5cGVTeXN0ZW1Qb2xpY3kuSXNOdW1iZXJMaWtlKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5OdW1iZXIsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0pICYmICEodmFsdWUgPCBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLk51bWJlckV4Y2x1c2l2ZU1heGltdW0sIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtKSAmJiAhKHZhbHVlID4gc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0pKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5OdW1iZXJFeGNsdXNpdmVNaW5pbXVtLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWF4aW11bSkgJiYgISh2YWx1ZSA8PSBzY2hlbWEubWF4aW11bSkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLk51bWJlck1heGltdW0sIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5taW5pbXVtKSAmJiAhKHZhbHVlID49IHNjaGVtYS5taW5pbXVtKSkge1xuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuTnVtYmVyTWluaW11bSwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm11bHRpcGxlT2YpICYmICEodmFsdWUgJSBzY2hlbWEubXVsdGlwbGVPZiA9PT0gMCkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLk51bWJlck11bHRpcGxlT2YsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uKiBGcm9tT2JqZWN0KHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIVR5cGVTeXN0ZW1Qb2xpY3kuSXNPYmplY3RMaWtlKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5PYmplY3QsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1pblByb3BlcnRpZXMpICYmICEoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLmxlbmd0aCA+PSBzY2hlbWEubWluUHJvcGVydGllcykpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLk9iamVjdE1pblByb3BlcnRpZXMsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tYXhQcm9wZXJ0aWVzKSAmJiAhKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKS5sZW5ndGggPD0gc2NoZW1hLm1heFByb3BlcnRpZXMpKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5PYmplY3RNYXhQcm9wZXJ0aWVzLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgY29uc3QgcmVxdWlyZWRLZXlzID0gQXJyYXkuaXNBcnJheShzY2hlbWEucmVxdWlyZWQpID8gc2NoZW1hLnJlcXVpcmVkIDogW107XG4gICAgY29uc3Qga25vd25LZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc2NoZW1hLnByb3BlcnRpZXMpO1xuICAgIGNvbnN0IHVua25vd25LZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICAgIGZvciAoY29uc3QgcmVxdWlyZWRLZXkgb2YgcmVxdWlyZWRLZXlzKSB7XG4gICAgICAgIGlmICh1bmtub3duS2V5cy5pbmNsdWRlcyhyZXF1aXJlZEtleSkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLk9iamVjdFJlcXVpcmVkUHJvcGVydHksIHNjaGVtYS5wcm9wZXJ0aWVzW3JlcXVpcmVkS2V5XSwgYCR7cGF0aH0vJHtFc2NhcGVLZXkocmVxdWlyZWRLZXkpfWAsIHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIGlmIChzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IGZhbHNlKSB7XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWVLZXkgb2YgdW5rbm93bktleXMpIHtcbiAgICAgICAgICAgIGlmICgha25vd25LZXlzLmluY2x1ZGVzKHZhbHVlS2V5KSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5PYmplY3RBZGRpdGlvbmFsUHJvcGVydGllcywgc2NoZW1hLCBgJHtwYXRofS8ke0VzY2FwZUtleSh2YWx1ZUtleSl9YCwgdmFsdWVbdmFsdWVLZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZUtleSBvZiB1bmtub3duS2V5cykge1xuICAgICAgICAgICAgaWYgKGtub3duS2V5cy5pbmNsdWRlcyh2YWx1ZUtleSkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB5aWVsZCogVmlzaXQoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLCByZWZlcmVuY2VzLCBgJHtwYXRofS8ke0VzY2FwZUtleSh2YWx1ZUtleSl9YCwgdmFsdWVbdmFsdWVLZXldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtub3duS2V5IG9mIGtub3duS2V5cykge1xuICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHNjaGVtYS5wcm9wZXJ0aWVzW2tub3duS2V5XTtcbiAgICAgICAgaWYgKHNjaGVtYS5yZXF1aXJlZCAmJiBzY2hlbWEucmVxdWlyZWQuaW5jbHVkZXMoa25vd25LZXkpKSB7XG4gICAgICAgICAgICB5aWVsZCogVmlzaXQocHJvcGVydHksIHJlZmVyZW5jZXMsIGAke3BhdGh9LyR7RXNjYXBlS2V5KGtub3duS2V5KX1gLCB2YWx1ZVtrbm93bktleV0pO1xuICAgICAgICAgICAgaWYgKEV4dGVuZHNVbmRlZmluZWRDaGVjayhzY2hlbWEpICYmICEoa25vd25LZXkgaW4gdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLk9iamVjdFJlcXVpcmVkUHJvcGVydHksIHByb3BlcnR5LCBgJHtwYXRofS8ke0VzY2FwZUtleShrbm93bktleSl9YCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChUeXBlU3lzdGVtUG9saWN5LklzRXhhY3RPcHRpb25hbFByb3BlcnR5KHZhbHVlLCBrbm93bktleSkpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCogVmlzaXQocHJvcGVydHksIHJlZmVyZW5jZXMsIGAke3BhdGh9LyR7RXNjYXBlS2V5KGtub3duS2V5KX1gLCB2YWx1ZVtrbm93bktleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24qIEZyb21Qcm9taXNlKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIUlzUHJvbWlzZSh2YWx1ZSkpXG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5Qcm9taXNlLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uKiBGcm9tUmVjb3JkKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIVR5cGVTeXN0ZW1Qb2xpY3kuSXNSZWNvcmRMaWtlKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5PYmplY3QsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1pblByb3BlcnRpZXMpICYmICEoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLmxlbmd0aCA+PSBzY2hlbWEubWluUHJvcGVydGllcykpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLk9iamVjdE1pblByb3BlcnRpZXMsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tYXhQcm9wZXJ0aWVzKSAmJiAhKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKS5sZW5ndGggPD0gc2NoZW1hLm1heFByb3BlcnRpZXMpKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5PYmplY3RNYXhQcm9wZXJ0aWVzLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgY29uc3QgW3BhdHRlcm5LZXksIHBhdHRlcm5TY2hlbWFdID0gT2JqZWN0LmVudHJpZXMoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKVswXTtcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAocGF0dGVybktleSk7XG4gICAgZm9yIChjb25zdCBbcHJvcGVydHlLZXksIHByb3BlcnR5VmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlKSkge1xuICAgICAgICBpZiAocmVnZXgudGVzdChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICB5aWVsZCogVmlzaXQocGF0dGVyblNjaGVtYSwgcmVmZXJlbmNlcywgYCR7cGF0aH0vJHtFc2NhcGVLZXkocHJvcGVydHlLZXkpfWAsIHByb3BlcnR5VmFsdWUpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yIChjb25zdCBbcHJvcGVydHlLZXksIHByb3BlcnR5VmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlKSkge1xuICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICB5aWVsZCogVmlzaXQoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLCByZWZlcmVuY2VzLCBgJHtwYXRofS8ke0VzY2FwZUtleShwcm9wZXJ0eUtleSl9YCwgcHJvcGVydHlWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgZm9yIChjb25zdCBbcHJvcGVydHlLZXksIHByb3BlcnR5VmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlKSkge1xuICAgICAgICAgICAgaWYgKHJlZ2V4LnRlc3QocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5PYmplY3RBZGRpdGlvbmFsUHJvcGVydGllcywgc2NoZW1hLCBgJHtwYXRofS8ke0VzY2FwZUtleShwcm9wZXJ0eUtleSl9YCwgcHJvcGVydHlWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiogRnJvbVJlZihzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgeWllbGQqIFZpc2l0KERlcmVmKHNjaGVtYSwgcmVmZXJlbmNlcyksIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uKiBGcm9tUmVnRXhwKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIUlzU3RyaW5nKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5TdHJpbmcsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1pbkxlbmd0aCkgJiYgISh2YWx1ZS5sZW5ndGggPj0gc2NoZW1hLm1pbkxlbmd0aCkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlN0cmluZ01pbkxlbmd0aCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1heExlbmd0aCkgJiYgISh2YWx1ZS5sZW5ndGggPD0gc2NoZW1hLm1heExlbmd0aCkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlN0cmluZ01heExlbmd0aCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChzY2hlbWEuc291cmNlLCBzY2hlbWEuZmxhZ3MpO1xuICAgIGlmICghcmVnZXgudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5SZWdFeHAsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uKiBGcm9tU3RyaW5nKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIUlzU3RyaW5nKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5TdHJpbmcsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1pbkxlbmd0aCkgJiYgISh2YWx1ZS5sZW5ndGggPj0gc2NoZW1hLm1pbkxlbmd0aCkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlN0cmluZ01pbkxlbmd0aCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1heExlbmd0aCkgJiYgISh2YWx1ZS5sZW5ndGggPD0gc2NoZW1hLm1heExlbmd0aCkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlN0cmluZ01heExlbmd0aCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChJc1N0cmluZyhzY2hlbWEucGF0dGVybikpIHtcbiAgICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKHNjaGVtYS5wYXR0ZXJuKTtcbiAgICAgICAgaWYgKCFyZWdleC50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlN0cmluZ1BhdHRlcm4sIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChJc1N0cmluZyhzY2hlbWEuZm9ybWF0KSkge1xuICAgICAgICBpZiAoIUZvcm1hdFJlZ2lzdHJ5LkhhcyhzY2hlbWEuZm9ybWF0KSkge1xuICAgICAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlN0cmluZ0Zvcm1hdFVua25vd24sIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZm9ybWF0ID0gRm9ybWF0UmVnaXN0cnkuR2V0KHNjaGVtYS5mb3JtYXQpO1xuICAgICAgICAgICAgaWYgKCFmb3JtYXQodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlN0cmluZ0Zvcm1hdCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiogRnJvbVN5bWJvbChzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgaWYgKCFJc1N5bWJvbCh2YWx1ZSkpXG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5TeW1ib2wsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xufVxuZnVuY3Rpb24qIEZyb21UZW1wbGF0ZUxpdGVyYWwoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGlmICghSXNTdHJpbmcodmFsdWUpKVxuICAgICAgICByZXR1cm4geWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlN0cmluZywgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKHNjaGVtYS5wYXR0ZXJuKTtcbiAgICBpZiAoIXJlZ2V4LnRlc3QodmFsdWUpKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5TdHJpbmdQYXR0ZXJuLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiogRnJvbVRoaXMoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIHlpZWxkKiBWaXNpdChEZXJlZihzY2hlbWEsIHJlZmVyZW5jZXMpLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiogRnJvbVR1cGxlKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIUlzQXJyYXkodmFsdWUpKVxuICAgICAgICByZXR1cm4geWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlR1cGxlLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICBpZiAoc2NoZW1hLml0ZW1zID09PSB1bmRlZmluZWQgJiYgISh2YWx1ZS5sZW5ndGggPT09IDApKSB7XG4gICAgICAgIHJldHVybiB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuVHVwbGVMZW5ndGgsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoISh2YWx1ZS5sZW5ndGggPT09IHNjaGVtYS5tYXhJdGVtcykpIHtcbiAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5UdXBsZUxlbmd0aCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmICghc2NoZW1hLml0ZW1zKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWEuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgeWllbGQqIFZpc2l0KHNjaGVtYS5pdGVtc1tpXSwgcmVmZXJlbmNlcywgYCR7cGF0aH0vJHtpfWAsIHZhbHVlW2ldKTtcbiAgICB9XG59XG5mdW5jdGlvbiogRnJvbVVuZGVmaW5lZChzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgaWYgKCFJc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5VbmRlZmluZWQsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xufVxuZnVuY3Rpb24qIEZyb21VbmlvbihzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IgKGNvbnN0IHN1YnNjaGVtYSBvZiBzY2hlbWEuYW55T2YpIHtcbiAgICAgICAgY29uc3QgZXJyb3JzID0gWy4uLlZpc2l0KHN1YnNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpXTtcbiAgICAgICAgaWYgKGVycm9ycy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm47IC8vIG1hdGNoZWRcbiAgICAgICAgY291bnQgKz0gZXJyb3JzLmxlbmd0aDtcbiAgICB9XG4gICAgaWYgKGNvdW50ID4gMCkge1xuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuVW5pb24sIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uKiBGcm9tVWludDhBcnJheShzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgaWYgKCFJc1VpbnQ4QXJyYXkodmFsdWUpKVxuICAgICAgICByZXR1cm4geWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlVpbnQ4QXJyYXksIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1heEJ5dGVMZW5ndGgpICYmICEodmFsdWUubGVuZ3RoIDw9IHNjaGVtYS5tYXhCeXRlTGVuZ3RoKSkge1xuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuVWludDhBcnJheU1heEJ5dGVMZW5ndGgsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5taW5CeXRlTGVuZ3RoKSAmJiAhKHZhbHVlLmxlbmd0aCA+PSBzY2hlbWEubWluQnl0ZUxlbmd0aCkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlVpbnQ4QXJyYXlNaW5CeXRlTGVuZ3RoLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiogRnJvbVVua25vd24oc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkgeyB9XG5mdW5jdGlvbiogRnJvbVZvaWQoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGlmICghVHlwZVN5c3RlbVBvbGljeS5Jc1ZvaWRMaWtlKHZhbHVlKSlcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlZvaWQsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xufVxuZnVuY3Rpb24qIEZyb21LaW5kKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBjb25zdCBjaGVjayA9IFR5cGVSZWdpc3RyeS5HZXQoc2NoZW1hW0tpbmRdKTtcbiAgICBpZiAoIWNoZWNrKHNjaGVtYSwgdmFsdWUpKVxuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuS2luZCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiogVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGNvbnN0IHJlZmVyZW5jZXNfID0gSXNEZWZpbmVkKHNjaGVtYS4kaWQpID8gWy4uLnJlZmVyZW5jZXMsIHNjaGVtYV0gOiByZWZlcmVuY2VzO1xuICAgIGNvbnN0IHNjaGVtYV8gPSBzY2hlbWE7XG4gICAgc3dpdGNoIChzY2hlbWFfW0tpbmRdKSB7XG4gICAgICAgIGNhc2UgJ0FueSc6XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21Bbnkoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnQXJyYXknOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tQXJyYXkoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnQXN5bmNJdGVyYXRvcic6XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21Bc3luY0l0ZXJhdG9yKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0JpZ0ludCc6XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21CaWdJbnQoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnQm9vbGVhbic6XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21Cb29sZWFuKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0NvbnN0cnVjdG9yJzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUNvbnN0cnVjdG9yKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0RhdGUnOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tRGF0ZShzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdGdW5jdGlvbic6XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21GdW5jdGlvbihzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdJbnRlZ2VyJzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUludGVnZXIoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnSW50ZXJzZWN0JzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUludGVyc2VjdChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdJdGVyYXRvcic6XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21JdGVyYXRvcihzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdMaXRlcmFsJzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUxpdGVyYWwoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnTmV2ZXInOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tTmV2ZXIoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnTm90JzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbU5vdChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdOdWxsJzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbU51bGwoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnTnVtYmVyJzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbU51bWJlcihzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdPYmplY3QnOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tT2JqZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1Byb21pc2UnOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tUHJvbWlzZShzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdSZWNvcmQnOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tUmVjb3JkKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1JlZic6XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21SZWYoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnUmVnRXhwJzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVJlZ0V4cChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdTdHJpbmcnOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tU3RyaW5nKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1N5bWJvbCc6XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21TeW1ib2woc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVGVtcGxhdGVMaXRlcmFsJzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVRlbXBsYXRlTGl0ZXJhbChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdUaGlzJzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVRoaXMoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVHVwbGUnOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tVHVwbGUoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVW5kZWZpbmVkJzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVVuZGVmaW5lZChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdVbmlvbic6XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21VbmlvbihzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdVaW50OEFycmF5JzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVVpbnQ4QXJyYXkoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVW5rbm93bic6XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21Vbmtub3duKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1ZvaWQnOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tVm9pZChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKCFUeXBlUmVnaXN0cnkuSGFzKHNjaGVtYV9bS2luZF0pKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBWYWx1ZUVycm9yc1Vua25vd25UeXBlRXJyb3Ioc2NoZW1hKTtcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUtpbmQoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICB9XG59XG4vKiogUmV0dXJucyBhbiBpdGVyYXRvciBmb3IgZWFjaCBlcnJvciBpbiB0aGlzIHZhbHVlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEVycm9ycyguLi5hcmdzKSB7XG4gICAgY29uc3QgaXRlcmF0b3IgPSBhcmdzLmxlbmd0aCA9PT0gMyA/IFZpc2l0KGFyZ3NbMF0sIGFyZ3NbMV0sICcnLCBhcmdzWzJdKSA6IFZpc2l0KGFyZ3NbMF0sIFtdLCAnJywgYXJnc1sxXSk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZUVycm9ySXRlcmF0b3IoaXRlcmF0b3IpO1xufVxuIiwKICAgICJpbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYW4gQW55IHR5cGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBBbnkob3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIHsgLi4ub3B0aW9ucywgW0tpbmRdOiAnQW55JyB9O1xufVxuIiwKICAgICJpbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYW4gVW5rbm93biB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gVW5rbm93bihvcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBbS2luZF06ICdVbmtub3duJyxcbiAgICB9O1xufVxuIiwKICAgICJpbXBvcnQgKiBhcyBWYWx1ZUd1YXJkIGZyb20gJy4vdmFsdWUubWpzJztcbmltcG9ydCB7IEtpbmQsIEhpbnQsIFRyYW5zZm9ybUtpbmQsIFJlYWRvbmx5S2luZCwgT3B0aW9uYWxLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuaW1wb3J0IHsgVHlwZUJveEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvaW5kZXgubWpzJztcbmV4cG9ydCBjbGFzcyBUeXBlR3VhcmRVbmtub3duVHlwZUVycm9yIGV4dGVuZHMgVHlwZUJveEVycm9yIHtcbn1cbmNvbnN0IEtub3duVHlwZXMgPSBbXG4gICAgJ0FueScsXG4gICAgJ0FycmF5JyxcbiAgICAnQXN5bmNJdGVyYXRvcicsXG4gICAgJ0JpZ0ludCcsXG4gICAgJ0Jvb2xlYW4nLFxuICAgICdDb25zdHJ1Y3RvcicsXG4gICAgJ0RhdGUnLFxuICAgICdFbnVtJyxcbiAgICAnRnVuY3Rpb24nLFxuICAgICdJbnRlZ2VyJyxcbiAgICAnSW50ZXJzZWN0JyxcbiAgICAnSXRlcmF0b3InLFxuICAgICdMaXRlcmFsJyxcbiAgICAnTWFwcGVkS2V5JyxcbiAgICAnTWFwcGVkUmVzdWx0JyxcbiAgICAnTm90JyxcbiAgICAnTnVsbCcsXG4gICAgJ051bWJlcicsXG4gICAgJ09iamVjdCcsXG4gICAgJ1Byb21pc2UnLFxuICAgICdSZWNvcmQnLFxuICAgICdSZWYnLFxuICAgICdSZWdFeHAnLFxuICAgICdTdHJpbmcnLFxuICAgICdTeW1ib2wnLFxuICAgICdUZW1wbGF0ZUxpdGVyYWwnLFxuICAgICdUaGlzJyxcbiAgICAnVHVwbGUnLFxuICAgICdVbmRlZmluZWQnLFxuICAgICdVbmlvbicsXG4gICAgJ1VpbnQ4QXJyYXknLFxuICAgICdVbmtub3duJyxcbiAgICAnVm9pZCcsXG5dO1xuZnVuY3Rpb24gSXNQYXR0ZXJuKHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbmV3IFJlZ0V4cCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBJc0NvbnRyb2xDaGFyYWN0ZXJGcmVlKHZhbHVlKSB7XG4gICAgaWYgKCFWYWx1ZUd1YXJkLklzU3RyaW5nKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY29kZSA9IHZhbHVlLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmICgoY29kZSA+PSA3ICYmIGNvZGUgPD0gMTMpIHx8IGNvZGUgPT09IDI3IHx8IGNvZGUgPT09IDEyNykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gSXNBZGRpdGlvbmFsUHJvcGVydGllcyh2YWx1ZSkge1xuICAgIHJldHVybiBJc09wdGlvbmFsQm9vbGVhbih2YWx1ZSkgfHwgSXNTY2hlbWEodmFsdWUpO1xufVxuZnVuY3Rpb24gSXNPcHRpb25hbEJpZ0ludCh2YWx1ZSkge1xuICAgIHJldHVybiBWYWx1ZUd1YXJkLklzVW5kZWZpbmVkKHZhbHVlKSB8fCBWYWx1ZUd1YXJkLklzQmlnSW50KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIElzT3B0aW9uYWxOdW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gVmFsdWVHdWFyZC5Jc1VuZGVmaW5lZCh2YWx1ZSkgfHwgVmFsdWVHdWFyZC5Jc051bWJlcih2YWx1ZSk7XG59XG5mdW5jdGlvbiBJc09wdGlvbmFsQm9vbGVhbih2YWx1ZSkge1xuICAgIHJldHVybiBWYWx1ZUd1YXJkLklzVW5kZWZpbmVkKHZhbHVlKSB8fCBWYWx1ZUd1YXJkLklzQm9vbGVhbih2YWx1ZSk7XG59XG5mdW5jdGlvbiBJc09wdGlvbmFsU3RyaW5nKHZhbHVlKSB7XG4gICAgcmV0dXJuIFZhbHVlR3VhcmQuSXNVbmRlZmluZWQodmFsdWUpIHx8IFZhbHVlR3VhcmQuSXNTdHJpbmcodmFsdWUpO1xufVxuZnVuY3Rpb24gSXNPcHRpb25hbFBhdHRlcm4odmFsdWUpIHtcbiAgICByZXR1cm4gVmFsdWVHdWFyZC5Jc1VuZGVmaW5lZCh2YWx1ZSkgfHwgKFZhbHVlR3VhcmQuSXNTdHJpbmcodmFsdWUpICYmIElzQ29udHJvbENoYXJhY3RlckZyZWUodmFsdWUpICYmIElzUGF0dGVybih2YWx1ZSkpO1xufVxuZnVuY3Rpb24gSXNPcHRpb25hbEZvcm1hdCh2YWx1ZSkge1xuICAgIHJldHVybiBWYWx1ZUd1YXJkLklzVW5kZWZpbmVkKHZhbHVlKSB8fCAoVmFsdWVHdWFyZC5Jc1N0cmluZyh2YWx1ZSkgJiYgSXNDb250cm9sQ2hhcmFjdGVyRnJlZSh2YWx1ZSkpO1xufVxuZnVuY3Rpb24gSXNPcHRpb25hbFNjaGVtYSh2YWx1ZSkge1xuICAgIHJldHVybiBWYWx1ZUd1YXJkLklzVW5kZWZpbmVkKHZhbHVlKSB8fCBJc1NjaGVtYSh2YWx1ZSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE1vZGlmaWVyc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaGFzIGEgUmVhZG9ubHkgc3ltYm9sICovXG5leHBvcnQgZnVuY3Rpb24gSXNSZWFkb25seSh2YWx1ZSkge1xuICAgIHJldHVybiBWYWx1ZUd1YXJkLklzT2JqZWN0KHZhbHVlKSAmJiB2YWx1ZVtSZWFkb25seUtpbmRdID09PSAnUmVhZG9ubHknO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGhhcyBhIE9wdGlvbmFsIHN5bWJvbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzT3B0aW9uYWwodmFsdWUpIHtcbiAgICByZXR1cm4gVmFsdWVHdWFyZC5Jc09iamVjdCh2YWx1ZSkgJiYgdmFsdWVbT3B0aW9uYWxLaW5kXSA9PT0gJ09wdGlvbmFsJztcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEFueSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzQW55KHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ0FueScpICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUuJGlkKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUQXJyYXkgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0FycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ0FycmF5JykgJiZcbiAgICAgICAgdmFsdWUudHlwZSA9PT0gJ2FycmF5JyAmJlxuICAgICAgICBJc09wdGlvbmFsU3RyaW5nKHZhbHVlLiRpZCkgJiZcbiAgICAgICAgSXNTY2hlbWEodmFsdWUuaXRlbXMpICYmXG4gICAgICAgIElzT3B0aW9uYWxOdW1iZXIodmFsdWUubWluSXRlbXMpICYmXG4gICAgICAgIElzT3B0aW9uYWxOdW1iZXIodmFsdWUubWF4SXRlbXMpICYmXG4gICAgICAgIElzT3B0aW9uYWxCb29sZWFuKHZhbHVlLnVuaXF1ZUl0ZW1zKSAmJlxuICAgICAgICBJc09wdGlvbmFsU2NoZW1hKHZhbHVlLmNvbnRhaW5zKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLm1pbkNvbnRhaW5zKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLm1heENvbnRhaW5zKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUQXN5bmNJdGVyYXRvciAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzQXN5bmNJdGVyYXRvcih2YWx1ZSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdBc3luY0l0ZXJhdG9yJykgJiZcbiAgICAgICAgdmFsdWUudHlwZSA9PT0gJ0FzeW5jSXRlcmF0b3InICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUuJGlkKSAmJlxuICAgICAgICBJc1NjaGVtYSh2YWx1ZS5pdGVtcykpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEJpZ0ludCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzQmlnSW50KHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ0JpZ0ludCcpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdiaWdpbnQnICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUuJGlkKSAmJlxuICAgICAgICBJc09wdGlvbmFsQmlnSW50KHZhbHVlLmV4Y2x1c2l2ZU1heGltdW0pICYmXG4gICAgICAgIElzT3B0aW9uYWxCaWdJbnQodmFsdWUuZXhjbHVzaXZlTWluaW11bSkgJiZcbiAgICAgICAgSXNPcHRpb25hbEJpZ0ludCh2YWx1ZS5tYXhpbXVtKSAmJlxuICAgICAgICBJc09wdGlvbmFsQmlnSW50KHZhbHVlLm1pbmltdW0pICYmXG4gICAgICAgIElzT3B0aW9uYWxCaWdJbnQodmFsdWUubXVsdGlwbGVPZikpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEJvb2xlYW4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0Jvb2xlYW4odmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnQm9vbGVhbicpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdib29sZWFuJyAmJlxuICAgICAgICBJc09wdGlvbmFsU3RyaW5nKHZhbHVlLiRpZCkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVENvbnN0cnVjdG9yICovXG5leHBvcnQgZnVuY3Rpb24gSXNDb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdDb25zdHJ1Y3RvcicpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdDb25zdHJ1Y3RvcicgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpICYmXG4gICAgICAgIFZhbHVlR3VhcmQuSXNBcnJheSh2YWx1ZS5wYXJhbWV0ZXJzKSAmJlxuICAgICAgICB2YWx1ZS5wYXJhbWV0ZXJzLmV2ZXJ5KHNjaGVtYSA9PiBJc1NjaGVtYShzY2hlbWEpKSAmJlxuICAgICAgICBJc1NjaGVtYSh2YWx1ZS5yZXR1cm5zKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBURGF0ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzRGF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdEYXRlJykgJiZcbiAgICAgICAgdmFsdWUudHlwZSA9PT0gJ0RhdGUnICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUuJGlkKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLmV4Y2x1c2l2ZU1heGltdW1UaW1lc3RhbXApICYmXG4gICAgICAgIElzT3B0aW9uYWxOdW1iZXIodmFsdWUuZXhjbHVzaXZlTWluaW11bVRpbWVzdGFtcCkgJiZcbiAgICAgICAgSXNPcHRpb25hbE51bWJlcih2YWx1ZS5tYXhpbXVtVGltZXN0YW1wKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLm1pbmltdW1UaW1lc3RhbXApICYmXG4gICAgICAgIElzT3B0aW9uYWxOdW1iZXIodmFsdWUubXVsdGlwbGVPZlRpbWVzdGFtcCkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEZ1bmN0aW9uICovXG5leHBvcnQgZnVuY3Rpb24gSXNGdW5jdGlvbih2YWx1ZSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdGdW5jdGlvbicpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdGdW5jdGlvbicgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpICYmXG4gICAgICAgIFZhbHVlR3VhcmQuSXNBcnJheSh2YWx1ZS5wYXJhbWV0ZXJzKSAmJlxuICAgICAgICB2YWx1ZS5wYXJhbWV0ZXJzLmV2ZXJ5KHNjaGVtYSA9PiBJc1NjaGVtYShzY2hlbWEpKSAmJlxuICAgICAgICBJc1NjaGVtYSh2YWx1ZS5yZXR1cm5zKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUSW50ZWdlciAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzSW50ZWdlcih2YWx1ZSkge1xuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdJbnRlZ2VyJykgJiZcbiAgICAgICAgdmFsdWUudHlwZSA9PT0gJ2ludGVnZXInICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUuJGlkKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLmV4Y2x1c2l2ZU1heGltdW0pICYmXG4gICAgICAgIElzT3B0aW9uYWxOdW1iZXIodmFsdWUuZXhjbHVzaXZlTWluaW11bSkgJiZcbiAgICAgICAgSXNPcHRpb25hbE51bWJlcih2YWx1ZS5tYXhpbXVtKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLm1pbmltdW0pICYmXG4gICAgICAgIElzT3B0aW9uYWxOdW1iZXIodmFsdWUubXVsdGlwbGVPZikpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gc2NoZW1hIGlzIFRQcm9wZXJ0aWVzICovXG5leHBvcnQgZnVuY3Rpb24gSXNQcm9wZXJ0aWVzKHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChWYWx1ZUd1YXJkLklzT2JqZWN0KHZhbHVlKSAmJlxuICAgICAgICBPYmplY3QuZW50cmllcyh2YWx1ZSkuZXZlcnkoKFtrZXksIHNjaGVtYV0pID0+IElzQ29udHJvbENoYXJhY3RlckZyZWUoa2V5KSAmJiBJc1NjaGVtYShzY2hlbWEpKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUSW50ZXJzZWN0ICovXG5leHBvcnQgZnVuY3Rpb24gSXNJbnRlcnNlY3QodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnSW50ZXJzZWN0JykgJiZcbiAgICAgICAgKFZhbHVlR3VhcmQuSXNTdHJpbmcodmFsdWUudHlwZSkgJiYgdmFsdWUudHlwZSAhPT0gJ29iamVjdCcgPyBmYWxzZSA6IHRydWUpICYmXG4gICAgICAgIFZhbHVlR3VhcmQuSXNBcnJheSh2YWx1ZS5hbGxPZikgJiZcbiAgICAgICAgdmFsdWUuYWxsT2YuZXZlcnkoc2NoZW1hID0+IElzU2NoZW1hKHNjaGVtYSkgJiYgIUlzVHJhbnNmb3JtKHNjaGVtYSkpICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUudHlwZSkgJiZcbiAgICAgICAgKElzT3B0aW9uYWxCb29sZWFuKHZhbHVlLnVuZXZhbHVhdGVkUHJvcGVydGllcykgfHwgSXNPcHRpb25hbFNjaGVtYSh2YWx1ZS51bmV2YWx1YXRlZFByb3BlcnRpZXMpKSAmJlxuICAgICAgICBJc09wdGlvbmFsU3RyaW5nKHZhbHVlLiRpZCkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEl0ZXJhdG9yICovXG5leHBvcnQgZnVuY3Rpb24gSXNJdGVyYXRvcih2YWx1ZSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdJdGVyYXRvcicpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdJdGVyYXRvcicgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpICYmXG4gICAgICAgIElzU2NoZW1hKHZhbHVlLml0ZW1zKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIFRLaW5kIHdpdGggdGhlIGdpdmVuIG5hbWUuICovXG5leHBvcnQgZnVuY3Rpb24gSXNLaW5kT2YodmFsdWUsIGtpbmQpIHtcbiAgICByZXR1cm4gVmFsdWVHdWFyZC5Jc09iamVjdCh2YWx1ZSkgJiYgS2luZCBpbiB2YWx1ZSAmJiB2YWx1ZVtLaW5kXSA9PT0ga2luZDtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRMaXRlcmFsPHN0cmluZz4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0xpdGVyYWxTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gSXNMaXRlcmFsKHZhbHVlKSAmJiBWYWx1ZUd1YXJkLklzU3RyaW5nKHZhbHVlLmNvbnN0KTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRMaXRlcmFsPG51bWJlcj4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0xpdGVyYWxOdW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gSXNMaXRlcmFsKHZhbHVlKSAmJiBWYWx1ZUd1YXJkLklzTnVtYmVyKHZhbHVlLmNvbnN0KTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRMaXRlcmFsPGJvb2xlYW4+ICovXG5leHBvcnQgZnVuY3Rpb24gSXNMaXRlcmFsQm9vbGVhbih2YWx1ZSkge1xuICAgIHJldHVybiBJc0xpdGVyYWwodmFsdWUpICYmIFZhbHVlR3VhcmQuSXNCb29sZWFuKHZhbHVlLmNvbnN0KTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRMaXRlcmFsICovXG5leHBvcnQgZnVuY3Rpb24gSXNMaXRlcmFsKHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ0xpdGVyYWwnKSAmJlxuICAgICAgICBJc09wdGlvbmFsU3RyaW5nKHZhbHVlLiRpZCkgJiYgSXNMaXRlcmFsVmFsdWUodmFsdWUuY29uc3QpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgVExpdGVyYWxWYWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzTGl0ZXJhbFZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIFZhbHVlR3VhcmQuSXNCb29sZWFuKHZhbHVlKSB8fCBWYWx1ZUd1YXJkLklzTnVtYmVyKHZhbHVlKSB8fCBWYWx1ZUd1YXJkLklzU3RyaW5nKHZhbHVlKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgVE1hcHBlZEtleSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzTWFwcGVkS2V5KHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ01hcHBlZEtleScpICYmXG4gICAgICAgIFZhbHVlR3VhcmQuSXNBcnJheSh2YWx1ZS5rZXlzKSAmJlxuICAgICAgICB2YWx1ZS5rZXlzLmV2ZXJ5KGtleSA9PiBWYWx1ZUd1YXJkLklzTnVtYmVyKGtleSkgfHwgVmFsdWVHdWFyZC5Jc1N0cmluZyhrZXkpKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUTWFwcGVkUmVzdWx0ICovXG5leHBvcnQgZnVuY3Rpb24gSXNNYXBwZWRSZXN1bHQodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnTWFwcGVkUmVzdWx0JykgJiZcbiAgICAgICAgSXNQcm9wZXJ0aWVzKHZhbHVlLnByb3BlcnRpZXMpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFROZXZlciAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzTmV2ZXIodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnTmV2ZXInKSAmJlxuICAgICAgICBWYWx1ZUd1YXJkLklzT2JqZWN0KHZhbHVlLm5vdCkgJiZcbiAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUubm90KS5sZW5ndGggPT09IDApO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVE5vdCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzTm90KHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ05vdCcpICYmXG4gICAgICAgIElzU2NoZW1hKHZhbHVlLm5vdCkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVE51bGwgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc051bGwodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnTnVsbCcpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdudWxsJyAmJlxuICAgICAgICBJc09wdGlvbmFsU3RyaW5nKHZhbHVlLiRpZCkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVE51bWJlciAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzTnVtYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ051bWJlcicpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdudW1iZXInICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUuJGlkKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLmV4Y2x1c2l2ZU1heGltdW0pICYmXG4gICAgICAgIElzT3B0aW9uYWxOdW1iZXIodmFsdWUuZXhjbHVzaXZlTWluaW11bSkgJiZcbiAgICAgICAgSXNPcHRpb25hbE51bWJlcih2YWx1ZS5tYXhpbXVtKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLm1pbmltdW0pICYmXG4gICAgICAgIElzT3B0aW9uYWxOdW1iZXIodmFsdWUubXVsdGlwbGVPZikpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVE9iamVjdCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzT2JqZWN0KHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ09iamVjdCcpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdvYmplY3QnICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUuJGlkKSAmJlxuICAgICAgICBJc1Byb3BlcnRpZXModmFsdWUucHJvcGVydGllcykgJiZcbiAgICAgICAgSXNBZGRpdGlvbmFsUHJvcGVydGllcyh2YWx1ZS5hZGRpdGlvbmFsUHJvcGVydGllcykgJiZcbiAgICAgICAgSXNPcHRpb25hbE51bWJlcih2YWx1ZS5taW5Qcm9wZXJ0aWVzKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLm1heFByb3BlcnRpZXMpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRQcm9taXNlICovXG5leHBvcnQgZnVuY3Rpb24gSXNQcm9taXNlKHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ1Byb21pc2UnKSAmJlxuICAgICAgICB2YWx1ZS50eXBlID09PSAnUHJvbWlzZScgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpICYmXG4gICAgICAgIElzU2NoZW1hKHZhbHVlLml0ZW0pKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRSZWNvcmQgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1JlY29yZCh2YWx1ZSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdSZWNvcmQnKSAmJlxuICAgICAgICB2YWx1ZS50eXBlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBJc09wdGlvbmFsU3RyaW5nKHZhbHVlLiRpZCkgJiZcbiAgICAgICAgSXNBZGRpdGlvbmFsUHJvcGVydGllcyh2YWx1ZS5hZGRpdGlvbmFsUHJvcGVydGllcykgJiZcbiAgICAgICAgVmFsdWVHdWFyZC5Jc09iamVjdCh2YWx1ZS5wYXR0ZXJuUHJvcGVydGllcykgJiZcbiAgICAgICAgKChzY2hlbWEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpO1xuICAgICAgICAgICAgcmV0dXJuIChrZXlzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgICAgIElzUGF0dGVybihrZXlzWzBdKSAmJlxuICAgICAgICAgICAgICAgIFZhbHVlR3VhcmQuSXNPYmplY3Qoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKSAmJlxuICAgICAgICAgICAgICAgIElzU2NoZW1hKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1trZXlzWzBdXSkpO1xuICAgICAgICB9KSh2YWx1ZSkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIFRSZWN1cnNpdmUgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1JlY3Vyc2l2ZSh2YWx1ZSkge1xuICAgIHJldHVybiBWYWx1ZUd1YXJkLklzT2JqZWN0KHZhbHVlKSAmJiBIaW50IGluIHZhbHVlICYmIHZhbHVlW0hpbnRdID09PSAnUmVjdXJzaXZlJztcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRSZWYgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1JlZih2YWx1ZSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdSZWYnKSAmJlxuICAgICAgICBJc09wdGlvbmFsU3RyaW5nKHZhbHVlLiRpZCkgJiZcbiAgICAgICAgVmFsdWVHdWFyZC5Jc1N0cmluZyh2YWx1ZS4kcmVmKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUUmVnRXhwICovXG5leHBvcnQgZnVuY3Rpb24gSXNSZWdFeHAodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnUmVnRXhwJykgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpICYmXG4gICAgICAgIFZhbHVlR3VhcmQuSXNTdHJpbmcodmFsdWUuc291cmNlKSAmJlxuICAgICAgICBWYWx1ZUd1YXJkLklzU3RyaW5nKHZhbHVlLmZsYWdzKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLm1heExlbmd0aCkgJiZcbiAgICAgICAgSXNPcHRpb25hbE51bWJlcih2YWx1ZS5taW5MZW5ndGgpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRTdHJpbmcgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1N0cmluZyh2YWx1ZSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdTdHJpbmcnKSAmJlxuICAgICAgICB2YWx1ZS50eXBlID09PSAnc3RyaW5nJyAmJlxuICAgICAgICBJc09wdGlvbmFsU3RyaW5nKHZhbHVlLiRpZCkgJiZcbiAgICAgICAgSXNPcHRpb25hbE51bWJlcih2YWx1ZS5taW5MZW5ndGgpICYmXG4gICAgICAgIElzT3B0aW9uYWxOdW1iZXIodmFsdWUubWF4TGVuZ3RoKSAmJlxuICAgICAgICBJc09wdGlvbmFsUGF0dGVybih2YWx1ZS5wYXR0ZXJuKSAmJlxuICAgICAgICBJc09wdGlvbmFsRm9ybWF0KHZhbHVlLmZvcm1hdCkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVFN5bWJvbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzU3ltYm9sKHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ1N5bWJvbCcpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdzeW1ib2wnICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUuJGlkKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUVGVtcGxhdGVMaXRlcmFsICovXG5leHBvcnQgZnVuY3Rpb24gSXNUZW1wbGF0ZUxpdGVyYWwodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnVGVtcGxhdGVMaXRlcmFsJykgJiZcbiAgICAgICAgdmFsdWUudHlwZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgVmFsdWVHdWFyZC5Jc1N0cmluZyh2YWx1ZS5wYXR0ZXJuKSAmJlxuICAgICAgICB2YWx1ZS5wYXR0ZXJuWzBdID09PSAnXicgJiZcbiAgICAgICAgdmFsdWUucGF0dGVyblt2YWx1ZS5wYXR0ZXJuLmxlbmd0aCAtIDFdID09PSAnJCcpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVFRoaXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1RoaXModmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnVGhpcycpICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUuJGlkKSAmJlxuICAgICAgICBWYWx1ZUd1YXJkLklzU3RyaW5nKHZhbHVlLiRyZWYpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgb2YgdGhpcyB2YWx1ZSBpcyBUVHJhbnNmb3JtICovXG5leHBvcnQgZnVuY3Rpb24gSXNUcmFuc2Zvcm0odmFsdWUpIHtcbiAgICByZXR1cm4gVmFsdWVHdWFyZC5Jc09iamVjdCh2YWx1ZSkgJiYgVHJhbnNmb3JtS2luZCBpbiB2YWx1ZTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRUdXBsZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVHVwbGUodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnVHVwbGUnKSAmJlxuICAgICAgICB2YWx1ZS50eXBlID09PSAnYXJyYXknICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUuJGlkKSAmJlxuICAgICAgICBWYWx1ZUd1YXJkLklzTnVtYmVyKHZhbHVlLm1pbkl0ZW1zKSAmJlxuICAgICAgICBWYWx1ZUd1YXJkLklzTnVtYmVyKHZhbHVlLm1heEl0ZW1zKSAmJlxuICAgICAgICB2YWx1ZS5taW5JdGVtcyA9PT0gdmFsdWUubWF4SXRlbXMgJiZcbiAgICAgICAgKCggLy8gZW1wdHlcbiAgICAgICAgVmFsdWVHdWFyZC5Jc1VuZGVmaW5lZCh2YWx1ZS5pdGVtcykgJiZcbiAgICAgICAgICAgIFZhbHVlR3VhcmQuSXNVbmRlZmluZWQodmFsdWUuYWRkaXRpb25hbEl0ZW1zKSAmJlxuICAgICAgICAgICAgdmFsdWUubWluSXRlbXMgPT09IDApIHx8IChWYWx1ZUd1YXJkLklzQXJyYXkodmFsdWUuaXRlbXMpICYmXG4gICAgICAgICAgICB2YWx1ZS5pdGVtcy5ldmVyeShzY2hlbWEgPT4gSXNTY2hlbWEoc2NoZW1hKSkpKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUVW5kZWZpbmVkICovXG5leHBvcnQgZnVuY3Rpb24gSXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnVW5kZWZpbmVkJykgJiZcbiAgICAgICAgdmFsdWUudHlwZSA9PT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRVbmlvbjxMaXRlcmFsPHN0cmluZyB8IG51bWJlcj5bXT4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1VuaW9uTGl0ZXJhbCh2YWx1ZSkge1xuICAgIHJldHVybiBJc1VuaW9uKHZhbHVlKSAmJiB2YWx1ZS5hbnlPZi5ldmVyeSgoc2NoZW1hKSA9PiBJc0xpdGVyYWxTdHJpbmcoc2NoZW1hKSB8fCBJc0xpdGVyYWxOdW1iZXIoc2NoZW1hKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUVW5pb24gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1VuaW9uKHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ1VuaW9uJykgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpICYmXG4gICAgICAgIFZhbHVlR3VhcmQuSXNPYmplY3QodmFsdWUpICYmXG4gICAgICAgIFZhbHVlR3VhcmQuSXNBcnJheSh2YWx1ZS5hbnlPZikgJiZcbiAgICAgICAgdmFsdWUuYW55T2YuZXZlcnkoc2NoZW1hID0+IElzU2NoZW1hKHNjaGVtYSkpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRVaW50OEFycmF5ICovXG5leHBvcnQgZnVuY3Rpb24gSXNVaW50OEFycmF5KHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ1VpbnQ4QXJyYXknKSAmJlxuICAgICAgICB2YWx1ZS50eXBlID09PSAnVWludDhBcnJheScgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpICYmXG4gICAgICAgIElzT3B0aW9uYWxOdW1iZXIodmFsdWUubWluQnl0ZUxlbmd0aCkgJiZcbiAgICAgICAgSXNPcHRpb25hbE51bWJlcih2YWx1ZS5tYXhCeXRlTGVuZ3RoKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUVW5rbm93biAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVW5rbm93bih2YWx1ZSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdVbmtub3duJykgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgcmF3IFRVbnNhZmUgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1Vuc2FmZSh2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ1Vuc2FmZScpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVFZvaWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1ZvaWQodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnVm9pZCcpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICd2b2lkJyAmJlxuICAgICAgICBJc09wdGlvbmFsU3RyaW5nKHZhbHVlLiRpZCkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEtpbmQgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0tpbmQodmFsdWUpIHtcbiAgICByZXR1cm4gVmFsdWVHdWFyZC5Jc09iamVjdCh2YWx1ZSkgJiYgS2luZCBpbiB2YWx1ZSAmJiBWYWx1ZUd1YXJkLklzU3RyaW5nKHZhbHVlW0tpbmRdKSAmJiAhS25vd25UeXBlcy5pbmNsdWRlcyh2YWx1ZVtLaW5kXSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUU2NoZW1hICovXG5leHBvcnQgZnVuY3Rpb24gSXNTY2hlbWEodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKFZhbHVlR3VhcmQuSXNPYmplY3QodmFsdWUpKSAmJiAoSXNBbnkodmFsdWUpIHx8XG4gICAgICAgIElzQXJyYXkodmFsdWUpIHx8XG4gICAgICAgIElzQm9vbGVhbih2YWx1ZSkgfHxcbiAgICAgICAgSXNCaWdJbnQodmFsdWUpIHx8XG4gICAgICAgIElzQXN5bmNJdGVyYXRvcih2YWx1ZSkgfHxcbiAgICAgICAgSXNDb25zdHJ1Y3Rvcih2YWx1ZSkgfHxcbiAgICAgICAgSXNEYXRlKHZhbHVlKSB8fFxuICAgICAgICBJc0Z1bmN0aW9uKHZhbHVlKSB8fFxuICAgICAgICBJc0ludGVnZXIodmFsdWUpIHx8XG4gICAgICAgIElzSW50ZXJzZWN0KHZhbHVlKSB8fFxuICAgICAgICBJc0l0ZXJhdG9yKHZhbHVlKSB8fFxuICAgICAgICBJc0xpdGVyYWwodmFsdWUpIHx8XG4gICAgICAgIElzTWFwcGVkS2V5KHZhbHVlKSB8fFxuICAgICAgICBJc01hcHBlZFJlc3VsdCh2YWx1ZSkgfHxcbiAgICAgICAgSXNOZXZlcih2YWx1ZSkgfHxcbiAgICAgICAgSXNOb3QodmFsdWUpIHx8XG4gICAgICAgIElzTnVsbCh2YWx1ZSkgfHxcbiAgICAgICAgSXNOdW1iZXIodmFsdWUpIHx8XG4gICAgICAgIElzT2JqZWN0KHZhbHVlKSB8fFxuICAgICAgICBJc1Byb21pc2UodmFsdWUpIHx8XG4gICAgICAgIElzUmVjb3JkKHZhbHVlKSB8fFxuICAgICAgICBJc1JlZih2YWx1ZSkgfHxcbiAgICAgICAgSXNSZWdFeHAodmFsdWUpIHx8XG4gICAgICAgIElzU3RyaW5nKHZhbHVlKSB8fFxuICAgICAgICBJc1N5bWJvbCh2YWx1ZSkgfHxcbiAgICAgICAgSXNUZW1wbGF0ZUxpdGVyYWwodmFsdWUpIHx8XG4gICAgICAgIElzVGhpcyh2YWx1ZSkgfHxcbiAgICAgICAgSXNUdXBsZSh2YWx1ZSkgfHxcbiAgICAgICAgSXNVbmRlZmluZWQodmFsdWUpIHx8XG4gICAgICAgIElzVW5pb24odmFsdWUpIHx8XG4gICAgICAgIElzVWludDhBcnJheSh2YWx1ZSkgfHxcbiAgICAgICAgSXNVbmtub3duKHZhbHVlKSB8fFxuICAgICAgICBJc1Vuc2FmZSh2YWx1ZSkgfHxcbiAgICAgICAgSXNWb2lkKHZhbHVlKSB8fFxuICAgICAgICBJc0tpbmQodmFsdWUpKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQW55IH0gZnJvbSAnLi4vYW55L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBGdW5jdGlvbiBhcyBGdW5jdGlvblR5cGUgfSBmcm9tICcuLi9mdW5jdGlvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgTnVtYmVyIH0gZnJvbSAnLi4vbnVtYmVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBTdHJpbmcgfSBmcm9tICcuLi9zdHJpbmcvaW5kZXgubWpzJztcbmltcG9ydCB7IFVua25vd24gfSBmcm9tICcuLi91bmtub3duL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUZW1wbGF0ZUxpdGVyYWxUb1VuaW9uIH0gZnJvbSAnLi4vdGVtcGxhdGUtbGl0ZXJhbC9pbmRleC5tanMnO1xuaW1wb3J0IHsgUGF0dGVybk51bWJlckV4YWN0LCBQYXR0ZXJuU3RyaW5nRXhhY3QgfSBmcm9tICcuLi9wYXR0ZXJucy9pbmRleC5tanMnO1xuaW1wb3J0IHsgS2luZCwgSGludCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IFR5cGVCb3hFcnJvciB9IGZyb20gJy4uL2Vycm9yL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUeXBlR3VhcmQsIFZhbHVlR3VhcmQgfSBmcm9tICcuLi9ndWFyZC9pbmRleC5tanMnO1xuZXhwb3J0IGNsYXNzIEV4dGVuZHNSZXNvbHZlckVycm9yIGV4dGVuZHMgVHlwZUJveEVycm9yIHtcbn1cbmV4cG9ydCB2YXIgRXh0ZW5kc1Jlc3VsdDtcbihmdW5jdGlvbiAoRXh0ZW5kc1Jlc3VsdCkge1xuICAgIEV4dGVuZHNSZXN1bHRbRXh0ZW5kc1Jlc3VsdFtcIlVuaW9uXCJdID0gMF0gPSBcIlVuaW9uXCI7XG4gICAgRXh0ZW5kc1Jlc3VsdFtFeHRlbmRzUmVzdWx0W1wiVHJ1ZVwiXSA9IDFdID0gXCJUcnVlXCI7XG4gICAgRXh0ZW5kc1Jlc3VsdFtFeHRlbmRzUmVzdWx0W1wiRmFsc2VcIl0gPSAyXSA9IFwiRmFsc2VcIjtcbn0pKEV4dGVuZHNSZXN1bHQgfHwgKEV4dGVuZHNSZXN1bHQgPSB7fSkpO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBJbnRvQm9vbGVhblJlc3VsdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEludG9Cb29sZWFuUmVzdWx0KHJlc3VsdCkge1xuICAgIHJldHVybiByZXN1bHQgPT09IEV4dGVuZHNSZXN1bHQuRmFsc2UgPyByZXN1bHQgOiBFeHRlbmRzUmVzdWx0LlRydWU7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRocm93XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gVGhyb3cobWVzc2FnZSkge1xuICAgIHRocm93IG5ldyBFeHRlbmRzUmVzb2x2ZXJFcnJvcihtZXNzYWdlKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RydWN0dXJhbFJpZ2h0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gSXNTdHJ1Y3R1cmFsUmlnaHQocmlnaHQpIHtcbiAgICByZXR1cm4gKFR5cGVHdWFyZC5Jc05ldmVyKHJpZ2h0KSB8fFxuICAgICAgICBUeXBlR3VhcmQuSXNJbnRlcnNlY3QocmlnaHQpIHx8XG4gICAgICAgIFR5cGVHdWFyZC5Jc1VuaW9uKHJpZ2h0KSB8fFxuICAgICAgICBUeXBlR3VhcmQuSXNVbmtub3duKHJpZ2h0KSB8fFxuICAgICAgICBUeXBlR3VhcmQuSXNBbnkocmlnaHQpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gU3RydWN0dXJhbFJpZ2h0KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChUeXBlR3VhcmQuSXNOZXZlcihyaWdodCkgPyBGcm9tTmV2ZXJSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICBUeXBlR3VhcmQuSXNJbnRlcnNlY3QocmlnaHQpID8gRnJvbUludGVyc2VjdFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICBUeXBlR3VhcmQuSXNVbmlvbihyaWdodCkgPyBGcm9tVW5pb25SaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1Vua25vd24ocmlnaHQpID8gRnJvbVVua25vd25SaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNBbnkocmlnaHQpID8gRnJvbUFueVJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBUaHJvdygnU3RydWN0dXJhbFJpZ2h0JykpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBBbnlcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQW55UmlnaHQobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gRXh0ZW5kc1Jlc3VsdC5UcnVlO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQW55KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChUeXBlR3VhcmQuSXNJbnRlcnNlY3QocmlnaHQpID8gRnJvbUludGVyc2VjdFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgIChUeXBlR3VhcmQuSXNVbmlvbihyaWdodCkgJiYgcmlnaHQuYW55T2Yuc29tZSgoc2NoZW1hKSA9PiBUeXBlR3VhcmQuSXNBbnkoc2NoZW1hKSB8fCBUeXBlR3VhcmQuSXNVbmtub3duKHNjaGVtYSkpKSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgICAgICBUeXBlR3VhcmQuSXNVbmlvbihyaWdodCkgPyBFeHRlbmRzUmVzdWx0LlVuaW9uIDpcbiAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNVbmtub3duKHJpZ2h0KSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc0FueShyaWdodCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5Vbmlvbik7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEFycmF5XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUFycmF5UmlnaHQobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gKFR5cGVHdWFyZC5Jc1Vua25vd24obGVmdCkgPyBFeHRlbmRzUmVzdWx0LkZhbHNlIDpcbiAgICAgICAgVHlwZUd1YXJkLklzQW55KGxlZnQpID8gRXh0ZW5kc1Jlc3VsdC5VbmlvbiA6XG4gICAgICAgICAgICBUeXBlR3VhcmQuSXNOZXZlcihsZWZ0KSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21BcnJheShsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiAoVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSAmJiBJc09iamVjdEFycmF5TGlrZShyaWdodCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICBJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICFUeXBlR3VhcmQuSXNBcnJheShyaWdodCkgPyBFeHRlbmRzUmVzdWx0LkZhbHNlIDpcbiAgICAgICAgICAgICAgICBJbnRvQm9vbGVhblJlc3VsdChWaXNpdChsZWZ0Lml0ZW1zLCByaWdodC5pdGVtcykpKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQXN5bmNJdGVyYXRvclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Bc3luY0l0ZXJhdG9yKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgIVR5cGVHdWFyZC5Jc0FzeW5jSXRlcmF0b3IocmlnaHQpID8gRXh0ZW5kc1Jlc3VsdC5GYWxzZSA6XG4gICAgICAgICAgICBJbnRvQm9vbGVhblJlc3VsdChWaXNpdChsZWZ0Lml0ZW1zLCByaWdodC5pdGVtcykpKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQmlnSW50XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUJpZ0ludChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiAoSXNTdHJ1Y3R1cmFsUmlnaHQocmlnaHQpID8gU3RydWN0dXJhbFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc09iamVjdChyaWdodCkgPyBGcm9tT2JqZWN0UmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1JlY29yZChyaWdodCkgPyBGcm9tUmVjb3JkUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNCaWdJbnQocmlnaHQpID8gRXh0ZW5kc1Jlc3VsdC5UcnVlIDpcbiAgICAgICAgICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEJvb2xlYW5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQm9vbGVhblJpZ2h0KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChUeXBlR3VhcmQuSXNMaXRlcmFsQm9vbGVhbihsZWZ0KSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc0Jvb2xlYW4obGVmdCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Cb29sZWFuKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSA/IEZyb21PYmplY3RSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgVHlwZUd1YXJkLklzUmVjb3JkKHJpZ2h0KSA/IEZyb21SZWNvcmRSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc0Jvb2xlYW4ocmlnaHQpID8gRXh0ZW5kc1Jlc3VsdC5UcnVlIDpcbiAgICAgICAgICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENvbnN0cnVjdG9yXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUNvbnN0cnVjdG9yKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSA/IEZyb21PYmplY3RSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgIVR5cGVHdWFyZC5Jc0NvbnN0cnVjdG9yKHJpZ2h0KSA/IEV4dGVuZHNSZXN1bHQuRmFsc2UgOlxuICAgICAgICAgICAgICAgIGxlZnQucGFyYW1ldGVycy5sZW5ndGggPiByaWdodC5wYXJhbWV0ZXJzLmxlbmd0aCA/IEV4dGVuZHNSZXN1bHQuRmFsc2UgOlxuICAgICAgICAgICAgICAgICAgICAoIWxlZnQucGFyYW1ldGVycy5ldmVyeSgoc2NoZW1hLCBpbmRleCkgPT4gSW50b0Jvb2xlYW5SZXN1bHQoVmlzaXQocmlnaHQucGFyYW1ldGVyc1tpbmRleF0sIHNjaGVtYSkpID09PSBFeHRlbmRzUmVzdWx0LlRydWUpKSA/IEV4dGVuZHNSZXN1bHQuRmFsc2UgOlxuICAgICAgICAgICAgICAgICAgICAgICAgSW50b0Jvb2xlYW5SZXN1bHQoVmlzaXQobGVmdC5yZXR1cm5zLCByaWdodC5yZXR1cm5zKSkpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBEYXRlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbURhdGUobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gKElzU3RydWN0dXJhbFJpZ2h0KHJpZ2h0KSA/IFN0cnVjdHVyYWxSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICBUeXBlR3VhcmQuSXNPYmplY3QocmlnaHQpID8gRnJvbU9iamVjdFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICBUeXBlR3VhcmQuSXNSZWNvcmQocmlnaHQpID8gRnJvbVJlY29yZFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzRGF0ZShyaWdodCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgICAgICAgICBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRnVuY3Rpb25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tRnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gKElzU3RydWN0dXJhbFJpZ2h0KHJpZ2h0KSA/IFN0cnVjdHVyYWxSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICBUeXBlR3VhcmQuSXNPYmplY3QocmlnaHQpID8gRnJvbU9iamVjdFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAhVHlwZUd1YXJkLklzRnVuY3Rpb24ocmlnaHQpID8gRXh0ZW5kc1Jlc3VsdC5GYWxzZSA6XG4gICAgICAgICAgICAgICAgbGVmdC5wYXJhbWV0ZXJzLmxlbmd0aCA+IHJpZ2h0LnBhcmFtZXRlcnMubGVuZ3RoID8gRXh0ZW5kc1Jlc3VsdC5GYWxzZSA6XG4gICAgICAgICAgICAgICAgICAgICghbGVmdC5wYXJhbWV0ZXJzLmV2ZXJ5KChzY2hlbWEsIGluZGV4KSA9PiBJbnRvQm9vbGVhblJlc3VsdChWaXNpdChyaWdodC5wYXJhbWV0ZXJzW2luZGV4XSwgc2NoZW1hKSkgPT09IEV4dGVuZHNSZXN1bHQuVHJ1ZSkpID8gRXh0ZW5kc1Jlc3VsdC5GYWxzZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBJbnRvQm9vbGVhblJlc3VsdChWaXNpdChsZWZ0LnJldHVybnMsIHJpZ2h0LnJldHVybnMpKSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEludGVnZXJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tSW50ZWdlclJpZ2h0KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChUeXBlR3VhcmQuSXNMaXRlcmFsKGxlZnQpICYmIFZhbHVlR3VhcmQuSXNOdW1iZXIobGVmdC5jb25zdCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICBUeXBlR3VhcmQuSXNOdW1iZXIobGVmdCkgfHwgVHlwZUd1YXJkLklzSW50ZWdlcihsZWZ0KSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgICAgICBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUludGVnZXIobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gKFR5cGVHdWFyZC5Jc0ludGVnZXIocmlnaHQpIHx8IFR5cGVHdWFyZC5Jc051bWJlcihyaWdodCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICBJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgIFR5cGVHdWFyZC5Jc09iamVjdChyaWdodCkgPyBGcm9tT2JqZWN0UmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNSZWNvcmQocmlnaHQpID8gRnJvbVJlY29yZFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgIEV4dGVuZHNSZXN1bHQuRmFsc2UpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBJbnRlcnNlY3Rcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tSW50ZXJzZWN0UmlnaHQobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gcmlnaHQuYWxsT2YuZXZlcnkoKHNjaGVtYSkgPT4gVmlzaXQobGVmdCwgc2NoZW1hKSA9PT0gRXh0ZW5kc1Jlc3VsdC5UcnVlKVxuICAgICAgICA/IEV4dGVuZHNSZXN1bHQuVHJ1ZVxuICAgICAgICA6IEV4dGVuZHNSZXN1bHQuRmFsc2U7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21JbnRlcnNlY3QobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gbGVmdC5hbGxPZi5zb21lKChzY2hlbWEpID0+IFZpc2l0KHNjaGVtYSwgcmlnaHQpID09PSBFeHRlbmRzUmVzdWx0LlRydWUpXG4gICAgICAgID8gRXh0ZW5kc1Jlc3VsdC5UcnVlXG4gICAgICAgIDogRXh0ZW5kc1Jlc3VsdC5GYWxzZTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSXRlcmF0b3Jcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tSXRlcmF0b3IobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gKElzU3RydWN0dXJhbFJpZ2h0KHJpZ2h0KSA/IFN0cnVjdHVyYWxSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAhVHlwZUd1YXJkLklzSXRlcmF0b3IocmlnaHQpID8gRXh0ZW5kc1Jlc3VsdC5GYWxzZSA6XG4gICAgICAgICAgICBJbnRvQm9vbGVhblJlc3VsdChWaXNpdChsZWZ0Lml0ZW1zLCByaWdodC5pdGVtcykpKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gTGl0ZXJhbFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21MaXRlcmFsKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChUeXBlR3VhcmQuSXNMaXRlcmFsKHJpZ2h0KSAmJiByaWdodC5jb25zdCA9PT0gbGVmdC5jb25zdCA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgIElzU3RydWN0dXJhbFJpZ2h0KHJpZ2h0KSA/IFN0cnVjdHVyYWxSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSA/IEZyb21PYmplY3RSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1JlY29yZChyaWdodCkgPyBGcm9tUmVjb3JkUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzU3RyaW5nKHJpZ2h0KSA/IEZyb21TdHJpbmdSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzTnVtYmVyKHJpZ2h0KSA/IEZyb21OdW1iZXJSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc0ludGVnZXIocmlnaHQpID8gRnJvbUludGVnZXJSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNCb29sZWFuKHJpZ2h0KSA/IEZyb21Cb29sZWFuUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV4dGVuZHNSZXN1bHQuRmFsc2UpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBOZXZlclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21OZXZlclJpZ2h0KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIEV4dGVuZHNSZXN1bHQuRmFsc2U7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21OZXZlcihsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiBFeHRlbmRzUmVzdWx0LlRydWU7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE5vdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFVud3JhcFROb3Qoc2NoZW1hKSB7XG4gICAgbGV0IFtjdXJyZW50LCBkZXB0aF0gPSBbc2NoZW1hLCAwXTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZiAoIVR5cGVHdWFyZC5Jc05vdChjdXJyZW50KSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5ub3Q7XG4gICAgICAgIGRlcHRoICs9IDE7XG4gICAgfVxuICAgIHJldHVybiBkZXB0aCAlIDIgPT09IDAgPyBjdXJyZW50IDogVW5rbm93bigpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTm90KGxlZnQsIHJpZ2h0KSB7XG4gICAgLy8gVHlwZVNjcmlwdCBoYXMgbm8gY29uY2VwdCBvZiBuZWdhdGVkIHR5cGVzLCBhbmQgYXR0ZW1wdHMgdG8gY29ycmVjdGx5IGNoZWNrIHRoZSBuZWdhdGVkXG4gICAgLy8gdHlwZSBhdCBydW50aW1lIHdvdWxkIHB1dCBUeXBlQm94IGF0IG9kZHMgd2l0aCBUeXBlU2NyaXB0cyBhYmlsaXR5IHRvIHN0YXRpY2FsbHkgaW5mZXJcbiAgICAvLyB0aGUgdHlwZS4gSW5zdGVhZCB3ZSB1bndyYXAgdG8gZWl0aGVyIHVua25vd24gb3IgVCBhbmQgY29udGludWUgZXZhbHVhdGluZy5cbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKFR5cGVHdWFyZC5Jc05vdChsZWZ0KSA/IFZpc2l0KFVud3JhcFROb3QobGVmdCksIHJpZ2h0KSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc05vdChyaWdodCkgPyBWaXNpdChsZWZ0LCBVbndyYXBUTm90KHJpZ2h0KSkgOlxuICAgICAgICAgICAgVGhyb3coJ0ludmFsaWQgZmFsbHRocm91Z2ggZm9yIE5vdCcpKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gTnVsbFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21OdWxsKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSA/IEZyb21PYmplY3RSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgVHlwZUd1YXJkLklzUmVjb3JkKHJpZ2h0KSA/IEZyb21SZWNvcmRSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc051bGwocmlnaHQpID8gRXh0ZW5kc1Jlc3VsdC5UcnVlIDpcbiAgICAgICAgICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE51bWJlclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21OdW1iZXJSaWdodChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiAoVHlwZUd1YXJkLklzTGl0ZXJhbE51bWJlcihsZWZ0KSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc051bWJlcihsZWZ0KSB8fCBUeXBlR3VhcmQuSXNJbnRlZ2VyKGxlZnQpID8gRXh0ZW5kc1Jlc3VsdC5UcnVlIDpcbiAgICAgICAgICAgIEV4dGVuZHNSZXN1bHQuRmFsc2UpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTnVtYmVyKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSA/IEZyb21PYmplY3RSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgVHlwZUd1YXJkLklzUmVjb3JkKHJpZ2h0KSA/IEZyb21SZWNvcmRSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc0ludGVnZXIocmlnaHQpIHx8IFR5cGVHdWFyZC5Jc051bWJlcihyaWdodCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgICAgICAgICBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gT2JqZWN0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gSXNPYmplY3RQcm9wZXJ0eUNvdW50KHNjaGVtYSwgY291bnQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc2NoZW1hLnByb3BlcnRpZXMpLmxlbmd0aCA9PT0gY291bnQ7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIElzT2JqZWN0U3RyaW5nTGlrZShzY2hlbWEpIHtcbiAgICByZXR1cm4gSXNPYmplY3RBcnJheUxpa2Uoc2NoZW1hKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gSXNPYmplY3RTeW1ib2xMaWtlKHNjaGVtYSkge1xuICAgIHJldHVybiBJc09iamVjdFByb3BlcnR5Q291bnQoc2NoZW1hLCAwKSB8fCAoSXNPYmplY3RQcm9wZXJ0eUNvdW50KHNjaGVtYSwgMSkgJiYgJ2Rlc2NyaXB0aW9uJyBpbiBzY2hlbWEucHJvcGVydGllcyAmJiBUeXBlR3VhcmQuSXNVbmlvbihzY2hlbWEucHJvcGVydGllcy5kZXNjcmlwdGlvbikgJiYgc2NoZW1hLnByb3BlcnRpZXMuZGVzY3JpcHRpb24uYW55T2YubGVuZ3RoID09PSAyICYmICgoVHlwZUd1YXJkLklzU3RyaW5nKHNjaGVtYS5wcm9wZXJ0aWVzLmRlc2NyaXB0aW9uLmFueU9mWzBdKSAmJlxuICAgICAgICBUeXBlR3VhcmQuSXNVbmRlZmluZWQoc2NoZW1hLnByb3BlcnRpZXMuZGVzY3JpcHRpb24uYW55T2ZbMV0pKSB8fCAoVHlwZUd1YXJkLklzU3RyaW5nKHNjaGVtYS5wcm9wZXJ0aWVzLmRlc2NyaXB0aW9uLmFueU9mWzFdKSAmJlxuICAgICAgICBUeXBlR3VhcmQuSXNVbmRlZmluZWQoc2NoZW1hLnByb3BlcnRpZXMuZGVzY3JpcHRpb24uYW55T2ZbMF0pKSkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBJc09iamVjdE51bWJlckxpa2Uoc2NoZW1hKSB7XG4gICAgcmV0dXJuIElzT2JqZWN0UHJvcGVydHlDb3VudChzY2hlbWEsIDApO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBJc09iamVjdEJvb2xlYW5MaWtlKHNjaGVtYSkge1xuICAgIHJldHVybiBJc09iamVjdFByb3BlcnR5Q291bnQoc2NoZW1hLCAwKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gSXNPYmplY3RCaWdJbnRMaWtlKHNjaGVtYSkge1xuICAgIHJldHVybiBJc09iamVjdFByb3BlcnR5Q291bnQoc2NoZW1hLCAwKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gSXNPYmplY3REYXRlTGlrZShzY2hlbWEpIHtcbiAgICByZXR1cm4gSXNPYmplY3RQcm9wZXJ0eUNvdW50KHNjaGVtYSwgMCk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIElzT2JqZWN0VWludDhBcnJheUxpa2Uoc2NoZW1hKSB7XG4gICAgcmV0dXJuIElzT2JqZWN0QXJyYXlMaWtlKHNjaGVtYSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIElzT2JqZWN0RnVuY3Rpb25MaWtlKHNjaGVtYSkge1xuICAgIGNvbnN0IGxlbmd0aCA9IE51bWJlcigpO1xuICAgIHJldHVybiBJc09iamVjdFByb3BlcnR5Q291bnQoc2NoZW1hLCAwKSB8fCAoSXNPYmplY3RQcm9wZXJ0eUNvdW50KHNjaGVtYSwgMSkgJiYgJ2xlbmd0aCcgaW4gc2NoZW1hLnByb3BlcnRpZXMgJiYgSW50b0Jvb2xlYW5SZXN1bHQoVmlzaXQoc2NoZW1hLnByb3BlcnRpZXNbJ2xlbmd0aCddLCBsZW5ndGgpKSA9PT0gRXh0ZW5kc1Jlc3VsdC5UcnVlKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gSXNPYmplY3RDb25zdHJ1Y3Rvckxpa2Uoc2NoZW1hKSB7XG4gICAgcmV0dXJuIElzT2JqZWN0UHJvcGVydHlDb3VudChzY2hlbWEsIDApO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBJc09iamVjdEFycmF5TGlrZShzY2hlbWEpIHtcbiAgICBjb25zdCBsZW5ndGggPSBOdW1iZXIoKTtcbiAgICByZXR1cm4gSXNPYmplY3RQcm9wZXJ0eUNvdW50KHNjaGVtYSwgMCkgfHwgKElzT2JqZWN0UHJvcGVydHlDb3VudChzY2hlbWEsIDEpICYmICdsZW5ndGgnIGluIHNjaGVtYS5wcm9wZXJ0aWVzICYmIEludG9Cb29sZWFuUmVzdWx0KFZpc2l0KHNjaGVtYS5wcm9wZXJ0aWVzWydsZW5ndGgnXSwgbGVuZ3RoKSkgPT09IEV4dGVuZHNSZXN1bHQuVHJ1ZSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIElzT2JqZWN0UHJvbWlzZUxpa2Uoc2NoZW1hKSB7XG4gICAgY29uc3QgdGhlbiA9IEZ1bmN0aW9uVHlwZShbQW55KCldLCBBbnkoKSk7XG4gICAgcmV0dXJuIElzT2JqZWN0UHJvcGVydHlDb3VudChzY2hlbWEsIDApIHx8IChJc09iamVjdFByb3BlcnR5Q291bnQoc2NoZW1hLCAxKSAmJiAndGhlbicgaW4gc2NoZW1hLnByb3BlcnRpZXMgJiYgSW50b0Jvb2xlYW5SZXN1bHQoVmlzaXQoc2NoZW1hLnByb3BlcnRpZXNbJ3RoZW4nXSwgdGhlbikpID09PSBFeHRlbmRzUmVzdWx0LlRydWUpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBQcm9wZXJ0eVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFByb3BlcnR5KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChWaXNpdChsZWZ0LCByaWdodCkgPT09IEV4dGVuZHNSZXN1bHQuRmFsc2UgPyBFeHRlbmRzUmVzdWx0LkZhbHNlIDpcbiAgICAgICAgVHlwZUd1YXJkLklzT3B0aW9uYWwobGVmdCkgJiYgIVR5cGVHdWFyZC5Jc09wdGlvbmFsKHJpZ2h0KSA/IEV4dGVuZHNSZXN1bHQuRmFsc2UgOlxuICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5UcnVlKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbU9iamVjdFJpZ2h0KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChUeXBlR3VhcmQuSXNVbmtub3duKGxlZnQpID8gRXh0ZW5kc1Jlc3VsdC5GYWxzZSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc0FueShsZWZ0KSA/IEV4dGVuZHNSZXN1bHQuVW5pb24gOiAoVHlwZUd1YXJkLklzTmV2ZXIobGVmdCkgfHxcbiAgICAgICAgICAgIChUeXBlR3VhcmQuSXNMaXRlcmFsU3RyaW5nKGxlZnQpICYmIElzT2JqZWN0U3RyaW5nTGlrZShyaWdodCkpIHx8XG4gICAgICAgICAgICAoVHlwZUd1YXJkLklzTGl0ZXJhbE51bWJlcihsZWZ0KSAmJiBJc09iamVjdE51bWJlckxpa2UocmlnaHQpKSB8fFxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc0xpdGVyYWxCb29sZWFuKGxlZnQpICYmIElzT2JqZWN0Qm9vbGVhbkxpa2UocmlnaHQpKSB8fFxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc1N5bWJvbChsZWZ0KSAmJiBJc09iamVjdFN5bWJvbExpa2UocmlnaHQpKSB8fFxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc0JpZ0ludChsZWZ0KSAmJiBJc09iamVjdEJpZ0ludExpa2UocmlnaHQpKSB8fFxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc1N0cmluZyhsZWZ0KSAmJiBJc09iamVjdFN0cmluZ0xpa2UocmlnaHQpKSB8fFxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc1N5bWJvbChsZWZ0KSAmJiBJc09iamVjdFN5bWJvbExpa2UocmlnaHQpKSB8fFxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc051bWJlcihsZWZ0KSAmJiBJc09iamVjdE51bWJlckxpa2UocmlnaHQpKSB8fFxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc0ludGVnZXIobGVmdCkgJiYgSXNPYmplY3ROdW1iZXJMaWtlKHJpZ2h0KSkgfHxcbiAgICAgICAgICAgIChUeXBlR3VhcmQuSXNCb29sZWFuKGxlZnQpICYmIElzT2JqZWN0Qm9vbGVhbkxpa2UocmlnaHQpKSB8fFxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc1VpbnQ4QXJyYXkobGVmdCkgJiYgSXNPYmplY3RVaW50OEFycmF5TGlrZShyaWdodCkpIHx8XG4gICAgICAgICAgICAoVHlwZUd1YXJkLklzRGF0ZShsZWZ0KSAmJiBJc09iamVjdERhdGVMaWtlKHJpZ2h0KSkgfHxcbiAgICAgICAgICAgIChUeXBlR3VhcmQuSXNDb25zdHJ1Y3RvcihsZWZ0KSAmJiBJc09iamVjdENvbnN0cnVjdG9yTGlrZShyaWdodCkpIHx8XG4gICAgICAgICAgICAoVHlwZUd1YXJkLklzRnVuY3Rpb24obGVmdCkgJiYgSXNPYmplY3RGdW5jdGlvbkxpa2UocmlnaHQpKSkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc1JlY29yZChsZWZ0KSAmJiBUeXBlR3VhcmQuSXNTdHJpbmcoUmVjb3JkS2V5KGxlZnQpKSkgPyAoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gZXhwcmVzc2luZyBhIFJlY29yZCB3aXRoIGxpdGVyYWwga2V5IHZhbHVlcywgdGhlIFJlY29yZCBpcyBjb252ZXJ0ZWQgaW50byBhIE9iamVjdCB3aXRoXG4gICAgICAgICAgICAgICAgLy8gdGhlIEhpbnQgYXNzaWduZWQgYXMgYFJlY29yZGAuIFRoaXMgaXMgdXNlZCB0byBpbnZlcnQgdGhlIGV4dGVuZHMgbG9naWMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJpZ2h0W0hpbnRdID09PSAnUmVjb3JkJyA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6IEV4dGVuZHNSZXN1bHQuRmFsc2U7XG4gICAgICAgICAgICB9KSgpIDpcbiAgICAgICAgICAgICAgICAoVHlwZUd1YXJkLklzUmVjb3JkKGxlZnQpICYmIFR5cGVHdWFyZC5Jc051bWJlcihSZWNvcmRLZXkobGVmdCkpKSA/ICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJc09iamVjdFByb3BlcnR5Q291bnQocmlnaHQsIDApID8gRXh0ZW5kc1Jlc3VsdC5UcnVlIDogRXh0ZW5kc1Jlc3VsdC5GYWxzZTtcbiAgICAgICAgICAgICAgICB9KSgpIDpcbiAgICAgICAgICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21PYmplY3QobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gKElzU3RydWN0dXJhbFJpZ2h0KHJpZ2h0KSA/IFN0cnVjdHVyYWxSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICBUeXBlR3VhcmQuSXNSZWNvcmQocmlnaHQpID8gRnJvbVJlY29yZFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAhVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSA/IEV4dGVuZHNSZXN1bHQuRmFsc2UgOlxuICAgICAgICAgICAgICAgICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHJpZ2h0LnByb3BlcnRpZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbGVmdC5wcm9wZXJ0aWVzKSAmJiAhVHlwZUd1YXJkLklzT3B0aW9uYWwocmlnaHQucHJvcGVydGllc1trZXldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBFeHRlbmRzUmVzdWx0LkZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFR5cGVHdWFyZC5Jc09wdGlvbmFsKHJpZ2h0LnByb3BlcnRpZXNba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRXh0ZW5kc1Jlc3VsdC5UcnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BlcnR5KGxlZnQucHJvcGVydGllc1trZXldLCByaWdodC5wcm9wZXJ0aWVzW2tleV0pID09PSBFeHRlbmRzUmVzdWx0LkZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEV4dGVuZHNSZXN1bHQuRmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEV4dGVuZHNSZXN1bHQuVHJ1ZTtcbiAgICAgICAgICAgICAgICB9KSgpKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUHJvbWlzZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9taXNlKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSAmJiBJc09iamVjdFByb21pc2VMaWtlKHJpZ2h0KSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgICAgICAhVHlwZUd1YXJkLklzUHJvbWlzZShyaWdodCkgPyBFeHRlbmRzUmVzdWx0LkZhbHNlIDpcbiAgICAgICAgICAgICAgICBJbnRvQm9vbGVhblJlc3VsdChWaXNpdChsZWZ0Lml0ZW0sIHJpZ2h0Lml0ZW0pKSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFJlY29yZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFJlY29yZEtleShzY2hlbWEpIHtcbiAgICByZXR1cm4gKFBhdHRlcm5OdW1iZXJFeGFjdCBpbiBzY2hlbWEucGF0dGVyblByb3BlcnRpZXMgPyBOdW1iZXIoKSA6XG4gICAgICAgIFBhdHRlcm5TdHJpbmdFeGFjdCBpbiBzY2hlbWEucGF0dGVyblByb3BlcnRpZXMgPyBTdHJpbmcoKSA6XG4gICAgICAgICAgICBUaHJvdygnVW5rbm93biByZWNvcmQga2V5IHBhdHRlcm4nKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFJlY29yZFZhbHVlKHNjaGVtYSkge1xuICAgIHJldHVybiAoUGF0dGVybk51bWJlckV4YWN0IGluIHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcyA/IHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1tQYXR0ZXJuTnVtYmVyRXhhY3RdIDpcbiAgICAgICAgUGF0dGVyblN0cmluZ0V4YWN0IGluIHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcyA/IHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1tQYXR0ZXJuU3RyaW5nRXhhY3RdIDpcbiAgICAgICAgICAgIFRocm93KCdVbmFibGUgdG8gZ2V0IHJlY29yZCB2YWx1ZSBzY2hlbWEnKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZWNvcmRSaWdodChsZWZ0LCByaWdodCkge1xuICAgIGNvbnN0IFtLZXksIFZhbHVlXSA9IFtSZWNvcmRLZXkocmlnaHQpLCBSZWNvcmRWYWx1ZShyaWdodCldO1xuICAgIHJldHVybiAoKFR5cGVHdWFyZC5Jc0xpdGVyYWxTdHJpbmcobGVmdCkgJiYgVHlwZUd1YXJkLklzTnVtYmVyKEtleSkgJiYgSW50b0Jvb2xlYW5SZXN1bHQoVmlzaXQobGVmdCwgVmFsdWUpKSA9PT0gRXh0ZW5kc1Jlc3VsdC5UcnVlKSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc1VpbnQ4QXJyYXkobGVmdCkgJiYgVHlwZUd1YXJkLklzTnVtYmVyKEtleSkgPyBWaXNpdChsZWZ0LCBWYWx1ZSkgOlxuICAgICAgICAgICAgVHlwZUd1YXJkLklzU3RyaW5nKGxlZnQpICYmIFR5cGVHdWFyZC5Jc051bWJlcihLZXkpID8gVmlzaXQobGVmdCwgVmFsdWUpIDpcbiAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNBcnJheShsZWZ0KSAmJiBUeXBlR3VhcmQuSXNOdW1iZXIoS2V5KSA/IFZpc2l0KGxlZnQsIFZhbHVlKSA6XG4gICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc09iamVjdChsZWZ0KSA/ICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhsZWZ0LnByb3BlcnRpZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BlcnR5KFZhbHVlLCBsZWZ0LnByb3BlcnRpZXNba2V5XSkgPT09IEV4dGVuZHNSZXN1bHQuRmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEV4dGVuZHNSZXN1bHQuRmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEV4dGVuZHNSZXN1bHQuVHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSkoKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVJlY29yZChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiAoSXNTdHJ1Y3R1cmFsUmlnaHQocmlnaHQpID8gU3RydWN0dXJhbFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc09iamVjdChyaWdodCkgPyBGcm9tT2JqZWN0UmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICFUeXBlR3VhcmQuSXNSZWNvcmQocmlnaHQpID8gRXh0ZW5kc1Jlc3VsdC5GYWxzZSA6XG4gICAgICAgICAgICAgICAgVmlzaXQoUmVjb3JkVmFsdWUobGVmdCksIFJlY29yZFZhbHVlKHJpZ2h0KSkpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBSZWdFeHBcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUmVnRXhwKGxlZnQsIHJpZ2h0KSB7XG4gICAgLy8gTm90ZTogUmVnRXhwIHR5cGVzIGV2YWx1YXRlIGFzIHN0cmluZ3MsIG5vdCBSZWdFeHAgb2JqZWN0cy5cbiAgICAvLyBIZXJlIHdlIHJlbWFwIGVpdGhlciBpbnRvIHN0cmluZyBhbmQgY29udGludWUgZXZhbHVhdGluZy5cbiAgICBjb25zdCBMID0gVHlwZUd1YXJkLklzUmVnRXhwKGxlZnQpID8gU3RyaW5nKCkgOiBsZWZ0O1xuICAgIGNvbnN0IFIgPSBUeXBlR3VhcmQuSXNSZWdFeHAocmlnaHQpID8gU3RyaW5nKCkgOiByaWdodDtcbiAgICByZXR1cm4gVmlzaXQoTCwgUik7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0cmluZ1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21TdHJpbmdSaWdodChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiAoVHlwZUd1YXJkLklzTGl0ZXJhbChsZWZ0KSAmJiBWYWx1ZUd1YXJkLklzU3RyaW5nKGxlZnQuY29uc3QpID8gRXh0ZW5kc1Jlc3VsdC5UcnVlIDpcbiAgICAgICAgVHlwZUd1YXJkLklzU3RyaW5nKGxlZnQpID8gRXh0ZW5kc1Jlc3VsdC5UcnVlIDpcbiAgICAgICAgICAgIEV4dGVuZHNSZXN1bHQuRmFsc2UpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tU3RyaW5nKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSA/IEZyb21PYmplY3RSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgVHlwZUd1YXJkLklzUmVjb3JkKHJpZ2h0KSA/IEZyb21SZWNvcmRSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1N0cmluZyhyaWdodCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgICAgICAgICBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3ltYm9sXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVN5bWJvbChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiAoSXNTdHJ1Y3R1cmFsUmlnaHQocmlnaHQpID8gU3RydWN0dXJhbFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc09iamVjdChyaWdodCkgPyBGcm9tT2JqZWN0UmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1JlY29yZChyaWdodCkgPyBGcm9tUmVjb3JkUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNTeW1ib2wocmlnaHQpID8gRXh0ZW5kc1Jlc3VsdC5UcnVlIDpcbiAgICAgICAgICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRlbXBsYXRlTGl0ZXJhbFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21UZW1wbGF0ZUxpdGVyYWwobGVmdCwgcmlnaHQpIHtcbiAgICAvLyBUZW1wbGF0ZUxpdGVyYWwgdHlwZXMgYXJlIHJlc29sdmVkIHRvIGVpdGhlciB1bmlvbnMgZm9yIGZpbml0ZSBleHByZXNzaW9ucyBvciBzdHJpbmdcbiAgICAvLyBmb3IgaW5maW5pdGUgZXhwcmVzc2lvbnMuIEhlcmUgd2UgY2FsbCB0byBUZW1wbGF0ZUxpdGVyYWxSZXNvbHZlciB0byByZXNvbHZlIGZvclxuICAgIC8vIGVpdGhlciB0eXBlIGFuZCBjb250aW51ZSBldmFsdWF0aW5nLlxuICAgIHJldHVybiAoVHlwZUd1YXJkLklzVGVtcGxhdGVMaXRlcmFsKGxlZnQpID8gVmlzaXQoVGVtcGxhdGVMaXRlcmFsVG9VbmlvbihsZWZ0KSwgcmlnaHQpIDpcbiAgICAgICAgVHlwZUd1YXJkLklzVGVtcGxhdGVMaXRlcmFsKHJpZ2h0KSA/IFZpc2l0KGxlZnQsIFRlbXBsYXRlTGl0ZXJhbFRvVW5pb24ocmlnaHQpKSA6XG4gICAgICAgICAgICBUaHJvdygnSW52YWxpZCBmYWxsdGhyb3VnaCBmb3IgVGVtcGxhdGVMaXRlcmFsJykpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUdXBsZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIElzQXJyYXlPZlR1cGxlKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChUeXBlR3VhcmQuSXNBcnJheShyaWdodCkgJiZcbiAgICAgICAgbGVmdC5pdGVtcyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIGxlZnQuaXRlbXMuZXZlcnkoKHNjaGVtYSkgPT4gVmlzaXQoc2NoZW1hLCByaWdodC5pdGVtcykgPT09IEV4dGVuZHNSZXN1bHQuVHJ1ZSkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVHVwbGVSaWdodChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiAoVHlwZUd1YXJkLklzTmV2ZXIobGVmdCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICBUeXBlR3VhcmQuSXNVbmtub3duKGxlZnQpID8gRXh0ZW5kc1Jlc3VsdC5GYWxzZSA6XG4gICAgICAgICAgICBUeXBlR3VhcmQuSXNBbnkobGVmdCkgPyBFeHRlbmRzUmVzdWx0LlVuaW9uIDpcbiAgICAgICAgICAgICAgICBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVR1cGxlKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSAmJiBJc09iamVjdEFycmF5TGlrZShyaWdodCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgVHlwZUd1YXJkLklzQXJyYXkocmlnaHQpICYmIElzQXJyYXlPZlR1cGxlKGxlZnQsIHJpZ2h0KSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgICAgICAgICAgIVR5cGVHdWFyZC5Jc1R1cGxlKHJpZ2h0KSA/IEV4dGVuZHNSZXN1bHQuRmFsc2UgOlxuICAgICAgICAgICAgICAgICAgICAoVmFsdWVHdWFyZC5Jc1VuZGVmaW5lZChsZWZ0Lml0ZW1zKSAmJiAhVmFsdWVHdWFyZC5Jc1VuZGVmaW5lZChyaWdodC5pdGVtcykpIHx8ICghVmFsdWVHdWFyZC5Jc1VuZGVmaW5lZChsZWZ0Lml0ZW1zKSAmJiBWYWx1ZUd1YXJkLklzVW5kZWZpbmVkKHJpZ2h0Lml0ZW1zKSkgPyBFeHRlbmRzUmVzdWx0LkZhbHNlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIChWYWx1ZUd1YXJkLklzVW5kZWZpbmVkKGxlZnQuaXRlbXMpICYmICFWYWx1ZUd1YXJkLklzVW5kZWZpbmVkKHJpZ2h0Lml0ZW1zKSkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQuaXRlbXMuZXZlcnkoKHNjaGVtYSwgaW5kZXgpID0+IFZpc2l0KHNjaGVtYSwgcmlnaHQuaXRlbXNbaW5kZXhdKSA9PT0gRXh0ZW5kc1Jlc3VsdC5UcnVlKSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV4dGVuZHNSZXN1bHQuRmFsc2UpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBVaW50OEFycmF5XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVVpbnQ4QXJyYXkobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gKElzU3RydWN0dXJhbFJpZ2h0KHJpZ2h0KSA/IFN0cnVjdHVyYWxSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICBUeXBlR3VhcmQuSXNPYmplY3QocmlnaHQpID8gRnJvbU9iamVjdFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICBUeXBlR3VhcmQuSXNSZWNvcmQocmlnaHQpID8gRnJvbVJlY29yZFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzVWludDhBcnJheShyaWdodCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgICAgICAgICBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVW5kZWZpbmVkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVVuZGVmaW5lZChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiAoSXNTdHJ1Y3R1cmFsUmlnaHQocmlnaHQpID8gU3RydWN0dXJhbFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc09iamVjdChyaWdodCkgPyBGcm9tT2JqZWN0UmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1JlY29yZChyaWdodCkgPyBGcm9tUmVjb3JkUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNWb2lkKHJpZ2h0KSA/IEZyb21Wb2lkUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzVW5kZWZpbmVkKHJpZ2h0KSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVW5pb25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVW5pb25SaWdodChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiByaWdodC5hbnlPZi5zb21lKChzY2hlbWEpID0+IFZpc2l0KGxlZnQsIHNjaGVtYSkgPT09IEV4dGVuZHNSZXN1bHQuVHJ1ZSlcbiAgICAgICAgPyBFeHRlbmRzUmVzdWx0LlRydWVcbiAgICAgICAgOiBFeHRlbmRzUmVzdWx0LkZhbHNlO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVW5pb24obGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gbGVmdC5hbnlPZi5ldmVyeSgoc2NoZW1hKSA9PiBWaXNpdChzY2hlbWEsIHJpZ2h0KSA9PT0gRXh0ZW5kc1Jlc3VsdC5UcnVlKVxuICAgICAgICA/IEV4dGVuZHNSZXN1bHQuVHJ1ZVxuICAgICAgICA6IEV4dGVuZHNSZXN1bHQuRmFsc2U7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFVua25vd25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVW5rbm93blJpZ2h0KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIEV4dGVuZHNSZXN1bHQuVHJ1ZTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVVua25vd24obGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gKFR5cGVHdWFyZC5Jc05ldmVyKHJpZ2h0KSA/IEZyb21OZXZlclJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc0ludGVyc2VjdChyaWdodCkgPyBGcm9tSW50ZXJzZWN0UmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1VuaW9uKHJpZ2h0KSA/IEZyb21VbmlvblJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzQW55KHJpZ2h0KSA/IEZyb21BbnlSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNTdHJpbmcocmlnaHQpID8gRnJvbVN0cmluZ1JpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNOdW1iZXIocmlnaHQpID8gRnJvbU51bWJlclJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzSW50ZWdlcihyaWdodCkgPyBGcm9tSW50ZWdlclJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc0Jvb2xlYW4ocmlnaHQpID8gRnJvbUJvb2xlYW5SaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzQXJyYXkocmlnaHQpID8gRnJvbUFycmF5UmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNUdXBsZShyaWdodCkgPyBGcm9tVHVwbGVSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNPYmplY3QocmlnaHQpID8gRnJvbU9iamVjdFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNVbmtub3duKHJpZ2h0KSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFZvaWRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVm9pZFJpZ2h0KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChUeXBlR3VhcmQuSXNVbmRlZmluZWQobGVmdCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICBUeXBlR3VhcmQuSXNVbmRlZmluZWQobGVmdCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Wb2lkKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChUeXBlR3VhcmQuSXNJbnRlcnNlY3QocmlnaHQpID8gRnJvbUludGVyc2VjdFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc1VuaW9uKHJpZ2h0KSA/IEZyb21VbmlvblJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICBUeXBlR3VhcmQuSXNVbmtub3duKHJpZ2h0KSA/IEZyb21Vbmtub3duUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNBbnkocmlnaHQpID8gRnJvbUFueVJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc09iamVjdChyaWdodCkgPyBGcm9tT2JqZWN0UmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1ZvaWQocmlnaHQpID8gRXh0ZW5kc1Jlc3VsdC5UcnVlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gVmlzaXQobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gKFxuICAgIC8vIHJlc29sdmFibGVcbiAgICAoVHlwZUd1YXJkLklzVGVtcGxhdGVMaXRlcmFsKGxlZnQpIHx8IFR5cGVHdWFyZC5Jc1RlbXBsYXRlTGl0ZXJhbChyaWdodCkpID8gRnJvbVRlbXBsYXRlTGl0ZXJhbChsZWZ0LCByaWdodCkgOlxuICAgICAgICAoVHlwZUd1YXJkLklzUmVnRXhwKGxlZnQpIHx8IFR5cGVHdWFyZC5Jc1JlZ0V4cChyaWdodCkpID8gRnJvbVJlZ0V4cChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc05vdChsZWZ0KSB8fCBUeXBlR3VhcmQuSXNOb3QocmlnaHQpKSA/IEZyb21Ob3QobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZFxuICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc0FueShsZWZ0KSA/IEZyb21BbnkobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzQXJyYXkobGVmdCkgPyBGcm9tQXJyYXkobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc0JpZ0ludChsZWZ0KSA/IEZyb21CaWdJbnQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNCb29sZWFuKGxlZnQpID8gRnJvbUJvb2xlYW4obGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzQXN5bmNJdGVyYXRvcihsZWZ0KSA/IEZyb21Bc3luY0l0ZXJhdG9yKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNDb25zdHJ1Y3RvcihsZWZ0KSA/IEZyb21Db25zdHJ1Y3RvcihsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc0RhdGUobGVmdCkgPyBGcm9tRGF0ZShsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNGdW5jdGlvbihsZWZ0KSA/IEZyb21GdW5jdGlvbihsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzSW50ZWdlcihsZWZ0KSA/IEZyb21JbnRlZ2VyKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzSW50ZXJzZWN0KGxlZnQpID8gRnJvbUludGVyc2VjdChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNJdGVyYXRvcihsZWZ0KSA/IEZyb21JdGVyYXRvcihsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzTGl0ZXJhbChsZWZ0KSA/IEZyb21MaXRlcmFsKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzTmV2ZXIobGVmdCkgPyBGcm9tTmV2ZXIobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzTnVsbChsZWZ0KSA/IEZyb21OdWxsKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNOdW1iZXIobGVmdCkgPyBGcm9tTnVtYmVyKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzT2JqZWN0KGxlZnQpID8gRnJvbU9iamVjdChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNSZWNvcmQobGVmdCkgPyBGcm9tUmVjb3JkKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNTdHJpbmcobGVmdCkgPyBGcm9tU3RyaW5nKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzU3ltYm9sKGxlZnQpID8gRnJvbVN5bWJvbChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNUdXBsZShsZWZ0KSA/IEZyb21UdXBsZShsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzUHJvbWlzZShsZWZ0KSA/IEZyb21Qcm9taXNlKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzVWludDhBcnJheShsZWZ0KSA/IEZyb21VaW50OEFycmF5KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1VuZGVmaW5lZChsZWZ0KSA/IEZyb21VbmRlZmluZWQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1VuaW9uKGxlZnQpID8gRnJvbVVuaW9uKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzVW5rbm93bihsZWZ0KSA/IEZyb21Vbmtub3duKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1ZvaWQobGVmdCkgPyBGcm9tVm9pZChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhyb3coYFVua25vd24gbGVmdCB0eXBlIG9wZXJhbmQgJyR7bGVmdFtLaW5kXX0nYCkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIEV4dGVuZHNDaGVjayhsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiBWaXNpdChsZWZ0LCByaWdodCk7XG59XG4iLAogICAgImltcG9ydCB7IE1hcHBlZFJlc3VsdCB9IGZyb20gJy4uL21hcHBlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgRXh0ZW5kcyB9IGZyb20gJy4vZXh0ZW5kcy5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydGllcyhQLCBSaWdodCwgVHJ1ZSwgRmFsc2UsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBBY2MgPSB7fTtcbiAgICBmb3IgKGNvbnN0IEsyIG9mIGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoUCkpXG4gICAgICAgIEFjY1tLMl0gPSBFeHRlbmRzKFBbSzJdLCBSaWdodCwgVHJ1ZSwgRmFsc2UsIG9wdGlvbnMpO1xuICAgIHJldHVybiBBY2M7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21NYXBwZWRSZXN1bHQoTGVmdCwgUmlnaHQsIFRydWUsIEZhbHNlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIEZyb21Qcm9wZXJ0aWVzKExlZnQucHJvcGVydGllcywgUmlnaHQsIFRydWUsIEZhbHNlLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIEV4dGVuZHNGcm9tTWFwcGVkUmVzdWx0KExlZnQsIFJpZ2h0LCBUcnVlLCBGYWxzZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IFAgPSBGcm9tTWFwcGVkUmVzdWx0KExlZnQsIFJpZ2h0LCBUcnVlLCBGYWxzZSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIE1hcHBlZFJlc3VsdChQKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgVW5pb24gfSBmcm9tICcuLi91bmlvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgRXh0ZW5kc0NoZWNrLCBFeHRlbmRzUmVzdWx0IH0gZnJvbSAnLi9leHRlbmRzLWNoZWNrLm1qcyc7XG5pbXBvcnQgeyBDbG9uZVR5cGUgfSBmcm9tICcuLi9jbG9uZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBFeHRlbmRzRnJvbU1hcHBlZEtleSB9IGZyb20gJy4vZXh0ZW5kcy1mcm9tLW1hcHBlZC1rZXkubWpzJztcbmltcG9ydCB7IEV4dGVuZHNGcm9tTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi9leHRlbmRzLWZyb20tbWFwcGVkLXJlc3VsdC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUeXBlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNNYXBwZWRLZXksIElzTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBFeHRlbmRzUmVzb2x2ZShsZWZ0LCByaWdodCwgdHJ1ZVR5cGUsIGZhbHNlVHlwZSkge1xuICAgIGNvbnN0IFIgPSBFeHRlbmRzQ2hlY2sobGVmdCwgcmlnaHQpO1xuICAgIHJldHVybiAoUiA9PT0gRXh0ZW5kc1Jlc3VsdC5VbmlvbiA/IFVuaW9uKFt0cnVlVHlwZSwgZmFsc2VUeXBlXSkgOlxuICAgICAgICBSID09PSBFeHRlbmRzUmVzdWx0LlRydWUgPyB0cnVlVHlwZSA6XG4gICAgICAgICAgICBmYWxzZVR5cGUpO1xufVxuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYSBDb25kaXRpb25hbCB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gRXh0ZW5kcyhMLCBSLCBULCBGLCBvcHRpb25zID0ge30pIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzTWFwcGVkUmVzdWx0KEwpID8gRXh0ZW5kc0Zyb21NYXBwZWRSZXN1bHQoTCwgUiwgVCwgRiwgb3B0aW9ucykgOlxuICAgICAgICBJc01hcHBlZEtleShMKSA/IENsb25lVHlwZShFeHRlbmRzRnJvbU1hcHBlZEtleShMLCBSLCBULCBGLCBvcHRpb25zKSkgOlxuICAgICAgICAgICAgQ2xvbmVUeXBlKEV4dGVuZHNSZXNvbHZlKEwsIFIsIFQsIEYpLCBvcHRpb25zKSk7XG59XG4iLAogICAgImltcG9ydCB7IE1hcHBlZFJlc3VsdCB9IGZyb20gJy4uL21hcHBlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgTGl0ZXJhbCB9IGZyb20gJy4uL2xpdGVyYWwvaW5kZXgubWpzJztcbmltcG9ydCB7IEV4dGVuZHMgfSBmcm9tICcuL2V4dGVuZHMubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnR5S2V5KEssIFUsIEwsIFIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBbS106IEV4dGVuZHMoTGl0ZXJhbChLKSwgVSwgTCwgUiwgb3B0aW9ucylcbiAgICB9O1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydHlLZXlzKEssIFUsIEwsIFIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gSy5yZWR1Y2UoKEFjYywgTEspID0+IHtcbiAgICAgICAgcmV0dXJuIHsgLi4uQWNjLCAuLi5Gcm9tUHJvcGVydHlLZXkoTEssIFUsIEwsIFIsIG9wdGlvbnMpIH07XG4gICAgfSwge30pO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTWFwcGVkS2V5KEssIFUsIEwsIFIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gRnJvbVByb3BlcnR5S2V5cyhLLmtleXMsIFUsIEwsIFIsIG9wdGlvbnMpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gRXh0ZW5kc0Zyb21NYXBwZWRLZXkoVCwgVSwgTCwgUiwgb3B0aW9ucykge1xuICAgIGNvbnN0IFAgPSBGcm9tTWFwcGVkS2V5KFQsIFUsIEwsIFIsIG9wdGlvbnMpO1xuICAgIHJldHVybiBNYXBwZWRSZXN1bHQoUCk7XG59XG4iLAogICAgImltcG9ydCB7IFR5cGVTeXN0ZW1Qb2xpY3kgfSBmcm9tICcuLi8uLi9zeXN0ZW0vaW5kZXgubWpzJztcbmltcG9ydCB7IERlcmVmIH0gZnJvbSAnLi4vZGVyZWYvaW5kZXgubWpzJztcbmltcG9ydCB7IEhhc2ggfSBmcm9tICcuLi9oYXNoL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vLi4vdHlwZS9zeW1ib2xzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLZXlPZlBhdHRlcm4gfSBmcm9tICcuLi8uLi90eXBlL2tleW9mL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBFeHRlbmRzVW5kZWZpbmVkQ2hlY2sgfSBmcm9tICcuLi8uLi90eXBlL2V4dGVuZHMvaW5kZXgubWpzJztcbmltcG9ydCB7IFR5cGVSZWdpc3RyeSwgRm9ybWF0UmVnaXN0cnkgfSBmcm9tICcuLi8uLi90eXBlL3JlZ2lzdHJ5L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUeXBlQm94RXJyb3IgfSBmcm9tICcuLi8uLi90eXBlL2Vycm9yL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBOZXZlciB9IGZyb20gJy4uLy4uL3R5cGUvbmV2ZXIvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVmFsdWVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc0FycmF5LCBJc1VpbnQ4QXJyYXksIElzRGF0ZSwgSXNQcm9taXNlLCBJc0Z1bmN0aW9uLCBJc0FzeW5jSXRlcmF0b3IsIElzSXRlcmF0b3IsIElzQm9vbGVhbiwgSXNOdW1iZXIsIElzQmlnSW50LCBJc1N0cmluZywgSXNTeW1ib2wsIElzSW50ZWdlciwgSXNOdWxsLCBJc1VuZGVmaW5lZCB9IGZyb20gJy4uL2d1YXJkL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc1NjaGVtYSB9IGZyb20gJy4uLy4uL3R5cGUvZ3VhcmQvdHlwZS5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFcnJvcnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIFZhbHVlQ2hlY2tVbmtub3duVHlwZUVycm9yIGV4dGVuZHMgVHlwZUJveEVycm9yIHtcbiAgICBzY2hlbWE7XG4gICAgY29uc3RydWN0b3Ioc2NoZW1hKSB7XG4gICAgICAgIHN1cGVyKGBVbmtub3duIHR5cGVgKTtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgfVxufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUeXBlR3VhcmRzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIElzQW55T3JVbmtub3duKHNjaGVtYSkge1xuICAgIHJldHVybiBzY2hlbWFbS2luZF0gPT09ICdBbnknIHx8IHNjaGVtYVtLaW5kXSA9PT0gJ1Vua25vd24nO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBHdWFyZHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gSXNEZWZpbmVkKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIEZyb21Bbnkoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gRnJvbUFycmF5KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBpZiAoIUlzQXJyYXkodmFsdWUpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWluSXRlbXMpICYmICEodmFsdWUubGVuZ3RoID49IHNjaGVtYS5taW5JdGVtcykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tYXhJdGVtcykgJiYgISh2YWx1ZS5sZW5ndGggPD0gc2NoZW1hLm1heEl0ZW1zKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghdmFsdWUuZXZlcnkoKHZhbHVlKSA9PiBWaXNpdChzY2hlbWEuaXRlbXMsIHJlZmVyZW5jZXMsIHZhbHVlKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBpZiAoc2NoZW1hLnVuaXF1ZUl0ZW1zID09PSB0cnVlICYmICEoKGZ1bmN0aW9uICgpIHsgY29uc3Qgc2V0ID0gbmV3IFNldCgpOyBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgaGFzaGVkID0gSGFzaChlbGVtZW50KTtcbiAgICAgICAgaWYgKHNldC5oYXMoaGFzaGVkKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0LmFkZChoYXNoZWQpO1xuICAgICAgICB9XG4gICAgfSByZXR1cm4gdHJ1ZTsgfSkoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBjb250YWluc1xuICAgIGlmICghKElzRGVmaW5lZChzY2hlbWEuY29udGFpbnMpIHx8IElzTnVtYmVyKHNjaGVtYS5taW5Db250YWlucykgfHwgSXNOdW1iZXIoc2NoZW1hLm1heENvbnRhaW5zKSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7IC8vIGV4aXRcbiAgICB9XG4gICAgY29uc3QgY29udGFpbnNTY2hlbWEgPSBJc0RlZmluZWQoc2NoZW1hLmNvbnRhaW5zKSA/IHNjaGVtYS5jb250YWlucyA6IE5ldmVyKCk7XG4gICAgY29uc3QgY29udGFpbnNDb3VudCA9IHZhbHVlLnJlZHVjZSgoYWNjLCB2YWx1ZSkgPT4gKFZpc2l0KGNvbnRhaW5zU2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkgPyBhY2MgKyAxIDogYWNjKSwgMCk7XG4gICAgaWYgKGNvbnRhaW5zQ291bnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNOdW1iZXIoc2NoZW1hLm1pbkNvbnRhaW5zKSAmJiBjb250YWluc0NvdW50IDwgc2NoZW1hLm1pbkNvbnRhaW5zKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzTnVtYmVyKHNjaGVtYS5tYXhDb250YWlucykgJiYgY29udGFpbnNDb3VudCA+IHNjaGVtYS5tYXhDb250YWlucykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gRnJvbUFzeW5jSXRlcmF0b3Ioc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBJc0FzeW5jSXRlcmF0b3IodmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbUJpZ0ludChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgaWYgKCFJc0JpZ0ludCh2YWx1ZSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtKSAmJiAhKHZhbHVlIDwgc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEuZXhjbHVzaXZlTWluaW11bSkgJiYgISh2YWx1ZSA+IHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1heGltdW0pICYmICEodmFsdWUgPD0gc2NoZW1hLm1heGltdW0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWluaW11bSkgJiYgISh2YWx1ZSA+PSBzY2hlbWEubWluaW11bSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tdWx0aXBsZU9mKSAmJiAhKHZhbHVlICUgc2NoZW1hLm11bHRpcGxlT2YgPT09IEJpZ0ludCgwKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIEZyb21Cb29sZWFuKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gSXNCb29sZWFuKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21Db25zdHJ1Y3RvcihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFZpc2l0KHNjaGVtYS5yZXR1cm5zLCByZWZlcmVuY2VzLCB2YWx1ZS5wcm90b3R5cGUpO1xufVxuZnVuY3Rpb24gRnJvbURhdGUoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGlmICghSXNEYXRlKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW1UaW1lc3RhbXApICYmICEodmFsdWUuZ2V0VGltZSgpIDwgc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW1UaW1lc3RhbXApKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEuZXhjbHVzaXZlTWluaW11bVRpbWVzdGFtcCkgJiYgISh2YWx1ZS5nZXRUaW1lKCkgPiBzY2hlbWEuZXhjbHVzaXZlTWluaW11bVRpbWVzdGFtcCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tYXhpbXVtVGltZXN0YW1wKSAmJiAhKHZhbHVlLmdldFRpbWUoKSA8PSBzY2hlbWEubWF4aW11bVRpbWVzdGFtcCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5taW5pbXVtVGltZXN0YW1wKSAmJiAhKHZhbHVlLmdldFRpbWUoKSA+PSBzY2hlbWEubWluaW11bVRpbWVzdGFtcCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tdWx0aXBsZU9mVGltZXN0YW1wKSAmJiAhKHZhbHVlLmdldFRpbWUoKSAlIHNjaGVtYS5tdWx0aXBsZU9mVGltZXN0YW1wID09PSAwKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gRnJvbUZ1bmN0aW9uKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gSXNGdW5jdGlvbih2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tSW50ZWdlcihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgaWYgKCFJc0ludGVnZXIodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSkgJiYgISh2YWx1ZSA8IHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0pICYmICEodmFsdWUgPiBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tYXhpbXVtKSAmJiAhKHZhbHVlIDw9IHNjaGVtYS5tYXhpbXVtKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1pbmltdW0pICYmICEodmFsdWUgPj0gc2NoZW1hLm1pbmltdW0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubXVsdGlwbGVPZikgJiYgISh2YWx1ZSAlIHNjaGVtYS5tdWx0aXBsZU9mID09PSAwKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gRnJvbUludGVyc2VjdChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgY29uc3QgY2hlY2sxID0gc2NoZW1hLmFsbE9mLmV2ZXJ5KChzY2hlbWEpID0+IFZpc2l0KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpKTtcbiAgICBpZiAoc2NoZW1hLnVuZXZhbHVhdGVkUHJvcGVydGllcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29uc3Qga2V5UGF0dGVybiA9IG5ldyBSZWdFeHAoS2V5T2ZQYXR0ZXJuKHNjaGVtYSkpO1xuICAgICAgICBjb25zdCBjaGVjazIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkuZXZlcnkoKGtleSkgPT4ga2V5UGF0dGVybi50ZXN0KGtleSkpO1xuICAgICAgICByZXR1cm4gY2hlY2sxICYmIGNoZWNrMjtcbiAgICB9XG4gICAgZWxzZSBpZiAoSXNTY2hlbWEoc2NoZW1hLnVuZXZhbHVhdGVkUHJvcGVydGllcykpIHtcbiAgICAgICAgY29uc3Qga2V5Q2hlY2sgPSBuZXcgUmVnRXhwKEtleU9mUGF0dGVybihzY2hlbWEpKTtcbiAgICAgICAgY29uc3QgY2hlY2syID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLmV2ZXJ5KChrZXkpID0+IGtleUNoZWNrLnRlc3Qoa2V5KSB8fCBWaXNpdChzY2hlbWEudW5ldmFsdWF0ZWRQcm9wZXJ0aWVzLCByZWZlcmVuY2VzLCB2YWx1ZVtrZXldKSk7XG4gICAgICAgIHJldHVybiBjaGVjazEgJiYgY2hlY2syO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNoZWNrMTtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tSXRlcmF0b3Ioc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBJc0l0ZXJhdG9yKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21MaXRlcmFsKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHNjaGVtYS5jb25zdDtcbn1cbmZ1bmN0aW9uIEZyb21OZXZlcihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gRnJvbU5vdChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuICFWaXNpdChzY2hlbWEubm90LCByZWZlcmVuY2VzLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tTnVsbChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIElzTnVsbCh2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tTnVtYmVyKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBpZiAoIVR5cGVTeXN0ZW1Qb2xpY3kuSXNOdW1iZXJMaWtlKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0pICYmICEodmFsdWUgPCBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtKSAmJiAhKHZhbHVlID4gc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWluaW11bSkgJiYgISh2YWx1ZSA+PSBzY2hlbWEubWluaW11bSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tYXhpbXVtKSAmJiAhKHZhbHVlIDw9IHNjaGVtYS5tYXhpbXVtKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm11bHRpcGxlT2YpICYmICEodmFsdWUgJSBzY2hlbWEubXVsdGlwbGVPZiA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIEZyb21PYmplY3Qoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGlmICghVHlwZVN5c3RlbVBvbGljeS5Jc09iamVjdExpa2UodmFsdWUpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWluUHJvcGVydGllcykgJiYgIShPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkubGVuZ3RoID49IHNjaGVtYS5taW5Qcm9wZXJ0aWVzKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1heFByb3BlcnRpZXMpICYmICEoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLmxlbmd0aCA8PSBzY2hlbWEubWF4UHJvcGVydGllcykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBrbm93bktleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzY2hlbWEucHJvcGVydGllcyk7XG4gICAgZm9yIChjb25zdCBrbm93bktleSBvZiBrbm93bktleXMpIHtcbiAgICAgICAgY29uc3QgcHJvcGVydHkgPSBzY2hlbWEucHJvcGVydGllc1trbm93bktleV07XG4gICAgICAgIGlmIChzY2hlbWEucmVxdWlyZWQgJiYgc2NoZW1hLnJlcXVpcmVkLmluY2x1ZGVzKGtub3duS2V5KSkge1xuICAgICAgICAgICAgaWYgKCFWaXNpdChwcm9wZXJ0eSwgcmVmZXJlbmNlcywgdmFsdWVba25vd25LZXldKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoRXh0ZW5kc1VuZGVmaW5lZENoZWNrKHByb3BlcnR5KSB8fCBJc0FueU9yVW5rbm93bihwcm9wZXJ0eSkpICYmICEoa25vd25LZXkgaW4gdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKFR5cGVTeXN0ZW1Qb2xpY3kuSXNFeGFjdE9wdGlvbmFsUHJvcGVydHkodmFsdWUsIGtub3duS2V5KSAmJiAhVmlzaXQocHJvcGVydHksIHJlZmVyZW5jZXMsIHZhbHVlW2tub3duS2V5XSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgdmFsdWVLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICAgICAgICAvLyBvcHRpbWl6YXRpb246IHZhbHVlIGlzIHZhbGlkIGlmIHNjaGVtYUtleSBsZW5ndGggbWF0Y2hlcyB0aGUgdmFsdWVLZXkgbGVuZ3RoXG4gICAgICAgIGlmIChzY2hlbWEucmVxdWlyZWQgJiYgc2NoZW1hLnJlcXVpcmVkLmxlbmd0aCA9PT0ga25vd25LZXlzLmxlbmd0aCAmJiB2YWx1ZUtleXMubGVuZ3RoID09PSBrbm93bktleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZUtleXMuZXZlcnkoKHZhbHVlS2V5KSA9PiBrbm93bktleXMuaW5jbHVkZXModmFsdWVLZXkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2Ygc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICBjb25zdCB2YWx1ZUtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gICAgICAgIHJldHVybiB2YWx1ZUtleXMuZXZlcnkoKGtleSkgPT4ga25vd25LZXlzLmluY2x1ZGVzKGtleSkgfHwgVmlzaXQoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLCByZWZlcmVuY2VzLCB2YWx1ZVtrZXldKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tUHJvbWlzZShzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIElzUHJvbWlzZSh2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tUmVjb3JkKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBpZiAoIVR5cGVTeXN0ZW1Qb2xpY3kuSXNSZWNvcmRMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1pblByb3BlcnRpZXMpICYmICEoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLmxlbmd0aCA+PSBzY2hlbWEubWluUHJvcGVydGllcykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tYXhQcm9wZXJ0aWVzKSAmJiAhKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKS5sZW5ndGggPD0gc2NoZW1hLm1heFByb3BlcnRpZXMpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgW3BhdHRlcm5LZXksIHBhdHRlcm5TY2hlbWFdID0gT2JqZWN0LmVudHJpZXMoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKVswXTtcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAocGF0dGVybktleSk7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgY2hlY2sxID0gT2JqZWN0LmVudHJpZXModmFsdWUpLmV2ZXJ5KChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgcmV0dXJuIChyZWdleC50ZXN0KGtleSkpID8gVmlzaXQocGF0dGVyblNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIDogdHJ1ZTtcbiAgICB9KTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBjaGVjazIgPSB0eXBlb2Ygc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSAnb2JqZWN0JyA/IE9iamVjdC5lbnRyaWVzKHZhbHVlKS5ldmVyeSgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIHJldHVybiAoIXJlZ2V4LnRlc3Qoa2V5KSkgPyBWaXNpdChzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMsIHJlZmVyZW5jZXMsIHZhbHVlKSA6IHRydWU7XG4gICAgfSkgOiB0cnVlO1xuICAgIGNvbnN0IGNoZWNrMyA9IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gZmFsc2VcbiAgICAgICAgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkuZXZlcnkoKGtleSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlZ2V4LnRlc3Qoa2V5KTtcbiAgICAgICAgfSlcbiAgICAgICAgOiB0cnVlO1xuICAgIHJldHVybiBjaGVjazEgJiYgY2hlY2syICYmIGNoZWNrMztcbn1cbmZ1bmN0aW9uIEZyb21SZWYoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBWaXNpdChEZXJlZihzY2hlbWEsIHJlZmVyZW5jZXMpLCByZWZlcmVuY2VzLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tUmVnRXhwKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoc2NoZW1hLnNvdXJjZSwgc2NoZW1hLmZsYWdzKTtcbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5taW5MZW5ndGgpKSB7XG4gICAgICAgIGlmICghKHZhbHVlLmxlbmd0aCA+PSBzY2hlbWEubWluTGVuZ3RoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWF4TGVuZ3RoKSkge1xuICAgICAgICBpZiAoISh2YWx1ZS5sZW5ndGggPD0gc2NoZW1hLm1heExlbmd0aCkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiByZWdleC50ZXN0KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21TdHJpbmcoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGlmICghSXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWluTGVuZ3RoKSkge1xuICAgICAgICBpZiAoISh2YWx1ZS5sZW5ndGggPj0gc2NoZW1hLm1pbkxlbmd0aCkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1heExlbmd0aCkpIHtcbiAgICAgICAgaWYgKCEodmFsdWUubGVuZ3RoIDw9IHNjaGVtYS5tYXhMZW5ndGgpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5wYXR0ZXJuKSkge1xuICAgICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoc2NoZW1hLnBhdHRlcm4pO1xuICAgICAgICBpZiAoIXJlZ2V4LnRlc3QodmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5mb3JtYXQpKSB7XG4gICAgICAgIGlmICghRm9ybWF0UmVnaXN0cnkuSGFzKHNjaGVtYS5mb3JtYXQpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCBmdW5jID0gRm9ybWF0UmVnaXN0cnkuR2V0KHNjaGVtYS5mb3JtYXQpO1xuICAgICAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gRnJvbVN5bWJvbChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIElzU3ltYm9sKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21UZW1wbGF0ZUxpdGVyYWwoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBJc1N0cmluZyh2YWx1ZSkgJiYgbmV3IFJlZ0V4cChzY2hlbWEucGF0dGVybikudGVzdCh2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tVGhpcyhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFZpc2l0KERlcmVmKHNjaGVtYSwgcmVmZXJlbmNlcyksIHJlZmVyZW5jZXMsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21UdXBsZShzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgaWYgKCFJc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChzY2hlbWEuaXRlbXMgPT09IHVuZGVmaW5lZCAmJiAhKHZhbHVlLmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoISh2YWx1ZS5sZW5ndGggPT09IHNjaGVtYS5tYXhJdGVtcykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXNjaGVtYS5pdGVtcykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWEuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFWaXNpdChzY2hlbWEuaXRlbXNbaV0sIHJlZmVyZW5jZXMsIHZhbHVlW2ldKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBGcm9tVW5kZWZpbmVkKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gSXNVbmRlZmluZWQodmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbVVuaW9uKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gc2NoZW1hLmFueU9mLnNvbWUoKGlubmVyKSA9PiBWaXNpdChpbm5lciwgcmVmZXJlbmNlcywgdmFsdWUpKTtcbn1cbmZ1bmN0aW9uIEZyb21VaW50OEFycmF5KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBpZiAoIUlzVWludDhBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tYXhCeXRlTGVuZ3RoKSAmJiAhKHZhbHVlLmxlbmd0aCA8PSBzY2hlbWEubWF4Qnl0ZUxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5taW5CeXRlTGVuZ3RoKSAmJiAhKHZhbHVlLmxlbmd0aCA+PSBzY2hlbWEubWluQnl0ZUxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIEZyb21Vbmtub3duKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIEZyb21Wb2lkKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gVHlwZVN5c3RlbVBvbGljeS5Jc1ZvaWRMaWtlKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21LaW5kKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBpZiAoIVR5cGVSZWdpc3RyeS5IYXMoc2NoZW1hW0tpbmRdKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGZ1bmMgPSBUeXBlUmVnaXN0cnkuR2V0KHNjaGVtYVtLaW5kXSk7XG4gICAgcmV0dXJuIGZ1bmMoc2NoZW1hLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgY29uc3QgcmVmZXJlbmNlc18gPSBJc0RlZmluZWQoc2NoZW1hLiRpZCkgPyBbLi4ucmVmZXJlbmNlcywgc2NoZW1hXSA6IHJlZmVyZW5jZXM7XG4gICAgY29uc3Qgc2NoZW1hXyA9IHNjaGVtYTtcbiAgICBzd2l0Y2ggKHNjaGVtYV9bS2luZF0pIHtcbiAgICAgICAgY2FzZSAnQW55JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tQW55KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0FycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tQXJyYXkoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnQXN5bmNJdGVyYXRvcic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUFzeW5jSXRlcmF0b3Ioc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnQmlnSW50JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tQmlnSW50KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0Jvb2xlYW4nOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21Cb29sZWFuKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0NvbnN0cnVjdG9yJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tQ29uc3RydWN0b3Ioc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnRGF0ZSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbURhdGUoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnRnVuY3Rpb24nOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21GdW5jdGlvbihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdJbnRlZ2VyJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tSW50ZWdlcihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdJbnRlcnNlY3QnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21JbnRlcnNlY3Qoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnSXRlcmF0b3InOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21JdGVyYXRvcihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdMaXRlcmFsJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tTGl0ZXJhbChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdOZXZlcic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbU5ldmVyKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ05vdCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbU5vdChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdOdWxsJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tTnVsbChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdOdW1iZXInOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21OdW1iZXIoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnT2JqZWN0JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tT2JqZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1Byb21pc2UnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21Qcm9taXNlKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1JlY29yZCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVJlY29yZChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdSZWYnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21SZWYoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnUmVnRXhwJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tUmVnRXhwKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1N0cmluZyc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVN0cmluZyhzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdTeW1ib2wnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21TeW1ib2woc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVGVtcGxhdGVMaXRlcmFsJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVGVtcGxhdGVMaXRlcmFsKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1RoaXMnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21UaGlzKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1R1cGxlJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVHVwbGUoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVW5kZWZpbmVkJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVW5kZWZpbmVkKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1VuaW9uJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVW5pb24oc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVWludDhBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVVpbnQ4QXJyYXkoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVW5rbm93bic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVVua25vd24oc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVm9pZCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVZvaWQoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmICghVHlwZVJlZ2lzdHJ5LkhhcyhzY2hlbWFfW0tpbmRdKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVmFsdWVDaGVja1Vua25vd25UeXBlRXJyb3Ioc2NoZW1hXyk7XG4gICAgICAgICAgICByZXR1cm4gRnJvbUtpbmQoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICB9XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSB2YWx1ZSBtYXRjaGVzIHRoZSBnaXZlbiB0eXBlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENoZWNrKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gYXJncy5sZW5ndGggPT09IDMgPyBWaXNpdChhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKSA6IFZpc2l0KGFyZ3NbMF0sIFtdLCBhcmdzWzFdKTtcbn1cbiIsCiAgICAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBWYWx1ZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzQXJyYXksIElzRGF0ZSwgSXNTdGFuZGFyZE9iamVjdCwgSXNUeXBlZEFycmF5LCBJc1ZhbHVlVHlwZSB9IGZyb20gJy4uL2d1YXJkL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENsb25hYmxlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIE9iamVjdFR5cGUodmFsdWUpIHtcbiAgICBjb25zdCBBY2MgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkpIHtcbiAgICAgICAgQWNjW2tleV0gPSBDbG9uZSh2YWx1ZVtrZXldKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh2YWx1ZSkpIHtcbiAgICAgICAgQWNjW2tleV0gPSBDbG9uZSh2YWx1ZVtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIEFjYztcbn1cbmZ1bmN0aW9uIEFycmF5VHlwZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5tYXAoKGVsZW1lbnQpID0+IENsb25lKGVsZW1lbnQpKTtcbn1cbmZ1bmN0aW9uIFR5cGVkQXJyYXlUeXBlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnNsaWNlKCk7XG59XG5mdW5jdGlvbiBEYXRlVHlwZSh2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZS50b0lTT1N0cmluZygpKTtcbn1cbmZ1bmN0aW9uIFZhbHVlVHlwZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ2xvbmVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIFJldHVybnMgYSBjbG9uZSBvZiB0aGUgZ2l2ZW4gdmFsdWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBDbG9uZSh2YWx1ZSkge1xuICAgIGlmIChJc0FycmF5KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIEFycmF5VHlwZSh2YWx1ZSk7XG4gICAgaWYgKElzRGF0ZSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiBEYXRlVHlwZSh2YWx1ZSk7XG4gICAgaWYgKElzU3RhbmRhcmRPYmplY3QodmFsdWUpKVxuICAgICAgICByZXR1cm4gT2JqZWN0VHlwZSh2YWx1ZSk7XG4gICAgaWYgKElzVHlwZWRBcnJheSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiBUeXBlZEFycmF5VHlwZSh2YWx1ZSk7XG4gICAgaWYgKElzVmFsdWVUeXBlKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIFZhbHVlVHlwZSh2YWx1ZSk7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdWYWx1ZUNsb25lOiBVbmFibGUgdG8gY2xvbmUgdmFsdWUnKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgSGFzUHJvcGVydHlLZXksIElzU3RyaW5nIH0gZnJvbSAnLi4vZ3VhcmQvaW5kZXgubWpzJztcbmltcG9ydCB7IENoZWNrIH0gZnJvbSAnLi4vY2hlY2svaW5kZXgubWpzJztcbmltcG9ydCB7IENsb25lIH0gZnJvbSAnLi4vY2xvbmUvaW5kZXgubWpzJztcbmltcG9ydCB7IERlcmVmIH0gZnJvbSAnLi4vZGVyZWYvaW5kZXgubWpzJztcbmltcG9ydCB7IFRlbXBsYXRlTGl0ZXJhbEdlbmVyYXRlLCBJc1RlbXBsYXRlTGl0ZXJhbEZpbml0ZSB9IGZyb20gJy4uLy4uL3R5cGUvdGVtcGxhdGUtbGl0ZXJhbC9pbmRleC5tanMnO1xuaW1wb3J0IHsgUGF0dGVyblN0cmluZ0V4YWN0LCBQYXR0ZXJuTnVtYmVyRXhhY3QgfSBmcm9tICcuLi8uLi90eXBlL3BhdHRlcm5zL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUeXBlUmVnaXN0cnkgfSBmcm9tICcuLi8uLi90eXBlL3JlZ2lzdHJ5L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vLi4vdHlwZS9zeW1ib2xzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUeXBlQm94RXJyb3IgfSBmcm9tICcuLi8uLi90eXBlL2Vycm9yL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEVycm9yc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgVmFsdWVDcmVhdGVFcnJvciBleHRlbmRzIFR5cGVCb3hFcnJvciB7XG4gICAgc2NoZW1hO1xuICAgIGNvbnN0cnVjdG9yKHNjaGVtYSwgbWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgfVxufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBEZWZhdWx0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIEZyb21EZWZhdWx0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlIDogQ2xvbmUodmFsdWUpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDcmVhdGVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gRnJvbUFueShzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbUFycmF5KHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChzY2hlbWEudW5pcXVlSXRlbXMgPT09IHRydWUgJiYgIUhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICB0aHJvdyBuZXcgVmFsdWVDcmVhdGVFcnJvcihzY2hlbWEsICdBcnJheSB3aXRoIHRoZSB1bmlxdWVJdGVtcyBjb25zdHJhaW50IHJlcXVpcmVzIGEgZGVmYXVsdCB2YWx1ZScpO1xuICAgIH1cbiAgICBlbHNlIGlmICgnY29udGFpbnMnIGluIHNjaGVtYSAmJiAhSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHRocm93IG5ldyBWYWx1ZUNyZWF0ZUVycm9yKHNjaGVtYSwgJ0FycmF5IHdpdGggdGhlIGNvbnRhaW5zIGNvbnN0cmFpbnQgcmVxdWlyZXMgYSBkZWZhdWx0IHZhbHVlJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCdkZWZhdWx0JyBpbiBzY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIEZyb21EZWZhdWx0KHNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hLm1pbkl0ZW1zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IHNjaGVtYS5taW5JdGVtcyB9KS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBWaXNpdChzY2hlbWEuaXRlbXMsIHJlZmVyZW5jZXMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tQXN5bmNJdGVyYXRvcihzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKGFzeW5jIGZ1bmN0aW9uKiAoKSB7IH0pKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbUJpZ0ludChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gQmlnSW50KDApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIEZyb21Cb29sZWFuKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChIYXNQcm9wZXJ0eUtleShzY2hlbWEsICdkZWZhdWx0JykpIHtcbiAgICAgICAgcmV0dXJuIEZyb21EZWZhdWx0KHNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tQ29uc3RydWN0b3Ioc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKEhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBWaXNpdChzY2hlbWEucmV0dXJucywgcmVmZXJlbmNlcyk7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNsYXNzIHtcbiAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmW2tleV0gPSB2YWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNsYXNzIHtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tRGF0ZShzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYS5taW5pbXVtVGltZXN0YW1wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHNjaGVtYS5taW5pbXVtVGltZXN0YW1wKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIEZyb21GdW5jdGlvbihzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKCkgPT4gVmlzaXQoc2NoZW1hLnJldHVybnMsIHJlZmVyZW5jZXMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIEZyb21JbnRlZ2VyKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChIYXNQcm9wZXJ0eUtleShzY2hlbWEsICdkZWZhdWx0JykpIHtcbiAgICAgICAgcmV0dXJuIEZyb21EZWZhdWx0KHNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hLm1pbmltdW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc2NoZW1hLm1pbmltdW07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tSW50ZXJzZWN0KHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChIYXNQcm9wZXJ0eUtleShzY2hlbWEsICdkZWZhdWx0JykpIHtcbiAgICAgICAgcmV0dXJuIEZyb21EZWZhdWx0KHNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIE5vdGU6IFRoZSBiZXN0IHdlIGNhbiBkbyBoZXJlIGlzIGF0dGVtcHQgdG8gaW5zdGFuY2UgZWFjaFxuICAgICAgICAvLyBzdWIgdHlwZSBhbmQgYXBwbHkgdGhyb3VnaCBvYmplY3QgYXNzaWduLiBGb3Igbm9uLW9iamVjdFxuICAgICAgICAvLyBzdWIgdHlwZXMsIHdlIGp1c3QgZXNjYXBlIHRoZSBhc3NpZ25tZW50IGFuZCBqdXN0IHJldHVyblxuICAgICAgICAvLyB0aGUgdmFsdWUuIEluIHRoZSBsYXR0ZXIgY2FzZSwgdGhpcyBpcyB0eXBpY2FsbHkgZ29pbmcgdG9cbiAgICAgICAgLy8gYmUgYSBjb25zZXF1ZW5jZSBvZiBhbiBpbGxvZ2ljYWwgaW50ZXJzZWN0aW9uLlxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHNjaGVtYS5hbGxPZi5yZWR1Y2UoKGFjYywgc2NoZW1hKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzKTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgbmV4dCA9PT0gJ29iamVjdCcgPyB7IC4uLmFjYywgLi4ubmV4dCB9IDogbmV4dDtcbiAgICAgICAgfSwge30pO1xuICAgICAgICBpZiAoIUNoZWNrKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFZhbHVlQ3JlYXRlRXJyb3Ioc2NoZW1hLCAnSW50ZXJzZWN0IHByb2R1Y2VkIGludmFsaWQgdmFsdWUuIENvbnNpZGVyIHVzaW5nIGEgZGVmYXVsdCB2YWx1ZS4nKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIEZyb21JdGVyYXRvcihzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKGZ1bmN0aW9uKiAoKSB7IH0pKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbUxpdGVyYWwoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKEhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYS5jb25zdDtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tTmV2ZXIoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKEhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFZhbHVlQ3JlYXRlRXJyb3Ioc2NoZW1hLCAnTmV2ZXIgdHlwZXMgY2Fubm90IGJlIGNyZWF0ZWQuIENvbnNpZGVyIHVzaW5nIGEgZGVmYXVsdCB2YWx1ZS4nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tTm90KHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChIYXNQcm9wZXJ0eUtleShzY2hlbWEsICdkZWZhdWx0JykpIHtcbiAgICAgICAgcmV0dXJuIEZyb21EZWZhdWx0KHNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBWYWx1ZUNyZWF0ZUVycm9yKHNjaGVtYSwgJ05vdCB0eXBlcyBtdXN0IGhhdmUgYSBkZWZhdWx0IHZhbHVlJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbU51bGwoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKEhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbU51bWJlcihzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYS5taW5pbXVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYS5taW5pbXVtO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbU9iamVjdChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCByZXF1aXJlZCA9IG5ldyBTZXQoc2NoZW1hLnJlcXVpcmVkKTtcbiAgICAgICAgY29uc3QgQWNjID0ge307XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgc3Vic2NoZW1hXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEucHJvcGVydGllcykpIHtcbiAgICAgICAgICAgIGlmICghcmVxdWlyZWQuaGFzKGtleSkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBBY2Nba2V5XSA9IFZpc2l0KHN1YnNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEFjYztcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tUHJvbWlzZShzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFZpc2l0KHNjaGVtYS5pdGVtLCByZWZlcmVuY2VzKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbVJlY29yZChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBjb25zdCBba2V5UGF0dGVybiwgdmFsdWVTY2hlbWFdID0gT2JqZWN0LmVudHJpZXMoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKVswXTtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCEoa2V5UGF0dGVybiA9PT0gUGF0dGVyblN0cmluZ0V4YWN0IHx8IGtleVBhdHRlcm4gPT09IFBhdHRlcm5OdW1iZXJFeGFjdCkpIHtcbiAgICAgICAgY29uc3QgcHJvcGVydHlLZXlzID0ga2V5UGF0dGVybi5zbGljZSgxLCBrZXlQYXR0ZXJuLmxlbmd0aCAtIDEpLnNwbGl0KCd8Jyk7XG4gICAgICAgIGNvbnN0IEFjYyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBwcm9wZXJ0eUtleXMpXG4gICAgICAgICAgICBBY2Nba2V5XSA9IFZpc2l0KHZhbHVlU2NoZW1hLCByZWZlcmVuY2VzKTtcbiAgICAgICAgcmV0dXJuIEFjYztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tUmVmKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChIYXNQcm9wZXJ0eUtleShzY2hlbWEsICdkZWZhdWx0JykpIHtcbiAgICAgICAgcmV0dXJuIEZyb21EZWZhdWx0KHNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBWaXNpdChEZXJlZihzY2hlbWEsIHJlZmVyZW5jZXMpLCByZWZlcmVuY2VzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tUmVnRXhwKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChIYXNQcm9wZXJ0eUtleShzY2hlbWEsICdkZWZhdWx0JykpIHtcbiAgICAgICAgcmV0dXJuIEZyb21EZWZhdWx0KHNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBWYWx1ZUNyZWF0ZUVycm9yKHNjaGVtYSwgJ1JlZ0V4cCB0eXBlcyBjYW5ub3QgYmUgY3JlYXRlZC4gQ29uc2lkZXIgdXNpbmcgYSBkZWZhdWx0IHZhbHVlLicpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIEZyb21TdHJpbmcoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKHNjaGVtYS5wYXR0ZXJuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKCFIYXNQcm9wZXJ0eUtleShzY2hlbWEsICdkZWZhdWx0JykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBWYWx1ZUNyZWF0ZUVycm9yKHNjaGVtYSwgJ1N0cmluZyB0eXBlcyB3aXRoIHBhdHRlcm5zIG11c3Qgc3BlY2lmeSBhIGRlZmF1bHQgdmFsdWUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hLmZvcm1hdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICghSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsdWVDcmVhdGVFcnJvcihzY2hlbWEsICdTdHJpbmcgdHlwZXMgd2l0aCBmb3JtYXRzIG11c3Qgc3BlY2lmeSBhIGRlZmF1bHQgdmFsdWUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChIYXNQcm9wZXJ0eUtleShzY2hlbWEsICdkZWZhdWx0JykpIHtcbiAgICAgICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2NoZW1hLm1pbkxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBzY2hlbWEubWluTGVuZ3RoIH0pLm1hcCgoKSA9PiAnICcpLmpvaW4oJycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbVN5bWJvbChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCd2YWx1ZScgaW4gc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiBTeW1ib2wuZm9yKHNjaGVtYS52YWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gU3ltYm9sKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbVRlbXBsYXRlTGl0ZXJhbChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGlmICghSXNUZW1wbGF0ZUxpdGVyYWxGaW5pdGUoc2NoZW1hKSlcbiAgICAgICAgdGhyb3cgbmV3IFZhbHVlQ3JlYXRlRXJyb3Ioc2NoZW1hLCAnQ2FuIG9ubHkgY3JlYXRlIHRlbXBsYXRlIGxpdGVyYWxzIHRoYXQgcHJvZHVjZSBhIGZpbml0ZSB2YXJpYW50cy4gQ29uc2lkZXIgdXNpbmcgYSBkZWZhdWx0IHZhbHVlLicpO1xuICAgIGNvbnN0IGdlbmVyYXRlZCA9IFRlbXBsYXRlTGl0ZXJhbEdlbmVyYXRlKHNjaGVtYSk7XG4gICAgcmV0dXJuIGdlbmVyYXRlZFswXTtcbn1cbmZ1bmN0aW9uIEZyb21UaGlzKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChyZWN1cnNpdmVEZXB0aCsrID4gcmVjdXJzaXZlTWF4RGVwdGgpXG4gICAgICAgIHRocm93IG5ldyBWYWx1ZUNyZWF0ZUVycm9yKHNjaGVtYSwgJ0Nhbm5vdCBjcmVhdGUgcmVjdXJzaXZlIHR5cGUgYXMgaXQgYXBwZWFycyBwb3NzaWJseSBpbmZpbml0ZS4gQ29uc2lkZXIgdXNpbmcgYSBkZWZhdWx0LicpO1xuICAgIGlmIChIYXNQcm9wZXJ0eUtleShzY2hlbWEsICdkZWZhdWx0JykpIHtcbiAgICAgICAgcmV0dXJuIEZyb21EZWZhdWx0KHNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBWaXNpdChEZXJlZihzY2hlbWEsIHJlZmVyZW5jZXMpLCByZWZlcmVuY2VzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tVHVwbGUoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKEhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hLml0ZW1zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IHNjaGVtYS5taW5JdGVtcyB9KS5tYXAoKF8sIGluZGV4KSA9PiBWaXNpdChzY2hlbWEuaXRlbXNbaW5kZXhdLCByZWZlcmVuY2VzKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbVVuZGVmaW5lZChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbmZ1bmN0aW9uIEZyb21VbmlvbihzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYS5hbnlPZi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWYWx1ZUNyZWF0ZS5VbmlvbjogQ2Fubm90IGNyZWF0ZSBVbmlvbiB3aXRoIHplcm8gdmFyaWFudHMnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBWaXNpdChzY2hlbWEuYW55T2ZbMF0sIHJlZmVyZW5jZXMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIEZyb21VaW50OEFycmF5KHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChIYXNQcm9wZXJ0eUtleShzY2hlbWEsICdkZWZhdWx0JykpIHtcbiAgICAgICAgcmV0dXJuIEZyb21EZWZhdWx0KHNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hLm1pbkJ5dGVMZW5ndGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoc2NoZW1hLm1pbkJ5dGVMZW5ndGgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIEZyb21Vbmtub3duKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChIYXNQcm9wZXJ0eUtleShzY2hlbWEsICdkZWZhdWx0JykpIHtcbiAgICAgICAgcmV0dXJuIEZyb21EZWZhdWx0KHNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tVm9pZChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbn1cbmZ1bmN0aW9uIEZyb21LaW5kKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChIYXNQcm9wZXJ0eUtleShzY2hlbWEsICdkZWZhdWx0JykpIHtcbiAgICAgICAgcmV0dXJuIEZyb21EZWZhdWx0KHNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBkZWZpbmVkIHR5cGVzIG11c3Qgc3BlY2lmeSBhIGRlZmF1bHQgdmFsdWUnKTtcbiAgICB9XG59XG5mdW5jdGlvbiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBjb25zdCByZWZlcmVuY2VzXyA9IElzU3RyaW5nKHNjaGVtYS4kaWQpID8gWy4uLnJlZmVyZW5jZXMsIHNjaGVtYV0gOiByZWZlcmVuY2VzO1xuICAgIGNvbnN0IHNjaGVtYV8gPSBzY2hlbWE7XG4gICAgc3dpdGNoIChzY2hlbWFfW0tpbmRdKSB7XG4gICAgICAgIGNhc2UgJ0FueSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUFueShzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ0FycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tQXJyYXkoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdBc3luY0l0ZXJhdG9yJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tQXN5bmNJdGVyYXRvcihzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ0JpZ0ludCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUJpZ0ludChzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ0Jvb2xlYW4nOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21Cb29sZWFuKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnQ29uc3RydWN0b3InOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21Db25zdHJ1Y3RvcihzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ0RhdGUnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21EYXRlKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnRnVuY3Rpb24nOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21GdW5jdGlvbihzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ0ludGVnZXInOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21JbnRlZ2VyKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnSW50ZXJzZWN0JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tSW50ZXJzZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnSXRlcmF0b3InOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21JdGVyYXRvcihzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ0xpdGVyYWwnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21MaXRlcmFsKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnTmV2ZXInOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21OZXZlcihzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ05vdCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbU5vdChzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ051bGwnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21OdWxsKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnTnVtYmVyJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tTnVtYmVyKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnT2JqZWN0JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tT2JqZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnUHJvbWlzZSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVByb21pc2Uoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdSZWNvcmQnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21SZWNvcmQoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdSZWYnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21SZWYoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdSZWdFeHAnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21SZWdFeHAoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdTdHJpbmcnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21TdHJpbmcoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdTeW1ib2wnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21TeW1ib2woc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdUZW1wbGF0ZUxpdGVyYWwnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21UZW1wbGF0ZUxpdGVyYWwoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdUaGlzJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVGhpcyhzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ1R1cGxlJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVHVwbGUoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdVbmRlZmluZWQnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21VbmRlZmluZWQoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdVbmlvbic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVVuaW9uKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnVWludDhBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVVpbnQ4QXJyYXkoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdVbmtub3duJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVW5rbm93bihzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ1ZvaWQnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21Wb2lkKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmICghVHlwZVJlZ2lzdHJ5LkhhcyhzY2hlbWFfW0tpbmRdKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVmFsdWVDcmVhdGVFcnJvcihzY2hlbWFfLCAnVW5rbm93biB0eXBlJyk7XG4gICAgICAgICAgICByZXR1cm4gRnJvbUtpbmQoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgIH1cbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdGVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuY29uc3QgcmVjdXJzaXZlTWF4RGVwdGggPSA1MTI7XG5sZXQgcmVjdXJzaXZlRGVwdGggPSAwO1xuLyoqIENyZWF0ZXMgYSB2YWx1ZSBmcm9tIHRoZSBnaXZlbiBzY2hlbWEgKi9cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGUoLi4uYXJncykge1xuICAgIHJlY3Vyc2l2ZURlcHRoID0gMDtcbiAgICByZXR1cm4gYXJncy5sZW5ndGggPT09IDIgPyBWaXNpdChhcmdzWzBdLCBhcmdzWzFdKSA6IFZpc2l0KGFyZ3NbMF0sIFtdKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgSXNTdGFuZGFyZE9iamVjdCwgSXNBcnJheSwgSXNTdHJpbmcsIElzTnVtYmVyLCBJc051bGwgfSBmcm9tICcuLi9ndWFyZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgVHlwZUJveEVycm9yIH0gZnJvbSAnLi4vLi4vdHlwZS9lcnJvci9pbmRleC5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uLy4uL3R5cGUvc3ltYm9scy9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ3JlYXRlIH0gZnJvbSAnLi4vY3JlYXRlL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDaGVjayB9IGZyb20gJy4uL2NoZWNrL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDbG9uZSB9IGZyb20gJy4uL2Nsb25lL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBEZXJlZiB9IGZyb20gJy4uL2RlcmVmL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEVycm9yc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgVmFsdWVDYXN0RXJyb3IgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xuICAgIHNjaGVtYTtcbiAgICBjb25zdHJ1Y3RvcihzY2hlbWEsIG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAgIH1cbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVGhlIGZvbGxvd2luZyB3aWxsIHNjb3JlIGEgc2NoZW1hIGFnYWluc3QgYSB2YWx1ZS4gRm9yIG9iamVjdHMsXG4vLyB0aGUgc2NvcmUgaXMgdGhlIHRhbGx5IG9mIHBvaW50cyBhd2FyZGVkIGZvciBlYWNoIHByb3BlcnR5IG9mXG4vLyB0aGUgdmFsdWUuIFByb3BlcnR5IHBvaW50cyBhcmUgKDEuMCAvIHByb3BlcnR5Q291bnQpIHRvIHByZXZlbnRcbi8vIGxhcmdlIHByb3BlcnR5IGNvdW50cyBiaWFzaW5nIHJlc3VsdHMuIFByb3BlcnRpZXMgdGhhdCBtYXRjaFxuLy8gbGl0ZXJhbCB2YWx1ZXMgYXJlIG1heGltYWxseSBhd2FyZGVkIGFzIGxpdGVyYWxzIGFyZSB0eXBpY2FsbHlcbi8vIHVzZWQgYXMgdW5pb24gZGlzY3JpbWluYXRvciBmaWVsZHMuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIFNjb3JlVW5pb24oc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGlmIChzY2hlbWFbS2luZF0gPT09ICdPYmplY3QnICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgIUlzTnVsbCh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3Qgb2JqZWN0ID0gc2NoZW1hO1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMob2JqZWN0LnByb3BlcnRpZXMpO1xuICAgICAgICBjb25zdCBbcG9pbnQsIG1heF0gPSBbMSAvIGVudHJpZXMubGVuZ3RoLCBlbnRyaWVzLmxlbmd0aF07XG4gICAgICAgIHJldHVybiBlbnRyaWVzLnJlZHVjZSgoYWNjLCBba2V5LCBzY2hlbWFdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsaXRlcmFsID0gc2NoZW1hW0tpbmRdID09PSAnTGl0ZXJhbCcgJiYgc2NoZW1hLmNvbnN0ID09PSB2YWx1ZVtrZXldID8gbWF4IDogMDtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrcyA9IENoZWNrKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWVba2V5XSkgPyBwb2ludCA6IDA7XG4gICAgICAgICAgICBjb25zdCBleGlzdHMgPSBrZXlzLmluY2x1ZGVzKGtleSkgPyBwb2ludCA6IDA7XG4gICAgICAgICAgICByZXR1cm4gYWNjICsgKGxpdGVyYWwgKyBjaGVja3MgKyBleGlzdHMpO1xuICAgICAgICB9LCAwKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBDaGVjayhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSA/IDEgOiAwO1xuICAgIH1cbn1cbmZ1bmN0aW9uIFNlbGVjdFVuaW9uKHVuaW9uLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGNvbnN0IHNjaGVtYXMgPSB1bmlvbi5hbnlPZi5tYXAoKHNjaGVtYSkgPT4gRGVyZWYoc2NoZW1hLCByZWZlcmVuY2VzKSk7XG4gICAgbGV0IFtzZWxlY3QsIGJlc3RdID0gW3NjaGVtYXNbMF0sIDBdO1xuICAgIGZvciAoY29uc3Qgc2NoZW1hIG9mIHNjaGVtYXMpIHtcbiAgICAgICAgY29uc3Qgc2NvcmUgPSBTY29yZVVuaW9uKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpO1xuICAgICAgICBpZiAoc2NvcmUgPiBiZXN0KSB7XG4gICAgICAgICAgICBzZWxlY3QgPSBzY2hlbWE7XG4gICAgICAgICAgICBiZXN0ID0gc2NvcmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlbGVjdDtcbn1cbmZ1bmN0aW9uIENhc3RVbmlvbih1bmlvbiwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBpZiAoJ2RlZmF1bHQnIGluIHVuaW9uKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgPyB1bmlvbi5kZWZhdWx0IDogQ2xvbmUodW5pb24uZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBzY2hlbWEgPSBTZWxlY3RVbmlvbih1bmlvbiwgcmVmZXJlbmNlcywgdmFsdWUpO1xuICAgICAgICByZXR1cm4gQ2FzdChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKTtcbiAgICB9XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIERlZmF1bHRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gRGVmYXVsdENsb25lKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gQ2hlY2soc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkgPyBDbG9uZSh2YWx1ZSkgOiBDcmVhdGUoc2NoZW1hLCByZWZlcmVuY2VzKTtcbn1cbmZ1bmN0aW9uIERlZmF1bHQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBDaGVjayhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSA/IHZhbHVlIDogQ3JlYXRlKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENhc3Rcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gRnJvbUFycmF5KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBpZiAoQ2hlY2soc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkpXG4gICAgICAgIHJldHVybiBDbG9uZSh2YWx1ZSk7XG4gICAgY29uc3QgY3JlYXRlZCA9IElzQXJyYXkodmFsdWUpID8gQ2xvbmUodmFsdWUpIDogQ3JlYXRlKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgY29uc3QgbWluaW11bSA9IElzTnVtYmVyKHNjaGVtYS5taW5JdGVtcykgJiYgY3JlYXRlZC5sZW5ndGggPCBzY2hlbWEubWluSXRlbXMgPyBbLi4uY3JlYXRlZCwgLi4uQXJyYXkuZnJvbSh7IGxlbmd0aDogc2NoZW1hLm1pbkl0ZW1zIC0gY3JlYXRlZC5sZW5ndGggfSwgKCkgPT4gbnVsbCldIDogY3JlYXRlZDtcbiAgICBjb25zdCBtYXhpbXVtID0gSXNOdW1iZXIoc2NoZW1hLm1heEl0ZW1zKSAmJiBtaW5pbXVtLmxlbmd0aCA+IHNjaGVtYS5tYXhJdGVtcyA/IG1pbmltdW0uc2xpY2UoMCwgc2NoZW1hLm1heEl0ZW1zKSA6IG1pbmltdW07XG4gICAgY29uc3QgY2FzdGVkID0gbWF4aW11bS5tYXAoKHZhbHVlKSA9PiBWaXNpdChzY2hlbWEuaXRlbXMsIHJlZmVyZW5jZXMsIHZhbHVlKSk7XG4gICAgaWYgKHNjaGVtYS51bmlxdWVJdGVtcyAhPT0gdHJ1ZSlcbiAgICAgICAgcmV0dXJuIGNhc3RlZDtcbiAgICBjb25zdCB1bmlxdWUgPSBbLi4ubmV3IFNldChjYXN0ZWQpXTtcbiAgICBpZiAoIUNoZWNrKHNjaGVtYSwgcmVmZXJlbmNlcywgdW5pcXVlKSlcbiAgICAgICAgdGhyb3cgbmV3IFZhbHVlQ2FzdEVycm9yKHNjaGVtYSwgJ0FycmF5IGNhc3QgcHJvZHVjZWQgaW52YWxpZCBkYXRhIGR1ZSB0byB1bmlxdWVJdGVtcyBjb25zdHJhaW50Jyk7XG4gICAgcmV0dXJuIHVuaXF1ZTtcbn1cbmZ1bmN0aW9uIEZyb21Db25zdHJ1Y3RvcihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgaWYgKENoZWNrKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpKVxuICAgICAgICByZXR1cm4gQ3JlYXRlKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgY29uc3QgcmVxdWlyZWQgPSBuZXcgU2V0KHNjaGVtYS5yZXR1cm5zLnJlcXVpcmVkIHx8IFtdKTtcbiAgICBjb25zdCByZXN1bHQgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgZm9yIChjb25zdCBba2V5LCBwcm9wZXJ0eV0gb2YgT2JqZWN0LmVudHJpZXMoc2NoZW1hLnJldHVybnMucHJvcGVydGllcykpIHtcbiAgICAgICAgaWYgKCFyZXF1aXJlZC5oYXMoa2V5KSAmJiB2YWx1ZS5wcm90b3R5cGVba2V5XSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIHJlc3VsdC5wcm90b3R5cGVba2V5XSA9IFZpc2l0KHByb3BlcnR5LCByZWZlcmVuY2VzLCB2YWx1ZS5wcm90b3R5cGVba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBGcm9tSW50ZXJzZWN0KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBjb25zdCBjcmVhdGVkID0gQ3JlYXRlKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgY29uc3QgbWFwcGVkID0gSXNTdGFuZGFyZE9iamVjdChjcmVhdGVkKSAmJiBJc1N0YW5kYXJkT2JqZWN0KHZhbHVlKSA/IHsgLi4uY3JlYXRlZCwgLi4udmFsdWUgfSA6IHZhbHVlO1xuICAgIHJldHVybiBDaGVjayhzY2hlbWEsIHJlZmVyZW5jZXMsIG1hcHBlZCkgPyBtYXBwZWQgOiBDcmVhdGUoc2NoZW1hLCByZWZlcmVuY2VzKTtcbn1cbmZ1bmN0aW9uIEZyb21OZXZlcihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgdGhyb3cgbmV3IFZhbHVlQ2FzdEVycm9yKHNjaGVtYSwgJ05ldmVyIHR5cGVzIGNhbm5vdCBiZSBjYXN0Jyk7XG59XG5mdW5jdGlvbiBGcm9tT2JqZWN0KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBpZiAoQ2hlY2soc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkpXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JylcbiAgICAgICAgcmV0dXJuIENyZWF0ZShzY2hlbWEsIHJlZmVyZW5jZXMpO1xuICAgIGNvbnN0IHJlcXVpcmVkID0gbmV3IFNldChzY2hlbWEucmVxdWlyZWQgfHwgW10pO1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3QgW2tleSwgcHJvcGVydHldIG9mIE9iamVjdC5lbnRyaWVzKHNjaGVtYS5wcm9wZXJ0aWVzKSkge1xuICAgICAgICBpZiAoIXJlcXVpcmVkLmhhcyhrZXkpICYmIHZhbHVlW2tleV0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICByZXN1bHRba2V5XSA9IFZpc2l0KHByb3BlcnR5LCByZWZlcmVuY2VzLCB2YWx1ZVtrZXldKTtcbiAgICB9XG4gICAgLy8gYWRkaXRpb25hbCBzY2hlbWEgcHJvcGVydGllc1xuICAgIGlmICh0eXBlb2Ygc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICBjb25zdCBwcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc2NoZW1hLnByb3BlcnRpZXMpO1xuICAgICAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eU5hbWVzLmluY2x1ZGVzKHByb3BlcnR5TmFtZSkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICByZXN1bHRbcHJvcGVydHlOYW1lXSA9IFZpc2l0KHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcywgcmVmZXJlbmNlcywgdmFsdWVbcHJvcGVydHlOYW1lXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIEZyb21SZWNvcmQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGlmIChDaGVjayhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIENsb25lKHZhbHVlKTtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHZhbHVlKSB8fCB2YWx1ZSBpbnN0YW5jZW9mIERhdGUpXG4gICAgICAgIHJldHVybiBDcmVhdGUoc2NoZW1hLCByZWZlcmVuY2VzKTtcbiAgICBjb25zdCBzdWJzY2hlbWFQcm9wZXJ0eU5hbWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpWzBdO1xuICAgIGNvbnN0IHN1YnNjaGVtYSA9IHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1tzdWJzY2hlbWFQcm9wZXJ0eU5hbWVdO1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3QgW3Byb3BLZXksIHByb3BWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdFtwcm9wS2V5XSA9IFZpc2l0KHN1YnNjaGVtYSwgcmVmZXJlbmNlcywgcHJvcFZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIEZyb21SZWYoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBWaXNpdChEZXJlZihzY2hlbWEsIHJlZmVyZW5jZXMpLCByZWZlcmVuY2VzLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tVGhpcyhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFZpc2l0KERlcmVmKHNjaGVtYSwgcmVmZXJlbmNlcyksIHJlZmVyZW5jZXMsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21UdXBsZShzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgaWYgKENoZWNrKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpKVxuICAgICAgICByZXR1cm4gQ2xvbmUodmFsdWUpO1xuICAgIGlmICghSXNBcnJheSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiBDcmVhdGUoc2NoZW1hLCByZWZlcmVuY2VzKTtcbiAgICBpZiAoc2NoZW1hLml0ZW1zID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiBbXTtcbiAgICByZXR1cm4gc2NoZW1hLml0ZW1zLm1hcCgoc2NoZW1hLCBpbmRleCkgPT4gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZVtpbmRleF0pKTtcbn1cbmZ1bmN0aW9uIEZyb21VbmlvbihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIENoZWNrKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpID8gQ2xvbmUodmFsdWUpIDogQ2FzdFVuaW9uKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpO1xufVxuZnVuY3Rpb24gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGNvbnN0IHJlZmVyZW5jZXNfID0gSXNTdHJpbmcoc2NoZW1hLiRpZCkgPyBbLi4ucmVmZXJlbmNlcywgc2NoZW1hXSA6IHJlZmVyZW5jZXM7XG4gICAgY29uc3Qgc2NoZW1hXyA9IHNjaGVtYTtcbiAgICBzd2l0Y2ggKHNjaGVtYVtLaW5kXSkge1xuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBTdHJ1Y3R1cmFsXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGNhc2UgJ0FycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tQXJyYXkoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnQ29uc3RydWN0b3InOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21Db25zdHJ1Y3RvcihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdJbnRlcnNlY3QnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21JbnRlcnNlY3Qoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnTmV2ZXInOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21OZXZlcihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdPYmplY3QnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21PYmplY3Qoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnUmVjb3JkJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tUmVjb3JkKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1JlZic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVJlZihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdUaGlzJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVGhpcyhzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdUdXBsZSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVR1cGxlKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1VuaW9uJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVW5pb24oc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gRGVmYXVsdENsb25lXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGNhc2UgJ0RhdGUnOlxuICAgICAgICBjYXNlICdTeW1ib2wnOlxuICAgICAgICBjYXNlICdVaW50OEFycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBEZWZhdWx0Q2xvbmUoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSk7XG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIERlZmF1bHRcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBEZWZhdWx0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgfVxufVxuLyoqIENhc3RzIGEgdmFsdWUgaW50byBhIGdpdmVuIHR5cGUuIFRoZSByZXR1cm4gdmFsdWUgd2lsbCByZXRhaW4gYXMgbXVjaCBpbmZvcm1hdGlvbiBvZiB0aGUgb3JpZ2luYWwgdmFsdWUgYXMgcG9zc2libGUuICovXG5leHBvcnQgZnVuY3Rpb24gQ2FzdCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIGFyZ3MubGVuZ3RoID09PSAzID8gVmlzaXQoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSkgOiBWaXNpdChhcmdzWzBdLCBbXSwgYXJnc1sxXSk7XG59XG4iLAogICAgImltcG9ydCB7IEtleU9mUHJvcGVydHlLZXlzIH0gZnJvbSAnLi4vLi4vdHlwZS9rZXlvZi9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2hlY2sgfSBmcm9tICcuLi9jaGVjay9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2xvbmUgfSBmcm9tICcuLi9jbG9uZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgRGVyZWYgfSBmcm9tICcuLi9kZXJlZi9pbmRleC5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uLy4uL3R5cGUvc3ltYm9scy9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBWYWx1ZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuaW1wb3J0IHsgSXNTdHJpbmcsIElzT2JqZWN0LCBJc0FycmF5LCBJc1VuZGVmaW5lZCB9IGZyb20gJy4uL2d1YXJkL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmltcG9ydCB7IElzU2NoZW1hIH0gZnJvbSAnLi4vLi4vdHlwZS9ndWFyZC90eXBlLm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIElzQ2hlY2thYmxlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIElzQ2hlY2thYmxlKHNjaGVtYSkge1xuICAgIHJldHVybiBJc1NjaGVtYShzY2hlbWEpICYmIHNjaGVtYVtLaW5kXSAhPT0gJ1Vuc2FmZSc7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIEZyb21BcnJheShzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgaWYgKCFJc0FycmF5KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIHJldHVybiB2YWx1ZS5tYXAoKHZhbHVlKSA9PiBWaXNpdChzY2hlbWEuaXRlbXMsIHJlZmVyZW5jZXMsIHZhbHVlKSk7XG59XG5mdW5jdGlvbiBGcm9tSW50ZXJzZWN0KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBjb25zdCB1bmV2YWx1YXRlZFByb3BlcnRpZXMgPSBzY2hlbWEudW5ldmFsdWF0ZWRQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IGludGVyc2VjdGlvbnMgPSBzY2hlbWEuYWxsT2YubWFwKChzY2hlbWEpID0+IFZpc2l0KHNjaGVtYSwgcmVmZXJlbmNlcywgQ2xvbmUodmFsdWUpKSk7XG4gICAgY29uc3QgY29tcG9zaXRlID0gaW50ZXJzZWN0aW9ucy5yZWR1Y2UoKGFjYywgdmFsdWUpID0+IChJc09iamVjdCh2YWx1ZSkgPyB7IC4uLmFjYywgLi4udmFsdWUgfSA6IHZhbHVlKSwge30pO1xuICAgIGlmICghSXNPYmplY3QodmFsdWUpIHx8ICFJc09iamVjdChjb21wb3NpdGUpIHx8ICFJc1NjaGVtYSh1bmV2YWx1YXRlZFByb3BlcnRpZXMpKVxuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIGNvbnN0IGtub3dua2V5cyA9IEtleU9mUHJvcGVydHlLZXlzKHNjaGVtYSk7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpKSB7XG4gICAgICAgIGlmIChrbm93bmtleXMuaW5jbHVkZXMoa2V5KSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAoQ2hlY2sodW5ldmFsdWF0ZWRQcm9wZXJ0aWVzLCByZWZlcmVuY2VzLCB2YWx1ZVtrZXldKSkge1xuICAgICAgICAgICAgY29tcG9zaXRlW2tleV0gPSBWaXNpdCh1bmV2YWx1YXRlZFByb3BlcnRpZXMsIHJlZmVyZW5jZXMsIHZhbHVlW2tleV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb21wb3NpdGU7XG59XG5mdW5jdGlvbiBGcm9tT2JqZWN0KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBpZiAoIUlzT2JqZWN0KHZhbHVlKSB8fCBJc0FycmF5KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHZhbHVlOyAvLyBDaGVjayBJc0FycmF5IGZvciBBbGxvd0FycmF5T2JqZWN0IGNvbmZpZ3VyYXRpb25cbiAgICBjb25zdCBhZGRpdGlvbmFsUHJvcGVydGllcyA9IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcztcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKGtleSBpbiBzY2hlbWEucHJvcGVydGllcykge1xuICAgICAgICAgICAgdmFsdWVba2V5XSA9IFZpc2l0KHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0sIHJlZmVyZW5jZXMsIHZhbHVlW2tleV0pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKElzU2NoZW1hKGFkZGl0aW9uYWxQcm9wZXJ0aWVzKSAmJiBDaGVjayhhZGRpdGlvbmFsUHJvcGVydGllcywgcmVmZXJlbmNlcywgdmFsdWVba2V5XSkpIHtcbiAgICAgICAgICAgIHZhbHVlW2tleV0gPSBWaXNpdChhZGRpdGlvbmFsUHJvcGVydGllcywgcmVmZXJlbmNlcywgdmFsdWVba2V5XSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdmFsdWVba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gRnJvbVJlY29yZChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgaWYgKCFJc09iamVjdCh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICBjb25zdCBhZGRpdGlvbmFsUHJvcGVydGllcyA9IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcztcbiAgICBjb25zdCBwcm9wZXJ0eUtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gICAgY29uc3QgW3Byb3BlcnR5S2V5LCBwcm9wZXJ0eVNjaGVtYV0gPSBPYmplY3QuZW50cmllcyhzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpWzBdO1xuICAgIGNvbnN0IHByb3BlcnR5S2V5VGVzdCA9IG5ldyBSZWdFeHAocHJvcGVydHlLZXkpO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIHByb3BlcnR5S2V5cykge1xuICAgICAgICBpZiAocHJvcGVydHlLZXlUZXN0LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgdmFsdWVba2V5XSA9IFZpc2l0KHByb3BlcnR5U2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZVtrZXldKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChJc1NjaGVtYShhZGRpdGlvbmFsUHJvcGVydGllcykgJiYgQ2hlY2soYWRkaXRpb25hbFByb3BlcnRpZXMsIHJlZmVyZW5jZXMsIHZhbHVlW2tleV0pKSB7XG4gICAgICAgICAgICB2YWx1ZVtrZXldID0gVmlzaXQoYWRkaXRpb25hbFByb3BlcnRpZXMsIHJlZmVyZW5jZXMsIHZhbHVlW2tleV0pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHZhbHVlW2tleV07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIEZyb21SZWYoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBWaXNpdChEZXJlZihzY2hlbWEsIHJlZmVyZW5jZXMpLCByZWZlcmVuY2VzLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tVGhpcyhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFZpc2l0KERlcmVmKHNjaGVtYSwgcmVmZXJlbmNlcyksIHJlZmVyZW5jZXMsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21UdXBsZShzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgaWYgKCFJc0FycmF5KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGlmIChJc1VuZGVmaW5lZChzY2hlbWEuaXRlbXMpKVxuICAgICAgICByZXR1cm4gW107XG4gICAgY29uc3QgbGVuZ3RoID0gTWF0aC5taW4odmFsdWUubGVuZ3RoLCBzY2hlbWEuaXRlbXMubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlW2ldID0gVmlzaXQoc2NoZW1hLml0ZW1zW2ldLCByZWZlcmVuY2VzLCB2YWx1ZVtpXSk7XG4gICAgfVxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPiBsZW5ndGhcbiAgICAgICAgPyB2YWx1ZS5zbGljZSgwLCBsZW5ndGgpXG4gICAgICAgIDogdmFsdWU7XG59XG5mdW5jdGlvbiBGcm9tVW5pb24oc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGZvciAoY29uc3QgaW5uZXIgb2Ygc2NoZW1hLmFueU9mKSB7XG4gICAgICAgIGlmIChJc0NoZWNrYWJsZShpbm5lcikgJiYgQ2hlY2soaW5uZXIsIHJlZmVyZW5jZXMsIHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIFZpc2l0KGlubmVyLCByZWZlcmVuY2VzLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGNvbnN0IHJlZmVyZW5jZXNfID0gSXNTdHJpbmcoc2NoZW1hLiRpZCkgPyBbLi4ucmVmZXJlbmNlcywgc2NoZW1hXSA6IHJlZmVyZW5jZXM7XG4gICAgY29uc3Qgc2NoZW1hXyA9IHNjaGVtYTtcbiAgICBzd2l0Y2ggKHNjaGVtYV9bS2luZF0pIHtcbiAgICAgICAgY2FzZSAnQXJyYXknOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21BcnJheShzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdJbnRlcnNlY3QnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21JbnRlcnNlY3Qoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnT2JqZWN0JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tT2JqZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1JlY29yZCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVJlY29yZChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdSZWYnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21SZWYoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVGhpcyc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVRoaXMoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVHVwbGUnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21UdXBsZShzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdVbmlvbic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVVuaW9uKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuLyoqIGBbTXV0YWJsZV1gIFJlbW92ZXMgZXhjZXNzIHByb3BlcnRpZXMgZnJvbSBhIHZhbHVlIGFuZCByZXR1cm5zIHRoZSByZXN1bHQuIFRoaXMgZnVuY3Rpb24gZG9lcyBub3QgY2hlY2sgdGhlIHZhbHVlIGFuZCByZXR1cm5zIGFuIHVua25vd24gdHlwZS4gWW91IHNob3VsZCBDaGVjayB0aGUgcmVzdWx0IGJlZm9yZSB1c2UuIENsZWFuIGlzIGEgbXV0YWJsZSBvcGVyYXRpb24uIFRvIGF2b2lkIG11dGF0aW9uLCBDbG9uZSB0aGUgdmFsdWUgZmlyc3QuICovXG5leHBvcnQgZnVuY3Rpb24gQ2xlYW4oLi4uYXJncykge1xuICAgIHJldHVybiBhcmdzLmxlbmd0aCA9PT0gMyA/IFZpc2l0KGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pIDogVmlzaXQoYXJnc1swXSwgW10sIGFyZ3NbMV0pO1xufVxuIiwKICAgICJpbXBvcnQgeyBDbG9uZSB9IGZyb20gJy4uL2Nsb25lL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDaGVjayB9IGZyb20gJy4uL2NoZWNrL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBEZXJlZiB9IGZyb20gJy4uL2RlcmVmL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vLi4vdHlwZS9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFZhbHVlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNBcnJheSwgSXNPYmplY3QsIElzRGF0ZSwgSXNVbmRlZmluZWQsIElzU3RyaW5nLCBJc051bWJlciwgSXNCb29sZWFuLCBJc0JpZ0ludCwgSXNTeW1ib2wsIEhhc1Byb3BlcnR5S2V5IH0gZnJvbSAnLi4vZ3VhcmQvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ29udmVyc2lvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gSXNTdHJpbmdOdW1lcmljKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzU3RyaW5nKHZhbHVlKSAmJiAhaXNOYU4odmFsdWUpICYmICFpc05hTihwYXJzZUZsb2F0KHZhbHVlKSk7XG59XG5mdW5jdGlvbiBJc1ZhbHVlVG9TdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gSXNCaWdJbnQodmFsdWUpIHx8IElzQm9vbGVhbih2YWx1ZSkgfHwgSXNOdW1iZXIodmFsdWUpO1xufVxuZnVuY3Rpb24gSXNWYWx1ZVRydWUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgKElzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSA9PT0gMSkgfHwgKElzQmlnSW50KHZhbHVlKSAmJiB2YWx1ZSA9PT0gQmlnSW50KCcxJykpIHx8IChJc1N0cmluZyh2YWx1ZSkgJiYgKHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyB8fCB2YWx1ZSA9PT0gJzEnKSk7XG59XG5mdW5jdGlvbiBJc1ZhbHVlRmFsc2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IGZhbHNlIHx8IChJc051bWJlcih2YWx1ZSkgJiYgKHZhbHVlID09PSAwIHx8IE9iamVjdC5pcyh2YWx1ZSwgLTApKSkgfHwgKElzQmlnSW50KHZhbHVlKSAmJiB2YWx1ZSA9PT0gQmlnSW50KCcwJykpIHx8IChJc1N0cmluZyh2YWx1ZSkgJiYgKHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICdmYWxzZScgfHwgdmFsdWUgPT09ICcwJyB8fCB2YWx1ZSA9PT0gJy0wJykpO1xufVxuZnVuY3Rpb24gSXNUaW1lU3RyaW5nV2l0aFRpbWVab25lKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzU3RyaW5nKHZhbHVlKSAmJiAvXig/OlswLTJdXFxkOlswLTVdXFxkOlswLTVdXFxkfDIzOjU5OjYwKSg/OlxcLlxcZCspPyg/Onp8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8pJC9pLnRlc3QodmFsdWUpO1xufVxuZnVuY3Rpb24gSXNUaW1lU3RyaW5nV2l0aG91dFRpbWVab25lKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzU3RyaW5nKHZhbHVlKSAmJiAvXig/OlswLTJdXFxkOlswLTVdXFxkOlswLTVdXFxkfDIzOjU5OjYwKT8kL2kudGVzdCh2YWx1ZSk7XG59XG5mdW5jdGlvbiBJc0RhdGVUaW1lU3RyaW5nV2l0aFRpbWVab25lKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzU3RyaW5nKHZhbHVlKSAmJiAvXlxcZFxcZFxcZFxcZC1bMC0xXVxcZC1bMC0zXVxcZHQoPzpbMC0yXVxcZDpbMC01XVxcZDpbMC01XVxcZHwyMzo1OTo2MCkoPzpcXC5cXGQrKT8oPzp6fFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/KSQvaS50ZXN0KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIElzRGF0ZVRpbWVTdHJpbmdXaXRob3V0VGltZVpvbmUodmFsdWUpIHtcbiAgICByZXR1cm4gSXNTdHJpbmcodmFsdWUpICYmIC9eXFxkXFxkXFxkXFxkLVswLTFdXFxkLVswLTNdXFxkdCg/OlswLTJdXFxkOlswLTVdXFxkOlswLTVdXFxkfDIzOjU5OjYwKT8kL2kudGVzdCh2YWx1ZSk7XG59XG5mdW5jdGlvbiBJc0RhdGVTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gSXNTdHJpbmcodmFsdWUpICYmIC9eXFxkXFxkXFxkXFxkLVswLTFdXFxkLVswLTNdXFxkJC9pLnRlc3QodmFsdWUpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDb252ZXJ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIFRyeUNvbnZlcnRMaXRlcmFsU3RyaW5nKHZhbHVlLCB0YXJnZXQpIHtcbiAgICBjb25zdCBjb252ZXJzaW9uID0gVHJ5Q29udmVydFN0cmluZyh2YWx1ZSk7XG4gICAgcmV0dXJuIGNvbnZlcnNpb24gPT09IHRhcmdldCA/IGNvbnZlcnNpb24gOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIFRyeUNvbnZlcnRMaXRlcmFsTnVtYmVyKHZhbHVlLCB0YXJnZXQpIHtcbiAgICBjb25zdCBjb252ZXJzaW9uID0gVHJ5Q29udmVydE51bWJlcih2YWx1ZSk7XG4gICAgcmV0dXJuIGNvbnZlcnNpb24gPT09IHRhcmdldCA/IGNvbnZlcnNpb24gOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIFRyeUNvbnZlcnRMaXRlcmFsQm9vbGVhbih2YWx1ZSwgdGFyZ2V0KSB7XG4gICAgY29uc3QgY29udmVyc2lvbiA9IFRyeUNvbnZlcnRCb29sZWFuKHZhbHVlKTtcbiAgICByZXR1cm4gY29udmVyc2lvbiA9PT0gdGFyZ2V0ID8gY29udmVyc2lvbiA6IHZhbHVlO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBUcnlDb252ZXJ0TGl0ZXJhbChzY2hlbWEsIHZhbHVlKSB7XG4gICAgcmV0dXJuIChJc1N0cmluZyhzY2hlbWEuY29uc3QpID8gVHJ5Q29udmVydExpdGVyYWxTdHJpbmcodmFsdWUsIHNjaGVtYS5jb25zdCkgOlxuICAgICAgICBJc051bWJlcihzY2hlbWEuY29uc3QpID8gVHJ5Q29udmVydExpdGVyYWxOdW1iZXIodmFsdWUsIHNjaGVtYS5jb25zdCkgOlxuICAgICAgICAgICAgSXNCb29sZWFuKHNjaGVtYS5jb25zdCkgPyBUcnlDb252ZXJ0TGl0ZXJhbEJvb2xlYW4odmFsdWUsIHNjaGVtYS5jb25zdCkgOlxuICAgICAgICAgICAgICAgIENsb25lKHZhbHVlKSk7XG59XG5mdW5jdGlvbiBUcnlDb252ZXJ0Qm9vbGVhbih2YWx1ZSkge1xuICAgIHJldHVybiBJc1ZhbHVlVHJ1ZSh2YWx1ZSkgPyB0cnVlIDogSXNWYWx1ZUZhbHNlKHZhbHVlKSA/IGZhbHNlIDogdmFsdWU7XG59XG5mdW5jdGlvbiBUcnlDb252ZXJ0QmlnSW50KHZhbHVlKSB7XG4gICAgcmV0dXJuIElzU3RyaW5nTnVtZXJpYyh2YWx1ZSkgPyBCaWdJbnQocGFyc2VJbnQodmFsdWUpKSA6IElzTnVtYmVyKHZhbHVlKSA/IEJpZ0ludCh2YWx1ZSB8IDApIDogSXNWYWx1ZUZhbHNlKHZhbHVlKSA/IEJpZ0ludCgwKSA6IElzVmFsdWVUcnVlKHZhbHVlKSA/IEJpZ0ludCgxKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gVHJ5Q29udmVydFN0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiBJc1ZhbHVlVG9TdHJpbmcodmFsdWUpID8gdmFsdWUudG9TdHJpbmcoKSA6IElzU3ltYm9sKHZhbHVlKSAmJiB2YWx1ZS5kZXNjcmlwdGlvbiAhPT0gdW5kZWZpbmVkID8gdmFsdWUuZGVzY3JpcHRpb24udG9TdHJpbmcoKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gVHJ5Q29udmVydE51bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiBJc1N0cmluZ051bWVyaWModmFsdWUpID8gcGFyc2VGbG9hdCh2YWx1ZSkgOiBJc1ZhbHVlVHJ1ZSh2YWx1ZSkgPyAxIDogSXNWYWx1ZUZhbHNlKHZhbHVlKSA/IDAgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIFRyeUNvbnZlcnRJbnRlZ2VyKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzU3RyaW5nTnVtZXJpYyh2YWx1ZSkgPyBwYXJzZUludCh2YWx1ZSkgOiBJc051bWJlcih2YWx1ZSkgPyB2YWx1ZSB8IDAgOiBJc1ZhbHVlVHJ1ZSh2YWx1ZSkgPyAxIDogSXNWYWx1ZUZhbHNlKHZhbHVlKSA/IDAgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIFRyeUNvbnZlcnROdWxsKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzU3RyaW5nKHZhbHVlKSAmJiB2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAnbnVsbCcgPyBudWxsIDogdmFsdWU7XG59XG5mdW5jdGlvbiBUcnlDb252ZXJ0VW5kZWZpbmVkKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzU3RyaW5nKHZhbHVlKSAmJiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiB2YWx1ZTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gbm90ZTogdGhpcyBmdW5jdGlvbiBtYXkgcmV0dXJuIGFuIGludmFsaWQgZGF0ZXMgZm9yIHRoZSByZWdleFxuLy8gdGVzdHMgYWJvdmUuIEludmFsaWQgZGF0ZXMgd2lsbCBob3dldmVyIGJlIGNoZWNrZWQgZHVyaW5nIHRoZVxuLy8gY2FzdGluZyBmdW5jdGlvbiBhbmQgd2lsbCByZXR1cm4gYSBlcG9jaCBkYXRlIGlmIGludmFsaWQuXG4vLyBDb25zaWRlciBiZXR0ZXIgc3RyaW5nIHBhcnNpbmcgZm9yIHRoZSBpc28gZGF0ZXMgaW4gZnV0dXJlXG4vLyByZXZpc2lvbnMuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gVHJ5Q29udmVydERhdGUodmFsdWUpIHtcbiAgICByZXR1cm4gKElzRGF0ZSh2YWx1ZSkgPyB2YWx1ZSA6XG4gICAgICAgIElzTnVtYmVyKHZhbHVlKSA/IG5ldyBEYXRlKHZhbHVlKSA6XG4gICAgICAgICAgICBJc1ZhbHVlVHJ1ZSh2YWx1ZSkgPyBuZXcgRGF0ZSgxKSA6XG4gICAgICAgICAgICAgICAgSXNWYWx1ZUZhbHNlKHZhbHVlKSA/IG5ldyBEYXRlKDApIDpcbiAgICAgICAgICAgICAgICAgICAgSXNTdHJpbmdOdW1lcmljKHZhbHVlKSA/IG5ldyBEYXRlKHBhcnNlSW50KHZhbHVlKSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgSXNUaW1lU3RyaW5nV2l0aG91dFRpbWVab25lKHZhbHVlKSA/IG5ldyBEYXRlKGAxOTcwLTAxLTAxVCR7dmFsdWV9LjAwMFpgKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNUaW1lU3RyaW5nV2l0aFRpbWVab25lKHZhbHVlKSA/IG5ldyBEYXRlKGAxOTcwLTAxLTAxVCR7dmFsdWV9YCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJc0RhdGVUaW1lU3RyaW5nV2l0aG91dFRpbWVab25lKHZhbHVlKSA/IG5ldyBEYXRlKGAke3ZhbHVlfS4wMDBaYCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNEYXRlVGltZVN0cmluZ1dpdGhUaW1lWm9uZSh2YWx1ZSkgPyBuZXcgRGF0ZSh2YWx1ZSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzRGF0ZVN0cmluZyh2YWx1ZSkgPyBuZXcgRGF0ZShgJHt2YWx1ZX1UMDA6MDA6MDAuMDAwWmApIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBEZWZhdWx0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIERlZmF1bHQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENvbnZlcnRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gRnJvbUFycmF5KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IElzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgIHJldHVybiBlbGVtZW50cy5tYXAoKGVsZW1lbnQpID0+IFZpc2l0KHNjaGVtYS5pdGVtcywgcmVmZXJlbmNlcywgZWxlbWVudCkpO1xufVxuZnVuY3Rpb24gRnJvbUJpZ0ludChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFRyeUNvbnZlcnRCaWdJbnQodmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbUJvb2xlYW4oc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBUcnlDb252ZXJ0Qm9vbGVhbih2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tRGF0ZShzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFRyeUNvbnZlcnREYXRlKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21JbnRlZ2VyKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gVHJ5Q29udmVydEludGVnZXIodmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbUludGVyc2VjdChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHNjaGVtYS5hbGxPZi5yZWR1Y2UoKHZhbHVlLCBzY2hlbWEpID0+IFZpc2l0KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tTGl0ZXJhbChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFRyeUNvbnZlcnRMaXRlcmFsKHNjaGVtYSwgdmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbU51bGwoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBUcnlDb252ZXJ0TnVsbCh2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tTnVtYmVyKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gVHJ5Q29udmVydE51bWJlcih2YWx1ZSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21PYmplY3Qoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGNvbnN0IGlzQ29udmVydGFibGUgPSBJc09iamVjdCh2YWx1ZSk7XG4gICAgaWYgKCFpc0NvbnZlcnRhYmxlKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gSGFzUHJvcGVydHlLZXkoc2NoZW1hLnByb3BlcnRpZXMsIGtleSlcbiAgICAgICAgICAgID8gVmlzaXQoc2NoZW1hLnByb3BlcnRpZXNba2V5XSwgcmVmZXJlbmNlcywgdmFsdWVba2V5XSlcbiAgICAgICAgICAgIDogdmFsdWVba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIEZyb21SZWNvcmQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGNvbnN0IHByb3BlcnR5S2V5ID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKVswXTtcbiAgICBjb25zdCBwcm9wZXJ0eSA9IHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1twcm9wZXJ0eUtleV07XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBbcHJvcEtleSwgcHJvcFZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0W3Byb3BLZXldID0gVmlzaXQocHJvcGVydHksIHJlZmVyZW5jZXMsIHByb3BWYWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBGcm9tUmVmKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gVmlzaXQoRGVyZWYoc2NoZW1hLCByZWZlcmVuY2VzKSwgcmVmZXJlbmNlcywgdmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbVN0cmluZyhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFRyeUNvbnZlcnRTdHJpbmcodmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbVN5bWJvbChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIElzU3RyaW5nKHZhbHVlKSB8fCBJc051bWJlcih2YWx1ZSkgPyBTeW1ib2wodmFsdWUpIDogdmFsdWU7XG59XG5mdW5jdGlvbiBGcm9tVGhpcyhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFZpc2l0KERlcmVmKHNjaGVtYSwgcmVmZXJlbmNlcyksIHJlZmVyZW5jZXMsIHZhbHVlKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVR1cGxlKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBjb25zdCBpc0NvbnZlcnRhYmxlID0gSXNBcnJheSh2YWx1ZSkgJiYgIUlzVW5kZWZpbmVkKHNjaGVtYS5pdGVtcyk7XG4gICAgaWYgKCFpc0NvbnZlcnRhYmxlKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgcmV0dXJuIHZhbHVlLm1hcCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiAoaW5kZXggPCBzY2hlbWEuaXRlbXMubGVuZ3RoKVxuICAgICAgICAgICAgPyBWaXNpdChzY2hlbWEuaXRlbXNbaW5kZXhdLCByZWZlcmVuY2VzLCB2YWx1ZSlcbiAgICAgICAgICAgIDogdmFsdWU7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBGcm9tVW5kZWZpbmVkKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gVHJ5Q29udmVydFVuZGVmaW5lZCh2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tVW5pb24oc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGZvciAoY29uc3Qgc3Vic2NoZW1hIG9mIHNjaGVtYS5hbnlPZikge1xuICAgICAgICBjb25zdCBjb252ZXJ0ZWQgPSBWaXNpdChzdWJzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKTtcbiAgICAgICAgaWYgKCFDaGVjayhzdWJzY2hlbWEsIHJlZmVyZW5jZXMsIGNvbnZlcnRlZCkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRlZDtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGNvbnN0IHJlZmVyZW5jZXNfID0gSXNTdHJpbmcoc2NoZW1hLiRpZCkgPyBbLi4ucmVmZXJlbmNlcywgc2NoZW1hXSA6IHJlZmVyZW5jZXM7XG4gICAgY29uc3Qgc2NoZW1hXyA9IHNjaGVtYTtcbiAgICBzd2l0Y2ggKHNjaGVtYVtLaW5kXSkge1xuICAgICAgICBjYXNlICdBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUFycmF5KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0JpZ0ludCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUJpZ0ludChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdCb29sZWFuJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tQm9vbGVhbihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdEYXRlJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tRGF0ZShzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdJbnRlZ2VyJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tSW50ZWdlcihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdJbnRlcnNlY3QnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21JbnRlcnNlY3Qoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnTGl0ZXJhbCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUxpdGVyYWwoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnTnVsbCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbU51bGwoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnTnVtYmVyJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tTnVtYmVyKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ09iamVjdCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbU9iamVjdChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdSZWNvcmQnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21SZWNvcmQoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnUmVmJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tUmVmKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1N0cmluZyc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVN0cmluZyhzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdTeW1ib2wnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21TeW1ib2woc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVGhpcyc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVRoaXMoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVHVwbGUnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21UdXBsZShzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdVbmRlZmluZWQnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21VbmRlZmluZWQoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVW5pb24nOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21VbmlvbihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIERlZmF1bHQodmFsdWUpO1xuICAgIH1cbn1cbi8qKiBDb252ZXJ0cyBhbnkgdHlwZSBtaXNtYXRjaGVkIHZhbHVlcyB0byB0aGVpciB0YXJnZXQgdHlwZSBpZiBhIHJlYXNvbmFibGUgY29udmVyc2lvbiBpcyBwb3NzaWJsZS4gKi9cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIENvbnZlcnQoLi4uYXJncykge1xuICAgIHJldHVybiBhcmdzLmxlbmd0aCA9PT0gM1xuICAgICAgICA/IFZpc2l0KGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pXG4gICAgICAgIDogVmlzaXQoYXJnc1swXSwgW10sIGFyZ3NbMV0pO1xufVxuIiwKICAgICJpbXBvcnQgeyBDaGVjayB9IGZyb20gJy4uL2NoZWNrL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDbG9uZSB9IGZyb20gJy4uL2Nsb25lL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBEZXJlZiB9IGZyb20gJy4uL2RlcmVmL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vLi4vdHlwZS9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFZhbHVlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNTdHJpbmcsIElzT2JqZWN0LCBJc0FycmF5LCBJc1VuZGVmaW5lZCB9IGZyb20gJy4uL2d1YXJkL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc1NjaGVtYSB9IGZyb20gJy4uLy4uL3R5cGUvZ3VhcmQvdHlwZS5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBWYWx1ZU9yRGVmYXVsdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBWYWx1ZU9yRGVmYXVsdChzY2hlbWEsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgJiYgJ2RlZmF1bHQnIGluIHNjaGVtYSA/IENsb25lKHNjaGVtYS5kZWZhdWx0KSA6IHZhbHVlO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBJc0NoZWNrYWJsZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBJc0NoZWNrYWJsZShzY2hlbWEpIHtcbiAgICByZXR1cm4gSXNTY2hlbWEoc2NoZW1hKSAmJiBzY2hlbWFbS2luZF0gIT09ICdVbnNhZmUnO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBJc0RlZmF1bHRTY2hlbWFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gSXNEZWZhdWx0U2NoZW1hKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzU2NoZW1hKHZhbHVlKSAmJiAnZGVmYXVsdCcgaW4gdmFsdWU7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIEZyb21BcnJheShzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgY29uc3QgZGVmYXVsdGVkID0gVmFsdWVPckRlZmF1bHQoc2NoZW1hLCB2YWx1ZSk7XG4gICAgaWYgKCFJc0FycmF5KGRlZmF1bHRlZCkpXG4gICAgICAgIHJldHVybiBkZWZhdWx0ZWQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWZhdWx0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZGVmYXVsdGVkW2ldID0gVmlzaXQoc2NoZW1hLml0ZW1zLCByZWZlcmVuY2VzLCBkZWZhdWx0ZWRbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdGVkO1xufVxuZnVuY3Rpb24gRnJvbUludGVyc2VjdChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgY29uc3QgZGVmYXVsdGVkID0gVmFsdWVPckRlZmF1bHQoc2NoZW1hLCB2YWx1ZSk7XG4gICAgcmV0dXJuIHNjaGVtYS5hbGxPZi5yZWR1Y2UoKGFjYywgc2NoZW1hKSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHQgPSBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMsIGRlZmF1bHRlZCk7XG4gICAgICAgIHJldHVybiBJc09iamVjdChuZXh0KSA/IHsgLi4uYWNjLCAuLi5uZXh0IH0gOiBuZXh0O1xuICAgIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIEZyb21PYmplY3Qoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGNvbnN0IGRlZmF1bHRlZCA9IFZhbHVlT3JEZWZhdWx0KHNjaGVtYSwgdmFsdWUpO1xuICAgIGlmICghSXNPYmplY3QoZGVmYXVsdGVkKSlcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRlZDtcbiAgICBjb25zdCBhZGRpdGlvbmFsUHJvcGVydGllc1NjaGVtYSA9IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcztcbiAgICBjb25zdCBrbm93blByb3BlcnR5S2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNjaGVtYS5wcm9wZXJ0aWVzKTtcbiAgICAvLyBwcm9wZXJ0aWVzXG4gICAgZm9yIChjb25zdCBrZXkgb2Yga25vd25Qcm9wZXJ0eUtleXMpIHtcbiAgICAgICAgaWYgKCFJc0RlZmF1bHRTY2hlbWEoc2NoZW1hLnByb3BlcnRpZXNba2V5XSkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgZGVmYXVsdGVkW2tleV0gPSBWaXNpdChzY2hlbWEucHJvcGVydGllc1trZXldLCByZWZlcmVuY2VzLCBkZWZhdWx0ZWRba2V5XSk7XG4gICAgfVxuICAgIC8vIHJldHVybiBpZiBub3QgYWRkaXRpb25hbCBwcm9wZXJ0aWVzXG4gICAgaWYgKCFJc0RlZmF1bHRTY2hlbWEoYWRkaXRpb25hbFByb3BlcnRpZXNTY2hlbWEpKVxuICAgICAgICByZXR1cm4gZGVmYXVsdGVkO1xuICAgIC8vIGFkZGl0aW9uYWwgcHJvcGVydGllc1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRlZCkpIHtcbiAgICAgICAgaWYgKGtub3duUHJvcGVydHlLZXlzLmluY2x1ZGVzKGtleSkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgZGVmYXVsdGVkW2tleV0gPSBWaXNpdChhZGRpdGlvbmFsUHJvcGVydGllc1NjaGVtYSwgcmVmZXJlbmNlcywgZGVmYXVsdGVkW2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdGVkO1xufVxuZnVuY3Rpb24gRnJvbVJlY29yZChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgY29uc3QgZGVmYXVsdGVkID0gVmFsdWVPckRlZmF1bHQoc2NoZW1hLCB2YWx1ZSk7XG4gICAgaWYgKCFJc09iamVjdChkZWZhdWx0ZWQpKVxuICAgICAgICByZXR1cm4gZGVmYXVsdGVkO1xuICAgIGNvbnN0IGFkZGl0aW9uYWxQcm9wZXJ0aWVzU2NoZW1hID0gc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IFtwcm9wZXJ0eUtleVBhdHRlcm4sIHByb3BlcnR5U2NoZW1hXSA9IE9iamVjdC5lbnRyaWVzKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcylbMF07XG4gICAgY29uc3Qga25vd25Qcm9wZXJ0eUtleSA9IG5ldyBSZWdFeHAocHJvcGVydHlLZXlQYXR0ZXJuKTtcbiAgICAvLyBwcm9wZXJ0aWVzXG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdGVkKSkge1xuICAgICAgICBpZiAoIShrbm93blByb3BlcnR5S2V5LnRlc3Qoa2V5KSAmJiBJc0RlZmF1bHRTY2hlbWEocHJvcGVydHlTY2hlbWEpKSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBkZWZhdWx0ZWRba2V5XSA9IFZpc2l0KHByb3BlcnR5U2NoZW1hLCByZWZlcmVuY2VzLCBkZWZhdWx0ZWRba2V5XSk7XG4gICAgfVxuICAgIC8vIHJldHVybiBpZiBub3QgYWRkaXRpb25hbCBwcm9wZXJ0aWVzXG4gICAgaWYgKCFJc0RlZmF1bHRTY2hlbWEoYWRkaXRpb25hbFByb3BlcnRpZXNTY2hlbWEpKVxuICAgICAgICByZXR1cm4gZGVmYXVsdGVkO1xuICAgIC8vIGFkZGl0aW9uYWwgcHJvcGVydGllc1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRlZCkpIHtcbiAgICAgICAgaWYgKGtub3duUHJvcGVydHlLZXkudGVzdChrZXkpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGRlZmF1bHRlZFtrZXldID0gVmlzaXQoYWRkaXRpb25hbFByb3BlcnRpZXNTY2hlbWEsIHJlZmVyZW5jZXMsIGRlZmF1bHRlZFtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRlZDtcbn1cbmZ1bmN0aW9uIEZyb21SZWYoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBWaXNpdChEZXJlZihzY2hlbWEsIHJlZmVyZW5jZXMpLCByZWZlcmVuY2VzLCBWYWx1ZU9yRGVmYXVsdChzY2hlbWEsIHZhbHVlKSk7XG59XG5mdW5jdGlvbiBGcm9tVGhpcyhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFZpc2l0KERlcmVmKHNjaGVtYSwgcmVmZXJlbmNlcyksIHJlZmVyZW5jZXMsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21UdXBsZShzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgY29uc3QgZGVmYXVsdGVkID0gVmFsdWVPckRlZmF1bHQoc2NoZW1hLCB2YWx1ZSk7XG4gICAgaWYgKCFJc0FycmF5KGRlZmF1bHRlZCkgfHwgSXNVbmRlZmluZWQoc2NoZW1hLml0ZW1zKSlcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRlZDtcbiAgICBjb25zdCBbaXRlbXMsIG1heF0gPSBbc2NoZW1hLml0ZW1zLCBNYXRoLm1heChzY2hlbWEuaXRlbXMubGVuZ3RoLCBkZWZhdWx0ZWQubGVuZ3RoKV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXg7IGkrKykge1xuICAgICAgICBpZiAoaSA8IGl0ZW1zLmxlbmd0aClcbiAgICAgICAgICAgIGRlZmF1bHRlZFtpXSA9IFZpc2l0KGl0ZW1zW2ldLCByZWZlcmVuY2VzLCBkZWZhdWx0ZWRbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdGVkO1xufVxuZnVuY3Rpb24gRnJvbVVuaW9uKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBjb25zdCBkZWZhdWx0ZWQgPSBWYWx1ZU9yRGVmYXVsdChzY2hlbWEsIHZhbHVlKTtcbiAgICBmb3IgKGNvbnN0IGlubmVyIG9mIHNjaGVtYS5hbnlPZikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBWaXNpdChpbm5lciwgcmVmZXJlbmNlcywgZGVmYXVsdGVkKTtcbiAgICAgICAgaWYgKElzQ2hlY2thYmxlKGlubmVyKSAmJiBDaGVjayhpbm5lciwgcmVzdWx0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdGVkO1xufVxuZnVuY3Rpb24gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGNvbnN0IHJlZmVyZW5jZXNfID0gSXNTdHJpbmcoc2NoZW1hLiRpZCkgPyBbLi4ucmVmZXJlbmNlcywgc2NoZW1hXSA6IHJlZmVyZW5jZXM7XG4gICAgY29uc3Qgc2NoZW1hXyA9IHNjaGVtYTtcbiAgICBzd2l0Y2ggKHNjaGVtYV9bS2luZF0pIHtcbiAgICAgICAgY2FzZSAnQXJyYXknOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21BcnJheShzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdJbnRlcnNlY3QnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21JbnRlcnNlY3Qoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnT2JqZWN0JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tT2JqZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1JlY29yZCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVJlY29yZChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdSZWYnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21SZWYoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVGhpcyc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVRoaXMoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVHVwbGUnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21UdXBsZShzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdVbmlvbic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVVuaW9uKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gVmFsdWVPckRlZmF1bHQoc2NoZW1hXywgdmFsdWUpO1xuICAgIH1cbn1cbi8qKiBgW011dGFibGVdYCBHZW5lcmF0ZXMgbWlzc2luZyBwcm9wZXJ0aWVzIG9uIGEgdmFsdWUgdXNpbmcgZGVmYXVsdCBzY2hlbWEgYW5ub3RhdGlvbnMgaWYgYXZhaWxhYmxlLiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IGNoZWNrIHRoZSB2YWx1ZSBhbmQgcmV0dXJucyBhbiB1bmtub3duIHR5cGUuIFlvdSBzaG91bGQgQ2hlY2sgdGhlIHJlc3VsdCBiZWZvcmUgdXNlLiBEZWZhdWx0IGlzIGEgbXV0YWJsZSBvcGVyYXRpb24uIFRvIGF2b2lkIG11dGF0aW9uLCBDbG9uZSB0aGUgdmFsdWUgZmlyc3QuICovXG5leHBvcnQgZnVuY3Rpb24gRGVmYXVsdCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIGFyZ3MubGVuZ3RoID09PSAzID8gVmlzaXQoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSkgOiBWaXNpdChhcmdzWzBdLCBbXSwgYXJnc1sxXSk7XG59XG4iLAogICAgImltcG9ydCB7IFR5cGVCb3hFcnJvciB9IGZyb20gJy4uLy4uL3R5cGUvZXJyb3IvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRXJyb3JzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjbGFzcyBWYWx1ZVBvaW50ZXJSb290U2V0RXJyb3IgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xuICAgIHZhbHVlO1xuICAgIHBhdGg7XG4gICAgdXBkYXRlO1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBwYXRoLCB1cGRhdGUpIHtcbiAgICAgICAgc3VwZXIoJ0Nhbm5vdCBzZXQgcm9vdCB2YWx1ZScpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMudXBkYXRlID0gdXBkYXRlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBWYWx1ZVBvaW50ZXJSb290RGVsZXRlRXJyb3IgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xuICAgIHZhbHVlO1xuICAgIHBhdGg7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIHBhdGgpIHtcbiAgICAgICAgc3VwZXIoJ0Nhbm5vdCBkZWxldGUgcm9vdCB2YWx1ZScpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgfVxufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBWYWx1ZVBvaW50ZXJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIFByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdXBkYXRlIHZhbHVlcyB0aHJvdWdoIFJGQzY5MDEgc3RyaW5nIHBvaW50ZXJzICovXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEVzY2FwZShjb21wb25lbnQpIHtcbiAgICByZXR1cm4gY29tcG9uZW50LmluZGV4T2YoJ34nKSA9PT0gLTEgPyBjb21wb25lbnQgOiBjb21wb25lbnQucmVwbGFjZSgvfjEvZywgJy8nKS5yZXBsYWNlKC9+MC9nLCAnficpO1xufVxuLyoqIEZvcm1hdHMgdGhlIGdpdmVuIHBvaW50ZXIgaW50byBuYXZpZ2FibGUga2V5IGNvbXBvbmVudHMgKi9cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uKiBGb3JtYXQocG9pbnRlcikge1xuICAgIGlmIChwb2ludGVyID09PSAnJylcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCBbc3RhcnQsIGVuZF0gPSBbMCwgMF07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoYXIgPSBwb2ludGVyLmNoYXJBdChpKTtcbiAgICAgICAgaWYgKGNoYXIgPT09ICcvJykge1xuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZW5kID0gaTtcbiAgICAgICAgICAgICAgICB5aWVsZCBFc2NhcGUocG9pbnRlci5zbGljZShzdGFydCwgZW5kKSk7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVuZCA9IGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgeWllbGQgRXNjYXBlKHBvaW50ZXIuc2xpY2Uoc3RhcnQpKTtcbn1cbi8qKiBTZXRzIHRoZSB2YWx1ZSBhdCB0aGUgZ2l2ZW4gcG9pbnRlci4gSWYgdGhlIHZhbHVlIGF0IHRoZSBwb2ludGVyIGRvZXMgbm90IGV4aXN0IGl0IGlzIGNyZWF0ZWQgKi9cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIFNldCh2YWx1ZSwgcG9pbnRlciwgdXBkYXRlKSB7XG4gICAgaWYgKHBvaW50ZXIgPT09ICcnKVxuICAgICAgICB0aHJvdyBuZXcgVmFsdWVQb2ludGVyUm9vdFNldEVycm9yKHZhbHVlLCBwb2ludGVyLCB1cGRhdGUpO1xuICAgIGxldCBbb3duZXIsIG5leHQsIGtleV0gPSBbbnVsbCwgdmFsdWUsICcnXTtcbiAgICBmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBGb3JtYXQocG9pbnRlcikpIHtcbiAgICAgICAgaWYgKG5leHRbY29tcG9uZW50XSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgbmV4dFtjb21wb25lbnRdID0ge307XG4gICAgICAgIG93bmVyID0gbmV4dDtcbiAgICAgICAgbmV4dCA9IG5leHRbY29tcG9uZW50XTtcbiAgICAgICAga2V5ID0gY29tcG9uZW50O1xuICAgIH1cbiAgICBvd25lcltrZXldID0gdXBkYXRlO1xufVxuLyoqIERlbGV0ZXMgYSB2YWx1ZSBhdCB0aGUgZ2l2ZW4gcG9pbnRlciAqL1xuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gRGVsZXRlKHZhbHVlLCBwb2ludGVyKSB7XG4gICAgaWYgKHBvaW50ZXIgPT09ICcnKVxuICAgICAgICB0aHJvdyBuZXcgVmFsdWVQb2ludGVyUm9vdERlbGV0ZUVycm9yKHZhbHVlLCBwb2ludGVyKTtcbiAgICBsZXQgW293bmVyLCBuZXh0LCBrZXldID0gW251bGwsIHZhbHVlLCAnJ107XG4gICAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgRm9ybWF0KHBvaW50ZXIpKSB7XG4gICAgICAgIGlmIChuZXh0W2NvbXBvbmVudF0gPT09IHVuZGVmaW5lZCB8fCBuZXh0W2NvbXBvbmVudF0gPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIG93bmVyID0gbmV4dDtcbiAgICAgICAgbmV4dCA9IG5leHRbY29tcG9uZW50XTtcbiAgICAgICAga2V5ID0gY29tcG9uZW50O1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShvd25lcikpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChrZXkpO1xuICAgICAgICBvd25lci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGVsZXRlIG93bmVyW2tleV07XG4gICAgfVxufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiBhIHZhbHVlIGV4aXN0cyBhdCB0aGUgZ2l2ZW4gcG9pbnRlciAqL1xuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gSGFzKHZhbHVlLCBwb2ludGVyKSB7XG4gICAgaWYgKHBvaW50ZXIgPT09ICcnKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBsZXQgW293bmVyLCBuZXh0LCBrZXldID0gW251bGwsIHZhbHVlLCAnJ107XG4gICAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgRm9ybWF0KHBvaW50ZXIpKSB7XG4gICAgICAgIGlmIChuZXh0W2NvbXBvbmVudF0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgb3duZXIgPSBuZXh0O1xuICAgICAgICBuZXh0ID0gbmV4dFtjb21wb25lbnRdO1xuICAgICAgICBrZXkgPSBjb21wb25lbnQ7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvd25lcikuaW5jbHVkZXMoa2V5KTtcbn1cbi8qKiBHZXRzIHRoZSB2YWx1ZSBhdCB0aGUgZ2l2ZW4gcG9pbnRlciAqL1xuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gR2V0KHZhbHVlLCBwb2ludGVyKSB7XG4gICAgaWYgKHBvaW50ZXIgPT09ICcnKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgbGV0IGN1cnJlbnQgPSB2YWx1ZTtcbiAgICBmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBGb3JtYXQocG9pbnRlcikpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRbY29tcG9uZW50XSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbY29tcG9uZW50XTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG59XG4iLAogICAgImltcG9ydCB7IElzU3RhbmRhcmRPYmplY3QsIElzQXJyYXksIElzVHlwZWRBcnJheSwgSXNWYWx1ZVR5cGUsIElzU3ltYm9sLCBJc1VuZGVmaW5lZCB9IGZyb20gJy4uL2d1YXJkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBWYWx1ZVBvaW50ZXIgfSBmcm9tICcuLi9wb2ludGVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDbG9uZSB9IGZyb20gJy4uL2Nsb25lL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUeXBlQm94RXJyb3IgfSBmcm9tICcuLi8uLi90eXBlL2Vycm9yL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBMaXRlcmFsIH0gZnJvbSAnLi4vLi4vdHlwZS9saXRlcmFsL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBPYmplY3QgfSBmcm9tICcuLi8uLi90eXBlL29iamVjdC9pbmRleC5tanMnO1xuaW1wb3J0IHsgU3RyaW5nIH0gZnJvbSAnLi4vLi4vdHlwZS9zdHJpbmcvaW5kZXgubWpzJztcbmltcG9ydCB7IFVua25vd24gfSBmcm9tICcuLi8uLi90eXBlL3Vua25vd24vaW5kZXgubWpzJztcbmltcG9ydCB7IFVuaW9uIH0gZnJvbSAnLi4vLi4vdHlwZS91bmlvbi9pbmRleC5tanMnO1xuZXhwb3J0IGNvbnN0IEluc2VydCA9IE9iamVjdCh7XG4gICAgdHlwZTogTGl0ZXJhbCgnaW5zZXJ0JyksXG4gICAgcGF0aDogU3RyaW5nKCksXG4gICAgdmFsdWU6IFVua25vd24oKSxcbn0pO1xuZXhwb3J0IGNvbnN0IFVwZGF0ZSA9IE9iamVjdCh7XG4gICAgdHlwZTogTGl0ZXJhbCgndXBkYXRlJyksXG4gICAgcGF0aDogU3RyaW5nKCksXG4gICAgdmFsdWU6IFVua25vd24oKSxcbn0pO1xuZXhwb3J0IGNvbnN0IERlbGV0ZSA9IE9iamVjdCh7XG4gICAgdHlwZTogTGl0ZXJhbCgnZGVsZXRlJyksXG4gICAgcGF0aDogU3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCBFZGl0ID0gVW5pb24oW0luc2VydCwgVXBkYXRlLCBEZWxldGVdKTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRXJyb3JzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjbGFzcyBWYWx1ZURlbHRhRXJyb3IgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xuICAgIHZhbHVlO1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFZhbHVlRGVsdGFTeW1ib2xFcnJvciBleHRlbmRzIFZhbHVlRGVsdGFFcnJvciB7XG4gICAgdmFsdWU7XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgc3VwZXIodmFsdWUsICdDYW5ub3QgZGlmZiBvYmplY3RzIHdpdGggc3ltYm9sIGtleXMnKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ29tbWFuZCBGYWN0b3J5XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIENyZWF0ZVVwZGF0ZShwYXRoLCB2YWx1ZSkge1xuICAgIHJldHVybiB7IHR5cGU6ICd1cGRhdGUnLCBwYXRoLCB2YWx1ZSB9O1xufVxuZnVuY3Rpb24gQ3JlYXRlSW5zZXJ0KHBhdGgsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogJ2luc2VydCcsIHBhdGgsIHZhbHVlIH07XG59XG5mdW5jdGlvbiBDcmVhdGVEZWxldGUocGF0aCkge1xuICAgIHJldHVybiB7IHR5cGU6ICdkZWxldGUnLCBwYXRoIH07XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIERpZmZpbmcgR2VuZXJhdG9yc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiogT2JqZWN0VHlwZShwYXRoLCBjdXJyZW50LCBuZXh0KSB7XG4gICAgaWYgKCFJc1N0YW5kYXJkT2JqZWN0KG5leHQpKVxuICAgICAgICByZXR1cm4geWllbGQgQ3JlYXRlVXBkYXRlKHBhdGgsIG5leHQpO1xuICAgIGNvbnN0IGN1cnJlbnRLZXlzID0gWy4uLmdsb2JhbFRoaXMuT2JqZWN0LmtleXMoY3VycmVudCksIC4uLmdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhjdXJyZW50KV07XG4gICAgY29uc3QgbmV4dEtleXMgPSBbLi4uZ2xvYmFsVGhpcy5PYmplY3Qua2V5cyhuZXh0KSwgLi4uZ2xvYmFsVGhpcy5PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG5leHQpXTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBjdXJyZW50S2V5cykge1xuICAgICAgICBpZiAoSXNTeW1ib2woa2V5KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBWYWx1ZURlbHRhU3ltYm9sRXJyb3Ioa2V5KTtcbiAgICAgICAgaWYgKElzVW5kZWZpbmVkKG5leHRba2V5XSkgJiYgbmV4dEtleXMuaW5jbHVkZXMoa2V5KSlcbiAgICAgICAgICAgIHlpZWxkIENyZWF0ZVVwZGF0ZShgJHtwYXRofS8ke2dsb2JhbFRoaXMuU3RyaW5nKGtleSl9YCwgdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgbmV4dEtleXMpIHtcbiAgICAgICAgaWYgKElzVW5kZWZpbmVkKGN1cnJlbnRba2V5XSkgfHwgSXNVbmRlZmluZWQobmV4dFtrZXldKSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAoSXNTeW1ib2woa2V5KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBWYWx1ZURlbHRhU3ltYm9sRXJyb3Ioa2V5KTtcbiAgICAgICAgeWllbGQqIFZpc2l0KGAke3BhdGh9LyR7Z2xvYmFsVGhpcy5TdHJpbmcoa2V5KX1gLCBjdXJyZW50W2tleV0sIG5leHRba2V5XSk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IG9mIG5leHRLZXlzKSB7XG4gICAgICAgIGlmIChJc1N5bWJvbChrZXkpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFZhbHVlRGVsdGFTeW1ib2xFcnJvcihrZXkpO1xuICAgICAgICBpZiAoSXNVbmRlZmluZWQoY3VycmVudFtrZXldKSlcbiAgICAgICAgICAgIHlpZWxkIENyZWF0ZUluc2VydChgJHtwYXRofS8ke2dsb2JhbFRoaXMuU3RyaW5nKGtleSl9YCwgbmV4dFtrZXldKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgY3VycmVudEtleXMucmV2ZXJzZSgpKSB7XG4gICAgICAgIGlmIChJc1N5bWJvbChrZXkpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFZhbHVlRGVsdGFTeW1ib2xFcnJvcihrZXkpO1xuICAgICAgICBpZiAoSXNVbmRlZmluZWQobmV4dFtrZXldKSAmJiAhbmV4dEtleXMuaW5jbHVkZXMoa2V5KSlcbiAgICAgICAgICAgIHlpZWxkIENyZWF0ZURlbGV0ZShgJHtwYXRofS8ke2dsb2JhbFRoaXMuU3RyaW5nKGtleSl9YCk7XG4gICAgfVxufVxuZnVuY3Rpb24qIEFycmF5VHlwZShwYXRoLCBjdXJyZW50LCBuZXh0KSB7XG4gICAgaWYgKCFJc0FycmF5KG5leHQpKVxuICAgICAgICByZXR1cm4geWllbGQgQ3JlYXRlVXBkYXRlKHBhdGgsIG5leHQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4oY3VycmVudC5sZW5ndGgsIG5leHQubGVuZ3RoKTsgaSsrKSB7XG4gICAgICAgIHlpZWxkKiBWaXNpdChgJHtwYXRofS8ke2l9YCwgY3VycmVudFtpXSwgbmV4dFtpXSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaSA8IGN1cnJlbnQubGVuZ3RoKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIHlpZWxkIENyZWF0ZUluc2VydChgJHtwYXRofS8ke2l9YCwgbmV4dFtpXSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSBjdXJyZW50Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmIChpIDwgbmV4dC5sZW5ndGgpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgeWllbGQgQ3JlYXRlRGVsZXRlKGAke3BhdGh9LyR7aX1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiogVHlwZWRBcnJheVR5cGUocGF0aCwgY3VycmVudCwgbmV4dCkge1xuICAgIGlmICghSXNUeXBlZEFycmF5KG5leHQpIHx8IGN1cnJlbnQubGVuZ3RoICE9PSBuZXh0Lmxlbmd0aCB8fCBnbG9iYWxUaGlzLk9iamVjdC5nZXRQcm90b3R5cGVPZihjdXJyZW50KS5jb25zdHJ1Y3Rvci5uYW1lICE9PSBnbG9iYWxUaGlzLk9iamVjdC5nZXRQcm90b3R5cGVPZihuZXh0KS5jb25zdHJ1Y3Rvci5uYW1lKVxuICAgICAgICByZXR1cm4geWllbGQgQ3JlYXRlVXBkYXRlKHBhdGgsIG5leHQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4oY3VycmVudC5sZW5ndGgsIG5leHQubGVuZ3RoKTsgaSsrKSB7XG4gICAgICAgIHlpZWxkKiBWaXNpdChgJHtwYXRofS8ke2l9YCwgY3VycmVudFtpXSwgbmV4dFtpXSk7XG4gICAgfVxufVxuZnVuY3Rpb24qIFZhbHVlVHlwZShwYXRoLCBjdXJyZW50LCBuZXh0KSB7XG4gICAgaWYgKGN1cnJlbnQgPT09IG5leHQpXG4gICAgICAgIHJldHVybjtcbiAgICB5aWVsZCBDcmVhdGVVcGRhdGUocGF0aCwgbmV4dCk7XG59XG5mdW5jdGlvbiogVmlzaXQocGF0aCwgY3VycmVudCwgbmV4dCkge1xuICAgIGlmIChJc1N0YW5kYXJkT2JqZWN0KGN1cnJlbnQpKVxuICAgICAgICByZXR1cm4geWllbGQqIE9iamVjdFR5cGUocGF0aCwgY3VycmVudCwgbmV4dCk7XG4gICAgaWYgKElzQXJyYXkoY3VycmVudCkpXG4gICAgICAgIHJldHVybiB5aWVsZCogQXJyYXlUeXBlKHBhdGgsIGN1cnJlbnQsIG5leHQpO1xuICAgIGlmIChJc1R5cGVkQXJyYXkoY3VycmVudCkpXG4gICAgICAgIHJldHVybiB5aWVsZCogVHlwZWRBcnJheVR5cGUocGF0aCwgY3VycmVudCwgbmV4dCk7XG4gICAgaWYgKElzVmFsdWVUeXBlKGN1cnJlbnQpKVxuICAgICAgICByZXR1cm4geWllbGQqIFZhbHVlVHlwZShwYXRoLCBjdXJyZW50LCBuZXh0KTtcbiAgICB0aHJvdyBuZXcgVmFsdWVEZWx0YUVycm9yKGN1cnJlbnQsICdVbmFibGUgdG8gY3JlYXRlIGRpZmYgZWRpdHMgZm9yIHVua25vd24gdmFsdWUnKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRGlmZlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgZnVuY3Rpb24gRGlmZihjdXJyZW50LCBuZXh0KSB7XG4gICAgcmV0dXJuIFsuLi5WaXNpdCgnJywgY3VycmVudCwgbmV4dCldO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBQYXRjaFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBJc1Jvb3RVcGRhdGUoZWRpdHMpIHtcbiAgICByZXR1cm4gZWRpdHMubGVuZ3RoID4gMCAmJiBlZGl0c1swXS5wYXRoID09PSAnJyAmJiBlZGl0c1swXS50eXBlID09PSAndXBkYXRlJztcbn1cbmZ1bmN0aW9uIElzSWRlbnRpdHkoZWRpdHMpIHtcbiAgICByZXR1cm4gZWRpdHMubGVuZ3RoID09PSAwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIFBhdGNoKGN1cnJlbnQsIGVkaXRzKSB7XG4gICAgaWYgKElzUm9vdFVwZGF0ZShlZGl0cykpIHtcbiAgICAgICAgcmV0dXJuIENsb25lKGVkaXRzWzBdLnZhbHVlKTtcbiAgICB9XG4gICAgaWYgKElzSWRlbnRpdHkoZWRpdHMpKSB7XG4gICAgICAgIHJldHVybiBDbG9uZShjdXJyZW50KTtcbiAgICB9XG4gICAgY29uc3QgY2xvbmUgPSBDbG9uZShjdXJyZW50KTtcbiAgICBmb3IgKGNvbnN0IGVkaXQgb2YgZWRpdHMpIHtcbiAgICAgICAgc3dpdGNoIChlZGl0LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2luc2VydCc6IHtcbiAgICAgICAgICAgICAgICBWYWx1ZVBvaW50ZXIuU2V0KGNsb25lLCBlZGl0LnBhdGgsIGVkaXQudmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAndXBkYXRlJzoge1xuICAgICAgICAgICAgICAgIFZhbHVlUG9pbnRlci5TZXQoY2xvbmUsIGVkaXQucGF0aCwgZWRpdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdkZWxldGUnOiB7XG4gICAgICAgICAgICAgICAgVmFsdWVQb2ludGVyLkRlbGV0ZShjbG9uZSwgZWRpdC5wYXRoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2xvbmU7XG59XG4iLAogICAgImltcG9ydCB7IElzU3RhbmRhcmRPYmplY3QsIElzRGF0ZSwgSXNBcnJheSwgSXNUeXBlZEFycmF5LCBJc1ZhbHVlVHlwZSB9IGZyb20gJy4uL2d1YXJkL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEVxdWFsaXR5IENoZWNrc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBPYmplY3RUeXBlKGxlZnQsIHJpZ2h0KSB7XG4gICAgaWYgKCFJc1N0YW5kYXJkT2JqZWN0KHJpZ2h0KSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGxlZnRLZXlzID0gWy4uLk9iamVjdC5rZXlzKGxlZnQpLCAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGxlZnQpXTtcbiAgICBjb25zdCByaWdodEtleXMgPSBbLi4uT2JqZWN0LmtleXMocmlnaHQpLCAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHJpZ2h0KV07XG4gICAgaWYgKGxlZnRLZXlzLmxlbmd0aCAhPT0gcmlnaHRLZXlzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBsZWZ0S2V5cy5ldmVyeSgoa2V5KSA9PiBFcXVhbChsZWZ0W2tleV0sIHJpZ2h0W2tleV0pKTtcbn1cbmZ1bmN0aW9uIERhdGVUeXBlKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIElzRGF0ZShyaWdodCkgJiYgbGVmdC5nZXRUaW1lKCkgPT09IHJpZ2h0LmdldFRpbWUoKTtcbn1cbmZ1bmN0aW9uIEFycmF5VHlwZShsZWZ0LCByaWdodCkge1xuICAgIGlmICghSXNBcnJheShyaWdodCkgfHwgbGVmdC5sZW5ndGggIT09IHJpZ2h0Lmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBsZWZ0LmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IEVxdWFsKHZhbHVlLCByaWdodFtpbmRleF0pKTtcbn1cbmZ1bmN0aW9uIFR5cGVkQXJyYXlUeXBlKGxlZnQsIHJpZ2h0KSB7XG4gICAgaWYgKCFJc1R5cGVkQXJyYXkocmlnaHQpIHx8IGxlZnQubGVuZ3RoICE9PSByaWdodC5sZW5ndGggfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKGxlZnQpLmNvbnN0cnVjdG9yLm5hbWUgIT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihyaWdodCkuY29uc3RydWN0b3IubmFtZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBsZWZ0LmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IEVxdWFsKHZhbHVlLCByaWdodFtpbmRleF0pKTtcbn1cbmZ1bmN0aW9uIFZhbHVlVHlwZShsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiBsZWZ0ID09PSByaWdodDtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRXF1YWxcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgbGVmdCB2YWx1ZSBkZWVwLWVxdWFscyB0aGUgcmlnaHQgKi9cbmV4cG9ydCBmdW5jdGlvbiBFcXVhbChsZWZ0LCByaWdodCkge1xuICAgIGlmIChJc1N0YW5kYXJkT2JqZWN0KGxlZnQpKVxuICAgICAgICByZXR1cm4gT2JqZWN0VHlwZShsZWZ0LCByaWdodCk7XG4gICAgaWYgKElzRGF0ZShsZWZ0KSlcbiAgICAgICAgcmV0dXJuIERhdGVUeXBlKGxlZnQsIHJpZ2h0KTtcbiAgICBpZiAoSXNUeXBlZEFycmF5KGxlZnQpKVxuICAgICAgICByZXR1cm4gVHlwZWRBcnJheVR5cGUobGVmdCwgcmlnaHQpO1xuICAgIGlmIChJc0FycmF5KGxlZnQpKVxuICAgICAgICByZXR1cm4gQXJyYXlUeXBlKGxlZnQsIHJpZ2h0KTtcbiAgICBpZiAoSXNWYWx1ZVR5cGUobGVmdCkpXG4gICAgICAgIHJldHVybiBWYWx1ZVR5cGUobGVmdCwgcmlnaHQpO1xuICAgIHRocm93IG5ldyBFcnJvcignVmFsdWVFcXVhbHM6IFVuYWJsZSB0byBjb21wYXJlIHZhbHVlJyk7XG59XG4iLAogICAgImltcG9ydCB7IElzU3RhbmRhcmRPYmplY3QsIElzQXJyYXksIElzVHlwZWRBcnJheSwgSXNWYWx1ZVR5cGUgfSBmcm9tICcuLi9ndWFyZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgVmFsdWVQb2ludGVyIH0gZnJvbSAnLi4vcG9pbnRlci9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2xvbmUgfSBmcm9tICcuLi9jbG9uZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgVHlwZUJveEVycm9yIH0gZnJvbSAnLi4vLi4vdHlwZS9lcnJvci9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFcnJvcnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIFZhbHVlTXV0YXRlRXJyb3IgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gT2JqZWN0VHlwZShyb290LCBwYXRoLCBjdXJyZW50LCBuZXh0KSB7XG4gICAgaWYgKCFJc1N0YW5kYXJkT2JqZWN0KGN1cnJlbnQpKSB7XG4gICAgICAgIFZhbHVlUG9pbnRlci5TZXQocm9vdCwgcGF0aCwgQ2xvbmUobmV4dCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgY3VycmVudEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhjdXJyZW50KTtcbiAgICAgICAgY29uc3QgbmV4dEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhuZXh0KTtcbiAgICAgICAgZm9yIChjb25zdCBjdXJyZW50S2V5IG9mIGN1cnJlbnRLZXlzKSB7XG4gICAgICAgICAgICBpZiAoIW5leHRLZXlzLmluY2x1ZGVzKGN1cnJlbnRLZXkpKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGN1cnJlbnRbY3VycmVudEtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBuZXh0S2V5IG9mIG5leHRLZXlzKSB7XG4gICAgICAgICAgICBpZiAoIWN1cnJlbnRLZXlzLmluY2x1ZGVzKG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFtuZXh0S2V5XSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBuZXh0S2V5IG9mIG5leHRLZXlzKSB7XG4gICAgICAgICAgICBWaXNpdChyb290LCBgJHtwYXRofS8ke25leHRLZXl9YCwgY3VycmVudFtuZXh0S2V5XSwgbmV4dFtuZXh0S2V5XSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBBcnJheVR5cGUocm9vdCwgcGF0aCwgY3VycmVudCwgbmV4dCkge1xuICAgIGlmICghSXNBcnJheShjdXJyZW50KSkge1xuICAgICAgICBWYWx1ZVBvaW50ZXIuU2V0KHJvb3QsIHBhdGgsIENsb25lKG5leHQpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBuZXh0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgVmlzaXQocm9vdCwgYCR7cGF0aH0vJHtpbmRleH1gLCBjdXJyZW50W2luZGV4XSwgbmV4dFtpbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQuc3BsaWNlKG5leHQubGVuZ3RoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBUeXBlZEFycmF5VHlwZShyb290LCBwYXRoLCBjdXJyZW50LCBuZXh0KSB7XG4gICAgaWYgKElzVHlwZWRBcnJheShjdXJyZW50KSAmJiBjdXJyZW50Lmxlbmd0aCA9PT0gbmV4dC5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjdXJyZW50W2ldID0gbmV4dFtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgVmFsdWVQb2ludGVyLlNldChyb290LCBwYXRoLCBDbG9uZShuZXh0KSk7XG4gICAgfVxufVxuZnVuY3Rpb24gVmFsdWVUeXBlKHJvb3QsIHBhdGgsIGN1cnJlbnQsIG5leHQpIHtcbiAgICBpZiAoY3VycmVudCA9PT0gbmV4dClcbiAgICAgICAgcmV0dXJuO1xuICAgIFZhbHVlUG9pbnRlci5TZXQocm9vdCwgcGF0aCwgbmV4dCk7XG59XG5mdW5jdGlvbiBWaXNpdChyb290LCBwYXRoLCBjdXJyZW50LCBuZXh0KSB7XG4gICAgaWYgKElzQXJyYXkobmV4dCkpXG4gICAgICAgIHJldHVybiBBcnJheVR5cGUocm9vdCwgcGF0aCwgY3VycmVudCwgbmV4dCk7XG4gICAgaWYgKElzVHlwZWRBcnJheShuZXh0KSlcbiAgICAgICAgcmV0dXJuIFR5cGVkQXJyYXlUeXBlKHJvb3QsIHBhdGgsIGN1cnJlbnQsIG5leHQpO1xuICAgIGlmIChJc1N0YW5kYXJkT2JqZWN0KG5leHQpKVxuICAgICAgICByZXR1cm4gT2JqZWN0VHlwZShyb290LCBwYXRoLCBjdXJyZW50LCBuZXh0KTtcbiAgICBpZiAoSXNWYWx1ZVR5cGUobmV4dCkpXG4gICAgICAgIHJldHVybiBWYWx1ZVR5cGUocm9vdCwgcGF0aCwgY3VycmVudCwgbmV4dCk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIElzTm9uTXV0YWJsZVZhbHVlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIElzTm9uTXV0YWJsZVZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzVHlwZWRBcnJheSh2YWx1ZSkgfHwgSXNWYWx1ZVR5cGUodmFsdWUpO1xufVxuZnVuY3Rpb24gSXNNaXNtYXRjaGVkVmFsdWUoY3VycmVudCwgbmV4dCkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoKElzU3RhbmRhcmRPYmplY3QoY3VycmVudCkgJiYgSXNBcnJheShuZXh0KSkgfHxcbiAgICAgICAgKElzQXJyYXkoY3VycmVudCkgJiYgSXNTdGFuZGFyZE9iamVjdChuZXh0KSkpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBNdXRhdGVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIGBbTXV0YWJsZV1gIFBlcmZvcm1zIGEgZGVlcCBtdXRhYmxlIHZhbHVlIGFzc2lnbm1lbnQgd2hpbGUgcmV0YWluaW5nIGludGVybmFsIHJlZmVyZW5jZXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBNdXRhdGUoY3VycmVudCwgbmV4dCkge1xuICAgIGlmIChJc05vbk11dGFibGVWYWx1ZShjdXJyZW50KSB8fCBJc05vbk11dGFibGVWYWx1ZShuZXh0KSlcbiAgICAgICAgdGhyb3cgbmV3IFZhbHVlTXV0YXRlRXJyb3IoJ09ubHkgb2JqZWN0IGFuZCBhcnJheSB0eXBlcyBjYW4gYmUgbXV0YXRlZCBhdCB0aGUgcm9vdCBsZXZlbCcpO1xuICAgIGlmIChJc01pc21hdGNoZWRWYWx1ZShjdXJyZW50LCBuZXh0KSlcbiAgICAgICAgdGhyb3cgbmV3IFZhbHVlTXV0YXRlRXJyb3IoJ0Nhbm5vdCBhc3NpZ24gZHVlIHR5cGUgbWlzbWF0Y2ggb2YgYXNzaWduYWJsZSB2YWx1ZXMnKTtcbiAgICBWaXNpdChjdXJyZW50LCAnJywgY3VycmVudCwgbmV4dCk7XG59XG4iLAogICAgImltcG9ydCB7IEtpbmQsIFRyYW5zZm9ybUtpbmQgfSBmcm9tICcuLi8uLi90eXBlL3N5bWJvbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IFR5cGVCb3hFcnJvciB9IGZyb20gJy4uLy4uL3R5cGUvZXJyb3IvaW5kZXgubWpzJztcbmltcG9ydCB7IEtleU9mUHJvcGVydHlLZXlzLCBLZXlPZlByb3BlcnR5RW50cmllcyB9IGZyb20gJy4uLy4uL3R5cGUva2V5b2YvaW5kZXgubWpzJztcbmltcG9ydCB7IERlcmVmIH0gZnJvbSAnLi4vZGVyZWYvaW5kZXgubWpzJztcbmltcG9ydCB7IENoZWNrIH0gZnJvbSAnLi4vY2hlY2svaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVmFsdWVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc1N0YW5kYXJkT2JqZWN0LCBJc0FycmF5LCBJc1ZhbHVlVHlwZSB9IGZyb20gJy4uL2d1YXJkL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc1RyYW5zZm9ybSwgSXNTY2hlbWEgfSBmcm9tICcuLi8uLi90eXBlL2d1YXJkL3R5cGUubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRXJyb3JzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHRocm93biBleHRlcm5hbGx5XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBjbGFzcyBUcmFuc2Zvcm1EZWNvZGVDaGVja0Vycm9yIGV4dGVuZHMgVHlwZUJveEVycm9yIHtcbiAgICBzY2hlbWE7XG4gICAgdmFsdWU7XG4gICAgZXJyb3I7XG4gICAgY29uc3RydWN0b3Ioc2NoZW1hLCB2YWx1ZSwgZXJyb3IpIHtcbiAgICAgICAgc3VwZXIoYFVuYWJsZSB0byBkZWNvZGUgdmFsdWUgYXMgaXQgZG9lcyBub3QgbWF0Y2ggdGhlIGV4cGVjdGVkIHNjaGVtYWApO1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgfVxufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgY2xhc3MgVHJhbnNmb3JtRGVjb2RlRXJyb3IgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xuICAgIHNjaGVtYTtcbiAgICBwYXRoO1xuICAgIHZhbHVlO1xuICAgIGVycm9yO1xuICAgIGNvbnN0cnVjdG9yKHNjaGVtYSwgcGF0aCwgdmFsdWUsIGVycm9yKSB7XG4gICAgICAgIHN1cGVyKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InKTtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgIH1cbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRGVjb2RlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIElzVHJhbnNmb3JtKHNjaGVtYSkgPyBzY2hlbWFbVHJhbnNmb3JtS2luZF0uRGVjb2RlKHZhbHVlKSA6IHZhbHVlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRyYW5zZm9ybURlY29kZUVycm9yKHNjaGVtYSwgcGF0aCwgdmFsdWUsIGVycm9yKTtcbiAgICB9XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21BcnJheShzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgcmV0dXJuIChJc0FycmF5KHZhbHVlKSlcbiAgICAgICAgPyBEZWZhdWx0KHNjaGVtYSwgcGF0aCwgdmFsdWUubWFwKCh2YWx1ZSwgaW5kZXgpID0+IFZpc2l0KHNjaGVtYS5pdGVtcywgcmVmZXJlbmNlcywgYCR7cGF0aH0vJHtpbmRleH1gLCB2YWx1ZSkpKVxuICAgICAgICA6IERlZmF1bHQoc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21JbnRlcnNlY3Qoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGlmICghSXNTdGFuZGFyZE9iamVjdCh2YWx1ZSkgfHwgSXNWYWx1ZVR5cGUodmFsdWUpKVxuICAgICAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICBjb25zdCBrbm93bkVudHJpZXMgPSBLZXlPZlByb3BlcnR5RW50cmllcyhzY2hlbWEpO1xuICAgIGNvbnN0IGtub3duS2V5cyA9IGtub3duRW50cmllcy5tYXAoZW50cnkgPT4gZW50cnlbMF0pO1xuICAgIGNvbnN0IGtub3duUHJvcGVydGllcyA9IHsgLi4udmFsdWUgfTtcbiAgICBmb3IgKGNvbnN0IFtrbm93bktleSwga25vd25TY2hlbWFdIG9mIGtub3duRW50cmllcylcbiAgICAgICAgaWYgKGtub3duS2V5IGluIGtub3duUHJvcGVydGllcykge1xuICAgICAgICAgICAga25vd25Qcm9wZXJ0aWVzW2tub3duS2V5XSA9IFZpc2l0KGtub3duU2NoZW1hLCByZWZlcmVuY2VzLCBgJHtwYXRofS8ke2tub3duS2V5fWAsIGtub3duUHJvcGVydGllc1trbm93bktleV0pO1xuICAgICAgICB9XG4gICAgaWYgKCFJc1RyYW5zZm9ybShzY2hlbWEudW5ldmFsdWF0ZWRQcm9wZXJ0aWVzKSkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIGtub3duUHJvcGVydGllcyk7XG4gICAgfVxuICAgIGNvbnN0IHVua25vd25LZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoa25vd25Qcm9wZXJ0aWVzKTtcbiAgICBjb25zdCB1bmV2YWx1YXRlZFByb3BlcnRpZXMgPSBzY2hlbWEudW5ldmFsdWF0ZWRQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IHVua25vd25Qcm9wZXJ0aWVzID0geyAuLi5rbm93blByb3BlcnRpZXMgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiB1bmtub3duS2V5cylcbiAgICAgICAgaWYgKCFrbm93bktleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgdW5rbm93blByb3BlcnRpZXNba2V5XSA9IERlZmF1bHQodW5ldmFsdWF0ZWRQcm9wZXJ0aWVzLCBgJHtwYXRofS8ke2tleX1gLCB1bmtub3duUHJvcGVydGllc1trZXldKTtcbiAgICAgICAgfVxuICAgIHJldHVybiBEZWZhdWx0KHNjaGVtYSwgcGF0aCwgdW5rbm93blByb3BlcnRpZXMpO1xufVxuZnVuY3Rpb24gRnJvbU5vdChzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgcmV0dXJuIERlZmF1bHQoc2NoZW1hLCBwYXRoLCBWaXNpdChzY2hlbWEubm90LCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tT2JqZWN0KHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIUlzU3RhbmRhcmRPYmplY3QodmFsdWUpKVxuICAgICAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICBjb25zdCBrbm93bktleXMgPSBLZXlPZlByb3BlcnR5S2V5cyhzY2hlbWEpO1xuICAgIGNvbnN0IGtub3duUHJvcGVydGllcyA9IHsgLi4udmFsdWUgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrbm93bktleXMpXG4gICAgICAgIGlmIChrZXkgaW4ga25vd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBrbm93blByb3BlcnRpZXNba2V5XSA9IFZpc2l0KHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0sIHJlZmVyZW5jZXMsIGAke3BhdGh9LyR7a2V5fWAsIGtub3duUHJvcGVydGllc1trZXldKTtcbiAgICAgICAgfVxuICAgIGlmICghSXNTY2hlbWEoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzKSkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIGtub3duUHJvcGVydGllcyk7XG4gICAgfVxuICAgIGNvbnN0IHVua25vd25LZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoa25vd25Qcm9wZXJ0aWVzKTtcbiAgICBjb25zdCBhZGRpdGlvbmFsUHJvcGVydGllcyA9IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcztcbiAgICBjb25zdCB1bmtub3duUHJvcGVydGllcyA9IHsgLi4ua25vd25Qcm9wZXJ0aWVzIH07XG4gICAgZm9yIChjb25zdCBrZXkgb2YgdW5rbm93bktleXMpXG4gICAgICAgIGlmICgha25vd25LZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgIHVua25vd25Qcm9wZXJ0aWVzW2tleV0gPSBEZWZhdWx0KGFkZGl0aW9uYWxQcm9wZXJ0aWVzLCBgJHtwYXRofS8ke2tleX1gLCB1bmtub3duUHJvcGVydGllc1trZXldKTtcbiAgICAgICAgfVxuICAgIHJldHVybiBEZWZhdWx0KHNjaGVtYSwgcGF0aCwgdW5rbm93blByb3BlcnRpZXMpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUmVjb3JkKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIUlzU3RhbmRhcmRPYmplY3QodmFsdWUpKVxuICAgICAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICBjb25zdCBwYXR0ZXJuID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKVswXTtcbiAgICBjb25zdCBrbm93bktleXMgPSBuZXcgUmVnRXhwKHBhdHRlcm4pO1xuICAgIGNvbnN0IGtub3duUHJvcGVydGllcyA9IHsgLi4udmFsdWUgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkpXG4gICAgICAgIGlmIChrbm93bktleXMudGVzdChrZXkpKSB7XG4gICAgICAgICAgICBrbm93blByb3BlcnRpZXNba2V5XSA9IFZpc2l0KHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1twYXR0ZXJuXSwgcmVmZXJlbmNlcywgYCR7cGF0aH0vJHtrZXl9YCwga25vd25Qcm9wZXJ0aWVzW2tleV0pO1xuICAgICAgICB9XG4gICAgaWYgKCFJc1NjaGVtYShzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMpKSB7XG4gICAgICAgIHJldHVybiBEZWZhdWx0KHNjaGVtYSwgcGF0aCwga25vd25Qcm9wZXJ0aWVzKTtcbiAgICB9XG4gICAgY29uc3QgdW5rbm93bktleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhrbm93blByb3BlcnRpZXMpO1xuICAgIGNvbnN0IGFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IHVua25vd25Qcm9wZXJ0aWVzID0geyAuLi5rbm93blByb3BlcnRpZXMgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiB1bmtub3duS2V5cylcbiAgICAgICAgaWYgKCFrbm93bktleXMudGVzdChrZXkpKSB7XG4gICAgICAgICAgICB1bmtub3duUHJvcGVydGllc1trZXldID0gRGVmYXVsdChhZGRpdGlvbmFsUHJvcGVydGllcywgYCR7cGF0aH0vJHtrZXl9YCwgdW5rbm93blByb3BlcnRpZXNba2V5XSk7XG4gICAgICAgIH1cbiAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHVua25vd25Qcm9wZXJ0aWVzKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVJlZihzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gRGVyZWYoc2NoZW1hLCByZWZlcmVuY2VzKTtcbiAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIFZpc2l0KHRhcmdldCwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVRoaXMoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IERlcmVmKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgcmV0dXJuIERlZmF1bHQoc2NoZW1hLCBwYXRoLCBWaXNpdCh0YXJnZXQsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21UdXBsZShzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgcmV0dXJuIChJc0FycmF5KHZhbHVlKSAmJiBJc0FycmF5KHNjaGVtYS5pdGVtcykpXG4gICAgICAgID8gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHNjaGVtYS5pdGVtcy5tYXAoKHNjaGVtYSwgaW5kZXgpID0+IFZpc2l0KHNjaGVtYSwgcmVmZXJlbmNlcywgYCR7cGF0aH0vJHtpbmRleH1gLCB2YWx1ZVtpbmRleF0pKSlcbiAgICAgICAgOiBEZWZhdWx0KHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVW5pb24oc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGZvciAoY29uc3Qgc3Vic2NoZW1hIG9mIHNjaGVtYS5hbnlPZikge1xuICAgICAgICBpZiAoIUNoZWNrKHN1YnNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIC8vIG5vdGU6IGVuc3VyZSBpbnRlcmlvciBpcyBkZWNvZGVkIGZpcnN0XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBWaXNpdChzdWJzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIERlZmF1bHQoc2NoZW1hLCBwYXRoLCBkZWNvZGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIERlZmF1bHQoc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFZpc2l0KHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBjb25zdCByZWZlcmVuY2VzXyA9IHR5cGVvZiBzY2hlbWEuJGlkID09PSAnc3RyaW5nJyA/IFsuLi5yZWZlcmVuY2VzLCBzY2hlbWFdIDogcmVmZXJlbmNlcztcbiAgICBjb25zdCBzY2hlbWFfID0gc2NoZW1hO1xuICAgIHN3aXRjaCAoc2NoZW1hW0tpbmRdKSB7XG4gICAgICAgIGNhc2UgJ0FycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tQXJyYXkoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnSW50ZXJzZWN0JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tSW50ZXJzZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ05vdCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbU5vdChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdPYmplY3QnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21PYmplY3Qoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnUmVjb3JkJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tUmVjb3JkKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1JlZic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVJlZihzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdTeW1ib2wnOlxuICAgICAgICAgICAgcmV0dXJuIERlZmF1bHQoc2NoZW1hXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdUaGlzJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVGhpcyhzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdUdXBsZSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVR1cGxlKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1VuaW9uJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVW5pb24oc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBEZWZhdWx0KHNjaGVtYV8sIHBhdGgsIHZhbHVlKTtcbiAgICB9XG59XG4vKipcbiAqIGBbSW50ZXJuYWxdYCBEZWNvZGVzIHRoZSB2YWx1ZSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LiBUaGlzIGZ1bmN0aW9uIHJlcXVpcmVzIHRoYXRcbiAqIHRoZSBjYWxsZXIgYENoZWNrYCB0aGUgdmFsdWUgYmVmb3JlIHVzZS4gUGFzc2luZyB1bmNoZWNrZWQgdmFsdWVzIG1heSByZXN1bHQgaW5cbiAqIHVuZGVmaW5lZCBiZWhhdmlvci4gUmVmZXIgdG8gdGhlIGBWYWx1ZS5EZWNvZGUoKWAgZm9yIGltcGxlbWVudGF0aW9uIGRldGFpbHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBUcmFuc2Zvcm1EZWNvZGUoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMsICcnLCB2YWx1ZSk7XG59XG4iLAogICAgImltcG9ydCB7IEtpbmQsIFRyYW5zZm9ybUtpbmQgfSBmcm9tICcuLi8uLi90eXBlL3N5bWJvbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IFR5cGVCb3hFcnJvciB9IGZyb20gJy4uLy4uL3R5cGUvZXJyb3IvaW5kZXgubWpzJztcbmltcG9ydCB7IEtleU9mUHJvcGVydHlLZXlzLCBLZXlPZlByb3BlcnR5RW50cmllcyB9IGZyb20gJy4uLy4uL3R5cGUva2V5b2YvaW5kZXgubWpzJztcbmltcG9ydCB7IERlcmVmIH0gZnJvbSAnLi4vZGVyZWYvaW5kZXgubWpzJztcbmltcG9ydCB7IENoZWNrIH0gZnJvbSAnLi4vY2hlY2svaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVmFsdWVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc1N0YW5kYXJkT2JqZWN0LCBJc0FycmF5LCBJc1ZhbHVlVHlwZSB9IGZyb20gJy4uL2d1YXJkL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc1RyYW5zZm9ybSwgSXNTY2hlbWEgfSBmcm9tICcuLi8uLi90eXBlL2d1YXJkL3R5cGUubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRXJyb3JzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGNsYXNzIFRyYW5zZm9ybUVuY29kZUNoZWNrRXJyb3IgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xuICAgIHNjaGVtYTtcbiAgICB2YWx1ZTtcbiAgICBlcnJvcjtcbiAgICBjb25zdHJ1Y3RvcihzY2hlbWEsIHZhbHVlLCBlcnJvcikge1xuICAgICAgICBzdXBlcihgVGhlIGVuY29kZWQgdmFsdWUgZG9lcyBub3QgbWF0Y2ggdGhlIGV4cGVjdGVkIHNjaGVtYWApO1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgfVxufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgY2xhc3MgVHJhbnNmb3JtRW5jb2RlRXJyb3IgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xuICAgIHNjaGVtYTtcbiAgICBwYXRoO1xuICAgIHZhbHVlO1xuICAgIGVycm9yO1xuICAgIGNvbnN0cnVjdG9yKHNjaGVtYSwgcGF0aCwgdmFsdWUsIGVycm9yKSB7XG4gICAgICAgIHN1cGVyKGAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgfVxufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFbmNvZGVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBEZWZhdWx0KHNjaGVtYSwgcGF0aCwgdmFsdWUpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSXNUcmFuc2Zvcm0oc2NoZW1hKSA/IHNjaGVtYVtUcmFuc2Zvcm1LaW5kXS5FbmNvZGUodmFsdWUpIDogdmFsdWU7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgVHJhbnNmb3JtRW5jb2RlRXJyb3Ioc2NoZW1hLCBwYXRoLCB2YWx1ZSwgZXJyb3IpO1xuICAgIH1cbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUFycmF5KHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBjb25zdCBkZWZhdWx0ZWQgPSBEZWZhdWx0KHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIHJldHVybiBJc0FycmF5KGRlZmF1bHRlZClcbiAgICAgICAgPyBkZWZhdWx0ZWQubWFwKCh2YWx1ZSwgaW5kZXgpID0+IFZpc2l0KHNjaGVtYS5pdGVtcywgcmVmZXJlbmNlcywgYCR7cGF0aH0vJHtpbmRleH1gLCB2YWx1ZSkpXG4gICAgICAgIDogZGVmYXVsdGVkO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tSW50ZXJzZWN0KHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBjb25zdCBkZWZhdWx0ZWQgPSBEZWZhdWx0KHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIGlmICghSXNTdGFuZGFyZE9iamVjdCh2YWx1ZSkgfHwgSXNWYWx1ZVR5cGUodmFsdWUpKVxuICAgICAgICByZXR1cm4gZGVmYXVsdGVkO1xuICAgIGNvbnN0IGtub3duRW50cmllcyA9IEtleU9mUHJvcGVydHlFbnRyaWVzKHNjaGVtYSk7XG4gICAgY29uc3Qga25vd25LZXlzID0ga25vd25FbnRyaWVzLm1hcChlbnRyeSA9PiBlbnRyeVswXSk7XG4gICAgY29uc3Qga25vd25Qcm9wZXJ0aWVzID0geyAuLi5kZWZhdWx0ZWQgfTtcbiAgICBmb3IgKGNvbnN0IFtrbm93bktleSwga25vd25TY2hlbWFdIG9mIGtub3duRW50cmllcylcbiAgICAgICAgaWYgKGtub3duS2V5IGluIGtub3duUHJvcGVydGllcykge1xuICAgICAgICAgICAga25vd25Qcm9wZXJ0aWVzW2tub3duS2V5XSA9IFZpc2l0KGtub3duU2NoZW1hLCByZWZlcmVuY2VzLCBgJHtwYXRofS8ke2tub3duS2V5fWAsIGtub3duUHJvcGVydGllc1trbm93bktleV0pO1xuICAgICAgICB9XG4gICAgaWYgKCFJc1RyYW5zZm9ybShzY2hlbWEudW5ldmFsdWF0ZWRQcm9wZXJ0aWVzKSkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIGtub3duUHJvcGVydGllcyk7XG4gICAgfVxuICAgIGNvbnN0IHVua25vd25LZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoa25vd25Qcm9wZXJ0aWVzKTtcbiAgICBjb25zdCB1bmV2YWx1YXRlZFByb3BlcnRpZXMgPSBzY2hlbWEudW5ldmFsdWF0ZWRQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7IC4uLmtub3duUHJvcGVydGllcyB9O1xuICAgIGZvciAoY29uc3Qga2V5IG9mIHVua25vd25LZXlzKVxuICAgICAgICBpZiAoIWtub3duS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzW2tleV0gPSBEZWZhdWx0KHVuZXZhbHVhdGVkUHJvcGVydGllcywgYCR7cGF0aH0vJHtrZXl9YCwgcHJvcGVydGllc1trZXldKTtcbiAgICAgICAgfVxuICAgIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTm90KHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEubm90LCBwYXRoLCBEZWZhdWx0KHNjaGVtYSwgcGF0aCwgdmFsdWUpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbU9iamVjdChzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgY29uc3QgZGVmYXVsdGVkID0gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICBpZiAoIUlzU3RhbmRhcmRPYmplY3QoZGVmYXVsdGVkKSlcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRlZDtcbiAgICBjb25zdCBrbm93bktleXMgPSBLZXlPZlByb3BlcnR5S2V5cyhzY2hlbWEpO1xuICAgIGNvbnN0IGtub3duUHJvcGVydGllcyA9IHsgLi4uZGVmYXVsdGVkIH07XG4gICAgZm9yIChjb25zdCBrZXkgb2Yga25vd25LZXlzKVxuICAgICAgICBpZiAoa2V5IGluIGtub3duUHJvcGVydGllcykge1xuICAgICAgICAgICAga25vd25Qcm9wZXJ0aWVzW2tleV0gPSBWaXNpdChzY2hlbWEucHJvcGVydGllc1trZXldLCByZWZlcmVuY2VzLCBgJHtwYXRofS8ke2tleX1gLCBrbm93blByb3BlcnRpZXNba2V5XSk7XG4gICAgICAgIH1cbiAgICBpZiAoIUlzU2NoZW1hKHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcykpIHtcbiAgICAgICAgcmV0dXJuIGtub3duUHJvcGVydGllcztcbiAgICB9XG4gICAgY29uc3QgdW5rbm93bktleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhrbm93blByb3BlcnRpZXMpO1xuICAgIGNvbnN0IGFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7IC4uLmtub3duUHJvcGVydGllcyB9O1xuICAgIGZvciAoY29uc3Qga2V5IG9mIHVua25vd25LZXlzKVxuICAgICAgICBpZiAoIWtub3duS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzW2tleV0gPSBEZWZhdWx0KGFkZGl0aW9uYWxQcm9wZXJ0aWVzLCBgJHtwYXRofS8ke2tleX1gLCBwcm9wZXJ0aWVzW2tleV0pO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZWNvcmQoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGNvbnN0IGRlZmF1bHRlZCA9IERlZmF1bHQoc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgaWYgKCFJc1N0YW5kYXJkT2JqZWN0KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRlZDtcbiAgICBjb25zdCBwYXR0ZXJuID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKVswXTtcbiAgICBjb25zdCBrbm93bktleXMgPSBuZXcgUmVnRXhwKHBhdHRlcm4pO1xuICAgIGNvbnN0IGtub3duUHJvcGVydGllcyA9IHsgLi4uZGVmYXVsdGVkIH07XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpKVxuICAgICAgICBpZiAoa25vd25LZXlzLnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAga25vd25Qcm9wZXJ0aWVzW2tleV0gPSBWaXNpdChzY2hlbWEucGF0dGVyblByb3BlcnRpZXNbcGF0dGVybl0sIHJlZmVyZW5jZXMsIGAke3BhdGh9LyR7a2V5fWAsIGtub3duUHJvcGVydGllc1trZXldKTtcbiAgICAgICAgfVxuICAgIGlmICghSXNTY2hlbWEoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzKSkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIGtub3duUHJvcGVydGllcyk7XG4gICAgfVxuICAgIGNvbnN0IHVua25vd25LZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoa25vd25Qcm9wZXJ0aWVzKTtcbiAgICBjb25zdCBhZGRpdGlvbmFsUHJvcGVydGllcyA9IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcztcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0geyAuLi5rbm93blByb3BlcnRpZXMgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiB1bmtub3duS2V5cylcbiAgICAgICAgaWYgKCFrbm93bktleXMudGVzdChrZXkpKSB7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzW2tleV0gPSBEZWZhdWx0KGFkZGl0aW9uYWxQcm9wZXJ0aWVzLCBgJHtwYXRofS8ke2tleX1gLCBwcm9wZXJ0aWVzW2tleV0pO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZWYoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IERlcmVmKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgY29uc3QgcmVzb2x2ZWQgPSBWaXNpdCh0YXJnZXQsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKTtcbiAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHJlc29sdmVkKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVRoaXMoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IERlcmVmKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgY29uc3QgcmVzb2x2ZWQgPSBWaXNpdCh0YXJnZXQsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKTtcbiAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHJlc29sdmVkKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVR1cGxlKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBjb25zdCB2YWx1ZTEgPSBEZWZhdWx0KHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIHJldHVybiBJc0FycmF5KHNjaGVtYS5pdGVtcykgPyBzY2hlbWEuaXRlbXMubWFwKChzY2hlbWEsIGluZGV4KSA9PiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMsIGAke3BhdGh9LyR7aW5kZXh9YCwgdmFsdWUxW2luZGV4XSkpIDogW107XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21VbmlvbihzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgLy8gdGVzdCB2YWx1ZSBhZ2FpbnN0IHVuaW9uIHZhcmlhbnRzXG4gICAgZm9yIChjb25zdCBzdWJzY2hlbWEgb2Ygc2NoZW1hLmFueU9mKSB7XG4gICAgICAgIGlmICghQ2hlY2soc3Vic2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3QgdmFsdWUxID0gVmlzaXQoc3Vic2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBEZWZhdWx0KHNjaGVtYSwgcGF0aCwgdmFsdWUxKTtcbiAgICB9XG4gICAgLy8gdGVzdCB0cmFuc2Zvcm1lZCB2YWx1ZSBhZ2FpbnN0IHVuaW9uIHZhcmlhbnRzXG4gICAgZm9yIChjb25zdCBzdWJzY2hlbWEgb2Ygc2NoZW1hLmFueU9mKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlMSA9IFZpc2l0KHN1YnNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBpZiAoIUNoZWNrKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUxKSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHZhbHVlMSk7XG4gICAgfVxuICAgIHJldHVybiBEZWZhdWx0KHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgY29uc3QgcmVmZXJlbmNlc18gPSB0eXBlb2Ygc2NoZW1hLiRpZCA9PT0gJ3N0cmluZycgPyBbLi4ucmVmZXJlbmNlcywgc2NoZW1hXSA6IHJlZmVyZW5jZXM7XG4gICAgY29uc3Qgc2NoZW1hXyA9IHNjaGVtYTtcbiAgICBzd2l0Y2ggKHNjaGVtYVtLaW5kXSkge1xuICAgICAgICBjYXNlICdBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUFycmF5KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0ludGVyc2VjdCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUludGVyc2VjdChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdOb3QnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21Ob3Qoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnT2JqZWN0JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tT2JqZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1JlY29yZCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVJlY29yZChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdSZWYnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21SZWYoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVGhpcyc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVRoaXMoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVHVwbGUnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21UdXBsZShzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdVbmlvbic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVVuaW9uKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gRGVmYXVsdChzY2hlbWFfLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBgW0ludGVybmFsXWAgRW5jb2RlcyB0aGUgdmFsdWUgYW5kIHJldHVybnMgdGhlIHJlc3VsdC4gVGhpcyBmdW5jdGlvbiBleHBlY3RzIHRoZVxuICogY2FsbGVyIHRvIHBhc3MgYSBzdGF0aWNhbGx5IGNoZWNrZWQgdmFsdWUuIFRoaXMgZnVuY3Rpb24gZG9lcyBub3QgY2hlY2sgdGhlIGVuY29kZWRcbiAqIHJlc3VsdCwgbWVhbmluZyB0aGUgcmVzdWx0IHNob3VsZCBiZSBwYXNzZWQgdG8gYENoZWNrYCBiZWZvcmUgdXNlLiBSZWZlciB0byB0aGVcbiAqIGBWYWx1ZS5FbmNvZGUoKWAgZnVuY3Rpb24gZm9yIGltcGxlbWVudGF0aW9uIGRldGFpbHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBUcmFuc2Zvcm1FbmNvZGUoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMsICcnLCB2YWx1ZSk7XG59XG4iLAogICAgImltcG9ydCB7IERlcmVmIH0gZnJvbSAnLi4vZGVyZWYvaW5kZXgubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi8uLi90eXBlL3N5bWJvbHMvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzVHJhbnNmb3JtLCBJc1NjaGVtYSB9IGZyb20gJy4uLy4uL3R5cGUvZ3VhcmQvdHlwZS5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBWYWx1ZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzU3RyaW5nLCBJc1VuZGVmaW5lZCB9IGZyb20gJy4uL2d1YXJkL2luZGV4Lm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21BcnJheShzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICByZXR1cm4gSXNUcmFuc2Zvcm0oc2NoZW1hKSB8fCBWaXNpdChzY2hlbWEuaXRlbXMsIHJlZmVyZW5jZXMpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQXN5bmNJdGVyYXRvcihzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICByZXR1cm4gSXNUcmFuc2Zvcm0oc2NoZW1hKSB8fCBWaXNpdChzY2hlbWEuaXRlbXMsIHJlZmVyZW5jZXMpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQ29uc3RydWN0b3Ioc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgcmV0dXJuIElzVHJhbnNmb3JtKHNjaGVtYSkgfHwgVmlzaXQoc2NoZW1hLnJldHVybnMsIHJlZmVyZW5jZXMpIHx8IHNjaGVtYS5wYXJhbWV0ZXJzLnNvbWUoKHNjaGVtYSkgPT4gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21GdW5jdGlvbihzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICByZXR1cm4gSXNUcmFuc2Zvcm0oc2NoZW1hKSB8fCBWaXNpdChzY2hlbWEucmV0dXJucywgcmVmZXJlbmNlcykgfHwgc2NoZW1hLnBhcmFtZXRlcnMuc29tZSgoc2NoZW1hKSA9PiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUludGVyc2VjdChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICByZXR1cm4gSXNUcmFuc2Zvcm0oc2NoZW1hKSB8fCBJc1RyYW5zZm9ybShzY2hlbWEudW5ldmFsdWF0ZWRQcm9wZXJ0aWVzKSB8fCBzY2hlbWEuYWxsT2Yuc29tZSgoc2NoZW1hKSA9PiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUl0ZXJhdG9yKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIHJldHVybiBJc1RyYW5zZm9ybShzY2hlbWEpIHx8IFZpc2l0KHNjaGVtYS5pdGVtcywgcmVmZXJlbmNlcyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Ob3Qoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgcmV0dXJuIElzVHJhbnNmb3JtKHNjaGVtYSkgfHwgVmlzaXQoc2NoZW1hLm5vdCwgcmVmZXJlbmNlcyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21PYmplY3Qoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgcmV0dXJuIChJc1RyYW5zZm9ybShzY2hlbWEpIHx8XG4gICAgICAgIE9iamVjdC52YWx1ZXMoc2NoZW1hLnByb3BlcnRpZXMpLnNvbWUoKHNjaGVtYSkgPT4gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzKSkgfHxcbiAgICAgICAgKElzU2NoZW1hKHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcykgJiYgVmlzaXQoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLCByZWZlcmVuY2VzKSkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvbWlzZShzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICByZXR1cm4gSXNUcmFuc2Zvcm0oc2NoZW1hKSB8fCBWaXNpdChzY2hlbWEuaXRlbSwgcmVmZXJlbmNlcyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZWNvcmQoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgY29uc3QgcGF0dGVybiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcylbMF07XG4gICAgY29uc3QgcHJvcGVydHkgPSBzY2hlbWEucGF0dGVyblByb3BlcnRpZXNbcGF0dGVybl07XG4gICAgcmV0dXJuIElzVHJhbnNmb3JtKHNjaGVtYSkgfHwgVmlzaXQocHJvcGVydHksIHJlZmVyZW5jZXMpIHx8IChJc1NjaGVtYShzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMpICYmIElzVHJhbnNmb3JtKHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcykpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUmVmKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChJc1RyYW5zZm9ybShzY2hlbWEpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gVmlzaXQoRGVyZWYoc2NoZW1hLCByZWZlcmVuY2VzKSwgcmVmZXJlbmNlcyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21UaGlzKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChJc1RyYW5zZm9ybShzY2hlbWEpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gVmlzaXQoRGVyZWYoc2NoZW1hLCByZWZlcmVuY2VzKSwgcmVmZXJlbmNlcyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21UdXBsZShzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICByZXR1cm4gSXNUcmFuc2Zvcm0oc2NoZW1hKSB8fCAoIUlzVW5kZWZpbmVkKHNjaGVtYS5pdGVtcykgJiYgc2NoZW1hLml0ZW1zLnNvbWUoKHNjaGVtYSkgPT4gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzKSkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVW5pb24oc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgcmV0dXJuIElzVHJhbnNmb3JtKHNjaGVtYSkgfHwgc2NoZW1hLmFueU9mLnNvbWUoKHNjaGVtYSkgPT4gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFZpc2l0KHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGNvbnN0IHJlZmVyZW5jZXNfID0gSXNTdHJpbmcoc2NoZW1hLiRpZCkgPyBbLi4ucmVmZXJlbmNlcywgc2NoZW1hXSA6IHJlZmVyZW5jZXM7XG4gICAgY29uc3Qgc2NoZW1hXyA9IHNjaGVtYTtcbiAgICBpZiAoc2NoZW1hLiRpZCAmJiB2aXNpdGVkLmhhcyhzY2hlbWEuJGlkKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChzY2hlbWEuJGlkKVxuICAgICAgICB2aXNpdGVkLmFkZChzY2hlbWEuJGlkKTtcbiAgICBzd2l0Y2ggKHNjaGVtYVtLaW5kXSkge1xuICAgICAgICBjYXNlICdBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUFycmF5KHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnQXN5bmNJdGVyYXRvcic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUFzeW5jSXRlcmF0b3Ioc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdDb25zdHJ1Y3Rvcic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUNvbnN0cnVjdG9yKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnRnVuY3Rpb24nOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21GdW5jdGlvbihzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ0ludGVyc2VjdCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUludGVyc2VjdChzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ0l0ZXJhdG9yJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tSXRlcmF0b3Ioc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdOb3QnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21Ob3Qoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdPYmplY3QnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21PYmplY3Qoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdQcm9taXNlJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tUHJvbWlzZShzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ1JlY29yZCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVJlY29yZChzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ1JlZic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVJlZihzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ1RoaXMnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21UaGlzKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnVHVwbGUnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21UdXBsZShzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ1VuaW9uJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVW5pb24oc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIElzVHJhbnNmb3JtKHNjaGVtYSk7XG4gICAgfVxufVxuY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQoKTtcbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBzY2hlbWEgY29udGFpbnMgYSB0cmFuc2Zvcm0gY29kZWMgKi9cbmV4cG9ydCBmdW5jdGlvbiBIYXNUcmFuc2Zvcm0oc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgdmlzaXRlZC5jbGVhcigpO1xuICAgIHJldHVybiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBIYXNUcmFuc2Zvcm0sIFRyYW5zZm9ybURlY29kZSwgVHJhbnNmb3JtRW5jb2RlLCBUcmFuc2Zvcm1EZWNvZGVDaGVja0Vycm9yLCBUcmFuc2Zvcm1FbmNvZGVDaGVja0Vycm9yIH0gZnJvbSAnLi4vdHJhbnNmb3JtL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBNdXRhdGUgYXMgTXV0YXRlVmFsdWUgfSBmcm9tICcuLi9tdXRhdGUvaW5kZXgubWpzJztcbmltcG9ydCB7IEhhc2ggYXMgSGFzaFZhbHVlIH0gZnJvbSAnLi4vaGFzaC9pbmRleC5tanMnO1xuaW1wb3J0IHsgRXF1YWwgYXMgRXF1YWxWYWx1ZSB9IGZyb20gJy4uL2VxdWFsL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDYXN0IGFzIENhc3RWYWx1ZSB9IGZyb20gJy4uL2Nhc3QvaW5kZXgubWpzJztcbmltcG9ydCB7IENsb25lIGFzIENsb25lVmFsdWUgfSBmcm9tICcuLi9jbG9uZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ29udmVydCBhcyBDb252ZXJ0VmFsdWUgfSBmcm9tICcuLi9jb252ZXJ0L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDcmVhdGUgYXMgQ3JlYXRlVmFsdWUgfSBmcm9tICcuLi9jcmVhdGUvaW5kZXgubWpzJztcbmltcG9ydCB7IENsZWFuIGFzIENsZWFuVmFsdWUgfSBmcm9tICcuLi9jbGVhbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2hlY2sgYXMgQ2hlY2tWYWx1ZSB9IGZyb20gJy4uL2NoZWNrL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBEZWZhdWx0IGFzIERlZmF1bHRWYWx1ZSB9IGZyb20gJy4uL2RlZmF1bHQvaW5kZXgubWpzJztcbmltcG9ydCB7IERpZmYgYXMgRGlmZlZhbHVlLCBQYXRjaCBhcyBQYXRjaFZhbHVlIH0gZnJvbSAnLi4vZGVsdGEvaW5kZXgubWpzJztcbmltcG9ydCB7IEVycm9ycyBhcyBWYWx1ZUVycm9ycyB9IGZyb20gJy4uLy4uL2Vycm9ycy9pbmRleC5tanMnO1xuLyoqIENhc3RzIGEgdmFsdWUgaW50byBhIGdpdmVuIHR5cGUuIFRoZSByZXR1cm4gdmFsdWUgd2lsbCByZXRhaW4gYXMgbXVjaCBpbmZvcm1hdGlvbiBvZiB0aGUgb3JpZ2luYWwgdmFsdWUgYXMgcG9zc2libGUuICovXG5leHBvcnQgZnVuY3Rpb24gQ2FzdCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIENhc3RWYWx1ZS5hcHBseShDYXN0VmFsdWUsIGFyZ3MpO1xufVxuLyoqIENyZWF0ZXMgYSB2YWx1ZSBmcm9tIHRoZSBnaXZlbiB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gQ3JlYXRlKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gQ3JlYXRlVmFsdWUuYXBwbHkoQ3JlYXRlVmFsdWUsIGFyZ3MpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgbWF0Y2hlcyB0aGUgZ2l2ZW4gdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIENoZWNrKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gQ2hlY2tWYWx1ZS5hcHBseShDaGVja1ZhbHVlLCBhcmdzKTtcbn1cbi8qKiBgW011dGFibGVdYCBSZW1vdmVzIGV4Y2VzcyBwcm9wZXJ0aWVzIGZyb20gYSB2YWx1ZSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IGNoZWNrIHRoZSB2YWx1ZSBhbmQgcmV0dXJucyBhbiB1bmtub3duIHR5cGUuIFlvdSBzaG91bGQgQ2hlY2sgdGhlIHJlc3VsdCBiZWZvcmUgdXNlLiBDbGVhbiBpcyBhIG11dGFibGUgb3BlcmF0aW9uLiBUbyBhdm9pZCBtdXRhdGlvbiwgQ2xvbmUgdGhlIHZhbHVlIGZpcnN0LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENsZWFuKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gQ2xlYW5WYWx1ZS5hcHBseShDbGVhblZhbHVlLCBhcmdzKTtcbn1cbi8qKiBDb252ZXJ0cyBhbnkgdHlwZSBtaXNtYXRjaGVkIHZhbHVlcyB0byB0aGVpciB0YXJnZXQgdHlwZSBpZiBhIHJlYXNvbmFibGUgY29udmVyc2lvbiBpcyBwb3NzaWJsZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDb252ZXJ0KC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gQ29udmVydFZhbHVlLmFwcGx5KENvbnZlcnRWYWx1ZSwgYXJncyk7XG59XG4vKiogUmV0dXJucyBhIHN0cnVjdHVyYWwgY2xvbmUgb2YgdGhlIGdpdmVuIHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gQ2xvbmUodmFsdWUpIHtcbiAgICByZXR1cm4gQ2xvbmVWYWx1ZSh2YWx1ZSk7XG59XG4vKiogRGVjb2RlcyBhIHZhbHVlIG9yIHRocm93cyBpZiBlcnJvciAqL1xuZXhwb3J0IGZ1bmN0aW9uIERlY29kZSguLi5hcmdzKSB7XG4gICAgY29uc3QgW3NjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWVdID0gYXJncy5sZW5ndGggPT09IDMgPyBbYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXV0gOiBbYXJnc1swXSwgW10sIGFyZ3NbMV1dO1xuICAgIGlmICghQ2hlY2soc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkpXG4gICAgICAgIHRocm93IG5ldyBUcmFuc2Zvcm1EZWNvZGVDaGVja0Vycm9yKHNjaGVtYSwgdmFsdWUsIEVycm9ycyhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKS5GaXJzdCgpKTtcbiAgICByZXR1cm4gSGFzVHJhbnNmb3JtKHNjaGVtYSwgcmVmZXJlbmNlcykgPyBUcmFuc2Zvcm1EZWNvZGUoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkgOiB2YWx1ZTtcbn1cbi8qKiBgW011dGFibGVdYCBHZW5lcmF0ZXMgbWlzc2luZyBwcm9wZXJ0aWVzIG9uIGEgdmFsdWUgdXNpbmcgZGVmYXVsdCBzY2hlbWEgYW5ub3RhdGlvbnMgaWYgYXZhaWxhYmxlLiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IGNoZWNrIHRoZSB2YWx1ZSBhbmQgcmV0dXJucyBhbiB1bmtub3duIHR5cGUuIFlvdSBzaG91bGQgQ2hlY2sgdGhlIHJlc3VsdCBiZWZvcmUgdXNlLiBEZWZhdWx0IGlzIGEgbXV0YWJsZSBvcGVyYXRpb24uIFRvIGF2b2lkIG11dGF0aW9uLCBDbG9uZSB0aGUgdmFsdWUgZmlyc3QuICovXG5leHBvcnQgZnVuY3Rpb24gRGVmYXVsdCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIERlZmF1bHRWYWx1ZS5hcHBseShEZWZhdWx0VmFsdWUsIGFyZ3MpO1xufVxuLyoqIEVuY29kZXMgYSB2YWx1ZSBvciB0aHJvd3MgaWYgZXJyb3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBFbmNvZGUoLi4uYXJncykge1xuICAgIGNvbnN0IFtzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlXSA9IGFyZ3MubGVuZ3RoID09PSAzID8gW2FyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl1dIDogW2FyZ3NbMF0sIFtdLCBhcmdzWzFdXTtcbiAgICBjb25zdCBlbmNvZGVkID0gSGFzVHJhbnNmb3JtKHNjaGVtYSwgcmVmZXJlbmNlcykgPyBUcmFuc2Zvcm1FbmNvZGUoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkgOiB2YWx1ZTtcbiAgICBpZiAoIUNoZWNrKHNjaGVtYSwgcmVmZXJlbmNlcywgZW5jb2RlZCkpXG4gICAgICAgIHRocm93IG5ldyBUcmFuc2Zvcm1FbmNvZGVDaGVja0Vycm9yKHNjaGVtYSwgZW5jb2RlZCwgRXJyb3JzKHNjaGVtYSwgcmVmZXJlbmNlcywgZW5jb2RlZCkuRmlyc3QoKSk7XG4gICAgcmV0dXJuIGVuY29kZWQ7XG59XG4vKiogUmV0dXJucyBhbiBpdGVyYXRvciBmb3IgZWFjaCBlcnJvciBpbiB0aGlzIHZhbHVlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEVycm9ycyguLi5hcmdzKSB7XG4gICAgcmV0dXJuIFZhbHVlRXJyb3JzLmFwcGx5KFZhbHVlRXJyb3JzLCBhcmdzKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgbGVmdCBhbmQgcmlnaHQgdmFsdWVzIGFyZSBzdHJ1Y3R1cmFsbHkgZXF1YWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBFcXVhbChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiBFcXVhbFZhbHVlKGxlZnQsIHJpZ2h0KTtcbn1cbi8qKiBSZXR1cm5zIGVkaXRzIHRvIHRyYW5zZm9ybSB0aGUgY3VycmVudCB2YWx1ZSBpbnRvIHRoZSBuZXh0IHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gRGlmZihjdXJyZW50LCBuZXh0KSB7XG4gICAgcmV0dXJuIERpZmZWYWx1ZShjdXJyZW50LCBuZXh0KTtcbn1cbi8qKiBSZXR1cm5zIGEgRk5WMUEtNjQgbm9uIGNyeXB0b2dyYXBoaWMgaGFzaCBvZiB0aGUgZ2l2ZW4gdmFsdWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBIYXNoKHZhbHVlKSB7XG4gICAgcmV0dXJuIEhhc2hWYWx1ZSh2YWx1ZSk7XG59XG4vKiogUmV0dXJucyBhIG5ldyB2YWx1ZSB3aXRoIGVkaXRzIGFwcGxpZWQgdG8gdGhlIGdpdmVuIHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gUGF0Y2goY3VycmVudCwgZWRpdHMpIHtcbiAgICByZXR1cm4gUGF0Y2hWYWx1ZShjdXJyZW50LCBlZGl0cyk7XG59XG4vKiogYFtNdXRhYmxlXWAgUGVyZm9ybXMgYSBkZWVwIG11dGFibGUgdmFsdWUgYXNzaWdubWVudCB3aGlsZSByZXRhaW5pbmcgaW50ZXJuYWwgcmVmZXJlbmNlcy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBNdXRhdGUoY3VycmVudCwgbmV4dCkge1xuICAgIE11dGF0ZVZhbHVlKGN1cnJlbnQsIG5leHQpO1xufVxuIiwKICAgICJpbXBvcnQgeyBJbnRlcnNlY3QgfSBmcm9tICcuLi9pbnRlcnNlY3QvaW5kZXgubWpzJztcbmltcG9ydCB7IFVuaW9uIH0gZnJvbSAnLi4vdW5pb24vaW5kZXgubWpzJztcbmltcG9ydCB7IENsb25lVHlwZSB9IGZyb20gJy4uL2Nsb25lL3R5cGUubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzSW50ZXJzZWN0LCBJc1VuaW9uLCBJc1Byb21pc2UgfSBmcm9tICcuLi9ndWFyZC9raW5kLm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZXN0KFQpIHtcbiAgICByZXR1cm4gVC5tYXAoTCA9PiBBd2FpdGVkUmVzb2x2ZShMKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21JbnRlcnNlY3QoVCkge1xuICAgIHJldHVybiBJbnRlcnNlY3QoRnJvbVJlc3QoVCkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVW5pb24oVCkge1xuICAgIHJldHVybiBVbmlvbihGcm9tUmVzdChUKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9taXNlKFQpIHtcbiAgICByZXR1cm4gQXdhaXRlZFJlc29sdmUoVCk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBBd2FpdGVkUmVzb2x2ZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBBd2FpdGVkUmVzb2x2ZShUKSB7XG4gICAgcmV0dXJuIChJc0ludGVyc2VjdChUKSA/IEZyb21JbnRlcnNlY3QoVC5hbGxPZikgOlxuICAgICAgICBJc1VuaW9uKFQpID8gRnJvbVVuaW9uKFQuYW55T2YpIDpcbiAgICAgICAgICAgIElzUHJvbWlzZShUKSA/IEZyb21Qcm9taXNlKFQuaXRlbSkgOlxuICAgICAgICAgICAgICAgIFQpO1xufVxuLyoqIGBbSmF2YVNjcmlwdF1gIENvbnN0cnVjdHMgYSB0eXBlIGJ5IHJlY3Vyc2l2ZWx5IHVud3JhcHBpbmcgUHJvbWlzZSB0eXBlcyAqL1xuZXhwb3J0IGZ1bmN0aW9uIEF3YWl0ZWQoVCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIENsb25lVHlwZShBd2FpdGVkUmVzb2x2ZShUKSwgb3B0aW9ucyk7XG59XG4iLAogICAgImltcG9ydCB7IEludGVyc2VjdEV2YWx1YXRlZCB9IGZyb20gJy4uL2ludGVyc2VjdC9pbmRleC5tanMnO1xuaW1wb3J0IHsgSW5kZXhGcm9tUHJvcGVydHlLZXlzIH0gZnJvbSAnLi4vaW5kZXhlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgS2V5T2ZQcm9wZXJ0eUtleXMgfSBmcm9tICcuLi9rZXlvZi9pbmRleC5tanMnO1xuaW1wb3J0IHsgT2JqZWN0IH0gZnJvbSAnLi4vb2JqZWN0L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBTZXREaXN0aW5jdCB9IGZyb20gJy4uL3NldHMvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzTmV2ZXIgfSBmcm9tICcuLi9ndWFyZC9raW5kLm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIENvbXBvc2l0ZUtleXMoVCkge1xuICAgIGNvbnN0IEFjYyA9IFtdO1xuICAgIGZvciAoY29uc3QgTCBvZiBUKVxuICAgICAgICBBY2MucHVzaCguLi5LZXlPZlByb3BlcnR5S2V5cyhMKSk7XG4gICAgcmV0dXJuIFNldERpc3RpbmN0KEFjYyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZpbHRlck5ldmVyKFQpIHtcbiAgICByZXR1cm4gVC5maWx0ZXIoTCA9PiAhSXNOZXZlcihMKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIENvbXBvc2l0ZVByb3BlcnR5KFQsIEspIHtcbiAgICBjb25zdCBBY2MgPSBbXTtcbiAgICBmb3IgKGNvbnN0IEwgb2YgVClcbiAgICAgICAgQWNjLnB1c2goLi4uSW5kZXhGcm9tUHJvcGVydHlLZXlzKEwsIFtLXSkpO1xuICAgIHJldHVybiBGaWx0ZXJOZXZlcihBY2MpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBDb21wb3NpdGVQcm9wZXJ0aWVzKFQsIEspIHtcbiAgICBjb25zdCBBY2MgPSB7fTtcbiAgICBmb3IgKGNvbnN0IEwgb2YgSykge1xuICAgICAgICBBY2NbTF0gPSBJbnRlcnNlY3RFdmFsdWF0ZWQoQ29tcG9zaXRlUHJvcGVydHkoVCwgTCkpO1xuICAgIH1cbiAgICByZXR1cm4gQWNjO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gQ29tcG9zaXRlKFQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IEsgPSBDb21wb3NpdGVLZXlzKFQpO1xuICAgIGNvbnN0IFAgPSBDb21wb3NpdGVQcm9wZXJ0aWVzKFQsIEspO1xuICAgIGNvbnN0IFIgPSBPYmplY3QoUCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIFI7XG59XG4iLAogICAgImltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vKiogYFtKYXZhU2NyaXB0XWAgQ3JlYXRlcyBhIERhdGUgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIERhdGUob3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgW0tpbmRdOiAnRGF0ZScsXG4gICAgICAgIHR5cGU6ICdEYXRlJyxcbiAgICB9O1xufVxuIiwKICAgICJpbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYSBOdWxsIHR5cGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBOdWxsKG9wdGlvbnMgPSB7fSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIFtLaW5kXTogJ051bGwnLFxuICAgICAgICB0eXBlOiAnbnVsbCcsXG4gICAgfTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8qKiBgW0phdmFTY3JpcHRdYCBDcmVhdGVzIGEgU3ltYm9sIHR5cGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBTeW1ib2wob3B0aW9ucykge1xuICAgIHJldHVybiB7IC4uLm9wdGlvbnMsIFtLaW5kXTogJ1N5bWJvbCcsIHR5cGU6ICdzeW1ib2wnIH07XG59XG4iLAogICAgImltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vKiogYFtKYXZhU2NyaXB0XWAgQ3JlYXRlcyBhIFVuZGVmaW5lZCB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gVW5kZWZpbmVkKG9wdGlvbnMgPSB7fSkge1xuICAgIHJldHVybiB7IC4uLm9wdGlvbnMsIFtLaW5kXTogJ1VuZGVmaW5lZCcsIHR5cGU6ICd1bmRlZmluZWQnIH07XG59XG4iLAogICAgImltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vKiogYFtKYXZhU2NyaXB0XWAgQ3JlYXRlcyBhIFVpbnQ4QXJyYXkgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIFVpbnQ4QXJyYXkob3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIHsgLi4ub3B0aW9ucywgW0tpbmRdOiAnVWludDhBcnJheScsIHR5cGU6ICdVaW50OEFycmF5JyB9O1xufVxuIiwKICAgICJpbXBvcnQgeyBBbnkgfSBmcm9tICcuLi9hbnkvaW5kZXgubWpzJztcbmltcG9ydCB7IEJpZ0ludCB9IGZyb20gJy4uL2JpZ2ludC9pbmRleC5tanMnO1xuaW1wb3J0IHsgRGF0ZSB9IGZyb20gJy4uL2RhdGUvaW5kZXgubWpzJztcbmltcG9ydCB7IEZ1bmN0aW9uIGFzIEZ1bmN0aW9uVHlwZSB9IGZyb20gJy4uL2Z1bmN0aW9uL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBMaXRlcmFsIH0gZnJvbSAnLi4vbGl0ZXJhbC9pbmRleC5tanMnO1xuaW1wb3J0IHsgTnVsbCB9IGZyb20gJy4uL251bGwvaW5kZXgubWpzJztcbmltcG9ydCB7IE9iamVjdCB9IGZyb20gJy4uL29iamVjdC9pbmRleC5tanMnO1xuaW1wb3J0IHsgU3ltYm9sIH0gZnJvbSAnLi4vc3ltYm9sL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUdXBsZSB9IGZyb20gJy4uL3R1cGxlL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBSZWFkb25seSB9IGZyb20gJy4uL3JlYWRvbmx5L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBVbmRlZmluZWQgfSBmcm9tICcuLi91bmRlZmluZWQvaW5kZXgubWpzJztcbmltcG9ydCB7IFVpbnQ4QXJyYXkgfSBmcm9tICcuLi91aW50OGFycmF5L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBVbmtub3duIH0gZnJvbSAnLi4vdW5rbm93bi9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2xvbmVUeXBlIH0gZnJvbSAnLi4vY2xvbmUvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVmFsdWVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc0FycmF5LCBJc051bWJlciwgSXNCaWdJbnQsIElzVWludDhBcnJheSwgSXNEYXRlLCBJc0l0ZXJhdG9yLCBJc09iamVjdCwgSXNBc3luY0l0ZXJhdG9yLCBJc0Z1bmN0aW9uLCBJc1VuZGVmaW5lZCwgSXNOdWxsLCBJc1N5bWJvbCwgSXNCb29sZWFuLCBJc1N0cmluZyB9IGZyb20gJy4uL2d1YXJkL3ZhbHVlLm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21BcnJheShUKSB7XG4gICAgcmV0dXJuIFQubWFwKEwgPT4gRnJvbVZhbHVlKEwsIGZhbHNlKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9wZXJ0aWVzKHZhbHVlKSB7XG4gICAgY29uc3QgQWNjID0ge307XG4gICAgZm9yIChjb25zdCBLIG9mIGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpKVxuICAgICAgICBBY2NbS10gPSBSZWFkb25seShGcm9tVmFsdWUodmFsdWVbS10sIGZhbHNlKSk7XG4gICAgcmV0dXJuIEFjYztcbn1cbmZ1bmN0aW9uIENvbmRpdGlvbmFsUmVhZG9ubHkoVCwgcm9vdCkge1xuICAgIHJldHVybiAocm9vdCA9PT0gdHJ1ZSA/IFQgOiBSZWFkb25seShUKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21WYWx1ZSh2YWx1ZSwgcm9vdCkge1xuICAgIHJldHVybiAoSXNBc3luY0l0ZXJhdG9yKHZhbHVlKSA/IENvbmRpdGlvbmFsUmVhZG9ubHkoQW55KCksIHJvb3QpIDpcbiAgICAgICAgSXNJdGVyYXRvcih2YWx1ZSkgPyBDb25kaXRpb25hbFJlYWRvbmx5KEFueSgpLCByb290KSA6XG4gICAgICAgICAgICBJc0FycmF5KHZhbHVlKSA/IFJlYWRvbmx5KFR1cGxlKEZyb21BcnJheSh2YWx1ZSkpKSA6XG4gICAgICAgICAgICAgICAgSXNVaW50OEFycmF5KHZhbHVlKSA/IFVpbnQ4QXJyYXkoKSA6XG4gICAgICAgICAgICAgICAgICAgIElzRGF0ZSh2YWx1ZSkgPyBEYXRlKCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgSXNPYmplY3QodmFsdWUpID8gQ29uZGl0aW9uYWxSZWFkb25seShPYmplY3QoRnJvbVByb3BlcnRpZXModmFsdWUpKSwgcm9vdCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzRnVuY3Rpb24odmFsdWUpID8gQ29uZGl0aW9uYWxSZWFkb25seShGdW5jdGlvblR5cGUoW10sIFVua25vd24oKSksIHJvb3QpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNVbmRlZmluZWQodmFsdWUpID8gVW5kZWZpbmVkKCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNOdWxsKHZhbHVlKSA/IE51bGwoKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNTeW1ib2wodmFsdWUpID8gU3ltYm9sKCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJc0JpZ0ludCh2YWx1ZSkgPyBCaWdJbnQoKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJc051bWJlcih2YWx1ZSkgPyBMaXRlcmFsKHZhbHVlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNCb29sZWFuKHZhbHVlKSA/IExpdGVyYWwodmFsdWUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNTdHJpbmcodmFsdWUpID8gTGl0ZXJhbCh2YWx1ZSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0KHt9KSk7XG59XG4vKiogYFtKYXZhU2NyaXB0XWAgQ3JlYXRlcyBhIHJlYWRvbmx5IGNvbnN0IHR5cGUgZnJvbSB0aGUgZ2l2ZW4gdmFsdWUuICovXG5leHBvcnQgZnVuY3Rpb24gQ29uc3QoVCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIENsb25lVHlwZShGcm9tVmFsdWUoVCwgdHJ1ZSksIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBUdXBsZSB9IGZyb20gJy4uL3R1cGxlL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDbG9uZVJlc3QgfSBmcm9tICcuLi9jbG9uZS90eXBlLm1qcyc7XG4vKiogYFtKYXZhU2NyaXB0XWAgRXh0cmFjdHMgdGhlIENvbnN0cnVjdG9yUGFyYW1ldGVycyBmcm9tIHRoZSBnaXZlbiBDb25zdHJ1Y3RvciB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gQ29uc3RydWN0b3JQYXJhbWV0ZXJzKHNjaGVtYSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIFR1cGxlKENsb25lUmVzdChzY2hlbWEucGFyYW1ldGVycyksIHsgLi4ub3B0aW9ucyB9KTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ2xvbmVUeXBlLCBDbG9uZVJlc3QgfSBmcm9tICcuLi9jbG9uZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBEaXNjYXJkIH0gZnJvbSAnLi4vZGlzY2FyZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgSXNVbmRlZmluZWQgfSBmcm9tICcuLi9ndWFyZC92YWx1ZS5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUeXBlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNDb25zdHJ1Y3RvciwgSXNGdW5jdGlvbiwgSXNJbnRlcnNlY3QsIElzVW5pb24sIElzVHVwbGUsIElzQXJyYXksIElzT2JqZWN0LCBJc1Byb21pc2UsIElzQXN5bmNJdGVyYXRvciwgSXNJdGVyYXRvciwgSXNSZWYgfSBmcm9tICcuLi9ndWFyZC9raW5kLm1qcyc7XG5mdW5jdGlvbiBGcm9tUmVzdChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICByZXR1cm4gc2NoZW1hLm1hcCgoc2NoZW1hKSA9PiBEZXJlZihzY2hlbWEsIHJlZmVyZW5jZXMpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnRpZXMocHJvcGVydGllcywgcmVmZXJlbmNlcykge1xuICAgIGNvbnN0IEFjYyA9IHt9O1xuICAgIGZvciAoY29uc3QgSyBvZiBnbG9iYWxUaGlzLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BlcnRpZXMpKSB7XG4gICAgICAgIEFjY1tLXSA9IERlcmVmKHByb3BlcnRpZXNbS10sIHJlZmVyZW5jZXMpO1xuICAgIH1cbiAgICByZXR1cm4gQWNjO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQ29uc3RydWN0b3Ioc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgc2NoZW1hLnBhcmFtZXRlcnMgPSBGcm9tUmVzdChzY2hlbWEucGFyYW1ldGVycywgcmVmZXJlbmNlcyk7XG4gICAgc2NoZW1hLnJldHVybnMgPSBEZXJlZihzY2hlbWEucmV0dXJucywgcmVmZXJlbmNlcyk7XG4gICAgcmV0dXJuIHNjaGVtYTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUZ1bmN0aW9uKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIHNjaGVtYS5wYXJhbWV0ZXJzID0gRnJvbVJlc3Qoc2NoZW1hLnBhcmFtZXRlcnMsIHJlZmVyZW5jZXMpO1xuICAgIHNjaGVtYS5yZXR1cm5zID0gRGVyZWYoc2NoZW1hLnJldHVybnMsIHJlZmVyZW5jZXMpO1xuICAgIHJldHVybiBzY2hlbWE7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21JbnRlcnNlY3Qoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgc2NoZW1hLmFsbE9mID0gRnJvbVJlc3Qoc2NoZW1hLmFsbE9mLCByZWZlcmVuY2VzKTtcbiAgICByZXR1cm4gc2NoZW1hO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVW5pb24oc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgc2NoZW1hLmFueU9mID0gRnJvbVJlc3Qoc2NoZW1hLmFueU9mLCByZWZlcmVuY2VzKTtcbiAgICByZXR1cm4gc2NoZW1hO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVHVwbGUoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKElzVW5kZWZpbmVkKHNjaGVtYS5pdGVtcykpXG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgc2NoZW1hLml0ZW1zID0gRnJvbVJlc3Qoc2NoZW1hLml0ZW1zLCByZWZlcmVuY2VzKTtcbiAgICByZXR1cm4gc2NoZW1hO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQXJyYXkoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgc2NoZW1hLml0ZW1zID0gRGVyZWYoc2NoZW1hLml0ZW1zLCByZWZlcmVuY2VzKTtcbiAgICByZXR1cm4gc2NoZW1hO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tT2JqZWN0KHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIHNjaGVtYS5wcm9wZXJ0aWVzID0gRnJvbVByb3BlcnRpZXMoc2NoZW1hLnByb3BlcnRpZXMsIHJlZmVyZW5jZXMpO1xuICAgIHJldHVybiBzY2hlbWE7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9taXNlKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIHNjaGVtYS5pdGVtID0gRGVyZWYoc2NoZW1hLml0ZW0sIHJlZmVyZW5jZXMpO1xuICAgIHJldHVybiBzY2hlbWE7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Bc3luY0l0ZXJhdG9yKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIHNjaGVtYS5pdGVtcyA9IERlcmVmKHNjaGVtYS5pdGVtcywgcmVmZXJlbmNlcyk7XG4gICAgcmV0dXJuIHNjaGVtYTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUl0ZXJhdG9yKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIHNjaGVtYS5pdGVtcyA9IERlcmVmKHNjaGVtYS5pdGVtcywgcmVmZXJlbmNlcyk7XG4gICAgcmV0dXJuIHNjaGVtYTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVJlZihzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBjb25zdCB0YXJnZXQgPSByZWZlcmVuY2VzLmZpbmQocmVtb3RlID0+IHJlbW90ZS4kaWQgPT09IHNjaGVtYS4kcmVmKTtcbiAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHRocm93IEVycm9yKGBVbmFibGUgdG8gZGVyZWZlcmVuY2Ugc2NoZW1hIHdpdGggJGlkICR7c2NoZW1hLiRyZWZ9YCk7XG4gICAgY29uc3QgZGlzY2FyZCA9IERpc2NhcmQodGFyZ2V0LCBbJyRpZCddKTtcbiAgICByZXR1cm4gRGVyZWYoZGlzY2FyZCwgcmVmZXJlbmNlcyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIERlcmVmUmVzb2x2ZShzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICByZXR1cm4gKElzQ29uc3RydWN0b3Ioc2NoZW1hKSA/IEZyb21Db25zdHJ1Y3RvcihzY2hlbWEsIHJlZmVyZW5jZXMpIDpcbiAgICAgICAgSXNGdW5jdGlvbihzY2hlbWEpID8gRnJvbUZ1bmN0aW9uKHNjaGVtYSwgcmVmZXJlbmNlcykgOlxuICAgICAgICAgICAgSXNJbnRlcnNlY3Qoc2NoZW1hKSA/IEZyb21JbnRlcnNlY3Qoc2NoZW1hLCByZWZlcmVuY2VzKSA6XG4gICAgICAgICAgICAgICAgSXNVbmlvbihzY2hlbWEpID8gRnJvbVVuaW9uKHNjaGVtYSwgcmVmZXJlbmNlcykgOlxuICAgICAgICAgICAgICAgICAgICBJc1R1cGxlKHNjaGVtYSkgPyBGcm9tVHVwbGUoc2NoZW1hLCByZWZlcmVuY2VzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBJc0FycmF5KHNjaGVtYSkgPyBGcm9tQXJyYXkoc2NoZW1hLCByZWZlcmVuY2VzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNPYmplY3Qoc2NoZW1hKSA/IEZyb21PYmplY3Qoc2NoZW1hLCByZWZlcmVuY2VzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzUHJvbWlzZShzY2hlbWEpID8gRnJvbVByb21pc2Uoc2NoZW1hLCByZWZlcmVuY2VzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJc0FzeW5jSXRlcmF0b3Ioc2NoZW1hKSA/IEZyb21Bc3luY0l0ZXJhdG9yKHNjaGVtYSwgcmVmZXJlbmNlcykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzSXRlcmF0b3Ioc2NoZW1hKSA/IEZyb21JdGVyYXRvcihzY2hlbWEsIHJlZmVyZW5jZXMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNSZWYoc2NoZW1hKSA/IEZyb21SZWYoc2NoZW1hLCByZWZlcmVuY2VzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWEpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBURGVyZWZcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYSBkZXJlZmVyZW5jZWQgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIERlcmVmKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIHJldHVybiBEZXJlZlJlc29sdmUoQ2xvbmVUeXBlKHNjaGVtYSksIENsb25lUmVzdChyZWZlcmVuY2VzKSk7XG59XG4iLAogICAgImltcG9ydCB7IExpdGVyYWwgfSBmcm9tICcuLi9saXRlcmFsL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLaW5kLCBIaW50IH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuaW1wb3J0IHsgVW5pb24gfSBmcm9tICcuLi91bmlvbi9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBWYWx1ZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzVW5kZWZpbmVkIH0gZnJvbSAnLi4vZ3VhcmQvdmFsdWUubWpzJztcbi8qKiBgW0pzb25dYCBDcmVhdGVzIGEgRW51bSB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gRW51bShpdGVtLCBvcHRpb25zID0ge30pIHtcbiAgICBpZiAoSXNVbmRlZmluZWQoaXRlbSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRW51bSB1bmRlZmluZWQgb3IgZW1wdHknKTtcbiAgICBjb25zdCB2YWx1ZXMxID0gZ2xvYmFsVGhpcy5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhpdGVtKVxuICAgICAgICAuZmlsdGVyKChrZXkpID0+IGlzTmFOKGtleSkpXG4gICAgICAgIC5tYXAoKGtleSkgPT4gaXRlbVtrZXldKTtcbiAgICBjb25zdCB2YWx1ZXMyID0gWy4uLm5ldyBTZXQodmFsdWVzMSldO1xuICAgIGNvbnN0IGFueU9mID0gdmFsdWVzMi5tYXAoKHZhbHVlKSA9PiBMaXRlcmFsKHZhbHVlKSk7XG4gICAgcmV0dXJuIFVuaW9uKGFueU9mLCB7IC4uLm9wdGlvbnMsIFtIaW50XTogJ0VudW0nIH0pO1xufVxuIiwKICAgICJpbXBvcnQgeyBFeGNsdWRlIH0gZnJvbSAnLi9leGNsdWRlLm1qcyc7XG5pbXBvcnQgeyBUZW1wbGF0ZUxpdGVyYWxUb1VuaW9uIH0gZnJvbSAnLi4vdGVtcGxhdGUtbGl0ZXJhbC9pbmRleC5tanMnO1xuZXhwb3J0IGZ1bmN0aW9uIEV4Y2x1ZGVGcm9tVGVtcGxhdGVMaXRlcmFsKEwsIFIpIHtcbiAgICByZXR1cm4gRXhjbHVkZShUZW1wbGF0ZUxpdGVyYWxUb1VuaW9uKEwpLCBSKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgVW5pb24gfSBmcm9tICcuLi91bmlvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgTmV2ZXIgfSBmcm9tICcuLi9uZXZlci9pbmRleC5tanMnO1xuaW1wb3J0IHsgRXh0ZW5kc0NoZWNrLCBFeHRlbmRzUmVzdWx0IH0gZnJvbSAnLi4vZXh0ZW5kcy9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2xvbmVUeXBlIH0gZnJvbSAnLi4vY2xvbmUvdHlwZS5tanMnO1xuaW1wb3J0IHsgRXhjbHVkZUZyb21NYXBwZWRSZXN1bHQgfSBmcm9tICcuL2V4Y2x1ZGUtZnJvbS1tYXBwZWQtcmVzdWx0Lm1qcyc7XG5pbXBvcnQgeyBFeGNsdWRlRnJvbVRlbXBsYXRlTGl0ZXJhbCB9IGZyb20gJy4vZXhjbHVkZS1mcm9tLXRlbXBsYXRlLWxpdGVyYWwubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzTWFwcGVkUmVzdWx0LCBJc1RlbXBsYXRlTGl0ZXJhbCwgSXNVbmlvbiB9IGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbmZ1bmN0aW9uIEV4Y2x1ZGVSZXN0KEwsIFIpIHtcbiAgICBjb25zdCBleGNsdWRlZCA9IEwuZmlsdGVyKChpbm5lcikgPT4gRXh0ZW5kc0NoZWNrKGlubmVyLCBSKSA9PT0gRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG4gICAgcmV0dXJuIGV4Y2x1ZGVkLmxlbmd0aCA9PT0gMSA/IGV4Y2x1ZGVkWzBdIDogVW5pb24oZXhjbHVkZWQpO1xufVxuLyoqIGBbSnNvbl1gIENvbnN0cnVjdHMgYSB0eXBlIGJ5IGV4Y2x1ZGluZyBmcm9tIHVuaW9uVHlwZSBhbGwgdW5pb24gbWVtYmVycyB0aGF0IGFyZSBhc3NpZ25hYmxlIHRvIGV4Y2x1ZGVkTWVtYmVycyAqL1xuZXhwb3J0IGZ1bmN0aW9uIEV4Y2x1ZGUoTCwgUiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgLy8gb3ZlcmxvYWRzXG4gICAgaWYgKElzVGVtcGxhdGVMaXRlcmFsKEwpKVxuICAgICAgICByZXR1cm4gQ2xvbmVUeXBlKEV4Y2x1ZGVGcm9tVGVtcGxhdGVMaXRlcmFsKEwsIFIpLCBvcHRpb25zKTtcbiAgICBpZiAoSXNNYXBwZWRSZXN1bHQoTCkpXG4gICAgICAgIHJldHVybiBDbG9uZVR5cGUoRXhjbHVkZUZyb21NYXBwZWRSZXN1bHQoTCwgUiksIG9wdGlvbnMpO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiBDbG9uZVR5cGUoSXNVbmlvbihMKSA/IEV4Y2x1ZGVSZXN0KEwuYW55T2YsIFIpIDpcbiAgICAgICAgRXh0ZW5kc0NoZWNrKEwsIFIpICE9PSBFeHRlbmRzUmVzdWx0LkZhbHNlID8gTmV2ZXIoKSA6IEwsIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBNYXBwZWRSZXN1bHQgfSBmcm9tICcuLi9tYXBwZWQvaW5kZXgubWpzJztcbmltcG9ydCB7IEV4Y2x1ZGUgfSBmcm9tICcuL2V4Y2x1ZGUubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnRpZXMoUCwgVSkge1xuICAgIGNvbnN0IEFjYyA9IHt9O1xuICAgIGZvciAoY29uc3QgSzIgb2YgZ2xvYmFsVGhpcy5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhQKSlcbiAgICAgICAgQWNjW0syXSA9IEV4Y2x1ZGUoUFtLMl0sIFUpO1xuICAgIHJldHVybiBBY2M7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21NYXBwZWRSZXN1bHQoUiwgVCkge1xuICAgIHJldHVybiBGcm9tUHJvcGVydGllcyhSLnByb3BlcnRpZXMsIFQpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gRXhjbHVkZUZyb21NYXBwZWRSZXN1bHQoUiwgVCkge1xuICAgIGNvbnN0IFAgPSBGcm9tTWFwcGVkUmVzdWx0KFIsIFQpO1xuICAgIHJldHVybiBNYXBwZWRSZXN1bHQoUCk7XG59XG4iLAogICAgImltcG9ydCB7IEV4dHJhY3QgfSBmcm9tICcuL2V4dHJhY3QubWpzJztcbmltcG9ydCB7IFRlbXBsYXRlTGl0ZXJhbFRvVW5pb24gfSBmcm9tICcuLi90ZW1wbGF0ZS1saXRlcmFsL2luZGV4Lm1qcyc7XG5leHBvcnQgZnVuY3Rpb24gRXh0cmFjdEZyb21UZW1wbGF0ZUxpdGVyYWwoTCwgUikge1xuICAgIHJldHVybiBFeHRyYWN0KFRlbXBsYXRlTGl0ZXJhbFRvVW5pb24oTCksIFIpO1xufVxuIiwKICAgICJpbXBvcnQgeyBVbmlvbiB9IGZyb20gJy4uL3VuaW9uL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBOZXZlciB9IGZyb20gJy4uL25ldmVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBFeHRlbmRzQ2hlY2ssIEV4dGVuZHNSZXN1bHQgfSBmcm9tICcuLi9leHRlbmRzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDbG9uZVR5cGUgfSBmcm9tICcuLi9jbG9uZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBFeHRyYWN0RnJvbU1hcHBlZFJlc3VsdCB9IGZyb20gJy4vZXh0cmFjdC1mcm9tLW1hcHBlZC1yZXN1bHQubWpzJztcbmltcG9ydCB7IEV4dHJhY3RGcm9tVGVtcGxhdGVMaXRlcmFsIH0gZnJvbSAnLi9leHRyYWN0LWZyb20tdGVtcGxhdGUtbGl0ZXJhbC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUeXBlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNNYXBwZWRSZXN1bHQsIElzVGVtcGxhdGVMaXRlcmFsLCBJc1VuaW9uIH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuZnVuY3Rpb24gRXh0cmFjdFJlc3QoTCwgUikge1xuICAgIGNvbnN0IGV4dHJhY3RlZCA9IEwuZmlsdGVyKChpbm5lcikgPT4gRXh0ZW5kc0NoZWNrKGlubmVyLCBSKSAhPT0gRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG4gICAgcmV0dXJuIGV4dHJhY3RlZC5sZW5ndGggPT09IDEgPyBleHRyYWN0ZWRbMF0gOiBVbmlvbihleHRyYWN0ZWQpO1xufVxuLyoqIGBbSnNvbl1gIENvbnN0cnVjdHMgYSB0eXBlIGJ5IGV4dHJhY3RpbmcgZnJvbSB0eXBlIGFsbCB1bmlvbiBtZW1iZXJzIHRoYXQgYXJlIGFzc2lnbmFibGUgdG8gdW5pb24gKi9cbmV4cG9ydCBmdW5jdGlvbiBFeHRyYWN0KEwsIFIsIG9wdGlvbnMgPSB7fSkge1xuICAgIC8vIG92ZXJsb2Fkc1xuICAgIGlmIChJc1RlbXBsYXRlTGl0ZXJhbChMKSlcbiAgICAgICAgcmV0dXJuIENsb25lVHlwZShFeHRyYWN0RnJvbVRlbXBsYXRlTGl0ZXJhbChMLCBSKSwgb3B0aW9ucyk7XG4gICAgaWYgKElzTWFwcGVkUmVzdWx0KEwpKVxuICAgICAgICByZXR1cm4gQ2xvbmVUeXBlKEV4dHJhY3RGcm9tTWFwcGVkUmVzdWx0KEwsIFIpLCBvcHRpb25zKTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gQ2xvbmVUeXBlKElzVW5pb24oTCkgPyBFeHRyYWN0UmVzdChMLmFueU9mLCBSKSA6XG4gICAgICAgIEV4dGVuZHNDaGVjayhMLCBSKSAhPT0gRXh0ZW5kc1Jlc3VsdC5GYWxzZSA/IEwgOiBOZXZlcigpLCBvcHRpb25zKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi4vbWFwcGVkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBFeHRyYWN0IH0gZnJvbSAnLi9leHRyYWN0Lm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9wZXJ0aWVzKFAsIFQpIHtcbiAgICBjb25zdCBBY2MgPSB7fTtcbiAgICBmb3IgKGNvbnN0IEsyIG9mIGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoUCkpXG4gICAgICAgIEFjY1tLMl0gPSBFeHRyYWN0KFBbSzJdLCBUKTtcbiAgICByZXR1cm4gQWNjO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTWFwcGVkUmVzdWx0KFIsIFQpIHtcbiAgICByZXR1cm4gRnJvbVByb3BlcnRpZXMoUi5wcm9wZXJ0aWVzLCBUKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIEV4dHJhY3RGcm9tTWFwcGVkUmVzdWx0KFIsIFQpIHtcbiAgICBjb25zdCBQID0gRnJvbU1hcHBlZFJlc3VsdChSLCBUKTtcbiAgICByZXR1cm4gTWFwcGVkUmVzdWx0KFApO1xufVxuIiwKICAgICJpbXBvcnQgeyBDbG9uZVR5cGUgfSBmcm9tICcuLi9jbG9uZS90eXBlLm1qcyc7XG4vKiogYFtKYXZhU2NyaXB0XWAgRXh0cmFjdHMgdGhlIEluc3RhbmNlVHlwZSBmcm9tIHRoZSBnaXZlbiBDb25zdHJ1Y3RvciB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gSW5zdGFuY2VUeXBlKHNjaGVtYSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIENsb25lVHlwZShzY2hlbWEucmV0dXJucywgb3B0aW9ucyk7XG59XG4iLAogICAgImltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhbiBJbnRlZ2VyIHR5cGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBJbnRlZ2VyKG9wdGlvbnMgPSB7fSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIFtLaW5kXTogJ0ludGVnZXInLFxuICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgfTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi4vbWFwcGVkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBJbnRyaW5zaWMgfSBmcm9tICcuL2ludHJpbnNpYy5tanMnO1xuaW1wb3J0IHsgTGl0ZXJhbCB9IGZyb20gJy4uL2xpdGVyYWwvaW5kZXgubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gTWFwcGVkSW50cmluc2ljUHJvcGVydHlLZXkoSywgTSwgb3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICAgIFtLXTogSW50cmluc2ljKExpdGVyYWwoSyksIE0sIG9wdGlvbnMpXG4gICAgfTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gTWFwcGVkSW50cmluc2ljUHJvcGVydHlLZXlzKEssIE0sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gSy5yZWR1Y2UoKEFjYywgTCkgPT4ge1xuICAgICAgICByZXR1cm4geyAuLi5BY2MsIC4uLk1hcHBlZEludHJpbnNpY1Byb3BlcnR5S2V5KEwsIE0sIG9wdGlvbnMpIH07XG4gICAgfSwge30pO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBNYXBwZWRJbnRyaW5zaWNQcm9wZXJ0aWVzKFQsIE0sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gTWFwcGVkSW50cmluc2ljUHJvcGVydHlLZXlzKFRbJ2tleXMnXSwgTSwgb3B0aW9ucyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBJbnRyaW5zaWNGcm9tTWFwcGVkS2V5KFQsIE0sIG9wdGlvbnMpIHtcbiAgICBjb25zdCBQID0gTWFwcGVkSW50cmluc2ljUHJvcGVydGllcyhULCBNLCBvcHRpb25zKTtcbiAgICByZXR1cm4gTWFwcGVkUmVzdWx0KFApO1xufVxuIiwKICAgICJpbXBvcnQgeyBUZW1wbGF0ZUxpdGVyYWwsIFRlbXBsYXRlTGl0ZXJhbFBhcnNlRXhhY3QsIElzVGVtcGxhdGVMaXRlcmFsRXhwcmVzc2lvbkZpbml0ZSwgVGVtcGxhdGVMaXRlcmFsRXhwcmVzc2lvbkdlbmVyYXRlIH0gZnJvbSAnLi4vdGVtcGxhdGUtbGl0ZXJhbC9pbmRleC5tanMnO1xuaW1wb3J0IHsgSW50cmluc2ljRnJvbU1hcHBlZEtleSB9IGZyb20gJy4vaW50cmluc2ljLWZyb20tbWFwcGVkLWtleS5tanMnO1xuaW1wb3J0IHsgTGl0ZXJhbCB9IGZyb20gJy4uL2xpdGVyYWwvaW5kZXgubWpzJztcbmltcG9ydCB7IFVuaW9uIH0gZnJvbSAnLi4vdW5pb24vaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzTWFwcGVkS2V5LCBJc1RlbXBsYXRlTGl0ZXJhbCwgSXNVbmlvbiwgSXNMaXRlcmFsIH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBBcHBseVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBBcHBseVVuY2FwaXRhbGl6ZSh2YWx1ZSkge1xuICAgIGNvbnN0IFtmaXJzdCwgcmVzdF0gPSBbdmFsdWUuc2xpY2UoMCwgMSksIHZhbHVlLnNsaWNlKDEpXTtcbiAgICByZXR1cm4gW2ZpcnN0LnRvTG93ZXJDYXNlKCksIHJlc3RdLmpvaW4oJycpO1xufVxuZnVuY3Rpb24gQXBwbHlDYXBpdGFsaXplKHZhbHVlKSB7XG4gICAgY29uc3QgW2ZpcnN0LCByZXN0XSA9IFt2YWx1ZS5zbGljZSgwLCAxKSwgdmFsdWUuc2xpY2UoMSldO1xuICAgIHJldHVybiBbZmlyc3QudG9VcHBlckNhc2UoKSwgcmVzdF0uam9pbignJyk7XG59XG5mdW5jdGlvbiBBcHBseVVwcGVyY2FzZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS50b1VwcGVyQ2FzZSgpO1xufVxuZnVuY3Rpb24gQXBwbHlMb3dlcmNhc2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKTtcbn1cbmZ1bmN0aW9uIEZyb21UZW1wbGF0ZUxpdGVyYWwoc2NoZW1hLCBtb2RlLCBvcHRpb25zKSB7XG4gICAgLy8gbm90ZTogdGVtcGxhdGUgbGl0ZXJhbHMgcmVxdWlyZSBzcGVjaWFsIHJ1bnRpbWUgaGFuZGxpbmcgYXMgdGhleSBhcmUgZW5jb2RlZCBpbiBzdHJpbmcgcGF0dGVybnMuXG4gICAgLy8gVGhpcyBkaXZlcmdlcyBmcm9tIHRoZSBtYXBwZWQgdHlwZSB3aGljaCB3b3VsZCBvdGhlcndpc2UgbWFwIG9uIHRoZSB0ZW1wbGF0ZSBsaXRlcmFsIGtpbmQuXG4gICAgY29uc3QgZXhwcmVzc2lvbiA9IFRlbXBsYXRlTGl0ZXJhbFBhcnNlRXhhY3Qoc2NoZW1hLnBhdHRlcm4pO1xuICAgIGNvbnN0IGZpbml0ZSA9IElzVGVtcGxhdGVMaXRlcmFsRXhwcmVzc2lvbkZpbml0ZShleHByZXNzaW9uKTtcbiAgICBpZiAoIWZpbml0ZSlcbiAgICAgICAgcmV0dXJuIHsgLi4uc2NoZW1hLCBwYXR0ZXJuOiBGcm9tTGl0ZXJhbFZhbHVlKHNjaGVtYS5wYXR0ZXJuLCBtb2RlKSB9O1xuICAgIGNvbnN0IHN0cmluZ3MgPSBbLi4uVGVtcGxhdGVMaXRlcmFsRXhwcmVzc2lvbkdlbmVyYXRlKGV4cHJlc3Npb24pXTtcbiAgICBjb25zdCBsaXRlcmFscyA9IHN0cmluZ3MubWFwKCh2YWx1ZSkgPT4gTGl0ZXJhbCh2YWx1ZSkpO1xuICAgIGNvbnN0IG1hcHBlZCA9IEZyb21SZXN0KGxpdGVyYWxzLCBtb2RlKTtcbiAgICBjb25zdCB1bmlvbiA9IFVuaW9uKG1hcHBlZCk7XG4gICAgcmV0dXJuIFRlbXBsYXRlTGl0ZXJhbChbdW5pb25dLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUxpdGVyYWxWYWx1ZSh2YWx1ZSwgbW9kZSkge1xuICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IChtb2RlID09PSAnVW5jYXBpdGFsaXplJyA/IEFwcGx5VW5jYXBpdGFsaXplKHZhbHVlKSA6XG4gICAgICAgIG1vZGUgPT09ICdDYXBpdGFsaXplJyA/IEFwcGx5Q2FwaXRhbGl6ZSh2YWx1ZSkgOlxuICAgICAgICAgICAgbW9kZSA9PT0gJ1VwcGVyY2FzZScgPyBBcHBseVVwcGVyY2FzZSh2YWx1ZSkgOlxuICAgICAgICAgICAgICAgIG1vZGUgPT09ICdMb3dlcmNhc2UnID8gQXBwbHlMb3dlcmNhc2UodmFsdWUpIDpcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUpIDogdmFsdWUudG9TdHJpbmcoKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZXN0KFQsIE0pIHtcbiAgICByZXR1cm4gVC5tYXAoTCA9PiBJbnRyaW5zaWMoTCwgTSkpO1xufVxuLyoqIEFwcGxpZXMgYW4gaW50cmluc2ljIHN0cmluZyBtYW5pcHVsYXRpb24gdG8gdGhlIGdpdmVuIHR5cGUuICovXG5leHBvcnQgZnVuY3Rpb24gSW50cmluc2ljKHNjaGVtYSwgbW9kZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChcbiAgICAvLyBJbnRyaW5zaWMtTWFwcGVkLUluZmVyZW5jZVxuICAgIElzTWFwcGVkS2V5KHNjaGVtYSkgPyBJbnRyaW5zaWNGcm9tTWFwcGVkS2V5KHNjaGVtYSwgbW9kZSwgb3B0aW9ucykgOlxuICAgICAgICAvLyBTdGFuZGFyZC1JbmZlcmVuY2VcbiAgICAgICAgSXNUZW1wbGF0ZUxpdGVyYWwoc2NoZW1hKSA/IEZyb21UZW1wbGF0ZUxpdGVyYWwoc2NoZW1hLCBtb2RlLCBzY2hlbWEpIDpcbiAgICAgICAgICAgIElzVW5pb24oc2NoZW1hKSA/IFVuaW9uKEZyb21SZXN0KHNjaGVtYS5hbnlPZiwgbW9kZSksIG9wdGlvbnMpIDpcbiAgICAgICAgICAgICAgICBJc0xpdGVyYWwoc2NoZW1hKSA/IExpdGVyYWwoRnJvbUxpdGVyYWxWYWx1ZShzY2hlbWEuY29uc3QsIG1vZGUpLCBvcHRpb25zKSA6XG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYSk7XG59XG4iLAogICAgImltcG9ydCB7IEludHJpbnNpYyB9IGZyb20gJy4vaW50cmluc2ljLm1qcyc7XG4vKiogYFtKc29uXWAgSW50cmluc2ljIGZ1bmN0aW9uIHRvIENhcGl0YWxpemUgTGl0ZXJhbFN0cmluZyB0eXBlcyAqL1xuZXhwb3J0IGZ1bmN0aW9uIENhcGl0YWxpemUoVCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIEludHJpbnNpYyhULCAnQ2FwaXRhbGl6ZScsIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBJbnRyaW5zaWMgfSBmcm9tICcuL2ludHJpbnNpYy5tanMnO1xuLyoqIGBbSnNvbl1gIEludHJpbnNpYyBmdW5jdGlvbiB0byBMb3dlcmNhc2UgTGl0ZXJhbFN0cmluZyB0eXBlcyAqL1xuZXhwb3J0IGZ1bmN0aW9uIExvd2VyY2FzZShULCBvcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4gSW50cmluc2ljKFQsICdMb3dlcmNhc2UnLCBvcHRpb25zKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgSW50cmluc2ljIH0gZnJvbSAnLi9pbnRyaW5zaWMubWpzJztcbi8qKiBgW0pzb25dYCBJbnRyaW5zaWMgZnVuY3Rpb24gdG8gVW5jYXBpdGFsaXplIExpdGVyYWxTdHJpbmcgdHlwZXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBVbmNhcGl0YWxpemUoVCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIEludHJpbnNpYyhULCAnVW5jYXBpdGFsaXplJywgb3B0aW9ucyk7XG59XG4iLAogICAgImltcG9ydCB7IEludHJpbnNpYyB9IGZyb20gJy4vaW50cmluc2ljLm1qcyc7XG4vKiogYFtKc29uXWAgSW50cmluc2ljIGZ1bmN0aW9uIHRvIFVwcGVyY2FzZSBMaXRlcmFsU3RyaW5nIHR5cGVzICovXG5leHBvcnQgZnVuY3Rpb24gVXBwZXJjYXNlKFQsIG9wdGlvbnMgPSB7fSkge1xuICAgIHJldHVybiBJbnRyaW5zaWMoVCwgJ1VwcGVyY2FzZScsIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBDbG9uZVR5cGUgfSBmcm9tICcuLi9jbG9uZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYSBOb3QgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIE5vdChzY2hlbWEsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBbS2luZF06ICdOb3QnLFxuICAgICAgICBub3Q6IENsb25lVHlwZShzY2hlbWEpLFxuICAgIH07XG59XG4iLAogICAgImltcG9ydCB7IE1hcHBlZFJlc3VsdCB9IGZyb20gJy4uL21hcHBlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgT21pdCB9IGZyb20gJy4vb21pdC5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydGllcyhQLCBLLCBvcHRpb25zKSB7XG4gICAgY29uc3QgQWNjID0ge307XG4gICAgZm9yIChjb25zdCBLMiBvZiBnbG9iYWxUaGlzLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKFApKVxuICAgICAgICBBY2NbSzJdID0gT21pdChQW0syXSwgSywgb3B0aW9ucyk7XG4gICAgcmV0dXJuIEFjYztcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbU1hcHBlZFJlc3VsdChSLCBLLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIEZyb21Qcm9wZXJ0aWVzKFIucHJvcGVydGllcywgSywgb3B0aW9ucyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBPbWl0RnJvbU1hcHBlZFJlc3VsdChSLCBLLCBvcHRpb25zKSB7XG4gICAgY29uc3QgUCA9IEZyb21NYXBwZWRSZXN1bHQoUiwgSywgb3B0aW9ucyk7XG4gICAgcmV0dXJuIE1hcHBlZFJlc3VsdChQKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgSW50ZXJzZWN0IH0gZnJvbSAnLi4vaW50ZXJzZWN0L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBVbmlvbiB9IGZyb20gJy4uL3VuaW9uL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBPYmplY3QgfSBmcm9tICcuLi9vYmplY3QvaW5kZXgubWpzJztcbmltcG9ydCB7IEluZGV4UHJvcGVydHlLZXlzIH0gZnJvbSAnLi4vaW5kZXhlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgRGlzY2FyZCB9IGZyb20gJy4uL2Rpc2NhcmQvaW5kZXgubWpzJztcbmltcG9ydCB7IFRyYW5zZm9ybUtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDbG9uZVR5cGUgfSBmcm9tICcuLi9jbG9uZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBPbWl0RnJvbU1hcHBlZEtleSB9IGZyb20gJy4vb21pdC1mcm9tLW1hcHBlZC1rZXkubWpzJztcbmltcG9ydCB7IE9taXRGcm9tTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi9vbWl0LWZyb20tbWFwcGVkLXJlc3VsdC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUeXBlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNNYXBwZWRLZXksIElzSW50ZXJzZWN0LCBJc1VuaW9uLCBJc09iamVjdCwgSXNTY2hlbWEsIElzTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tSW50ZXJzZWN0KFQsIEspIHtcbiAgICByZXR1cm4gVC5tYXAoKFQpID0+IE9taXRSZXNvbHZlKFQsIEspKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVVuaW9uKFQsIEspIHtcbiAgICByZXR1cm4gVC5tYXAoKFQpID0+IE9taXRSZXNvbHZlKFQsIEspKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRnJvbVByb3BlcnR5XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnR5KFQsIEspIHtcbiAgICBjb25zdCB7IFtLXTogXywgLi4uUiB9ID0gVDtcbiAgICByZXR1cm4gUjtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnRpZXMoVCwgSykge1xuICAgIHJldHVybiBLLnJlZHVjZSgoVCwgSzIpID0+IEZyb21Qcm9wZXJ0eShULCBLMiksIFQpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBPbWl0UmVzb2x2ZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIE9taXRSZXNvbHZlKFQsIEspIHtcbiAgICByZXR1cm4gKElzSW50ZXJzZWN0KFQpID8gSW50ZXJzZWN0KEZyb21JbnRlcnNlY3QoVC5hbGxPZiwgSykpIDpcbiAgICAgICAgSXNVbmlvbihUKSA/IFVuaW9uKEZyb21VbmlvbihULmFueU9mLCBLKSkgOlxuICAgICAgICAgICAgSXNPYmplY3QoVCkgPyBPYmplY3QoRnJvbVByb3BlcnRpZXMoVC5wcm9wZXJ0aWVzLCBLKSkgOlxuICAgICAgICAgICAgICAgIE9iamVjdCh7fSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIE9taXQoVCwgSywgb3B0aW9ucyA9IHt9KSB7XG4gICAgLy8gbWFwcGVkXG4gICAgaWYgKElzTWFwcGVkS2V5KEspKVxuICAgICAgICByZXR1cm4gT21pdEZyb21NYXBwZWRLZXkoVCwgSywgb3B0aW9ucyk7XG4gICAgaWYgKElzTWFwcGVkUmVzdWx0KFQpKVxuICAgICAgICByZXR1cm4gT21pdEZyb21NYXBwZWRSZXN1bHQoVCwgSywgb3B0aW9ucyk7XG4gICAgLy8gbm9uLW1hcHBlZFxuICAgIGNvbnN0IEkgPSBJc1NjaGVtYShLKSA/IEluZGV4UHJvcGVydHlLZXlzKEspIDogSztcbiAgICBjb25zdCBEID0gRGlzY2FyZChULCBbVHJhbnNmb3JtS2luZCwgJyRpZCcsICdyZXF1aXJlZCddKTtcbiAgICBjb25zdCBSID0gQ2xvbmVUeXBlKE9taXRSZXNvbHZlKFQsIEkpLCBvcHRpb25zKTtcbiAgICByZXR1cm4geyAuLi5ELCAuLi5SIH07XG59XG4iLAogICAgImltcG9ydCB7IE1hcHBlZFJlc3VsdCB9IGZyb20gJy4uL21hcHBlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgT21pdCB9IGZyb20gJy4vb21pdC5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydHlLZXkoVCwgSywgb3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICAgIFtLXTogT21pdChULCBbS10sIG9wdGlvbnMpXG4gICAgfTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnR5S2V5cyhULCBLLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIEsucmVkdWNlKChBY2MsIExLKSA9PiB7XG4gICAgICAgIHJldHVybiB7IC4uLkFjYywgLi4uRnJvbVByb3BlcnR5S2V5KFQsIExLLCBvcHRpb25zKSB9O1xuICAgIH0sIHt9KTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbU1hcHBlZEtleShULCBLLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIEZyb21Qcm9wZXJ0eUtleXMoVCwgSy5rZXlzLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIE9taXRGcm9tTWFwcGVkS2V5KFQsIEssIG9wdGlvbnMpIHtcbiAgICBjb25zdCBQID0gRnJvbU1hcHBlZEtleShULCBLLCBvcHRpb25zKTtcbiAgICByZXR1cm4gTWFwcGVkUmVzdWx0KFApO1xufVxuIiwKICAgICJpbXBvcnQgeyBUdXBsZSB9IGZyb20gJy4uL3R1cGxlL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDbG9uZVJlc3QgfSBmcm9tICcuLi9jbG9uZS90eXBlLm1qcyc7XG4vKiogYFtKYXZhU2NyaXB0XWAgRXh0cmFjdHMgdGhlIFBhcmFtZXRlcnMgZnJvbSB0aGUgZ2l2ZW4gRnVuY3Rpb24gdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIFBhcmFtZXRlcnMoc2NoZW1hLCBvcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4gVHVwbGUoQ2xvbmVSZXN0KHNjaGVtYS5wYXJhbWV0ZXJzKSwgeyAuLi5vcHRpb25zIH0pO1xufVxuIiwKICAgICJpbXBvcnQgeyBPcHRpb25hbCB9IGZyb20gJy4uL29wdGlvbmFsL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBPYmplY3QgfSBmcm9tICcuLi9vYmplY3QvaW5kZXgubWpzJztcbmltcG9ydCB7IEludGVyc2VjdCB9IGZyb20gJy4uL2ludGVyc2VjdC9pbmRleC5tanMnO1xuaW1wb3J0IHsgVW5pb24gfSBmcm9tICcuLi91bmlvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgRGlzY2FyZCB9IGZyb20gJy4uL2Rpc2NhcmQvaW5kZXgubWpzJztcbmltcG9ydCB7IFRyYW5zZm9ybUtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDbG9uZVR5cGUgfSBmcm9tICcuLi9jbG9uZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBQYXJ0aWFsRnJvbU1hcHBlZFJlc3VsdCB9IGZyb20gJy4vcGFydGlhbC1mcm9tLW1hcHBlZC1yZXN1bHQubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzTWFwcGVkUmVzdWx0LCBJc0ludGVyc2VjdCwgSXNVbmlvbiwgSXNPYmplY3QgfSBmcm9tICcuLi9ndWFyZC9raW5kLm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZXN0KFQpIHtcbiAgICByZXR1cm4gVC5tYXAoTCA9PiBQYXJ0aWFsUmVzb2x2ZShMKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9wZXJ0aWVzKFQpIHtcbiAgICBjb25zdCBBY2MgPSB7fTtcbiAgICBmb3IgKGNvbnN0IEsgb2YgZ2xvYmFsVGhpcy5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhUKSlcbiAgICAgICAgQWNjW0tdID0gT3B0aW9uYWwoVFtLXSk7XG4gICAgcmV0dXJuIEFjYztcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUGFydGlhbFJlc29sdmVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBQYXJ0aWFsUmVzb2x2ZShUKSB7XG4gICAgcmV0dXJuIChJc0ludGVyc2VjdChUKSA/IEludGVyc2VjdChGcm9tUmVzdChULmFsbE9mKSkgOlxuICAgICAgICBJc1VuaW9uKFQpID8gVW5pb24oRnJvbVJlc3QoVC5hbnlPZikpIDpcbiAgICAgICAgICAgIElzT2JqZWN0KFQpID8gT2JqZWN0KEZyb21Qcm9wZXJ0aWVzKFQucHJvcGVydGllcykpIDpcbiAgICAgICAgICAgICAgICBPYmplY3Qoe30pKTtcbn1cbi8qKiBgW0pzb25dYCBDb25zdHJ1Y3RzIGEgdHlwZSB3aGVyZSBhbGwgcHJvcGVydGllcyBhcmUgb3B0aW9uYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBQYXJ0aWFsKFQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmIChJc01hcHBlZFJlc3VsdChUKSlcbiAgICAgICAgcmV0dXJuIFBhcnRpYWxGcm9tTWFwcGVkUmVzdWx0KFQsIG9wdGlvbnMpO1xuICAgIGNvbnN0IEQgPSBEaXNjYXJkKFQsIFtUcmFuc2Zvcm1LaW5kLCAnJGlkJywgJ3JlcXVpcmVkJ10pO1xuICAgIGNvbnN0IFIgPSBDbG9uZVR5cGUoUGFydGlhbFJlc29sdmUoVCksIG9wdGlvbnMpO1xuICAgIHJldHVybiB7IC4uLkQsIC4uLlIgfTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi4vbWFwcGVkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBQYXJ0aWFsIH0gZnJvbSAnLi9wYXJ0aWFsLm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9wZXJ0aWVzKEssIG9wdGlvbnMpIHtcbiAgICBjb25zdCBBY2MgPSB7fTtcbiAgICBmb3IgKGNvbnN0IEsyIG9mIGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoSykpXG4gICAgICAgIEFjY1tLMl0gPSBQYXJ0aWFsKEtbSzJdLCBvcHRpb25zKTtcbiAgICByZXR1cm4gQWNjO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTWFwcGVkUmVzdWx0KFIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gRnJvbVByb3BlcnRpZXMoUi5wcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIFBhcnRpYWxGcm9tTWFwcGVkUmVzdWx0KFIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBQID0gRnJvbU1hcHBlZFJlc3VsdChSLCBvcHRpb25zKTtcbiAgICByZXR1cm4gTWFwcGVkUmVzdWx0KFApO1xufVxuIiwKICAgICJpbXBvcnQgeyBNYXBwZWRSZXN1bHQgfSBmcm9tICcuLi9tYXBwZWQvaW5kZXgubWpzJztcbmltcG9ydCB7IFBpY2sgfSBmcm9tICcuL3BpY2subWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnRpZXMoUCwgSywgb3B0aW9ucykge1xuICAgIGNvbnN0IEFjYyA9IHt9O1xuICAgIGZvciAoY29uc3QgSzIgb2YgZ2xvYmFsVGhpcy5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhQKSlcbiAgICAgICAgQWNjW0syXSA9IFBpY2soUFtLMl0sIEssIG9wdGlvbnMpO1xuICAgIHJldHVybiBBY2M7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21NYXBwZWRSZXN1bHQoUiwgSywgb3B0aW9ucykge1xuICAgIHJldHVybiBGcm9tUHJvcGVydGllcyhSLnByb3BlcnRpZXMsIEssIG9wdGlvbnMpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gUGlja0Zyb21NYXBwZWRSZXN1bHQoUiwgSywgb3B0aW9ucykge1xuICAgIGNvbnN0IFAgPSBGcm9tTWFwcGVkUmVzdWx0KFIsIEssIG9wdGlvbnMpO1xuICAgIHJldHVybiBNYXBwZWRSZXN1bHQoUCk7XG59XG4iLAogICAgImltcG9ydCB7IEludGVyc2VjdCB9IGZyb20gJy4uL2ludGVyc2VjdC9pbmRleC5tanMnO1xuaW1wb3J0IHsgVW5pb24gfSBmcm9tICcuLi91bmlvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgT2JqZWN0IH0gZnJvbSAnLi4vb2JqZWN0L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBJbmRleFByb3BlcnR5S2V5cyB9IGZyb20gJy4uL2luZGV4ZWQvaW5kZXgubWpzJztcbmltcG9ydCB7IERpc2NhcmQgfSBmcm9tICcuLi9kaXNjYXJkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUcmFuc2Zvcm1LaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2xvbmVUeXBlIH0gZnJvbSAnLi4vY2xvbmUvdHlwZS5tanMnO1xuaW1wb3J0IHsgUGlja0Zyb21NYXBwZWRLZXkgfSBmcm9tICcuL3BpY2stZnJvbS1tYXBwZWQta2V5Lm1qcyc7XG5pbXBvcnQgeyBQaWNrRnJvbU1hcHBlZFJlc3VsdCB9IGZyb20gJy4vcGljay1mcm9tLW1hcHBlZC1yZXN1bHQubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzTWFwcGVkS2V5LCBJc01hcHBlZFJlc3VsdCwgSXNJbnRlcnNlY3QsIElzVW5pb24sIElzT2JqZWN0LCBJc1NjaGVtYSB9IGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbmZ1bmN0aW9uIEZyb21JbnRlcnNlY3QoVCwgSykge1xuICAgIHJldHVybiBULm1hcCgoVCkgPT4gUGlja1Jlc29sdmUoVCwgSykpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVW5pb24oVCwgSykge1xuICAgIHJldHVybiBULm1hcCgoVCkgPT4gUGlja1Jlc29sdmUoVCwgSykpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydGllcyhULCBLKSB7XG4gICAgY29uc3QgQWNjID0ge307XG4gICAgZm9yIChjb25zdCBLMiBvZiBLKVxuICAgICAgICBpZiAoSzIgaW4gVClcbiAgICAgICAgICAgIEFjY1tLMl0gPSBUW0syXTtcbiAgICByZXR1cm4gQWNjO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBQaWNrUmVzb2x2ZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFBpY2tSZXNvbHZlKFQsIEspIHtcbiAgICByZXR1cm4gKElzSW50ZXJzZWN0KFQpID8gSW50ZXJzZWN0KEZyb21JbnRlcnNlY3QoVC5hbGxPZiwgSykpIDpcbiAgICAgICAgSXNVbmlvbihUKSA/IFVuaW9uKEZyb21VbmlvbihULmFueU9mLCBLKSkgOlxuICAgICAgICAgICAgSXNPYmplY3QoVCkgPyBPYmplY3QoRnJvbVByb3BlcnRpZXMoVC5wcm9wZXJ0aWVzLCBLKSkgOlxuICAgICAgICAgICAgICAgIE9iamVjdCh7fSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIFBpY2soVCwgSywgb3B0aW9ucyA9IHt9KSB7XG4gICAgLy8gbWFwcGVkXG4gICAgaWYgKElzTWFwcGVkS2V5KEspKVxuICAgICAgICByZXR1cm4gUGlja0Zyb21NYXBwZWRLZXkoVCwgSywgb3B0aW9ucyk7XG4gICAgaWYgKElzTWFwcGVkUmVzdWx0KFQpKVxuICAgICAgICByZXR1cm4gUGlja0Zyb21NYXBwZWRSZXN1bHQoVCwgSywgb3B0aW9ucyk7XG4gICAgLy8gbm9uLW1hcHBlZFxuICAgIGNvbnN0IEkgPSBJc1NjaGVtYShLKSA/IEluZGV4UHJvcGVydHlLZXlzKEspIDogSztcbiAgICBjb25zdCBEID0gRGlzY2FyZChULCBbVHJhbnNmb3JtS2luZCwgJyRpZCcsICdyZXF1aXJlZCddKTtcbiAgICBjb25zdCBSID0gQ2xvbmVUeXBlKFBpY2tSZXNvbHZlKFQsIEkpLCBvcHRpb25zKTtcbiAgICByZXR1cm4geyAuLi5ELCAuLi5SIH07XG59XG4iLAogICAgImltcG9ydCB7IE1hcHBlZFJlc3VsdCB9IGZyb20gJy4uL21hcHBlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgUGljayB9IGZyb20gJy4vcGljay5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydHlLZXkoVCwgSywgb3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICAgIFtLXTogUGljayhULCBbS10sIG9wdGlvbnMpXG4gICAgfTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnR5S2V5cyhULCBLLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIEsucmVkdWNlKChBY2MsIExLKSA9PiB7XG4gICAgICAgIHJldHVybiB7IC4uLkFjYywgLi4uRnJvbVByb3BlcnR5S2V5KFQsIExLLCBvcHRpb25zKSB9O1xuICAgIH0sIHt9KTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbU1hcHBlZEtleShULCBLLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIEZyb21Qcm9wZXJ0eUtleXMoVCwgSy5rZXlzLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIFBpY2tGcm9tTWFwcGVkS2V5KFQsIEssIG9wdGlvbnMpIHtcbiAgICBjb25zdCBQID0gRnJvbU1hcHBlZEtleShULCBLLCBvcHRpb25zKTtcbiAgICByZXR1cm4gTWFwcGVkUmVzdWx0KFApO1xufVxuIiwKICAgICJpbXBvcnQgeyBSZWFkb25seSB9IGZyb20gJy4uL3JlYWRvbmx5L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBPcHRpb25hbCB9IGZyb20gJy4uL29wdGlvbmFsL2luZGV4Lm1qcyc7XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhIFJlYWRvbmx5IGFuZCBPcHRpb25hbCBwcm9wZXJ0eSAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlYWRvbmx5T3B0aW9uYWwoc2NoZW1hKSB7XG4gICAgcmV0dXJuIFJlYWRvbmx5KE9wdGlvbmFsKHNjaGVtYSkpO1xufVxuIiwKICAgICJpbXBvcnQgeyBPYmplY3QgfSBmcm9tICcuLi9vYmplY3QvaW5kZXgubWpzJztcbmltcG9ydCB7IE5ldmVyIH0gZnJvbSAnLi4vbmV2ZXIvaW5kZXgubWpzJztcbmltcG9ydCB7IFVuaW9uIH0gZnJvbSAnLi4vdW5pb24vaW5kZXgubWpzJztcbmltcG9ydCB7IElzVGVtcGxhdGVMaXRlcmFsRmluaXRlIH0gZnJvbSAnLi4vdGVtcGxhdGUtbGl0ZXJhbC9pbmRleC5tanMnO1xuaW1wb3J0IHsgUGF0dGVyblN0cmluZ0V4YWN0LCBQYXR0ZXJuTnVtYmVyRXhhY3QgfSBmcm9tICcuLi9wYXR0ZXJucy9pbmRleC5tanMnO1xuaW1wb3J0IHsgSW5kZXhQcm9wZXJ0eUtleXMgfSBmcm9tICcuLi9pbmRleGVkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLaW5kLCBIaW50IH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2xvbmVUeXBlIH0gZnJvbSAnLi4vY2xvbmUvdHlwZS5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBWYWx1ZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzVW5kZWZpbmVkIH0gZnJvbSAnLi4vZ3VhcmQvdmFsdWUubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzSW50ZWdlciwgSXNMaXRlcmFsLCBJc051bWJlciwgSXNTdHJpbmcsIElzUmVnRXhwLCBJc1RlbXBsYXRlTGl0ZXJhbCwgSXNVbmlvbiB9IGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUmVjb3JkQ3JlYXRlRnJvbVBhdHRlcm5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBSZWNvcmRDcmVhdGVGcm9tUGF0dGVybihwYXR0ZXJuLCBULCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgW0tpbmRdOiAnUmVjb3JkJyxcbiAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgIHBhdHRlcm5Qcm9wZXJ0aWVzOiB7IFtwYXR0ZXJuXTogQ2xvbmVUeXBlKFQpIH1cbiAgICB9O1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBSZWNvcmRDcmVhdGVGcm9tS2V5c1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFJlY29yZENyZWF0ZUZyb21LZXlzKEssIFQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBBY2MgPSB7fTtcbiAgICBmb3IgKGNvbnN0IEsyIG9mIEspXG4gICAgICAgIEFjY1tLMl0gPSBDbG9uZVR5cGUoVCk7XG4gICAgcmV0dXJuIE9iamVjdChBY2MsIHsgLi4ub3B0aW9ucywgW0hpbnRdOiAnUmVjb3JkJyB9KTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVRlbXBsYXRlTGl0ZXJhbEtleShLLCBULCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIChJc1RlbXBsYXRlTGl0ZXJhbEZpbml0ZShLKVxuICAgICAgICA/IFJlY29yZENyZWF0ZUZyb21LZXlzKEluZGV4UHJvcGVydHlLZXlzKEspLCBULCBvcHRpb25zKVxuICAgICAgICA6IFJlY29yZENyZWF0ZUZyb21QYXR0ZXJuKEsucGF0dGVybiwgVCwgb3B0aW9ucykpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVW5pb25LZXkoSywgVCwgb3B0aW9ucykge1xuICAgIHJldHVybiBSZWNvcmRDcmVhdGVGcm9tS2V5cyhJbmRleFByb3BlcnR5S2V5cyhVbmlvbihLKSksIFQsIG9wdGlvbnMpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTGl0ZXJhbEtleShLLCBULCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIFJlY29yZENyZWF0ZUZyb21LZXlzKFtLLnRvU3RyaW5nKCldLCBULCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVJlZ0V4cEtleShLLCBULCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIFJlY29yZENyZWF0ZUZyb21QYXR0ZXJuKEsuc291cmNlLCBULCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVN0cmluZ0tleShLLCBULCBvcHRpb25zKSB7XG4gICAgY29uc3QgcGF0dGVybiA9IElzVW5kZWZpbmVkKEsucGF0dGVybikgPyBQYXR0ZXJuU3RyaW5nRXhhY3QgOiBLLnBhdHRlcm47XG4gICAgcmV0dXJuIFJlY29yZENyZWF0ZUZyb21QYXR0ZXJuKHBhdHRlcm4sIFQsIG9wdGlvbnMpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tSW50ZWdlcktleShfLCBULCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIFJlY29yZENyZWF0ZUZyb21QYXR0ZXJuKFBhdHRlcm5OdW1iZXJFeGFjdCwgVCwgb3B0aW9ucyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21OdW1iZXJLZXkoXywgVCwgb3B0aW9ucykge1xuICAgIHJldHVybiBSZWNvcmRDcmVhdGVGcm9tUGF0dGVybihQYXR0ZXJuTnVtYmVyRXhhY3QsIFQsIG9wdGlvbnMpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUUmVjb3JkT3JPYmplY3Rcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYSBSZWNvcmQgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlY29yZChLLCBULCBvcHRpb25zID0ge30pIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzVW5pb24oSykgPyBGcm9tVW5pb25LZXkoSy5hbnlPZiwgVCwgb3B0aW9ucykgOlxuICAgICAgICBJc1RlbXBsYXRlTGl0ZXJhbChLKSA/IEZyb21UZW1wbGF0ZUxpdGVyYWxLZXkoSywgVCwgb3B0aW9ucykgOlxuICAgICAgICAgICAgSXNMaXRlcmFsKEspID8gRnJvbUxpdGVyYWxLZXkoSy5jb25zdCwgVCwgb3B0aW9ucykgOlxuICAgICAgICAgICAgICAgIElzSW50ZWdlcihLKSA/IEZyb21JbnRlZ2VyS2V5KEssIFQsIG9wdGlvbnMpIDpcbiAgICAgICAgICAgICAgICAgICAgSXNOdW1iZXIoSykgPyBGcm9tTnVtYmVyS2V5KEssIFQsIG9wdGlvbnMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIElzUmVnRXhwKEspID8gRnJvbVJlZ0V4cEtleShLLCBULCBvcHRpb25zKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNTdHJpbmcoSykgPyBGcm9tU3RyaW5nS2V5KEssIFQsIG9wdGlvbnMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmV2ZXIob3B0aW9ucykpO1xufVxuIiwKICAgICJpbXBvcnQgeyBDbG9uZVR5cGUgfSBmcm9tICcuLi9jbG9uZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBJc1VuZGVmaW5lZCB9IGZyb20gJy4uL2d1YXJkL3ZhbHVlLm1qcyc7XG5pbXBvcnQgeyBLaW5kLCBIaW50IH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLy8gQXV0byBUcmFja2VkIEZvciBSZWN1cnNpdmUgVHlwZXMgd2l0aG91dCBJRCdzXG5sZXQgT3JkaW5hbCA9IDA7XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhIFJlY3Vyc2l2ZSB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gUmVjdXJzaXZlKGNhbGxiYWNrLCBvcHRpb25zID0ge30pIHtcbiAgICBpZiAoSXNVbmRlZmluZWQob3B0aW9ucy4kaWQpKVxuICAgICAgICBvcHRpb25zLiRpZCA9IGBUJHtPcmRpbmFsKyt9YDtcbiAgICBjb25zdCB0aGlzVHlwZSA9IGNhbGxiYWNrKHsgW0tpbmRdOiAnVGhpcycsICRyZWY6IGAke29wdGlvbnMuJGlkfWAgfSk7XG4gICAgdGhpc1R5cGUuJGlkID0gb3B0aW9ucy4kaWQ7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIENsb25lVHlwZSh7IC4uLm9wdGlvbnMsIFtIaW50XTogJ1JlY3Vyc2l2ZScsIC4uLnRoaXNUeXBlIH0pO1xufVxuIiwKICAgICJpbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBWYWx1ZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzU3RyaW5nLCBJc1VuZGVmaW5lZCB9IGZyb20gJy4uL2d1YXJkL3ZhbHVlLm1qcyc7XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhIFJlZiB0eXBlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlZih1bnJlc29sdmVkLCBvcHRpb25zID0ge30pIHtcbiAgICBpZiAoSXNTdHJpbmcodW5yZXNvbHZlZCkpXG4gICAgICAgIHJldHVybiB7IC4uLm9wdGlvbnMsIFtLaW5kXTogJ1JlZicsICRyZWY6IHVucmVzb2x2ZWQgfTtcbiAgICBpZiAoSXNVbmRlZmluZWQodW5yZXNvbHZlZC4kaWQpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZmVyZW5jZSB0YXJnZXQgdHlwZSBtdXN0IHNwZWNpZnkgYW4gJGlkJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgW0tpbmRdOiAnUmVmJyxcbiAgICAgICAgJHJlZjogdW5yZXNvbHZlZC4kaWQsXG4gICAgfTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgSXNTdHJpbmcgfSBmcm9tICcuLi9ndWFyZC92YWx1ZS5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8qKiBgW0phdmFTY3JpcHRdYCBDcmVhdGVzIGEgUmVnRXhwIHR5cGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBSZWdFeHAodW5yZXNvbHZlZCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgZXhwciA9IElzU3RyaW5nKHVucmVzb2x2ZWQpID8gbmV3IGdsb2JhbFRoaXMuUmVnRXhwKHVucmVzb2x2ZWQpIDogdW5yZXNvbHZlZDtcbiAgICByZXR1cm4geyAuLi5vcHRpb25zLCBbS2luZF06ICdSZWdFeHAnLCB0eXBlOiAnUmVnRXhwJywgc291cmNlOiBleHByLnNvdXJjZSwgZmxhZ3M6IGV4cHIuZmxhZ3MgfTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgSW50ZXJzZWN0IH0gZnJvbSAnLi4vaW50ZXJzZWN0L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBVbmlvbiB9IGZyb20gJy4uL3VuaW9uL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBPYmplY3QgfSBmcm9tICcuLi9vYmplY3QvaW5kZXgubWpzJztcbmltcG9ydCB7IE9wdGlvbmFsS2luZCwgVHJhbnNmb3JtS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IENsb25lVHlwZSB9IGZyb20gJy4uL2Nsb25lL3R5cGUubWpzJztcbmltcG9ydCB7IERpc2NhcmQgfSBmcm9tICcuLi9kaXNjYXJkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBSZXF1aXJlZEZyb21NYXBwZWRSZXN1bHQgfSBmcm9tICcuL3JlcXVpcmVkLWZyb20tbWFwcGVkLXJlc3VsdC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUeXBlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNNYXBwZWRSZXN1bHQsIElzSW50ZXJzZWN0LCBJc1VuaW9uLCBJc09iamVjdCB9IGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVJlc3QoVCkge1xuICAgIHJldHVybiBULm1hcChMID0+IFJlcXVpcmVkUmVzb2x2ZShMKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9wZXJ0aWVzKFQpIHtcbiAgICBjb25zdCBBY2MgPSB7fTtcbiAgICBmb3IgKGNvbnN0IEsgb2YgZ2xvYmFsVGhpcy5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhUKSlcbiAgICAgICAgQWNjW0tdID0gRGlzY2FyZChUW0tdLCBbT3B0aW9uYWxLaW5kXSk7XG4gICAgcmV0dXJuIEFjYztcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUmVxdWlyZWRSZXNvbHZlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gUmVxdWlyZWRSZXNvbHZlKFQpIHtcbiAgICByZXR1cm4gKElzSW50ZXJzZWN0KFQpID8gSW50ZXJzZWN0KEZyb21SZXN0KFQuYWxsT2YpKSA6XG4gICAgICAgIElzVW5pb24oVCkgPyBVbmlvbihGcm9tUmVzdChULmFueU9mKSkgOlxuICAgICAgICAgICAgSXNPYmplY3QoVCkgPyBPYmplY3QoRnJvbVByb3BlcnRpZXMoVC5wcm9wZXJ0aWVzKSkgOlxuICAgICAgICAgICAgICAgIE9iamVjdCh7fSkpO1xufVxuLyoqIGBbSnNvbl1gIENvbnN0cnVjdHMgYSB0eXBlIHdoZXJlIGFsbCBwcm9wZXJ0aWVzIGFyZSByZXF1aXJlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlcXVpcmVkKFQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmIChJc01hcHBlZFJlc3VsdChUKSkge1xuICAgICAgICByZXR1cm4gUmVxdWlyZWRGcm9tTWFwcGVkUmVzdWx0KFQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgRCA9IERpc2NhcmQoVCwgW1RyYW5zZm9ybUtpbmQsICckaWQnLCAncmVxdWlyZWQnXSk7XG4gICAgICAgIGNvbnN0IFIgPSBDbG9uZVR5cGUoUmVxdWlyZWRSZXNvbHZlKFQpLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHsgLi4uRCwgLi4uUiB9O1xuICAgIH1cbn1cbiIsCiAgICAiaW1wb3J0IHsgTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi4vbWFwcGVkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBSZXF1aXJlZCB9IGZyb20gJy4vcmVxdWlyZWQubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnRpZXMoUCwgb3B0aW9ucykge1xuICAgIGNvbnN0IEFjYyA9IHt9O1xuICAgIGZvciAoY29uc3QgSzIgb2YgZ2xvYmFsVGhpcy5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhQKSlcbiAgICAgICAgQWNjW0syXSA9IFJlcXVpcmVkKFBbSzJdLCBvcHRpb25zKTtcbiAgICByZXR1cm4gQWNjO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTWFwcGVkUmVzdWx0KFIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gRnJvbVByb3BlcnRpZXMoUi5wcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIFJlcXVpcmVkRnJvbU1hcHBlZFJlc3VsdChSLCBvcHRpb25zKSB7XG4gICAgY29uc3QgUCA9IEZyb21NYXBwZWRSZXN1bHQoUiwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIE1hcHBlZFJlc3VsdChQKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ2xvbmVSZXN0IH0gZnJvbSAnLi4vY2xvbmUvdHlwZS5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUeXBlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNJbnRlcnNlY3QsIElzVW5pb24sIElzVHVwbGUgfSBmcm9tICcuLi9ndWFyZC9raW5kLm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFJlc3RSZXNvbHZlKFQpIHtcbiAgICByZXR1cm4gKElzSW50ZXJzZWN0KFQpID8gQ2xvbmVSZXN0KFQuYWxsT2YpIDpcbiAgICAgICAgSXNVbmlvbihUKSA/IENsb25lUmVzdChULmFueU9mKSA6XG4gICAgICAgICAgICBJc1R1cGxlKFQpID8gQ2xvbmVSZXN0KFQuaXRlbXMgPz8gW10pIDpcbiAgICAgICAgICAgICAgICBbXSk7XG59XG4vKiogYFtKc29uXWAgRXh0cmFjdHMgaW50ZXJpb3IgUmVzdCBlbGVtZW50cyBmcm9tIFR1cGxlLCBJbnRlcnNlY3QgYW5kIFVuaW9uIHR5cGVzICovXG5leHBvcnQgZnVuY3Rpb24gUmVzdChUKSB7XG4gICAgcmV0dXJuIENsb25lUmVzdChSZXN0UmVzb2x2ZShUKSk7XG59XG4iLAogICAgImltcG9ydCB7IENsb25lVHlwZSB9IGZyb20gJy4uL2Nsb25lL3R5cGUubWpzJztcbi8qKiBgW0phdmFTY3JpcHRdYCBFeHRyYWN0cyB0aGUgUmV0dXJuVHlwZSBmcm9tIHRoZSBnaXZlbiBGdW5jdGlvbiB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gUmV0dXJuVHlwZShzY2hlbWEsIG9wdGlvbnMgPSB7fSkge1xuICAgIHJldHVybiBDbG9uZVR5cGUoc2NoZW1hLnJldHVybnMsIG9wdGlvbnMpO1xufVxuIiwKICAgICIvKiogYFtKc29uXWAgT21pdHMgY29tcG9zaXRpbmcgc3ltYm9scyBmcm9tIHRoaXMgc2NoZW1hLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFN0cmljdChzY2hlbWEpIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzY2hlbWEpKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgVHJhbnNmb3JtS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IENsb25lVHlwZSB9IGZyb20gJy4uL2Nsb25lL3R5cGUubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzVHJhbnNmb3JtIH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFuc2Zvcm1CdWlsZGVyc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgVHJhbnNmb3JtRGVjb2RlQnVpbGRlciB7XG4gICAgc2NoZW1hO1xuICAgIGNvbnN0cnVjdG9yKHNjaGVtYSkge1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICB9XG4gICAgRGVjb2RlKGRlY29kZSkge1xuICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybUVuY29kZUJ1aWxkZXIodGhpcy5zY2hlbWEsIGRlY29kZSk7XG4gICAgfVxufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgY2xhc3MgVHJhbnNmb3JtRW5jb2RlQnVpbGRlciB7XG4gICAgc2NoZW1hO1xuICAgIGRlY29kZTtcbiAgICBjb25zdHJ1Y3RvcihzY2hlbWEsIGRlY29kZSkge1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy5kZWNvZGUgPSBkZWNvZGU7XG4gICAgfVxuICAgIEVuY29kZVRyYW5zZm9ybShlbmNvZGUsIHNjaGVtYSkge1xuICAgICAgICBjb25zdCBFbmNvZGUgPSAodmFsdWUpID0+IHNjaGVtYVtUcmFuc2Zvcm1LaW5kXS5FbmNvZGUoZW5jb2RlKHZhbHVlKSk7XG4gICAgICAgIGNvbnN0IERlY29kZSA9ICh2YWx1ZSkgPT4gdGhpcy5kZWNvZGUoc2NoZW1hW1RyYW5zZm9ybUtpbmRdLkRlY29kZSh2YWx1ZSkpO1xuICAgICAgICBjb25zdCBDb2RlYyA9IHsgRW5jb2RlOiBFbmNvZGUsIERlY29kZTogRGVjb2RlIH07XG4gICAgICAgIHJldHVybiB7IC4uLnNjaGVtYSwgW1RyYW5zZm9ybUtpbmRdOiBDb2RlYyB9O1xuICAgIH1cbiAgICBFbmNvZGVTY2hlbWEoZW5jb2RlLCBzY2hlbWEpIHtcbiAgICAgICAgY29uc3QgQ29kZWMgPSB7IERlY29kZTogdGhpcy5kZWNvZGUsIEVuY29kZTogZW5jb2RlIH07XG4gICAgICAgIHJldHVybiB7IC4uLnNjaGVtYSwgW1RyYW5zZm9ybUtpbmRdOiBDb2RlYyB9O1xuICAgIH1cbiAgICBFbmNvZGUoZW5jb2RlKSB7XG4gICAgICAgIGNvbnN0IHNjaGVtYSA9IENsb25lVHlwZSh0aGlzLnNjaGVtYSk7XG4gICAgICAgIHJldHVybiAoSXNUcmFuc2Zvcm0oc2NoZW1hKSA/IHRoaXMuRW5jb2RlVHJhbnNmb3JtKGVuY29kZSwgc2NoZW1hKSA6IHRoaXMuRW5jb2RlU2NoZW1hKGVuY29kZSwgc2NoZW1hKSk7XG4gICAgfVxufVxuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYSBUcmFuc2Zvcm0gdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zZm9ybShzY2hlbWEpIHtcbiAgICByZXR1cm4gbmV3IFRyYW5zZm9ybURlY29kZUJ1aWxkZXIoc2NoZW1hKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8qKiBgW0phdmFTY3JpcHRdYCBDcmVhdGVzIGEgVm9pZCB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gVm9pZChvcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBbS2luZF06ICdWb2lkJyxcbiAgICAgICAgdHlwZTogJ3ZvaWQnLFxuICAgIH07XG59XG4iLAogICAgIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSnNvblR5cGVCdWlsZGVyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCB7IEpzb25UeXBlQnVpbGRlciB9IGZyb20gJy4vanNvbi5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKYXZhU2NyaXB0VHlwZUJ1aWxkZXJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0ICogYXMgVHlwZUJ1aWxkZXIgZnJvbSAnLi90eXBlLm1qcyc7XG5pbXBvcnQgeyBKYXZhU2NyaXB0VHlwZUJ1aWxkZXIgfSBmcm9tICcuL2phdmFzY3JpcHQubWpzJztcbi8qKiBKYXZhU2NyaXB0IFR5cGUgQnVpbGRlciB3aXRoIFN0YXRpYyBSZXNvbHV0aW9uIGZvciBUeXBlU2NyaXB0ICovXG5jb25zdCBUeXBlID0gVHlwZUJ1aWxkZXI7XG5leHBvcnQgeyBKYXZhU2NyaXB0VHlwZUJ1aWxkZXIgfTtcbmV4cG9ydCB7IFR5cGUgfTtcbiIsCiAgICAiaW1wb3J0IHsgVHJhbnNmb3JtRW5jb2RlLCBUcmFuc2Zvcm1EZWNvZGUsIEhhc1RyYW5zZm9ybSwgVHJhbnNmb3JtRGVjb2RlQ2hlY2tFcnJvciwgVHJhbnNmb3JtRW5jb2RlQ2hlY2tFcnJvciB9IGZyb20gJy4uL3ZhbHVlL3RyYW5zZm9ybS9pbmRleC5tanMnO1xuaW1wb3J0IHsgRXJyb3JzIH0gZnJvbSAnLi4vZXJyb3JzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUeXBlU3lzdGVtUG9saWN5IH0gZnJvbSAnLi4vc3lzdGVtL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUeXBlQm94RXJyb3IgfSBmcm9tICcuLi90eXBlL2Vycm9yL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBEZXJlZiB9IGZyb20gJy4uL3ZhbHVlL2RlcmVmL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBIYXNoIH0gZnJvbSAnLi4vdmFsdWUvaGFzaC9pbmRleC5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3R5cGUvc3ltYm9scy9pbmRleC5tanMnO1xuaW1wb3J0IHsgVHlwZVJlZ2lzdHJ5LCBGb3JtYXRSZWdpc3RyeSB9IGZyb20gJy4uL3R5cGUvcmVnaXN0cnkvaW5kZXgubWpzJztcbmltcG9ydCB7IEtleU9mUGF0dGVybiB9IGZyb20gJy4uL3R5cGUva2V5b2YvaW5kZXgubWpzJztcbmltcG9ydCB7IEV4dGVuZHNVbmRlZmluZWRDaGVjayB9IGZyb20gJy4uL3R5cGUvZXh0ZW5kcy9leHRlbmRzLXVuZGVmaW5lZC5tanMnO1xuaW1wb3J0IHsgTmV2ZXIgfSBmcm9tICcuLi90eXBlL25ldmVyL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFZhbHVlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNBcnJheSwgSXNTdHJpbmcsIElzTnVtYmVyLCBJc0JpZ0ludCB9IGZyb20gJy4uL3ZhbHVlL2d1YXJkL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc1NjaGVtYSB9IGZyb20gJy4uL3R5cGUvZ3VhcmQvdHlwZS5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUeXBlQ2hlY2tcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIFR5cGVDaGVjayB7XG4gICAgc2NoZW1hO1xuICAgIHJlZmVyZW5jZXM7XG4gICAgY2hlY2tGdW5jO1xuICAgIGNvZGU7XG4gICAgaGFzVHJhbnNmb3JtO1xuICAgIGNvbnN0cnVjdG9yKHNjaGVtYSwgcmVmZXJlbmNlcywgY2hlY2tGdW5jLCBjb2RlKSB7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAgICAgICB0aGlzLnJlZmVyZW5jZXMgPSByZWZlcmVuY2VzO1xuICAgICAgICB0aGlzLmNoZWNrRnVuYyA9IGNoZWNrRnVuYztcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICAgICAgdGhpcy5oYXNUcmFuc2Zvcm0gPSBIYXNUcmFuc2Zvcm0oc2NoZW1hLCByZWZlcmVuY2VzKTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgdGhlIGdlbmVyYXRlZCBhc3NlcnRpb24gY29kZSB1c2VkIHRvIHZhbGlkYXRlIHRoaXMgdHlwZS4gKi9cbiAgICBDb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2RlO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyBhbiBpdGVyYXRvciBmb3IgZWFjaCBlcnJvciBpbiB0aGlzIHZhbHVlLiAqL1xuICAgIEVycm9ycyh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gRXJyb3JzKHRoaXMuc2NoZW1hLCB0aGlzLnJlZmVyZW5jZXMsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgbWF0Y2hlcyB0aGUgY29tcGlsZWQgdHlwZS4gKi9cbiAgICBDaGVjayh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVja0Z1bmModmFsdWUpO1xuICAgIH1cbiAgICAvKiogRGVjb2RlcyBhIHZhbHVlIG9yIHRocm93cyBpZiBlcnJvciAqL1xuICAgIERlY29kZSh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuY2hlY2tGdW5jKHZhbHVlKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBUcmFuc2Zvcm1EZWNvZGVDaGVja0Vycm9yKHRoaXMuc2NoZW1hLCB2YWx1ZSwgdGhpcy5FcnJvcnModmFsdWUpLkZpcnN0KCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNUcmFuc2Zvcm0gPyBUcmFuc2Zvcm1EZWNvZGUodGhpcy5zY2hlbWEsIHRoaXMucmVmZXJlbmNlcywgdmFsdWUpIDogdmFsdWU7XG4gICAgfVxuICAgIC8qKiBFbmNvZGVzIGEgdmFsdWUgb3IgdGhyb3dzIGlmIGVycm9yICovXG4gICAgRW5jb2RlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGVuY29kZWQgPSB0aGlzLmhhc1RyYW5zZm9ybSA/IFRyYW5zZm9ybUVuY29kZSh0aGlzLnNjaGVtYSwgdGhpcy5yZWZlcmVuY2VzLCB2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgaWYgKCF0aGlzLmNoZWNrRnVuYyhlbmNvZGVkKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBUcmFuc2Zvcm1FbmNvZGVDaGVja0Vycm9yKHRoaXMuc2NoZW1hLCB2YWx1ZSwgdGhpcy5FcnJvcnModmFsdWUpLkZpcnN0KCkpO1xuICAgICAgICByZXR1cm4gZW5jb2RlZDtcbiAgICB9XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENoYXJhY3RlclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG52YXIgQ2hhcmFjdGVyO1xuKGZ1bmN0aW9uIChDaGFyYWN0ZXIpIHtcbiAgICBmdW5jdGlvbiBEb2xsYXJTaWduKGNvZGUpIHtcbiAgICAgICAgcmV0dXJuIGNvZGUgPT09IDM2O1xuICAgIH1cbiAgICBDaGFyYWN0ZXIuRG9sbGFyU2lnbiA9IERvbGxhclNpZ247XG4gICAgZnVuY3Rpb24gSXNVbmRlcnNjb3JlKGNvZGUpIHtcbiAgICAgICAgcmV0dXJuIGNvZGUgPT09IDk1O1xuICAgIH1cbiAgICBDaGFyYWN0ZXIuSXNVbmRlcnNjb3JlID0gSXNVbmRlcnNjb3JlO1xuICAgIGZ1bmN0aW9uIElzQWxwaGEoY29kZSkge1xuICAgICAgICByZXR1cm4gKGNvZGUgPj0gNjUgJiYgY29kZSA8PSA5MCkgfHwgKGNvZGUgPj0gOTcgJiYgY29kZSA8PSAxMjIpO1xuICAgIH1cbiAgICBDaGFyYWN0ZXIuSXNBbHBoYSA9IElzQWxwaGE7XG4gICAgZnVuY3Rpb24gSXNOdW1lcmljKGNvZGUpIHtcbiAgICAgICAgcmV0dXJuIGNvZGUgPj0gNDggJiYgY29kZSA8PSA1NztcbiAgICB9XG4gICAgQ2hhcmFjdGVyLklzTnVtZXJpYyA9IElzTnVtZXJpYztcbn0pKENoYXJhY3RlciB8fCAoQ2hhcmFjdGVyID0ge30pKTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gTWVtYmVyRXhwcmVzc2lvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG52YXIgTWVtYmVyRXhwcmVzc2lvbjtcbihmdW5jdGlvbiAoTWVtYmVyRXhwcmVzc2lvbikge1xuICAgIGZ1bmN0aW9uIElzRmlyc3RDaGFyYWN0ZXJOdW1lcmljKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiBDaGFyYWN0ZXIuSXNOdW1lcmljKHZhbHVlLmNoYXJDb2RlQXQoMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBJc0FjY2Vzc29yKHZhbHVlKSB7XG4gICAgICAgIGlmIChJc0ZpcnN0Q2hhcmFjdGVyTnVtZXJpYyh2YWx1ZSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNvZGUgPSB2YWx1ZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgY29uc3QgY2hlY2sgPSBDaGFyYWN0ZXIuSXNBbHBoYShjb2RlKSB8fCBDaGFyYWN0ZXIuSXNOdW1lcmljKGNvZGUpIHx8IENoYXJhY3Rlci5Eb2xsYXJTaWduKGNvZGUpIHx8IENoYXJhY3Rlci5Jc1VuZGVyc2NvcmUoY29kZSk7XG4gICAgICAgICAgICBpZiAoIWNoZWNrKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gRXNjYXBlSHlwaGVuKGtleSkge1xuICAgICAgICByZXR1cm4ga2V5LnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gRW5jb2RlKG9iamVjdCwga2V5KSB7XG4gICAgICAgIHJldHVybiBJc0FjY2Vzc29yKGtleSkgPyBgJHtvYmplY3R9LiR7a2V5fWAgOiBgJHtvYmplY3R9Wycke0VzY2FwZUh5cGhlbihrZXkpfSddYDtcbiAgICB9XG4gICAgTWVtYmVyRXhwcmVzc2lvbi5FbmNvZGUgPSBFbmNvZGU7XG59KShNZW1iZXJFeHByZXNzaW9uIHx8IChNZW1iZXJFeHByZXNzaW9uID0ge30pKTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSWRlbnRpZmllclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG52YXIgSWRlbnRpZmllcjtcbihmdW5jdGlvbiAoSWRlbnRpZmllcikge1xuICAgIGZ1bmN0aW9uIEVuY29kZSgkaWQpIHtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgJGlkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjb2RlID0gJGlkLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBpZiAoQ2hhcmFjdGVyLklzTnVtZXJpYyhjb2RlKSB8fCBDaGFyYWN0ZXIuSXNBbHBoYShjb2RlKSkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5wdXNoKCRpZC5jaGFyQXQoaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLnB1c2goYF8ke2NvZGV9X2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWZmZXIuam9pbignJykucmVwbGFjZSgvX18vZywgJ18nKTtcbiAgICB9XG4gICAgSWRlbnRpZmllci5FbmNvZGUgPSBFbmNvZGU7XG59KShJZGVudGlmaWVyIHx8IChJZGVudGlmaWVyID0ge30pKTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gTGl0ZXJhbFN0cmluZ1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG52YXIgTGl0ZXJhbFN0cmluZztcbihmdW5jdGlvbiAoTGl0ZXJhbFN0cmluZykge1xuICAgIGZ1bmN0aW9uIEVzY2FwZShjb250ZW50KSB7XG4gICAgICAgIHJldHVybiBjb250ZW50LnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKTtcbiAgICB9XG4gICAgTGl0ZXJhbFN0cmluZy5Fc2NhcGUgPSBFc2NhcGU7XG59KShMaXRlcmFsU3RyaW5nIHx8IChMaXRlcmFsU3RyaW5nID0ge30pKTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRXJyb3JzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjbGFzcyBUeXBlQ29tcGlsZXJVbmtub3duVHlwZUVycm9yIGV4dGVuZHMgVHlwZUJveEVycm9yIHtcbiAgICBzY2hlbWE7XG4gICAgY29uc3RydWN0b3Ioc2NoZW1hKSB7XG4gICAgICAgIHN1cGVyKCdVbmtub3duIHR5cGUnKTtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFR5cGVDb21waWxlclR5cGVHdWFyZEVycm9yIGV4dGVuZHMgVHlwZUJveEVycm9yIHtcbiAgICBzY2hlbWE7XG4gICAgY29uc3RydWN0b3Ioc2NoZW1hKSB7XG4gICAgICAgIHN1cGVyKCdQcmVmbGlnaHQgdmFsaWRhdGlvbiBjaGVjayBmYWlsZWQgdG8gZ3VhcmQgZm9yIHRoZSBnaXZlbiBzY2hlbWEnKTtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgfVxufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBQb2xpY3lcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IHZhciBQb2xpY3k7XG4oZnVuY3Rpb24gKFBvbGljeSkge1xuICAgIGZ1bmN0aW9uIElzRXhhY3RPcHRpb25hbFByb3BlcnR5KHZhbHVlLCBrZXksIGV4cHJlc3Npb24pIHtcbiAgICAgICAgcmV0dXJuIFR5cGVTeXN0ZW1Qb2xpY3kuRXhhY3RPcHRpb25hbFByb3BlcnR5VHlwZXMgPyBgKCcke2tleX0nIGluICR7dmFsdWV9ID8gJHtleHByZXNzaW9ufSA6IHRydWUpYCA6IGAoJHtNZW1iZXJFeHByZXNzaW9uLkVuY29kZSh2YWx1ZSwga2V5KX0gIT09IHVuZGVmaW5lZCA/ICR7ZXhwcmVzc2lvbn0gOiB0cnVlKWA7XG4gICAgfVxuICAgIFBvbGljeS5Jc0V4YWN0T3B0aW9uYWxQcm9wZXJ0eSA9IElzRXhhY3RPcHRpb25hbFByb3BlcnR5O1xuICAgIGZ1bmN0aW9uIElzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gIVR5cGVTeXN0ZW1Qb2xpY3kuQWxsb3dBcnJheU9iamVjdCA/IGAodHlwZW9mICR7dmFsdWV9ID09PSAnb2JqZWN0JyAmJiAke3ZhbHVlfSAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheSgke3ZhbHVlfSkpYCA6IGAodHlwZW9mICR7dmFsdWV9ID09PSAnb2JqZWN0JyAmJiAke3ZhbHVlfSAhPT0gbnVsbClgO1xuICAgIH1cbiAgICBQb2xpY3kuSXNPYmplY3RMaWtlID0gSXNPYmplY3RMaWtlO1xuICAgIGZ1bmN0aW9uIElzUmVjb3JkTGlrZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gIVR5cGVTeXN0ZW1Qb2xpY3kuQWxsb3dBcnJheU9iamVjdFxuICAgICAgICAgICAgPyBgKHR5cGVvZiAke3ZhbHVlfSA9PT0gJ29iamVjdCcgJiYgJHt2YWx1ZX0gIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkoJHt2YWx1ZX0pICYmICEoJHt2YWx1ZX0gaW5zdGFuY2VvZiBEYXRlKSAmJiAhKCR7dmFsdWV9IGluc3RhbmNlb2YgVWludDhBcnJheSkpYFxuICAgICAgICAgICAgOiBgKHR5cGVvZiAke3ZhbHVlfSA9PT0gJ29iamVjdCcgJiYgJHt2YWx1ZX0gIT09IG51bGwgJiYgISgke3ZhbHVlfSBpbnN0YW5jZW9mIERhdGUpICYmICEoJHt2YWx1ZX0gaW5zdGFuY2VvZiBVaW50OEFycmF5KSlgO1xuICAgIH1cbiAgICBQb2xpY3kuSXNSZWNvcmRMaWtlID0gSXNSZWNvcmRMaWtlO1xuICAgIGZ1bmN0aW9uIElzTnVtYmVyTGlrZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gVHlwZVN5c3RlbVBvbGljeS5BbGxvd05hTiA/IGB0eXBlb2YgJHt2YWx1ZX0gPT09ICdudW1iZXInYCA6IGBOdW1iZXIuaXNGaW5pdGUoJHt2YWx1ZX0pYDtcbiAgICB9XG4gICAgUG9saWN5LklzTnVtYmVyTGlrZSA9IElzTnVtYmVyTGlrZTtcbiAgICBmdW5jdGlvbiBJc1ZvaWRMaWtlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBUeXBlU3lzdGVtUG9saWN5LkFsbG93TnVsbFZvaWQgPyBgKCR7dmFsdWV9ID09PSB1bmRlZmluZWQgfHwgJHt2YWx1ZX0gPT09IG51bGwpYCA6IGAke3ZhbHVlfSA9PT0gdW5kZWZpbmVkYDtcbiAgICB9XG4gICAgUG9saWN5LklzVm9pZExpa2UgPSBJc1ZvaWRMaWtlO1xufSkoUG9saWN5IHx8IChQb2xpY3kgPSB7fSkpO1xuLyoqIENvbXBpbGVzIFR5cGVzIGZvciBSdW50aW1lIFR5cGUgQ2hlY2tpbmcgKi9cbmV4cG9ydCB2YXIgVHlwZUNvbXBpbGVyO1xuKGZ1bmN0aW9uIChUeXBlQ29tcGlsZXIpIHtcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gR3VhcmRzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGZ1bmN0aW9uIElzQW55T3JVbmtub3duKHNjaGVtYSkge1xuICAgICAgICByZXR1cm4gc2NoZW1hW0tpbmRdID09PSAnQW55JyB8fCBzY2hlbWFbS2luZF0gPT09ICdVbmtub3duJztcbiAgICB9XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFR5cGVzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGZ1bmN0aW9uKiBGcm9tQW55KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgJ3RydWUnO1xuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbUFycmF5KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgYEFycmF5LmlzQXJyYXkoJHt2YWx1ZX0pYDtcbiAgICAgICAgY29uc3QgW3BhcmFtZXRlciwgYWNjdW11bGF0b3JdID0gW0NyZWF0ZVBhcmFtZXRlcigndmFsdWUnLCAnYW55JyksIENyZWF0ZVBhcmFtZXRlcignYWNjJywgJ251bWJlcicpXTtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5tYXhJdGVtcykpXG4gICAgICAgICAgICB5aWVsZCBgJHt2YWx1ZX0ubGVuZ3RoIDw9ICR7c2NoZW1hLm1heEl0ZW1zfWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEubWluSXRlbXMpKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9Lmxlbmd0aCA+PSAke3NjaGVtYS5taW5JdGVtc31gO1xuICAgICAgICBjb25zdCBlbGVtZW50RXhwcmVzc2lvbiA9IENyZWF0ZUV4cHJlc3Npb24oc2NoZW1hLml0ZW1zLCByZWZlcmVuY2VzLCAndmFsdWUnKTtcbiAgICAgICAgeWllbGQgYCR7dmFsdWV9LmV2ZXJ5KCgke3BhcmFtZXRlcn0pID0+ICR7ZWxlbWVudEV4cHJlc3Npb259KWA7XG4gICAgICAgIGlmIChJc1NjaGVtYShzY2hlbWEuY29udGFpbnMpIHx8IElzTnVtYmVyKHNjaGVtYS5taW5Db250YWlucykgfHwgSXNOdW1iZXIoc2NoZW1hLm1heENvbnRhaW5zKSkge1xuICAgICAgICAgICAgY29uc3QgY29udGFpbnNTY2hlbWEgPSBJc1NjaGVtYShzY2hlbWEuY29udGFpbnMpID8gc2NoZW1hLmNvbnRhaW5zIDogTmV2ZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrRXhwcmVzc2lvbiA9IENyZWF0ZUV4cHJlc3Npb24oY29udGFpbnNTY2hlbWEsIHJlZmVyZW5jZXMsICd2YWx1ZScpO1xuICAgICAgICAgICAgY29uc3QgY2hlY2tNaW5Db250YWlucyA9IElzTnVtYmVyKHNjaGVtYS5taW5Db250YWlucykgPyBbYChjb3VudCA+PSAke3NjaGVtYS5taW5Db250YWluc30pYF0gOiBbXTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrTWF4Q29udGFpbnMgPSBJc051bWJlcihzY2hlbWEubWF4Q29udGFpbnMpID8gW2AoY291bnQgPD0gJHtzY2hlbWEubWF4Q29udGFpbnN9KWBdIDogW107XG4gICAgICAgICAgICBjb25zdCBjaGVja0NvdW50ID0gYGNvbnN0IGNvdW50ID0gdmFsdWUucmVkdWNlKCgke2FjY3VtdWxhdG9yfSwgJHtwYXJhbWV0ZXJ9KSA9PiAke2NoZWNrRXhwcmVzc2lvbn0gPyBhY2MgKyAxIDogYWNjLCAwKWA7XG4gICAgICAgICAgICBjb25zdCBjaGVjayA9IFtgKGNvdW50ID4gMClgLCAuLi5jaGVja01pbkNvbnRhaW5zLCAuLi5jaGVja01heENvbnRhaW5zXS5qb2luKCcgJiYgJyk7XG4gICAgICAgICAgICB5aWVsZCBgKCgke3BhcmFtZXRlcn0pID0+IHsgJHtjaGVja0NvdW50fTsgcmV0dXJuICR7Y2hlY2t9fSkoJHt2YWx1ZX0pYDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLnVuaXF1ZUl0ZW1zID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBjaGVjayA9IGBjb25zdCBoYXNoZWQgPSBoYXNoKGVsZW1lbnQpOyBpZihzZXQuaGFzKGhhc2hlZCkpIHsgcmV0dXJuIGZhbHNlIH0gZWxzZSB7IHNldC5hZGQoaGFzaGVkKSB9IH0gcmV0dXJuIHRydWVgO1xuICAgICAgICAgICAgY29uc3QgYmxvY2sgPSBgY29uc3Qgc2V0ID0gbmV3IFNldCgpOyBmb3IoY29uc3QgZWxlbWVudCBvZiB2YWx1ZSkgeyAke2NoZWNrfSB9YDtcbiAgICAgICAgICAgIHlpZWxkIGAoKCR7cGFyYW1ldGVyfSkgPT4geyAke2Jsb2NrfSApKCR7dmFsdWV9KWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21Bc3luY0l0ZXJhdG9yKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgYCh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIFN5bWJvbC5hc3luY0l0ZXJhdG9yIGluICR7dmFsdWV9KWA7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tQmlnSW50KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgYCh0eXBlb2YgJHt2YWx1ZX0gPT09ICdiaWdpbnQnKWA7XG4gICAgICAgIGlmIChJc0JpZ0ludChzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSkpXG4gICAgICAgICAgICB5aWVsZCBgJHt2YWx1ZX0gPCBCaWdJbnQoJHtzY2hlbWEuZXhjbHVzaXZlTWF4aW11bX0pYDtcbiAgICAgICAgaWYgKElzQmlnSW50KHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtKSlcbiAgICAgICAgICAgIHlpZWxkIGAke3ZhbHVlfSA+IEJpZ0ludCgke3NjaGVtYS5leGNsdXNpdmVNaW5pbXVtfSlgO1xuICAgICAgICBpZiAoSXNCaWdJbnQoc2NoZW1hLm1heGltdW0pKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9IDw9IEJpZ0ludCgke3NjaGVtYS5tYXhpbXVtfSlgO1xuICAgICAgICBpZiAoSXNCaWdJbnQoc2NoZW1hLm1pbmltdW0pKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9ID49IEJpZ0ludCgke3NjaGVtYS5taW5pbXVtfSlgO1xuICAgICAgICBpZiAoSXNCaWdJbnQoc2NoZW1hLm11bHRpcGxlT2YpKVxuICAgICAgICAgICAgeWllbGQgYCgke3ZhbHVlfSAlIEJpZ0ludCgke3NjaGVtYS5tdWx0aXBsZU9mfSkpID09PSAwYDtcbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21Cb29sZWFuKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgYCh0eXBlb2YgJHt2YWx1ZX0gPT09ICdib29sZWFuJylgO1xuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbUNvbnN0cnVjdG9yKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQqIFZpc2l0KHNjaGVtYS5yZXR1cm5zLCByZWZlcmVuY2VzLCBgJHt2YWx1ZX0ucHJvdG90eXBlYCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tRGF0ZShzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgICAgIHlpZWxkIGAoJHt2YWx1ZX0gaW5zdGFuY2VvZiBEYXRlKSAmJiBOdW1iZXIuaXNGaW5pdGUoJHt2YWx1ZX0uZ2V0VGltZSgpKWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEuZXhjbHVzaXZlTWF4aW11bVRpbWVzdGFtcCkpXG4gICAgICAgICAgICB5aWVsZCBgJHt2YWx1ZX0uZ2V0VGltZSgpIDwgJHtzY2hlbWEuZXhjbHVzaXZlTWF4aW11bVRpbWVzdGFtcH1gO1xuICAgICAgICBpZiAoSXNOdW1iZXIoc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW1UaW1lc3RhbXApKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9LmdldFRpbWUoKSA+ICR7c2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW1UaW1lc3RhbXB9YDtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5tYXhpbXVtVGltZXN0YW1wKSlcbiAgICAgICAgICAgIHlpZWxkIGAke3ZhbHVlfS5nZXRUaW1lKCkgPD0gJHtzY2hlbWEubWF4aW11bVRpbWVzdGFtcH1gO1xuICAgICAgICBpZiAoSXNOdW1iZXIoc2NoZW1hLm1pbmltdW1UaW1lc3RhbXApKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9LmdldFRpbWUoKSA+PSAke3NjaGVtYS5taW5pbXVtVGltZXN0YW1wfWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEubXVsdGlwbGVPZlRpbWVzdGFtcCkpXG4gICAgICAgICAgICB5aWVsZCBgKCR7dmFsdWV9LmdldFRpbWUoKSAlICR7c2NoZW1hLm11bHRpcGxlT2ZUaW1lc3RhbXB9KSA9PT0gMGA7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tRnVuY3Rpb24oc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICB5aWVsZCBgKHR5cGVvZiAke3ZhbHVlfSA9PT0gJ2Z1bmN0aW9uJylgO1xuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbUludGVnZXIoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICB5aWVsZCBgTnVtYmVyLmlzSW50ZWdlcigke3ZhbHVlfSlgO1xuICAgICAgICBpZiAoSXNOdW1iZXIoc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0pKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9IDwgJHtzY2hlbWEuZXhjbHVzaXZlTWF4aW11bX1gO1xuICAgICAgICBpZiAoSXNOdW1iZXIoc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0pKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9ID4gJHtzY2hlbWEuZXhjbHVzaXZlTWluaW11bX1gO1xuICAgICAgICBpZiAoSXNOdW1iZXIoc2NoZW1hLm1heGltdW0pKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9IDw9ICR7c2NoZW1hLm1heGltdW19YDtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5taW5pbXVtKSlcbiAgICAgICAgICAgIHlpZWxkIGAke3ZhbHVlfSA+PSAke3NjaGVtYS5taW5pbXVtfWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEubXVsdGlwbGVPZikpXG4gICAgICAgICAgICB5aWVsZCBgKCR7dmFsdWV9ICUgJHtzY2hlbWEubXVsdGlwbGVPZn0pID09PSAwYDtcbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21JbnRlcnNlY3Qoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBjaGVjazEgPSBzY2hlbWEuYWxsT2YubWFwKChzY2hlbWEpID0+IENyZWF0ZUV4cHJlc3Npb24oc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkpLmpvaW4oJyAmJiAnKTtcbiAgICAgICAgaWYgKHNjaGVtYS51bmV2YWx1YXRlZFByb3BlcnRpZXMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb25zdCBrZXlDaGVjayA9IENyZWF0ZVZhcmlhYmxlKGAke25ldyBSZWdFeHAoS2V5T2ZQYXR0ZXJuKHNjaGVtYSkpfTtgKTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrMiA9IGBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcygke3ZhbHVlfSkuZXZlcnkoa2V5ID0+ICR7a2V5Q2hlY2t9LnRlc3Qoa2V5KSlgO1xuICAgICAgICAgICAgeWllbGQgYCgke2NoZWNrMX0gJiYgJHtjaGVjazJ9KWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoSXNTY2hlbWEoc2NoZW1hLnVuZXZhbHVhdGVkUHJvcGVydGllcykpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleUNoZWNrID0gQ3JlYXRlVmFyaWFibGUoYCR7bmV3IFJlZ0V4cChLZXlPZlBhdHRlcm4oc2NoZW1hKSl9O2ApO1xuICAgICAgICAgICAgY29uc3QgY2hlY2syID0gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKCR7dmFsdWV9KS5ldmVyeShrZXkgPT4gJHtrZXlDaGVja30udGVzdChrZXkpIHx8ICR7Q3JlYXRlRXhwcmVzc2lvbihzY2hlbWEudW5ldmFsdWF0ZWRQcm9wZXJ0aWVzLCByZWZlcmVuY2VzLCBgJHt2YWx1ZX1ba2V5XWApfSlgO1xuICAgICAgICAgICAgeWllbGQgYCgke2NoZWNrMX0gJiYgJHtjaGVjazJ9KWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB5aWVsZCBgKCR7Y2hlY2sxfSlgO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tSXRlcmF0b3Ioc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICB5aWVsZCBgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgU3ltYm9sLml0ZXJhdG9yIGluICR7dmFsdWV9KWA7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tTGl0ZXJhbChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hLmNvbnN0ID09PSAnbnVtYmVyJyB8fCB0eXBlb2Ygc2NoZW1hLmNvbnN0ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHlpZWxkIGAoJHt2YWx1ZX0gPT09ICR7c2NoZW1hLmNvbnN0fSlgO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeWllbGQgYCgke3ZhbHVlfSA9PT0gJyR7TGl0ZXJhbFN0cmluZy5Fc2NhcGUoc2NoZW1hLmNvbnN0KX0nKWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21OZXZlcihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgICAgIHlpZWxkIGBmYWxzZWA7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tTm90KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IENyZWF0ZUV4cHJlc3Npb24oc2NoZW1hLm5vdCwgcmVmZXJlbmNlcywgdmFsdWUpO1xuICAgICAgICB5aWVsZCBgKCEke2V4cHJlc3Npb259KWA7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tTnVsbChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgICAgIHlpZWxkIGAoJHt2YWx1ZX0gPT09IG51bGwpYDtcbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21OdW1iZXIoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICB5aWVsZCBQb2xpY3kuSXNOdW1iZXJMaWtlKHZhbHVlKTtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtKSlcbiAgICAgICAgICAgIHlpZWxkIGAke3ZhbHVlfSA8ICR7c2NoZW1hLmV4Y2x1c2l2ZU1heGltdW19YDtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtKSlcbiAgICAgICAgICAgIHlpZWxkIGAke3ZhbHVlfSA+ICR7c2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW19YDtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5tYXhpbXVtKSlcbiAgICAgICAgICAgIHlpZWxkIGAke3ZhbHVlfSA8PSAke3NjaGVtYS5tYXhpbXVtfWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEubWluaW11bSkpXG4gICAgICAgICAgICB5aWVsZCBgJHt2YWx1ZX0gPj0gJHtzY2hlbWEubWluaW11bX1gO1xuICAgICAgICBpZiAoSXNOdW1iZXIoc2NoZW1hLm11bHRpcGxlT2YpKVxuICAgICAgICAgICAgeWllbGQgYCgke3ZhbHVlfSAlICR7c2NoZW1hLm11bHRpcGxlT2Z9KSA9PT0gMGA7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tT2JqZWN0KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgUG9saWN5LklzT2JqZWN0TGlrZSh2YWx1ZSk7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEubWluUHJvcGVydGllcykpXG4gICAgICAgICAgICB5aWVsZCBgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoJHt2YWx1ZX0pLmxlbmd0aCA+PSAke3NjaGVtYS5taW5Qcm9wZXJ0aWVzfWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEubWF4UHJvcGVydGllcykpXG4gICAgICAgICAgICB5aWVsZCBgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoJHt2YWx1ZX0pLmxlbmd0aCA8PSAke3NjaGVtYS5tYXhQcm9wZXJ0aWVzfWA7XG4gICAgICAgIGNvbnN0IGtub3duS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNjaGVtYS5wcm9wZXJ0aWVzKTtcbiAgICAgICAgZm9yIChjb25zdCBrbm93bktleSBvZiBrbm93bktleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWJlckV4cHJlc3Npb24gPSBNZW1iZXJFeHByZXNzaW9uLkVuY29kZSh2YWx1ZSwga25vd25LZXkpO1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSBzY2hlbWEucHJvcGVydGllc1trbm93bktleV07XG4gICAgICAgICAgICBpZiAoc2NoZW1hLnJlcXVpcmVkICYmIHNjaGVtYS5yZXF1aXJlZC5pbmNsdWRlcyhrbm93bktleSkpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCogVmlzaXQocHJvcGVydHksIHJlZmVyZW5jZXMsIG1lbWJlckV4cHJlc3Npb24pO1xuICAgICAgICAgICAgICAgIGlmIChFeHRlbmRzVW5kZWZpbmVkQ2hlY2socHJvcGVydHkpIHx8IElzQW55T3JVbmtub3duKHByb3BlcnR5KSlcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgYCgnJHtrbm93bktleX0nIGluICR7dmFsdWV9KWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleHByZXNzaW9uID0gQ3JlYXRlRXhwcmVzc2lvbihwcm9wZXJ0eSwgcmVmZXJlbmNlcywgbWVtYmVyRXhwcmVzc2lvbik7XG4gICAgICAgICAgICAgICAgeWllbGQgUG9saWN5LklzRXhhY3RPcHRpb25hbFByb3BlcnR5KHZhbHVlLCBrbm93bktleSwgZXhwcmVzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmIChzY2hlbWEucmVxdWlyZWQgJiYgc2NoZW1hLnJlcXVpcmVkLmxlbmd0aCA9PT0ga25vd25LZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHlpZWxkIGBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcygke3ZhbHVlfSkubGVuZ3RoID09PSAke2tub3duS2V5cy5sZW5ndGh9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleXMgPSBgWyR7a25vd25LZXlzLm1hcCgoa2V5KSA9PiBgJyR7a2V5fSdgKS5qb2luKCcsICcpfV1gO1xuICAgICAgICAgICAgICAgIHlpZWxkIGBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcygke3ZhbHVlfSkuZXZlcnkoa2V5ID0+ICR7a2V5c30uaW5jbHVkZXMoa2V5KSlgO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IENyZWF0ZUV4cHJlc3Npb24oc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLCByZWZlcmVuY2VzLCBgJHt2YWx1ZX1ba2V5XWApO1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IGBbJHtrbm93bktleXMubWFwKChrZXkpID0+IGAnJHtrZXl9J2ApLmpvaW4oJywgJyl9XWA7XG4gICAgICAgICAgICB5aWVsZCBgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKCR7dmFsdWV9KS5ldmVyeShrZXkgPT4gJHtrZXlzfS5pbmNsdWRlcyhrZXkpIHx8ICR7ZXhwcmVzc2lvbn0pKWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21Qcm9taXNlKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgYCh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiAke3ZhbHVlfS50aGVuID09PSAnZnVuY3Rpb24nKWA7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tUmVjb3JkKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgUG9saWN5LklzUmVjb3JkTGlrZSh2YWx1ZSk7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEubWluUHJvcGVydGllcykpXG4gICAgICAgICAgICB5aWVsZCBgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoJHt2YWx1ZX0pLmxlbmd0aCA+PSAke3NjaGVtYS5taW5Qcm9wZXJ0aWVzfWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEubWF4UHJvcGVydGllcykpXG4gICAgICAgICAgICB5aWVsZCBgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoJHt2YWx1ZX0pLmxlbmd0aCA8PSAke3NjaGVtYS5tYXhQcm9wZXJ0aWVzfWA7XG4gICAgICAgIGNvbnN0IFtwYXR0ZXJuS2V5LCBwYXR0ZXJuU2NoZW1hXSA9IE9iamVjdC5lbnRyaWVzKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcylbMF07XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlID0gQ3JlYXRlVmFyaWFibGUoYCR7bmV3IFJlZ0V4cChwYXR0ZXJuS2V5KX1gKTtcbiAgICAgICAgY29uc3QgY2hlY2sxID0gQ3JlYXRlRXhwcmVzc2lvbihwYXR0ZXJuU2NoZW1hLCByZWZlcmVuY2VzLCAndmFsdWUnKTtcbiAgICAgICAgY29uc3QgY2hlY2syID0gSXNTY2hlbWEoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzKSA/IENyZWF0ZUV4cHJlc3Npb24oc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLCByZWZlcmVuY2VzLCB2YWx1ZSkgOiBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IGZhbHNlID8gJ2ZhbHNlJyA6ICd0cnVlJztcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IGAoJHt2YXJpYWJsZX0udGVzdChrZXkpID8gJHtjaGVjazF9IDogJHtjaGVjazJ9KWA7XG4gICAgICAgIHlpZWxkIGAoT2JqZWN0LmVudHJpZXMoJHt2YWx1ZX0pLmV2ZXJ5KChba2V5LCB2YWx1ZV0pID0+ICR7ZXhwcmVzc2lvbn0pKWA7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tUmVmKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gRGVyZWYoc2NoZW1hLCByZWZlcmVuY2VzKTtcbiAgICAgICAgLy8gUmVmZXJlbmNlOiBJZiB3ZSBoYXZlIHNlZW4gdGhpcyByZWZlcmVuY2UgYmVmb3JlIHdlIGNhbiBqdXN0IHlpZWxkIGFuZCByZXR1cm4gdGhlIGZ1bmN0aW9uIGNhbGwuXG4gICAgICAgIC8vIElmIHRoaXMgaXNuJ3QgdGhlIGNhc2Ugd2UgZGVmZXIgdG8gdmlzaXQgdG8gZ2VuZXJhdGUgYW5kIHNldCB0aGUgZnVuY3Rpb24gZm9yIHN1YnNlcXVlbnQgcGFzc2VzLlxuICAgICAgICBpZiAoc3RhdGUuZnVuY3Rpb25zLmhhcyhzY2hlbWEuJHJlZikpXG4gICAgICAgICAgICByZXR1cm4geWllbGQgYCR7Q3JlYXRlRnVuY3Rpb25OYW1lKHNjaGVtYS4kcmVmKX0oJHt2YWx1ZX0pYDtcbiAgICAgICAgeWllbGQqIFZpc2l0KHRhcmdldCwgcmVmZXJlbmNlcywgdmFsdWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbVJlZ0V4cChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlID0gQ3JlYXRlVmFyaWFibGUoYCR7bmV3IFJlZ0V4cChzY2hlbWEuc291cmNlLCBzY2hlbWEuZmxhZ3MpfTtgKTtcbiAgICAgICAgeWllbGQgYCh0eXBlb2YgJHt2YWx1ZX0gPT09ICdzdHJpbmcnKWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEubWF4TGVuZ3RoKSlcbiAgICAgICAgICAgIHlpZWxkIGAke3ZhbHVlfS5sZW5ndGggPD0gJHtzY2hlbWEubWF4TGVuZ3RofWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEubWluTGVuZ3RoKSlcbiAgICAgICAgICAgIHlpZWxkIGAke3ZhbHVlfS5sZW5ndGggPj0gJHtzY2hlbWEubWluTGVuZ3RofWA7XG4gICAgICAgIHlpZWxkIGAke3ZhcmlhYmxlfS50ZXN0KCR7dmFsdWV9KWA7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tU3RyaW5nKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgYCh0eXBlb2YgJHt2YWx1ZX0gPT09ICdzdHJpbmcnKWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEubWF4TGVuZ3RoKSlcbiAgICAgICAgICAgIHlpZWxkIGAke3ZhbHVlfS5sZW5ndGggPD0gJHtzY2hlbWEubWF4TGVuZ3RofWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEubWluTGVuZ3RoKSlcbiAgICAgICAgICAgIHlpZWxkIGAke3ZhbHVlfS5sZW5ndGggPj0gJHtzY2hlbWEubWluTGVuZ3RofWA7XG4gICAgICAgIGlmIChzY2hlbWEucGF0dGVybiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCB2YXJpYWJsZSA9IENyZWF0ZVZhcmlhYmxlKGAke25ldyBSZWdFeHAoc2NoZW1hLnBhdHRlcm4pfTtgKTtcbiAgICAgICAgICAgIHlpZWxkIGAke3ZhcmlhYmxlfS50ZXN0KCR7dmFsdWV9KWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYS5mb3JtYXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgeWllbGQgYGZvcm1hdCgnJHtzY2hlbWEuZm9ybWF0fScsICR7dmFsdWV9KWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21TeW1ib2woc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICB5aWVsZCBgKHR5cGVvZiAke3ZhbHVlfSA9PT0gJ3N5bWJvbCcpYDtcbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21UZW1wbGF0ZUxpdGVyYWwoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICB5aWVsZCBgKHR5cGVvZiAke3ZhbHVlfSA9PT0gJ3N0cmluZycpYDtcbiAgICAgICAgY29uc3QgdmFyaWFibGUgPSBDcmVhdGVWYXJpYWJsZShgJHtuZXcgUmVnRXhwKHNjaGVtYS5wYXR0ZXJuKX07YCk7XG4gICAgICAgIHlpZWxkIGAke3ZhcmlhYmxlfS50ZXN0KCR7dmFsdWV9KWA7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tVGhpcyhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgICAgIC8vIE5vdGU6IFRoaXMgdHlwZXMgYXJlIGFzc3VyZWQgdG8gYmUgaG9pc3RlZCBwcmlvciB0byB0aGlzIGNhbGwuIEp1c3QgeWllbGQgdGhlIGZ1bmN0aW9uLlxuICAgICAgICB5aWVsZCBgJHtDcmVhdGVGdW5jdGlvbk5hbWUoc2NoZW1hLiRyZWYpfSgke3ZhbHVlfSlgO1xuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbVR1cGxlKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgYEFycmF5LmlzQXJyYXkoJHt2YWx1ZX0pYDtcbiAgICAgICAgaWYgKHNjaGVtYS5pdGVtcyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkIGAke3ZhbHVlfS5sZW5ndGggPT09IDBgO1xuICAgICAgICB5aWVsZCBgKCR7dmFsdWV9Lmxlbmd0aCA9PT0gJHtzY2hlbWEubWF4SXRlbXN9KWA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2NoZW1hLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBleHByZXNzaW9uID0gQ3JlYXRlRXhwcmVzc2lvbihzY2hlbWEuaXRlbXNbaV0sIHJlZmVyZW5jZXMsIGAke3ZhbHVlfVske2l9XWApO1xuICAgICAgICAgICAgeWllbGQgYCR7ZXhwcmVzc2lvbn1gO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tVW5kZWZpbmVkKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgYCR7dmFsdWV9ID09PSB1bmRlZmluZWRgO1xuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbVVuaW9uKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbnMgPSBzY2hlbWEuYW55T2YubWFwKChzY2hlbWEpID0+IENyZWF0ZUV4cHJlc3Npb24oc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkpO1xuICAgICAgICB5aWVsZCBgKCR7ZXhwcmVzc2lvbnMuam9pbignIHx8ICcpfSlgO1xuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbVVpbnQ4QXJyYXkoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICB5aWVsZCBgJHt2YWx1ZX0gaW5zdGFuY2VvZiBVaW50OEFycmF5YDtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5tYXhCeXRlTGVuZ3RoKSlcbiAgICAgICAgICAgIHlpZWxkIGAoJHt2YWx1ZX0ubGVuZ3RoIDw9ICR7c2NoZW1hLm1heEJ5dGVMZW5ndGh9KWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEubWluQnl0ZUxlbmd0aCkpXG4gICAgICAgICAgICB5aWVsZCBgKCR7dmFsdWV9Lmxlbmd0aCA+PSAke3NjaGVtYS5taW5CeXRlTGVuZ3RofSlgO1xuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbVVua25vd24oc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICB5aWVsZCAndHJ1ZSc7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tVm9pZChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgICAgIHlpZWxkIFBvbGljeS5Jc1ZvaWRMaWtlKHZhbHVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21LaW5kKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBzdGF0ZS5pbnN0YW5jZXMuc2l6ZTtcbiAgICAgICAgc3RhdGUuaW5zdGFuY2VzLnNldChpbnN0YW5jZSwgc2NoZW1hKTtcbiAgICAgICAgeWllbGQgYGtpbmQoJyR7c2NoZW1hW0tpbmRdfScsICR7aW5zdGFuY2V9LCAke3ZhbHVlfSlgO1xuICAgIH1cbiAgICBmdW5jdGlvbiogVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSwgdXNlSG9pc3RpbmcgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IHJlZmVyZW5jZXNfID0gSXNTdHJpbmcoc2NoZW1hLiRpZCkgPyBbLi4ucmVmZXJlbmNlcywgc2NoZW1hXSA6IHJlZmVyZW5jZXM7XG4gICAgICAgIGNvbnN0IHNjaGVtYV8gPSBzY2hlbWE7XG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIEhvaXN0aW5nXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGlmICh1c2VIb2lzdGluZyAmJiBJc1N0cmluZyhzY2hlbWEuJGlkKSkge1xuICAgICAgICAgICAgY29uc3QgZnVuY3Rpb25OYW1lID0gQ3JlYXRlRnVuY3Rpb25OYW1lKHNjaGVtYS4kaWQpO1xuICAgICAgICAgICAgaWYgKHN0YXRlLmZ1bmN0aW9ucy5oYXMoZnVuY3Rpb25OYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCBgJHtmdW5jdGlvbk5hbWV9KCR7dmFsdWV9KWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmdW5jdGlvbkNvZGUgPSBDcmVhdGVGdW5jdGlvbihmdW5jdGlvbk5hbWUsIHNjaGVtYSwgcmVmZXJlbmNlcywgJ3ZhbHVlJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHN0YXRlLmZ1bmN0aW9ucy5zZXQoZnVuY3Rpb25OYW1lLCBmdW5jdGlvbkNvZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCBgJHtmdW5jdGlvbk5hbWV9KCR7dmFsdWV9KWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChzY2hlbWFfW0tpbmRdKSB7XG4gICAgICAgICAgICBjYXNlICdBbnknOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUFueShzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnQXJyYXknOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUFycmF5KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdBc3luY0l0ZXJhdG9yJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21Bc3luY0l0ZXJhdG9yKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdCaWdJbnQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUJpZ0ludChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnQm9vbGVhbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tQm9vbGVhbihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnQ29uc3RydWN0b3InOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUNvbnN0cnVjdG9yKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdEYXRlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21EYXRlKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdGdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tRnVuY3Rpb24oc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ0ludGVnZXInOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUludGVnZXIoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ0ludGVyc2VjdCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tSW50ZXJzZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdJdGVyYXRvcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tSXRlcmF0b3Ioc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ0xpdGVyYWwnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUxpdGVyYWwoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ05ldmVyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21OZXZlcihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnTm90JzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21Ob3Qoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ051bGwnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbU51bGwoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ051bWJlcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tTnVtYmVyKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdPYmplY3QnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbU9iamVjdChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnUHJvbWlzZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tUHJvbWlzZShzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnUmVjb3JkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21SZWNvcmQoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ1JlZic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tUmVmKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdSZWdFeHAnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVJlZ0V4cChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnU3RyaW5nJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21TdHJpbmcoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ1N5bWJvbCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tU3ltYm9sKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdUZW1wbGF0ZUxpdGVyYWwnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVRlbXBsYXRlTGl0ZXJhbChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnVGhpcyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tVGhpcyhzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnVHVwbGUnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVR1cGxlKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdVbmRlZmluZWQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVVuZGVmaW5lZChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnVW5pb24nOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVVuaW9uKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdVaW50OEFycmF5JzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21VaW50OEFycmF5KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdVbmtub3duJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21Vbmtub3duKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdWb2lkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21Wb2lkKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmICghVHlwZVJlZ2lzdHJ5LkhhcyhzY2hlbWFfW0tpbmRdKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVDb21waWxlclVua25vd25UeXBlRXJyb3Ioc2NoZW1hKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21LaW5kKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIENvbXBpbGVyIFN0YXRlXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICBsYW5ndWFnZTogJ2phdmFzY3JpcHQnLCAvLyB0YXJnZXQgbGFuZ3VhZ2VcbiAgICAgICAgZnVuY3Rpb25zOiBuZXcgTWFwKCksIC8vIGxvY2FsIGZ1bmN0aW9uc1xuICAgICAgICB2YXJpYWJsZXM6IG5ldyBNYXAoKSwgLy8gbG9jYWwgdmFyaWFibGVzXG4gICAgICAgIGluc3RhbmNlczogbmV3IE1hcCgpIC8vIGV4dGVyaW9yIGtpbmQgaW5zdGFuY2VzXG4gICAgfTtcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gQ29tcGlsZXIgRmFjdG9yeVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBmdW5jdGlvbiBDcmVhdGVFeHByZXNzaW9uKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUsIHVzZUhvaXN0aW5nID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gYCgke1suLi5WaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlLCB1c2VIb2lzdGluZyldLmpvaW4oJyAmJiAnKX0pYDtcbiAgICB9XG4gICAgZnVuY3Rpb24gQ3JlYXRlRnVuY3Rpb25OYW1lKCRpZCkge1xuICAgICAgICByZXR1cm4gYGNoZWNrXyR7SWRlbnRpZmllci5FbmNvZGUoJGlkKX1gO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDcmVhdGVWYXJpYWJsZShleHByZXNzaW9uKSB7XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlTmFtZSA9IGBsb2NhbF8ke3N0YXRlLnZhcmlhYmxlcy5zaXplfWA7XG4gICAgICAgIHN0YXRlLnZhcmlhYmxlcy5zZXQodmFyaWFibGVOYW1lLCBgY29uc3QgJHt2YXJpYWJsZU5hbWV9ID0gJHtleHByZXNzaW9ufWApO1xuICAgICAgICByZXR1cm4gdmFyaWFibGVOYW1lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDcmVhdGVGdW5jdGlvbihuYW1lLCBzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlLCB1c2VIb2lzdGluZyA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgW25ld2xpbmUsIHBhZF0gPSBbJ1xcbicsIChsZW5ndGgpID0+ICcnLnBhZFN0YXJ0KGxlbmd0aCwgJyAnKV07XG4gICAgICAgIGNvbnN0IHBhcmFtZXRlciA9IENyZWF0ZVBhcmFtZXRlcigndmFsdWUnLCAnYW55Jyk7XG4gICAgICAgIGNvbnN0IHJldHVybnMgPSBDcmVhdGVSZXR1cm5zKCdib29sZWFuJyk7XG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSBbLi4uVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSwgdXNlSG9pc3RpbmcpXS5tYXAoKGV4cHJlc3Npb24pID0+IGAke3BhZCg0KX0ke2V4cHJlc3Npb259YCkuam9pbihgICYmJHtuZXdsaW5lfWApO1xuICAgICAgICByZXR1cm4gYGZ1bmN0aW9uICR7bmFtZX0oJHtwYXJhbWV0ZXJ9KSR7cmV0dXJuc30geyR7bmV3bGluZX0ke3BhZCgyKX1yZXR1cm4gKCR7bmV3bGluZX0ke2V4cHJlc3Npb259JHtuZXdsaW5lfSR7cGFkKDIpfSlcXG59YDtcbiAgICB9XG4gICAgZnVuY3Rpb24gQ3JlYXRlUGFyYW1ldGVyKG5hbWUsIHR5cGUpIHtcbiAgICAgICAgY29uc3QgYW5ub3RhdGlvbiA9IHN0YXRlLmxhbmd1YWdlID09PSAndHlwZXNjcmlwdCcgPyBgOiAke3R5cGV9YCA6ICcnO1xuICAgICAgICByZXR1cm4gYCR7bmFtZX0ke2Fubm90YXRpb259YDtcbiAgICB9XG4gICAgZnVuY3Rpb24gQ3JlYXRlUmV0dXJucyh0eXBlKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5sYW5ndWFnZSA9PT0gJ3R5cGVzY3JpcHQnID8gYDogJHt0eXBlfWAgOiAnJztcbiAgICB9XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIENvbXBpbGVcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgZnVuY3Rpb24gQnVpbGQoc2NoZW1hLCByZWZlcmVuY2VzLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uQ29kZSA9IENyZWF0ZUZ1bmN0aW9uKCdjaGVjaycsIHNjaGVtYSwgcmVmZXJlbmNlcywgJ3ZhbHVlJyk7IC8vIHdpbGwgcG9wdWxhdGUgZnVuY3Rpb25zIGFuZCB2YXJpYWJsZXNcbiAgICAgICAgY29uc3QgcGFyYW1ldGVyID0gQ3JlYXRlUGFyYW1ldGVyKCd2YWx1ZScsICdhbnknKTtcbiAgICAgICAgY29uc3QgcmV0dXJucyA9IENyZWF0ZVJldHVybnMoJ2Jvb2xlYW4nKTtcbiAgICAgICAgY29uc3QgZnVuY3Rpb25zID0gWy4uLnN0YXRlLmZ1bmN0aW9ucy52YWx1ZXMoKV07XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IFsuLi5zdGF0ZS52YXJpYWJsZXMudmFsdWVzKCldO1xuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgY29uc3QgY2hlY2tGdW5jdGlvbiA9IElzU3RyaW5nKHNjaGVtYS4kaWQpIC8vIGVuc3VyZSB0b3AgbGV2ZWwgc2NoZW1hcyB3aXRoICRpZCdzIGFyZSBob2lzdGVkXG4gICAgICAgICAgICA/IGByZXR1cm4gZnVuY3Rpb24gY2hlY2soJHtwYXJhbWV0ZXJ9KSR7cmV0dXJuc30ge1xcbiAgcmV0dXJuICR7Q3JlYXRlRnVuY3Rpb25OYW1lKHNjaGVtYS4kaWQpfSh2YWx1ZSlcXG59YFxuICAgICAgICAgICAgOiBgcmV0dXJuICR7ZnVuY3Rpb25Db2RlfWA7XG4gICAgICAgIHJldHVybiBbLi4udmFyaWFibGVzLCAuLi5mdW5jdGlvbnMsIGNoZWNrRnVuY3Rpb25dLmpvaW4oJ1xcbicpO1xuICAgIH1cbiAgICAvKiogR2VuZXJhdGVzIHRoZSBjb2RlIHVzZWQgdG8gYXNzZXJ0IHRoaXMgdHlwZSBhbmQgcmV0dXJucyBpdCBhcyBhIHN0cmluZyAqL1xuICAgIGZ1bmN0aW9uIENvZGUoLi4uYXJncykge1xuICAgICAgICBjb25zdCBkZWZhdWx0cyA9IHsgbGFuZ3VhZ2U6ICdqYXZhc2NyaXB0JyB9O1xuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgY29uc3QgW3NjaGVtYSwgcmVmZXJlbmNlcywgb3B0aW9uc10gPSAoYXJncy5sZW5ndGggPT09IDIgJiYgSXNBcnJheShhcmdzWzFdKSA/IFthcmdzWzBdLCBhcmdzWzFdLCBkZWZhdWx0c10gOlxuICAgICAgICAgICAgYXJncy5sZW5ndGggPT09IDIgJiYgIUlzQXJyYXkoYXJnc1sxXSkgPyBbYXJnc1swXSwgW10sIGFyZ3NbMV1dIDpcbiAgICAgICAgICAgICAgICBhcmdzLmxlbmd0aCA9PT0gMyA/IFthcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdXSA6XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MubGVuZ3RoID09PSAxID8gW2FyZ3NbMF0sIFtdLCBkZWZhdWx0c10gOlxuICAgICAgICAgICAgICAgICAgICAgICAgW251bGwsIFtdLCBkZWZhdWx0c10pO1xuICAgICAgICAvLyBjb21waWxlci1yZXNldFxuICAgICAgICBzdGF0ZS5sYW5ndWFnZSA9IG9wdGlvbnMubGFuZ3VhZ2U7XG4gICAgICAgIHN0YXRlLnZhcmlhYmxlcy5jbGVhcigpO1xuICAgICAgICBzdGF0ZS5mdW5jdGlvbnMuY2xlYXIoKTtcbiAgICAgICAgc3RhdGUuaW5zdGFuY2VzLmNsZWFyKCk7XG4gICAgICAgIGlmICghSXNTY2hlbWEoc2NoZW1hKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlQ29tcGlsZXJUeXBlR3VhcmRFcnJvcihzY2hlbWEpO1xuICAgICAgICBmb3IgKGNvbnN0IHNjaGVtYSBvZiByZWZlcmVuY2VzKVxuICAgICAgICAgICAgaWYgKCFJc1NjaGVtYShzY2hlbWEpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlQ29tcGlsZXJUeXBlR3VhcmRFcnJvcihzY2hlbWEpO1xuICAgICAgICByZXR1cm4gQnVpbGQoc2NoZW1hLCByZWZlcmVuY2VzLCBvcHRpb25zKTtcbiAgICB9XG4gICAgVHlwZUNvbXBpbGVyLkNvZGUgPSBDb2RlO1xuICAgIC8qKiBDb21waWxlcyBhIFR5cGVCb3ggdHlwZSBmb3Igb3B0aW1hbCBydW50aW1lIHR5cGUgY2hlY2tpbmcuIFR5cGVzIG11c3QgYmUgdmFsaWQgVHlwZUJveCB0eXBlcyBvZiBUU2NoZW1hICovXG4gICAgZnVuY3Rpb24gQ29tcGlsZShzY2hlbWEsIHJlZmVyZW5jZXMgPSBbXSkge1xuICAgICAgICBjb25zdCBnZW5lcmF0ZWRDb2RlID0gQ29kZShzY2hlbWEsIHJlZmVyZW5jZXMsIHsgbGFuZ3VhZ2U6ICdqYXZhc2NyaXB0JyB9KTtcbiAgICAgICAgY29uc3QgY29tcGlsZWRGdW5jdGlvbiA9IGdsb2JhbFRoaXMuRnVuY3Rpb24oJ2tpbmQnLCAnZm9ybWF0JywgJ2hhc2gnLCBnZW5lcmF0ZWRDb2RlKTtcbiAgICAgICAgY29uc3QgaW5zdGFuY2VzID0gbmV3IE1hcChzdGF0ZS5pbnN0YW5jZXMpO1xuICAgICAgICBmdW5jdGlvbiB0eXBlUmVnaXN0cnlGdW5jdGlvbihraW5kLCBpbnN0YW5jZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghVHlwZVJlZ2lzdHJ5LkhhcyhraW5kKSB8fCAhaW5zdGFuY2VzLmhhcyhpbnN0YW5jZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgY2hlY2tGdW5jID0gVHlwZVJlZ2lzdHJ5LkdldChraW5kKTtcbiAgICAgICAgICAgIGNvbnN0IHNjaGVtYSA9IGluc3RhbmNlcy5nZXQoaW5zdGFuY2UpO1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrRnVuYyhzY2hlbWEsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBmb3JtYXRSZWdpc3RyeUZ1bmN0aW9uKGZvcm1hdCwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghRm9ybWF0UmVnaXN0cnkuSGFzKGZvcm1hdCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgY2hlY2tGdW5jID0gRm9ybWF0UmVnaXN0cnkuR2V0KGZvcm1hdCk7XG4gICAgICAgICAgICByZXR1cm4gY2hlY2tGdW5jKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYXNoRnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBIYXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGVja0Z1bmN0aW9uID0gY29tcGlsZWRGdW5jdGlvbih0eXBlUmVnaXN0cnlGdW5jdGlvbiwgZm9ybWF0UmVnaXN0cnlGdW5jdGlvbiwgaGFzaEZ1bmN0aW9uKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUeXBlQ2hlY2soc2NoZW1hLCByZWZlcmVuY2VzLCBjaGVja0Z1bmN0aW9uLCBnZW5lcmF0ZWRDb2RlKTtcbiAgICB9XG4gICAgVHlwZUNvbXBpbGVyLkNvbXBpbGUgPSBDb21waWxlO1xufSkoVHlwZUNvbXBpbGVyIHx8IChUeXBlQ29tcGlsZXIgPSB7fSkpO1xuIiwKICAgICIvKiFcbiAqIGNvb2tpZVxuICogQ29weXJpZ2h0KGMpIDIwMTItMjAxNCBSb21hbiBTaHR5bG1hblxuICogQ29weXJpZ2h0KGMpIDIwMTUgRG91Z2xhcyBDaHJpc3RvcGhlciBXaWxzb25cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqIEBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnBhcnNlID0gcGFyc2U7XG5leHBvcnRzLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcblxuLyoqXG4gKiBNb2R1bGUgdmFyaWFibGVzLlxuICogQHByaXZhdGVcbiAqL1xuXG52YXIgX190b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcblxuLyoqXG4gKiBSZWdFeHAgdG8gbWF0Y2ggZmllbGQtY29udGVudCBpbiBSRkMgNzIzMCBzZWMgMy4yXG4gKlxuICogZmllbGQtY29udGVudCA9IGZpZWxkLXZjaGFyIFsgMSooIFNQIC8gSFRBQiApIGZpZWxkLXZjaGFyIF1cbiAqIGZpZWxkLXZjaGFyICAgPSBWQ0hBUiAvIG9icy10ZXh0XG4gKiBvYnMtdGV4dCAgICAgID0gJXg4MC1GRlxuICovXG5cbnZhciBmaWVsZENvbnRlbnRSZWdFeHAgPSAvXltcXHUwMDA5XFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHUwMGZmXSskLztcblxuLyoqXG4gKiBQYXJzZSBhIGNvb2tpZSBoZWFkZXIuXG4gKlxuICogUGFyc2UgdGhlIGdpdmVuIGNvb2tpZSBoZWFkZXIgc3RyaW5nIGludG8gYW4gb2JqZWN0XG4gKiBUaGUgb2JqZWN0IGhhcyB0aGUgdmFyaW91cyBjb29raWVzIGFzIGtleXMobmFtZXMpID0+IHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEByZXR1cm4ge29iamVjdH1cbiAqIEBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgc3RyIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgfVxuXG4gIHZhciBvYmogPSB7fVxuICB2YXIgb3B0ID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIGRlYyA9IG9wdC5kZWNvZGUgfHwgZGVjb2RlO1xuXG4gIHZhciBpbmRleCA9IDBcbiAgd2hpbGUgKGluZGV4IDwgc3RyLmxlbmd0aCkge1xuICAgIHZhciBlcUlkeCA9IHN0ci5pbmRleE9mKCc9JywgaW5kZXgpXG5cbiAgICAvLyBubyBtb3JlIGNvb2tpZSBwYWlyc1xuICAgIGlmIChlcUlkeCA9PT0gLTEpIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgdmFyIGVuZElkeCA9IHN0ci5pbmRleE9mKCc7JywgaW5kZXgpXG5cbiAgICBpZiAoZW5kSWR4ID09PSAtMSkge1xuICAgICAgZW5kSWR4ID0gc3RyLmxlbmd0aFxuICAgIH0gZWxzZSBpZiAoZW5kSWR4IDwgZXFJZHgpIHtcbiAgICAgIC8vIGJhY2t0cmFjayBvbiBwcmlvciBzZW1pY29sb25cbiAgICAgIGluZGV4ID0gc3RyLmxhc3RJbmRleE9mKCc7JywgZXFJZHggLSAxKSArIDFcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgdmFyIGtleSA9IHN0ci5zbGljZShpbmRleCwgZXFJZHgpLnRyaW0oKVxuXG4gICAgLy8gb25seSBhc3NpZ24gb25jZVxuICAgIGlmICh1bmRlZmluZWQgPT09IG9ialtrZXldKSB7XG4gICAgICB2YXIgdmFsID0gc3RyLnNsaWNlKGVxSWR4ICsgMSwgZW5kSWR4KS50cmltKClcblxuICAgICAgLy8gcXVvdGVkIHZhbHVlc1xuICAgICAgaWYgKHZhbC5jaGFyQ29kZUF0KDApID09PSAweDIyKSB7XG4gICAgICAgIHZhbCA9IHZhbC5zbGljZSgxLCAtMSlcbiAgICAgIH1cblxuICAgICAgb2JqW2tleV0gPSB0cnlEZWNvZGUodmFsLCBkZWMpO1xuICAgIH1cblxuICAgIGluZGV4ID0gZW5kSWR4ICsgMVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBTZXJpYWxpemUgZGF0YSBpbnRvIGEgY29va2llIGhlYWRlci5cbiAqXG4gKiBTZXJpYWxpemUgdGhlIGEgbmFtZSB2YWx1ZSBwYWlyIGludG8gYSBjb29raWUgc3RyaW5nIHN1aXRhYmxlIGZvclxuICogaHR0cCBoZWFkZXJzLiBBbiBvcHRpb25hbCBvcHRpb25zIG9iamVjdCBzcGVjaWZpZWQgY29va2llIHBhcmFtZXRlcnMuXG4gKlxuICogc2VyaWFsaXplKCdmb28nLCAnYmFyJywgeyBodHRwT25seTogdHJ1ZSB9KVxuICogICA9PiBcImZvbz1iYXI7IGh0dHBPbmx5XCJcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IHZhbFxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHJldHVybiB7c3RyaW5nfVxuICogQHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZShuYW1lLCB2YWwsIG9wdGlvbnMpIHtcbiAgdmFyIG9wdCA9IG9wdGlvbnMgfHwge307XG4gIHZhciBlbmMgPSBvcHQuZW5jb2RlIHx8IGVuY29kZTtcblxuICBpZiAodHlwZW9mIGVuYyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBlbmNvZGUgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgaWYgKCFmaWVsZENvbnRlbnRSZWdFeHAudGVzdChuYW1lKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IG5hbWUgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgdmFyIHZhbHVlID0gZW5jKHZhbCk7XG5cbiAgaWYgKHZhbHVlICYmICFmaWVsZENvbnRlbnRSZWdFeHAudGVzdCh2YWx1ZSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCB2YWwgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgdmFyIHN0ciA9IG5hbWUgKyAnPScgKyB2YWx1ZTtcblxuICBpZiAobnVsbCAhPSBvcHQubWF4QWdlKSB7XG4gICAgdmFyIG1heEFnZSA9IG9wdC5tYXhBZ2UgLSAwO1xuXG4gICAgaWYgKGlzTmFOKG1heEFnZSkgfHwgIWlzRmluaXRlKG1heEFnZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBtYXhBZ2UgaXMgaW52YWxpZCcpXG4gICAgfVxuXG4gICAgc3RyICs9ICc7IE1heC1BZ2U9JyArIE1hdGguZmxvb3IobWF4QWdlKTtcbiAgfVxuXG4gIGlmIChvcHQuZG9tYWluKSB7XG4gICAgaWYgKCFmaWVsZENvbnRlbnRSZWdFeHAudGVzdChvcHQuZG9tYWluKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIGRvbWFpbiBpcyBpbnZhbGlkJyk7XG4gICAgfVxuXG4gICAgc3RyICs9ICc7IERvbWFpbj0nICsgb3B0LmRvbWFpbjtcbiAgfVxuXG4gIGlmIChvcHQucGF0aCkge1xuICAgIGlmICghZmllbGRDb250ZW50UmVnRXhwLnRlc3Qob3B0LnBhdGgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gcGF0aCBpcyBpbnZhbGlkJyk7XG4gICAgfVxuXG4gICAgc3RyICs9ICc7IFBhdGg9JyArIG9wdC5wYXRoO1xuICB9XG5cbiAgaWYgKG9wdC5leHBpcmVzKSB7XG4gICAgdmFyIGV4cGlyZXMgPSBvcHQuZXhwaXJlc1xuXG4gICAgaWYgKCFpc0RhdGUoZXhwaXJlcykgfHwgaXNOYU4oZXhwaXJlcy52YWx1ZU9mKCkpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gZXhwaXJlcyBpcyBpbnZhbGlkJyk7XG4gICAgfVxuXG4gICAgc3RyICs9ICc7IEV4cGlyZXM9JyArIGV4cGlyZXMudG9VVENTdHJpbmcoKVxuICB9XG5cbiAgaWYgKG9wdC5odHRwT25seSkge1xuICAgIHN0ciArPSAnOyBIdHRwT25seSc7XG4gIH1cblxuICBpZiAob3B0LnNlY3VyZSkge1xuICAgIHN0ciArPSAnOyBTZWN1cmUnO1xuICB9XG5cbiAgaWYgKG9wdC5wYXJ0aXRpb25lZCkge1xuICAgIHN0ciArPSAnOyBQYXJ0aXRpb25lZCdcbiAgfVxuXG4gIGlmIChvcHQucHJpb3JpdHkpIHtcbiAgICB2YXIgcHJpb3JpdHkgPSB0eXBlb2Ygb3B0LnByaW9yaXR5ID09PSAnc3RyaW5nJ1xuICAgICAgPyBvcHQucHJpb3JpdHkudG9Mb3dlckNhc2UoKVxuICAgICAgOiBvcHQucHJpb3JpdHlcblxuICAgIHN3aXRjaCAocHJpb3JpdHkpIHtcbiAgICAgIGNhc2UgJ2xvdyc6XG4gICAgICAgIHN0ciArPSAnOyBQcmlvcml0eT1Mb3cnXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdtZWRpdW0nOlxuICAgICAgICBzdHIgKz0gJzsgUHJpb3JpdHk9TWVkaXVtJ1xuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnaGlnaCc6XG4gICAgICAgIHN0ciArPSAnOyBQcmlvcml0eT1IaWdoJ1xuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIHByaW9yaXR5IGlzIGludmFsaWQnKVxuICAgIH1cbiAgfVxuXG4gIGlmIChvcHQuc2FtZVNpdGUpIHtcbiAgICB2YXIgc2FtZVNpdGUgPSB0eXBlb2Ygb3B0LnNhbWVTaXRlID09PSAnc3RyaW5nJ1xuICAgICAgPyBvcHQuc2FtZVNpdGUudG9Mb3dlckNhc2UoKSA6IG9wdC5zYW1lU2l0ZTtcblxuICAgIHN3aXRjaCAoc2FtZVNpdGUpIHtcbiAgICAgIGNhc2UgdHJ1ZTpcbiAgICAgICAgc3RyICs9ICc7IFNhbWVTaXRlPVN0cmljdCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbGF4JzpcbiAgICAgICAgc3RyICs9ICc7IFNhbWVTaXRlPUxheCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3RyaWN0JzpcbiAgICAgICAgc3RyICs9ICc7IFNhbWVTaXRlPVN0cmljdCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbm9uZSc6XG4gICAgICAgIHN0ciArPSAnOyBTYW1lU2l0ZT1Ob25lJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gc2FtZVNpdGUgaXMgaW52YWxpZCcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdHI7XG59XG5cbi8qKlxuICogVVJMLWRlY29kZSBzdHJpbmcgdmFsdWUuIE9wdGltaXplZCB0byBza2lwIG5hdGl2ZSBjYWxsIHdoZW4gbm8gJS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5cbmZ1bmN0aW9uIGRlY29kZSAoc3RyKSB7XG4gIHJldHVybiBzdHIuaW5kZXhPZignJScpICE9PSAtMVxuICAgID8gZGVjb2RlVVJJQ29tcG9uZW50KHN0cilcbiAgICA6IHN0clxufVxuXG4vKipcbiAqIFVSTC1lbmNvZGUgdmFsdWUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbFxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuXG5mdW5jdGlvbiBlbmNvZGUgKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbClcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdmFsdWUgaXMgYSBEYXRlLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGlzRGF0ZSAodmFsKSB7XG4gIHJldHVybiBfX3RvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nIHx8XG4gICAgdmFsIGluc3RhbmNlb2YgRGF0ZVxufVxuXG4vKipcbiAqIFRyeSBkZWNvZGluZyBhIHN0cmluZyB1c2luZyBhIGRlY29kaW5nIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGRlY29kZVxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiB0cnlEZWNvZGUoc3RyLCBkZWNvZGUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZGVjb2RlKHN0cik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG4iLAogICAgIi8vIG5vZGVfbW9kdWxlcy9tZW1vaXJpc3QvZGlzdC9pbmRleC5qc1xudmFyIGUgPSAoZTIsIHQzKSA9PiAoeyBwYXJ0OiBlMiwgc3RvcmU6IG51bGwsIGluZXJ0OiB2b2lkIDAgIT09IHQzID8gbmV3IE1hcCh0My5tYXAoKGUzKSA9PiBbZTMucGFydC5jaGFyQ29kZUF0KDApLCBlM10pKSA6IG51bGwsIHBhcmFtczogbnVsbCwgd2lsZGNhcmRTdG9yZTogbnVsbCB9KTtcbnZhciB0ID0gKGUyLCB0MykgPT4gKHsgLi4uZTIsIHBhcnQ6IHQzIH0pO1xudmFyIHIgPSAoZTIpID0+ICh7IHBhcmFtTmFtZTogZTIsIHN0b3JlOiBudWxsLCBpbmVydDogbnVsbCB9KTtcbnZhciBNZW1vaXJpc3QgPSBjbGFzcyBfTWVtb2lyaXN0IHtcbiAgcm9vdCA9IHt9O1xuICBoaXN0b3J5ID0gW107XG4gIHN0YXRpYyByZWdleCA9IHsgc3RhdGljOiAvOi4rPyg/PVxcL3wkKS8sIHBhcmFtczogLzouKz8oPz1cXC98JCkvZyB9O1xuICBhZGQoYTIsIGwsIGkpIHtcbiAgICBsZXQgcztcbiAgICBpZiAoXCJzdHJpbmdcIiAhPSB0eXBlb2YgbClcbiAgICAgIHRocm93IFR5cGVFcnJvcihcIlJvdXRlIHBhdGggbXVzdCBiZSBhIHN0cmluZ1wiKTtcbiAgICBcIlwiID09PSBsID8gbCA9IFwiL1wiIDogXCIvXCIgIT09IGxbMF0gJiYgKGwgPSBgLyR7bH1gKSwgdGhpcy5oaXN0b3J5LnB1c2goW2EyLCBsLCBpXSk7XG4gICAgbGV0IG4gPSBcIipcIiA9PT0gbFtsLmxlbmd0aCAtIDFdO1xuICAgIG4gJiYgKGwgPSBsLnNsaWNlKDAsIC0xKSk7XG4gICAgbGV0IG8gPSBsLnNwbGl0KF9NZW1vaXJpc3QucmVnZXguc3RhdGljKSwgdSA9IGwubWF0Y2goX01lbW9pcmlzdC5yZWdleC5wYXJhbXMpIHx8IFtdO1xuICAgIFwiXCIgPT09IG9bby5sZW5ndGggLSAxXSAmJiBvLnBvcCgpLCBzID0gdGhpcy5yb290W2EyXSA/IHRoaXMucm9vdFthMl0gOiB0aGlzLnJvb3RbYTJdID0gZShcIi9cIik7XG4gICAgbGV0IHAgPSAwO1xuICAgIGZvciAobGV0IGEzID0gMDsgYTMgPCBvLmxlbmd0aDsgKythMykge1xuICAgICAgbGV0IGkyID0gb1thM107XG4gICAgICBpZiAoYTMgPiAwKSB7XG4gICAgICAgIGxldCB0MyA9IHVbcCsrXS5zbGljZSgxKTtcbiAgICAgICAgaWYgKG51bGwgPT09IHMucGFyYW1zKVxuICAgICAgICAgIHMucGFyYW1zID0gcih0Myk7XG4gICAgICAgIGVsc2UgaWYgKHMucGFyYW1zLnBhcmFtTmFtZSAhPT0gdDMpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoYENhbm5vdCBjcmVhdGUgcm91dGUgXCIke2x9XCIgd2l0aCBwYXJhbWV0ZXIgXCIke3QzfVwiIGJlY2F1c2UgYSByb3V0ZSBhbHJlYWR5IGV4aXN0cyB3aXRoIGEgZGlmZmVyZW50IHBhcmFtZXRlciBuYW1lIChcIiR7cy5wYXJhbXMucGFyYW1OYW1lfVwiKSBpbiB0aGUgc2FtZSBsb2NhdGlvbmApO1xuICAgICAgICBsZXQgYTQgPSBzLnBhcmFtcztcbiAgICAgICAgaWYgKG51bGwgPT09IGE0LmluZXJ0KSB7XG4gICAgICAgICAgcyA9IGE0LmluZXJ0ID0gZShpMik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcyA9IGE0LmluZXJ0O1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgcjIgPSAwOyA7ICkge1xuICAgICAgICBpZiAocjIgPT09IGkyLmxlbmd0aCkge1xuICAgICAgICAgIGlmIChyMiA8IHMucGFydC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBhNCA9IHQocywgcy5wYXJ0LnNsaWNlKHIyKSk7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHMsIGUoaTIsIFthNF0pKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHIyID09PSBzLnBhcnQubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKG51bGwgPT09IHMuaW5lcnQpXG4gICAgICAgICAgICBzLmluZXJ0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgICAgICBlbHNlIGlmIChzLmluZXJ0LmhhcyhpMi5jaGFyQ29kZUF0KHIyKSkpIHtcbiAgICAgICAgICAgIHMgPSBzLmluZXJ0LmdldChpMi5jaGFyQ29kZUF0KHIyKSksIGkyID0gaTIuc2xpY2UocjIpLCByMiA9IDA7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHQzID0gZShpMi5zbGljZShyMikpO1xuICAgICAgICAgIHMuaW5lcnQuc2V0KGkyLmNoYXJDb2RlQXQocjIpLCB0MyksIHMgPSB0MztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaTJbcjJdICE9PSBzLnBhcnRbcjJdKSB7XG4gICAgICAgICAgbGV0IGE0ID0gdChzLCBzLnBhcnQuc2xpY2UocjIpKSwgbDIgPSBlKGkyLnNsaWNlKHIyKSk7XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihzLCBlKHMucGFydC5zbGljZSgwLCByMiksIFthNCwgbDJdKSksIHMgPSBsMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICArK3IyO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocCA8IHUubGVuZ3RoKSB7XG4gICAgICBsZXQgZTIgPSB1W3BdLCB0MyA9IGUyLnNsaWNlKDEpO1xuICAgICAgaWYgKG51bGwgPT09IHMucGFyYW1zKVxuICAgICAgICBzLnBhcmFtcyA9IHIodDMpO1xuICAgICAgZWxzZSBpZiAocy5wYXJhbXMucGFyYW1OYW1lICE9PSB0MylcbiAgICAgICAgdGhyb3cgRXJyb3IoYENhbm5vdCBjcmVhdGUgcm91dGUgXCIke2x9XCIgd2l0aCBwYXJhbWV0ZXIgXCIke3QzfVwiIGJlY2F1c2UgYSByb3V0ZSBhbHJlYWR5IGV4aXN0cyB3aXRoIGEgZGlmZmVyZW50IHBhcmFtZXRlciBuYW1lIChcIiR7cy5wYXJhbXMucGFyYW1OYW1lfVwiKSBpbiB0aGUgc2FtZSBsb2NhdGlvbmApO1xuICAgICAgcmV0dXJuIG51bGwgPT09IHMucGFyYW1zLnN0b3JlICYmIChzLnBhcmFtcy5zdG9yZSA9IGkpLCBzLnBhcmFtcy5zdG9yZTtcbiAgICB9XG4gICAgcmV0dXJuIG4gPyAobnVsbCA9PT0gcy53aWxkY2FyZFN0b3JlICYmIChzLndpbGRjYXJkU3RvcmUgPSBpKSwgcy53aWxkY2FyZFN0b3JlKSA6IChudWxsID09PSBzLnN0b3JlICYmIChzLnN0b3JlID0gaSksIHMuc3RvcmUpO1xuICB9XG4gIGZpbmQoZTIsIHQzKSB7XG4gICAgbGV0IHIyID0gdGhpcy5yb290W2UyXTtcbiAgICByZXR1cm4gcjIgPyBhKHQzLCB0My5sZW5ndGgsIHIyLCAwKSA6IG51bGw7XG4gIH1cbn07XG52YXIgYSA9IChlMiwgdDMsIHIyLCBsKSA9PiB7XG4gIGxldCBpID0gcjI/LnBhcnQsIHMgPSBsICsgaS5sZW5ndGg7XG4gIGlmIChpLmxlbmd0aCA+IDEpIHtcbiAgICBpZiAocyA+IHQzKVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKGkubGVuZ3RoIDwgMTUpIHtcbiAgICAgIGZvciAobGV0IHQ0ID0gMSwgcjMgPSBsICsgMTsgdDQgPCBpLmxlbmd0aDsgKyt0NCwgKytyMylcbiAgICAgICAgaWYgKGkuY2hhckNvZGVBdCh0NCkgIT09IGUyLmNoYXJDb2RlQXQocjMpKVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSBpZiAoZTIuc3Vic3RyaW5nKGwsIHMpICE9PSBpKVxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHMgPT09IHQzKVxuICAgIHJldHVybiBudWxsICE9PSByMi5zdG9yZSA/IHsgc3RvcmU6IHIyLnN0b3JlLCBwYXJhbXM6IHt9IH0gOiBudWxsICE9PSByMi53aWxkY2FyZFN0b3JlID8geyBzdG9yZTogcjIud2lsZGNhcmRTdG9yZSwgcGFyYW1zOiB7IFwiKlwiOiBcIlwiIH0gfSA6IG51bGw7XG4gIGlmIChudWxsICE9PSByMi5pbmVydCkge1xuICAgIGxldCBsMiA9IHIyLmluZXJ0LmdldChlMi5jaGFyQ29kZUF0KHMpKTtcbiAgICBpZiAodm9pZCAwICE9PSBsMikge1xuICAgICAgbGV0IHIzID0gYShlMiwgdDMsIGwyLCBzKTtcbiAgICAgIGlmIChudWxsICE9PSByMylcbiAgICAgICAgcmV0dXJuIHIzO1xuICAgIH1cbiAgfVxuICBpZiAobnVsbCAhPT0gcjIucGFyYW1zKSB7XG4gICAgbGV0IGwyID0gcjIucGFyYW1zLCBpMiA9IGUyLmluZGV4T2YoXCIvXCIsIHMpO1xuICAgIGlmIChpMiAhPT0gcykge1xuICAgICAgaWYgKC0xID09PSBpMiB8fCBpMiA+PSB0Mykge1xuICAgICAgICBpZiAobnVsbCAhPT0gbDIuc3RvcmUpIHtcbiAgICAgICAgICBsZXQgcjMgPSB7fTtcbiAgICAgICAgICByZXR1cm4gcjNbbDIucGFyYW1OYW1lXSA9IGUyLnN1YnN0cmluZyhzLCB0MyksIHsgc3RvcmU6IGwyLnN0b3JlLCBwYXJhbXM6IHIzIH07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobnVsbCAhPT0gbDIuaW5lcnQpIHtcbiAgICAgICAgbGV0IHIzID0gYShlMiwgdDMsIGwyLmluZXJ0LCBpMik7XG4gICAgICAgIGlmIChudWxsICE9PSByMylcbiAgICAgICAgICByZXR1cm4gcjMucGFyYW1zW2wyLnBhcmFtTmFtZV0gPSBlMi5zdWJzdHJpbmcocywgaTIpLCByMztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGwgIT09IHIyLndpbGRjYXJkU3RvcmUgPyB7IHN0b3JlOiByMi53aWxkY2FyZFN0b3JlLCBwYXJhbXM6IHsgXCIqXCI6IGUyLnN1YnN0cmluZyhzLCB0MykgfSB9IDogbnVsbDtcbn07XG5cbi8vIHNyYy9pbmRleC50c1xuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tIFwiZXZlbnRlbWl0dGVyM1wiO1xuXG4vLyBzcmMvdHJhY2UudHNcbnZhciByZXNvbHZlciA9ICgpID0+IHtcbiAgbGV0IHJlc29sdmU7XG4gIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocjIpID0+IHtcbiAgICByZXNvbHZlID0gcjI7XG4gIH0pO1xuICByZXR1cm4gW3Byb21pc2UsIHJlc29sdmVdO1xufTtcbnZhciBjcmVhdGVTaWduYWwgPSAoKSA9PiB7XG4gIGNvbnN0IFtzdGFydCwgcmVzb2x2ZVN0YXJ0XSA9IHJlc29sdmVyKCk7XG4gIGNvbnN0IFtlbmQsIHJlc29sdmVFbmRdID0gcmVzb2x2ZXIoKTtcbiAgY29uc3QgY2hpbGRyZW4gPSBbXTtcbiAgY29uc3QgcmVzb2x2ZXJzID0gW107XG4gIHJldHVybiB7XG4gICAgc2lnbmFsOiBzdGFydCxcbiAgICBjb25zdW1lOiAodHJhY2UpID0+IHtcbiAgICAgIHN3aXRjaCAodHJhY2UudHlwZSkge1xuICAgICAgICBjYXNlIFwiYmVnaW5cIjpcbiAgICAgICAgICBpZiAodHJhY2UudW5pdCAmJiBjaGlsZHJlbi5sZW5ndGggPT09IDApXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyYWNlLnVuaXQ7IGkrKykge1xuICAgICAgICAgICAgICBjb25zdCBbc3RhcnQyLCByZXNvbHZlU3RhcnQyXSA9IHJlc29sdmVyKCk7XG4gICAgICAgICAgICAgIGNvbnN0IFtlbmQyLCByZXNvbHZlRW5kMl0gPSByZXNvbHZlcigpO1xuICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKHN0YXJ0Mik7XG4gICAgICAgICAgICAgIHJlc29sdmVycy5wdXNoKFtcbiAgICAgICAgICAgICAgICAodHJhY2UyKSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlU3RhcnQyKHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICAgICAgICAgICAgICBlbmQ6IGVuZDIsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRyYWNlMi5uYW1lID8/IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIHNraXA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0aW1lOiB0cmFjZTIudGltZVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAodGltZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZUVuZDIodGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICByZXNvbHZlU3RhcnQoe1xuICAgICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgICBlbmQsXG4gICAgICAgICAgICBuYW1lOiB0cmFjZS5uYW1lID8/IFwiXCIsXG4gICAgICAgICAgICBza2lwOiBmYWxzZSxcbiAgICAgICAgICAgIHRpbWU6IHRyYWNlLnRpbWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJlc29sdmVFbmQodHJhY2UudGltZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSxcbiAgICBjb25zdW1lQ2hpbGQodHJhY2UpIHtcbiAgICAgIHN3aXRjaCAodHJhY2UudHlwZSkge1xuICAgICAgICBjYXNlIFwiYmVnaW5cIjpcbiAgICAgICAgICBpZiAoIXJlc29sdmVyc1swXSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBbcmVzb2x2ZVN0YXJ0Ml0gPSByZXNvbHZlcnNbMF07XG4gICAgICAgICAgcmVzb2x2ZVN0YXJ0Mih7XG4gICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgICAgICBlbmQsXG4gICAgICAgICAgICBuYW1lOiB0cmFjZS5uYW1lID8/IFwiXCIsXG4gICAgICAgICAgICBza2lwOiBmYWxzZSxcbiAgICAgICAgICAgIHRpbWU6IHRyYWNlLnRpbWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIGNvbnN0IGNoaWxkID0gcmVzb2x2ZXJzLnNoaWZ0KCk7XG4gICAgICAgICAgaWYgKCFjaGlsZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjaGlsZFsxXSh0cmFjZS50aW1lKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlc29sdmUoKSB7XG4gICAgICByZXNvbHZlU3RhcnQoe1xuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIGVuZDogbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHJlc29sdmUoMCkpLFxuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBza2lwOiB0cnVlLFxuICAgICAgICB0aW1lOiAwXG4gICAgICB9KTtcbiAgICAgIGZvciAoY29uc3QgW3Jlc29sdmVTdGFydDIsIHJlc29sdmVFbmQyXSBvZiByZXNvbHZlcnMpIHtcbiAgICAgICAgcmVzb2x2ZVN0YXJ0Mih7XG4gICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICAgIGVuZDogbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHJlc29sdmUoMCkpLFxuICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgc2tpcDogdHJ1ZSxcbiAgICAgICAgICB0aW1lOiAwXG4gICAgICAgIH0pO1xuICAgICAgICByZXNvbHZlRW5kMigwKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmVFbmQoMCk7XG4gICAgfVxuICB9O1xufTtcbnZhciBjcmVhdGVUcmFjZUxpc3RlbmVyID0gKGdldFJlcG9ydGVyLCB0b3RhbExpc3RlbmVyLCBoYW5kbGVyKSA9PiB7XG4gIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gXCJvYmplY3RcIilcbiAgICBoYW5kbGVyID0gaGFuZGxlci5mbjtcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIHRyYWNlKHRyYWNlKSB7XG4gICAgaWYgKHRyYWNlLmV2ZW50ICE9PSBcInJlcXVlc3RcIiB8fCB0cmFjZS50eXBlICE9PSBcImJlZ2luXCIpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgaWQgPSB0cmFjZS5pZDtcbiAgICBjb25zdCByZXBvcnRlciA9IGdldFJlcG9ydGVyKCk7XG4gICAgY29uc3QgcmVxdWVzdCA9IGNyZWF0ZVNpZ25hbCgpO1xuICAgIGNvbnN0IHBhcnNlMiA9IGNyZWF0ZVNpZ25hbCgpO1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IGNyZWF0ZVNpZ25hbCgpO1xuICAgIGNvbnN0IGJlZm9yZUhhbmRsZSA9IGNyZWF0ZVNpZ25hbCgpO1xuICAgIGNvbnN0IGhhbmRsZSA9IGNyZWF0ZVNpZ25hbCgpO1xuICAgIGNvbnN0IGFmdGVySGFuZGxlID0gY3JlYXRlU2lnbmFsKCk7XG4gICAgY29uc3QgZXJyb3IyID0gY3JlYXRlU2lnbmFsKCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBjcmVhdGVTaWduYWwoKTtcbiAgICByZXF1ZXN0LmNvbnN1bWUodHJhY2UpO1xuICAgIGNvbnN0IHJlZHVjZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5pZCA9PT0gaWQpXG4gICAgICAgIHN3aXRjaCAoZXZlbnQuZXZlbnQpIHtcbiAgICAgICAgICBjYXNlIFwicmVxdWVzdFwiOlxuICAgICAgICAgICAgcmVxdWVzdC5jb25zdW1lKGV2ZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJyZXF1ZXN0LnVuaXRcIjpcbiAgICAgICAgICAgIHJlcXVlc3QuY29uc3VtZUNoaWxkKGV2ZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJwYXJzZVwiOlxuICAgICAgICAgICAgcGFyc2UyLmNvbnN1bWUoZXZlbnQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInBhcnNlLnVuaXRcIjpcbiAgICAgICAgICAgIHBhcnNlMi5jb25zdW1lQ2hpbGQoZXZlbnQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInRyYW5zZm9ybVwiOlxuICAgICAgICAgICAgdHJhbnNmb3JtLmNvbnN1bWUoZXZlbnQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInRyYW5zZm9ybS51bml0XCI6XG4gICAgICAgICAgICB0cmFuc2Zvcm0uY29uc3VtZUNoaWxkKGV2ZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJiZWZvcmVIYW5kbGVcIjpcbiAgICAgICAgICAgIGJlZm9yZUhhbmRsZS5jb25zdW1lKGV2ZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJiZWZvcmVIYW5kbGUudW5pdFwiOlxuICAgICAgICAgICAgYmVmb3JlSGFuZGxlLmNvbnN1bWVDaGlsZChldmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiaGFuZGxlXCI6XG4gICAgICAgICAgICBoYW5kbGUuY29uc3VtZShldmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiYWZ0ZXJIYW5kbGVcIjpcbiAgICAgICAgICAgIGFmdGVySGFuZGxlLmNvbnN1bWUoZXZlbnQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImFmdGVySGFuZGxlLnVuaXRcIjpcbiAgICAgICAgICAgIGFmdGVySGFuZGxlLmNvbnN1bWVDaGlsZChldmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICAgIGVycm9yMi5jb25zdW1lKGV2ZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJlcnJvci51bml0XCI6XG4gICAgICAgICAgICBlcnJvcjIuY29uc3VtZUNoaWxkKGV2ZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJyZXNwb25zZVwiOlxuICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IFwiYmVnaW5cIikge1xuICAgICAgICAgICAgICByZXF1ZXN0LnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgcGFyc2UyLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgdHJhbnNmb3JtLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgYmVmb3JlSGFuZGxlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgaGFuZGxlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgYWZ0ZXJIYW5kbGUucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICBlcnJvcjIucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgIHJlcG9ydGVyLm9mZihcImV2ZW50XCIsIHJlZHVjZXIpO1xuICAgICAgICAgICAgcmVzcG9uc2UuY29uc3VtZShldmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwicmVzcG9uc2UudW5pdFwiOlxuICAgICAgICAgICAgcmVzcG9uc2UuY29uc3VtZUNoaWxkKGV2ZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJleGl0XCI6XG4gICAgICAgICAgICByZXF1ZXN0LnJlc29sdmUoKTtcbiAgICAgICAgICAgIHBhcnNlMi5yZXNvbHZlKCk7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucmVzb2x2ZSgpO1xuICAgICAgICAgICAgYmVmb3JlSGFuZGxlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIGhhbmRsZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICBhZnRlckhhbmRsZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICBlcnJvcjIucmVzb2x2ZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJlcG9ydGVyLm9uKFwiZXZlbnRcIiwgcmVkdWNlcik7XG4gICAgYXdhaXQgaGFuZGxlcih7XG4gICAgICBpZCxcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNvbnRleHQ6IHRyYWNlLmN0eCxcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHNldDogdHJhY2UuY3R4Py5zZXQsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBzdG9yZTogdHJhY2UuY3R4Py5zdG9yZSxcbiAgICAgIHRpbWU6IHRyYWNlLnRpbWUsXG4gICAgICByZXF1ZXN0OiByZXF1ZXN0LnNpZ25hbCxcbiAgICAgIHBhcnNlOiBwYXJzZTIuc2lnbmFsLFxuICAgICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm0uc2lnbmFsLFxuICAgICAgYmVmb3JlSGFuZGxlOiBiZWZvcmVIYW5kbGUuc2lnbmFsLFxuICAgICAgaGFuZGxlOiBoYW5kbGUuc2lnbmFsLFxuICAgICAgYWZ0ZXJIYW5kbGU6IGFmdGVySGFuZGxlLnNpZ25hbCxcbiAgICAgIGVycm9yOiBlcnJvcjIuc2lnbmFsLFxuICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlLnNpZ25hbFxuICAgIH0pO1xuICAgIHJlcG9ydGVyLmVtaXQoYHJlcyR7aWR9LiR7dG90YWxMaXN0ZW5lcn1gLCB2b2lkIDApO1xuICB9O1xufTtcblxuLy8gc3JjL3N1Y3Jvc2UudHNcbnZhciBzZXBhcmF0ZUZ1bmN0aW9uID0gKGNvZGUpID0+IHtcbiAgaWYgKGNvZGUuc3RhcnRzV2l0aChcImFzeW5jXCIpKVxuICAgIGNvZGUgPSBjb2RlLnNsaWNlKDYpO1xuICBsZXQgaW5kZXggPSAtMTtcbiAgaWYgKGNvZGUuY2hhckNvZGVBdCgwKSA9PT0gNDApIHtcbiAgICBpbmRleCA9IGNvZGUuaW5kZXhPZihcIikgPT4ge1xcblwiKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgY29kZS5zbGljZSgxLCBpbmRleCksXG4gICAgICAgIGNvZGUuc2xpY2UoaW5kZXggKyA1KSxcbiAgICAgICAgeyBpc0Fycm93UmV0dXJuOiBmYWxzZSB9XG4gICAgICBdO1xuICAgIGluZGV4ID0gY29kZS5pbmRleE9mKFwiKSA9PiBcIik7XG4gICAgaWYgKGluZGV4ICE9PSAtMSlcbiAgICAgIHJldHVybiBbXG4gICAgICAgIGNvZGUuc2xpY2UoMSwgaW5kZXgpLFxuICAgICAgICBjb2RlLnNsaWNlKGluZGV4ICsgNSksXG4gICAgICAgIHsgaXNBcnJvd1JldHVybjogdHJ1ZSB9XG4gICAgICBdO1xuICB9XG4gIGlmIChjb2RlLnN0YXJ0c1dpdGgoXCJmdW5jdGlvblwiKSkge1xuICAgIGluZGV4ID0gY29kZS5pbmRleE9mKFwiKFwiKTtcbiAgICBjb25zdCBlbmQgPSBjb2RlLmluZGV4T2YoXCIpXCIpO1xuICAgIHJldHVybiBbXG4gICAgICBjb2RlLnNsaWNlKGluZGV4ICsgMSwgZW5kKSxcbiAgICAgIGNvZGUuc2xpY2UoZW5kICsgMiksXG4gICAgICB7XG4gICAgICAgIGlzQXJyb3dSZXR1cm46IGZhbHNlXG4gICAgICB9XG4gICAgXTtcbiAgfVxuICBjb25zdCBzdGFydCA9IGNvZGUuaW5kZXhPZihcIihcIik7XG4gIGlmIChzdGFydCAhPT0gLTEpIHtcbiAgICBjb25zdCBbcGFyYW1ldGVyLCBib2R5XSA9IGNvZGUuc3BsaXQoXCJcXG5cIiwgMik7XG4gICAgY29uc3QgZW5kID0gcGFyYW1ldGVyLmxhc3RJbmRleE9mKFwiKVwiKSArIDE7XG4gICAgcmV0dXJuIFtcbiAgICAgIHBhcmFtZXRlci5zbGljZShzdGFydCwgZW5kKSxcbiAgICAgIFwie1wiICsgYm9keSxcbiAgICAgIHtcbiAgICAgICAgaXNBcnJvd1JldHVybjogZmFsc2VcbiAgICAgIH1cbiAgICBdO1xuICB9XG4gIGNvbnN0IHggPSBjb2RlLnNwbGl0KFwiXFxuXCIsIDIpO1xuICByZXR1cm4gW3hbMF0sIHhbMV0sIHsgaXNBcnJvd1JldHVybjogZmFsc2UgfV07XG59O1xudmFyIGJyYWNrZXRQYWlyUmFuZ2UgPSAocGFyYW1ldGVyKSA9PiB7XG4gIGNvbnN0IHN0YXJ0ID0gcGFyYW1ldGVyLmluZGV4T2YoXCJ7XCIpO1xuICBpZiAoc3RhcnQgPT09IC0xKVxuICAgIHJldHVybiBbLTEsIDBdO1xuICBsZXQgZW5kID0gc3RhcnQgKyAxO1xuICBsZXQgZGVlcCA9IDE7XG4gIGZvciAoOyBlbmQgPCBwYXJhbWV0ZXIubGVuZ3RoOyBlbmQrKykge1xuICAgIGNvbnN0IGNoYXIgPSBwYXJhbWV0ZXIuY2hhckNvZGVBdChlbmQpO1xuICAgIGlmIChjaGFyID09PSAxMjMpXG4gICAgICBkZWVwKys7XG4gICAgZWxzZSBpZiAoY2hhciA9PT0gMTI1KVxuICAgICAgZGVlcC0tO1xuICAgIGlmIChkZWVwID09PSAwKVxuICAgICAgYnJlYWs7XG4gIH1cbiAgaWYgKGRlZXAgIT09IDApXG4gICAgcmV0dXJuIFswLCBwYXJhbWV0ZXIubGVuZ3RoXTtcbiAgcmV0dXJuIFtzdGFydCwgZW5kICsgMV07XG59O1xudmFyIGJyYWNrZXRQYWlyUmFuZ2VSZXZlcnNlID0gKHBhcmFtZXRlcikgPT4ge1xuICBjb25zdCBlbmQgPSBwYXJhbWV0ZXIubGFzdEluZGV4T2YoXCJ9XCIpO1xuICBpZiAoZW5kID09PSAtMSlcbiAgICByZXR1cm4gWy0xLCAwXTtcbiAgbGV0IHN0YXJ0ID0gZW5kIC0gMTtcbiAgbGV0IGRlZXAgPSAxO1xuICBmb3IgKDsgc3RhcnQgPj0gMDsgc3RhcnQtLSkge1xuICAgIGNvbnN0IGNoYXIgPSBwYXJhbWV0ZXIuY2hhckNvZGVBdChzdGFydCk7XG4gICAgaWYgKGNoYXIgPT09IDEyNSlcbiAgICAgIGRlZXArKztcbiAgICBlbHNlIGlmIChjaGFyID09PSAxMjMpXG4gICAgICBkZWVwLS07XG4gICAgaWYgKGRlZXAgPT09IDApXG4gICAgICBicmVhaztcbiAgfVxuICBpZiAoZGVlcCAhPT0gMClcbiAgICByZXR1cm4gWy0xLCAwXTtcbiAgcmV0dXJuIFtzdGFydCwgZW5kICsgMV07XG59O1xudmFyIHJldHJpZXZlUm9vdFBhcmFtdGVycyA9IChwYXJhbWV0ZXIpID0+IHtcbiAgaWYgKHBhcmFtZXRlci5jaGFyQ29kZUF0KDApID09PSA0MClcbiAgICBwYXJhbWV0ZXIgPSBwYXJhbWV0ZXIuc2xpY2UoMSwgLTEpO1xuICBpZiAocGFyYW1ldGVyLmNoYXJDb2RlQXQoMCkgPT09IDEyMylcbiAgICBwYXJhbWV0ZXIgPSBwYXJhbWV0ZXIuc2xpY2UoMiwgLTIpO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGNvbnN0IFtzdGFydCwgZW5kXSA9IGJyYWNrZXRQYWlyUmFuZ2UocGFyYW1ldGVyKTtcbiAgICBpZiAoc3RhcnQgPT09IC0xKVxuICAgICAgYnJlYWs7XG4gICAgcGFyYW1ldGVyID0gcGFyYW1ldGVyLnNsaWNlKDAsIHN0YXJ0IC0gMikgKyBwYXJhbWV0ZXIuc2xpY2UoZW5kICsgMSk7XG4gIH1cbiAgcmV0dXJuIHBhcmFtZXRlci5yZXBsYWNlKC86L2csIFwiXCIpLnRyaW0oKTtcbn07XG52YXIgZmluZFBhcmFtZXRlclJlZmVyZW5jZSA9IChwYXJhbWV0ZXIsIGluZmVyZW5jZSkgPT4ge1xuICBjb25zdCByb290ID0gcmV0cmlldmVSb290UGFyYW10ZXJzKHBhcmFtZXRlcik7XG4gIGlmICghaW5mZXJlbmNlLnF1ZXJ5ICYmIHJvb3QuaW5jbHVkZXMoXCJxdWVyeVwiKSlcbiAgICBpbmZlcmVuY2UucXVlcnkgPSB0cnVlO1xuICBpZiAoIWluZmVyZW5jZS5oZWFkZXJzICYmIHJvb3QuaW5jbHVkZXMoXCJoZWFkZXJzXCIpKVxuICAgIGluZmVyZW5jZS5oZWFkZXJzID0gdHJ1ZTtcbiAgaWYgKCFpbmZlcmVuY2UuYm9keSAmJiByb290LmluY2x1ZGVzKFwiYm9keVwiKSlcbiAgICBpbmZlcmVuY2UuYm9keSA9IHRydWU7XG4gIGlmICghaW5mZXJlbmNlLmNvb2tpZSAmJiByb290LmluY2x1ZGVzKFwiY29va2llXCIpKVxuICAgIGluZmVyZW5jZS5jb29raWUgPSB0cnVlO1xuICBpZiAoIWluZmVyZW5jZS5zZXQgJiYgcm9vdC5pbmNsdWRlcyhcInNldFwiKSlcbiAgICBpbmZlcmVuY2Uuc2V0ID0gdHJ1ZTtcbiAgcmV0dXJuIHJvb3Q7XG59O1xudmFyIGZpbmRUcmFjZVBhcmFtZXRlclJlZmVyZW5jZSA9IChwYXJhbWV0ZXIsIGluZmVyZW5jZSkgPT4ge1xuICBjb25zdCByb290ID0gcmV0cmlldmVSb290UGFyYW10ZXJzKHBhcmFtZXRlcik7XG4gIGlmICghaW5mZXJlbmNlLnJlcXVlc3QgJiYgcm9vdC5pbmNsdWRlcyhcInJlcXVlc3RcIikpXG4gICAgaW5mZXJlbmNlLnJlcXVlc3QgPSB0cnVlO1xuICBpZiAoIWluZmVyZW5jZS5wYXJzZSAmJiByb290LmluY2x1ZGVzKFwicGFyc2VcIikpXG4gICAgaW5mZXJlbmNlLnBhcnNlID0gdHJ1ZTtcbiAgaWYgKCFpbmZlcmVuY2UudHJhbnNmb3JtICYmIHJvb3QuaW5jbHVkZXMoXCJ0cmFuc2Zvcm1cIikpXG4gICAgaW5mZXJlbmNlLnRyYW5zZm9ybSA9IHRydWU7XG4gIGlmICghaW5mZXJlbmNlLmhhbmRsZSAmJiByb290LmluY2x1ZGVzKFwiaGFuZGxlXCIpKVxuICAgIGluZmVyZW5jZS5oYW5kbGUgPSB0cnVlO1xuICBpZiAoIWluZmVyZW5jZS5iZWZvcmVIYW5kbGUgJiYgcm9vdC5pbmNsdWRlcyhcImJlZm9yZUhhbmRsZVwiKSlcbiAgICBpbmZlcmVuY2UuYmVmb3JlSGFuZGxlID0gdHJ1ZTtcbiAgaWYgKCFpbmZlcmVuY2UuYWZ0ZXJIYW5kbGUgJiYgcm9vdC5pbmNsdWRlcyhcImFmdGVySGFuZGxlXCIpKVxuICAgIGluZmVyZW5jZS5hZnRlckhhbmRsZSA9IHRydWU7XG4gIGlmICghaW5mZXJlbmNlLmVycm9yICYmIHJvb3QuaW5jbHVkZXMoXCJlcnJvclwiKSlcbiAgICBpbmZlcmVuY2UuZXJyb3IgPSB0cnVlO1xuICBpZiAoIWluZmVyZW5jZS5jb250ZXh0ICYmIHJvb3QuaW5jbHVkZXMoXCJjb250ZXh0XCIpKVxuICAgIGluZmVyZW5jZS5jb250ZXh0ID0gdHJ1ZTtcbiAgaWYgKCFpbmZlcmVuY2Uuc3RvcmUgJiYgcm9vdC5pbmNsdWRlcyhcInN0b3JlXCIpKVxuICAgIGluZmVyZW5jZS5zdG9yZSA9IHRydWU7XG4gIGlmICghaW5mZXJlbmNlLnNldCAmJiByb290LmluY2x1ZGVzKFwic2V0XCIpKVxuICAgIGluZmVyZW5jZS5zZXQgPSB0cnVlO1xuICByZXR1cm4gcm9vdDtcbn07XG52YXIgZmluZEVuZEluZGV4ID0gKHR5cGUsIGNvbnRlbnQsIGluZGV4KSA9PiB7XG4gIGNvbnN0IG5ld0xpbmVJbmRleCA9IGNvbnRlbnQuaW5kZXhPZih0eXBlICsgXCJcXG5cIiwgaW5kZXgpO1xuICBjb25zdCBuZXdUYWJJbmRleCA9IGNvbnRlbnQuaW5kZXhPZih0eXBlICsgXCJcdFwiLCBpbmRleCk7XG4gIGNvbnN0IGNvbW1hSW5kZXggPSBjb250ZW50LmluZGV4T2YodHlwZSArIFwiLFwiLCBpbmRleCk7XG4gIGNvbnN0IHNlbWljb2xvbkluZGV4ID0gY29udGVudC5pbmRleE9mKHR5cGUgKyBcIjtcIiwgaW5kZXgpO1xuICBjb25zdCBlbXB0eUluZGV4ID0gY29udGVudC5pbmRleE9mKHR5cGUgKyBcIiBcIiwgaW5kZXgpO1xuICByZXR1cm4gW25ld0xpbmVJbmRleCwgbmV3VGFiSW5kZXgsIGNvbW1hSW5kZXgsIHNlbWljb2xvbkluZGV4LCBlbXB0eUluZGV4XS5maWx0ZXIoKGkpID0+IGkgPiAwKS5zb3J0KChhMiwgYikgPT4gYTIgLSBiKVswXSB8fCAtMTtcbn07XG52YXIgZmluZEFsaWFzID0gKHR5cGUsIGJvZHksIGRlcHRoID0gMCkgPT4ge1xuICBpZiAoZGVwdGggPiA1KVxuICAgIHJldHVybiBbXTtcbiAgY29uc3QgYWxpYXNlcyA9IFtdO1xuICBsZXQgY29udGVudCA9IGJvZHk7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgbGV0IGluZGV4ID0gZmluZEVuZEluZGV4KFwiID0gXCIgKyB0eXBlLCBjb250ZW50KTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICBjb25zdCBsYXN0SW5kZXggPSBjb250ZW50LmluZGV4T2YoXCIgPSBcIiArIHR5cGUpO1xuICAgICAgaWYgKGxhc3RJbmRleCArIDMgKyB0eXBlLmxlbmd0aCAhPT0gY29udGVudC5sZW5ndGgpXG4gICAgICAgIGJyZWFrO1xuICAgICAgaW5kZXggPSBsYXN0SW5kZXg7XG4gICAgfVxuICAgIGNvbnN0IHBhcnQgPSBjb250ZW50LnNsaWNlKDAsIGluZGV4KTtcbiAgICBsZXQgdmFyaWFibGUgPSBwYXJ0LnNsaWNlKHBhcnQubGFzdEluZGV4T2YoXCIgXCIpICsgMSk7XG4gICAgaWYgKHZhcmlhYmxlID09PSBcIn1cIikge1xuICAgICAgY29uc3QgW3N0YXJ0LCBlbmRdID0gYnJhY2tldFBhaXJSYW5nZVJldmVyc2UocGFydCk7XG4gICAgICBhbGlhc2VzLnB1c2goY29udGVudC5zbGljZShzdGFydCwgZW5kKSk7XG4gICAgICBjb250ZW50ID0gY29udGVudC5zbGljZShpbmRleCArIDMgKyB0eXBlLmxlbmd0aCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgd2hpbGUgKHZhcmlhYmxlLmNoYXJDb2RlQXQoMCkgPT09IDQ0KVxuICAgICAgdmFyaWFibGUgPSB2YXJpYWJsZS5zbGljZSgxKTtcbiAgICB3aGlsZSAodmFyaWFibGUuY2hhckNvZGVBdCgwKSA9PT0gOSlcbiAgICAgIHZhcmlhYmxlID0gdmFyaWFibGUuc2xpY2UoMSk7XG4gICAgYWxpYXNlcy5wdXNoKHZhcmlhYmxlKTtcbiAgICBjb250ZW50ID0gY29udGVudC5zbGljZShpbmRleCArIDMgKyB0eXBlLmxlbmd0aCk7XG4gIH1cbiAgZm9yIChjb25zdCBhbGlhcyBvZiBhbGlhc2VzKSB7XG4gICAgaWYgKGFsaWFzLmNoYXJDb2RlQXQoMCkgPT09IDEyMylcbiAgICAgIGNvbnRpbnVlO1xuICAgIGNvbnN0IGRlZXBBbGlhcyA9IGZpbmRBbGlhcyhhbGlhcywgYm9keSk7XG4gICAgaWYgKGRlZXBBbGlhcy5sZW5ndGggPiAwKVxuICAgICAgYWxpYXNlcy5wdXNoKC4uLmRlZXBBbGlhcyk7XG4gIH1cbiAgcmV0dXJuIGFsaWFzZXM7XG59O1xudmFyIGV4dHJhY3RNYWluUGFyYW1ldGVyID0gKHBhcmFtZXRlcikgPT4ge1xuICBpZiAoIXBhcmFtZXRlcilcbiAgICByZXR1cm47XG4gIGNvbnN0IGhhc0NvbW1hID0gcGFyYW1ldGVyLmluY2x1ZGVzKFwiLFwiKTtcbiAgaWYgKCFoYXNDb21tYSkge1xuICAgIGlmIChwYXJhbWV0ZXIuaW5jbHVkZXMoXCIuLi5cIikpXG4gICAgICByZXR1cm4gcGFyYW1ldGVyLnNsaWNlKHBhcmFtZXRlci5pbmRleE9mKFwiLi4uXCIpICsgMyk7XG4gICAgcmV0dXJuIHBhcmFtZXRlcjtcbiAgfVxuICBjb25zdCBzcHJlYWRJbmRleCA9IHBhcmFtZXRlci5pbmRleE9mKFwiLi4uXCIpO1xuICBpZiAoc3ByZWFkSW5kZXggPT09IC0xKVxuICAgIHJldHVybjtcbiAgcmV0dXJuIHBhcmFtZXRlci5zbGljZShzcHJlYWRJbmRleCArIDMpLnRyaW1FbmQoKTtcbn07XG52YXIgaW5mZXJCb2R5UmVmZXJlbmNlID0gKGNvZGUsIGFsaWFzZXMsIGluZmVyZW5jZSkgPT4ge1xuICBjb25zdCBhY2Nlc3MgPSAodHlwZSwgYWxpYXMpID0+IGNvZGUuaW5jbHVkZXMoYWxpYXMgKyBcIi5cIiArIHR5cGUpIHx8IGNvZGUuaW5jbHVkZXMoYWxpYXMgKyAnW1wiJyArIHR5cGUgKyAnXCJdJykgfHwgY29kZS5pbmNsdWRlcyhhbGlhcyArIFwiWydcIiArIHR5cGUgKyBcIiddXCIpO1xuICBmb3IgKGxldCBhbGlhcyBvZiBhbGlhc2VzKSB7XG4gICAgaWYgKCFhbGlhcylcbiAgICAgIGNvbnRpbnVlO1xuICAgIGlmIChhbGlhcy5jaGFyQ29kZUF0KDApID09PSAxMjMpIHtcbiAgICAgIGFsaWFzID0gcmV0cmlldmVSb290UGFyYW10ZXJzKGFsaWFzKTtcbiAgICAgIGlmICghaW5mZXJlbmNlLnF1ZXJ5ICYmIGFsaWFzLmluY2x1ZGVzKFwicXVlcnlcIikpXG4gICAgICAgIGluZmVyZW5jZS5xdWVyeSA9IHRydWU7XG4gICAgICBpZiAoIWluZmVyZW5jZS5oZWFkZXJzICYmIGFsaWFzLmluY2x1ZGVzKFwiaGVhZGVyc1wiKSlcbiAgICAgICAgaW5mZXJlbmNlLmhlYWRlcnMgPSB0cnVlO1xuICAgICAgaWYgKCFpbmZlcmVuY2UuYm9keSAmJiBhbGlhcy5pbmNsdWRlcyhcImJvZHlcIikpXG4gICAgICAgIGluZmVyZW5jZS5ib2R5ID0gdHJ1ZTtcbiAgICAgIGlmICghaW5mZXJlbmNlLmNvb2tpZSAmJiBhbGlhcy5pbmNsdWRlcyhcImNvb2tpZVwiKSlcbiAgICAgICAgaW5mZXJlbmNlLmNvb2tpZSA9IHRydWU7XG4gICAgICBpZiAoIWluZmVyZW5jZS5zZXQgJiYgYWxpYXMuaW5jbHVkZXMoXCJzZXRcIikpXG4gICAgICAgIGluZmVyZW5jZS5zZXQgPSB0cnVlO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChjb2RlLmluY2x1ZGVzKFwiKFwiICsgYWxpYXMgKyBcIilcIikpIHtcbiAgICAgIGluZmVyZW5jZS5xdWVyeSA9IHRydWU7XG4gICAgICBpbmZlcmVuY2UuaGVhZGVycyA9IHRydWU7XG4gICAgICBpbmZlcmVuY2UuYm9keSA9IHRydWU7XG4gICAgICBpbmZlcmVuY2UuY29va2llID0gdHJ1ZTtcbiAgICAgIGluZmVyZW5jZS5zZXQgPSB0cnVlO1xuICAgICAgaW5mZXJlbmNlLnF1ZXJpZXMgPSBbXTtcbiAgICAgIGluZmVyZW5jZS51bmtub3duUXVlcmllcyA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKCFpbmZlcmVuY2UucXVlcnkgJiYgYWNjZXNzKFwicXVlcnlcIiwgYWxpYXMpKVxuICAgICAgaW5mZXJlbmNlLnF1ZXJ5ID0gdHJ1ZTtcbiAgICBpZiAoY29kZS5pbmNsdWRlcyhcInJldHVybiBcIiArIGFsaWFzKSB8fCBjb2RlLmluY2x1ZGVzKFwicmV0dXJuIFwiICsgYWxpYXMgKyBcIi5xdWVyeVwiKSkge1xuICAgICAgaW5mZXJlbmNlLnF1ZXJ5ID0gdHJ1ZTtcbiAgICAgIGluZmVyZW5jZS51bmtub3duUXVlcmllcyA9IHRydWU7XG4gICAgICBpbmZlcmVuY2UucXVlcmllcyA9IFtdO1xuICAgIH1cbiAgICBpZiAoIWluZmVyZW5jZS51bmtub3duUXVlcmllcyAmJiBpbmZlcmVuY2UucXVlcnkpIHtcbiAgICAgIGxldCBrZXl3b3JkID0gYWxpYXMgKyBcIi5cIjtcbiAgICAgIGlmIChjb2RlLmluY2x1ZGVzKGtleXdvcmQgKyBcInF1ZXJ5XCIpKVxuICAgICAgICBrZXl3b3JkID0gYWxpYXMgKyBcIi5xdWVyeVwiO1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gY29kZS5pbmRleE9mKGtleXdvcmQpO1xuICAgICAgICBpZiAoc3RhcnQgPT09IC0xICYmIGNvZGUuaW5kZXhPZihhbGlhcyArIFwiW1wiKSAhPT0gLTEpIHtcbiAgICAgICAgICBpbmZlcmVuY2UucXVlcmllcyA9IFtdO1xuICAgICAgICAgIGluZmVyZW5jZS51bmtub3duUXVlcmllcyA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0ICE9PSAtMSkge1xuICAgICAgICAgIGxldCBlbmQgPSBmaW5kRW5kSW5kZXgoXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgY29kZSxcbiAgICAgICAgICAgIHN0YXJ0ICsga2V5d29yZC5sZW5ndGggKyAxXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoZW5kID09PSAtMSlcbiAgICAgICAgICAgIGVuZCA9IHZvaWQgMDtcbiAgICAgICAgICBjb25zdCBpbmRleCA9IHN0YXJ0ICsgYWxpYXMubGVuZ3RoICsgMTtcbiAgICAgICAgICBjb2RlID0gY29kZS5zbGljZShzdGFydCArIGFsaWFzLmxlbmd0aCArIDEpO1xuICAgICAgICAgIGxldCBxdWVyeSA9IGNvZGUuc2xpY2UoMCwgZW5kID8gZW5kIC0gaW5kZXggOiBlbmQpLnRyaW1FbmQoKTtcbiAgICAgICAgICB3aGlsZSAoc3RhcnQgIT09IC0xKSB7XG4gICAgICAgICAgICBzdGFydCA9IHF1ZXJ5LmluZGV4T2YoXCIuXCIpO1xuICAgICAgICAgICAgaWYgKHN0YXJ0ICE9PSAtMSlcbiAgICAgICAgICAgICAgcXVlcnkgPSBxdWVyeS5zbGljZShzdGFydCArIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocXVlcnkuY2hhckNvZGVBdChxdWVyeS5sZW5ndGggLSAxKSA9PT0gNTkpXG4gICAgICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICBpZiAocXVlcnkuY2hhckNvZGVBdChxdWVyeS5sZW5ndGggLSAxKSA9PT0gNDQpXG4gICAgICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICBpZiAocXVlcnkuY2hhckNvZGVBdChxdWVyeS5sZW5ndGggLSAxKSA9PT0gOTMpXG4gICAgICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICBpZiAocXVlcnkuY2hhckNvZGVBdChxdWVyeS5sZW5ndGggLSAxKSA9PT0gNDEpXG4gICAgICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICBpZiAocXVlcnkgJiYgIWluZmVyZW5jZS5xdWVyaWVzLmluY2x1ZGVzKHF1ZXJ5KSkge1xuICAgICAgICAgICAgaW5mZXJlbmNlLnF1ZXJpZXMucHVzaChxdWVyeSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghaW5mZXJlbmNlLmhlYWRlcnMgJiYgYWNjZXNzKFwiaGVhZGVyc1wiLCBhbGlhcykpXG4gICAgICBpbmZlcmVuY2UuaGVhZGVycyA9IHRydWU7XG4gICAgaWYgKCFpbmZlcmVuY2UuYm9keSAmJiBhY2Nlc3MoXCJib2R5XCIsIGFsaWFzKSlcbiAgICAgIGluZmVyZW5jZS5ib2R5ID0gdHJ1ZTtcbiAgICBpZiAoIWluZmVyZW5jZS5jb29raWUgJiYgYWNjZXNzKFwiY29va2llXCIsIGFsaWFzKSlcbiAgICAgIGluZmVyZW5jZS5jb29raWUgPSB0cnVlO1xuICAgIGlmICghaW5mZXJlbmNlLnNldCAmJiBhY2Nlc3MoXCJzZXRcIiwgYWxpYXMpKVxuICAgICAgaW5mZXJlbmNlLnNldCA9IHRydWU7XG4gICAgaWYgKGluZmVyZW5jZS5xdWVyeSAmJiBpbmZlcmVuY2UuaGVhZGVycyAmJiBpbmZlcmVuY2UuYm9keSAmJiBpbmZlcmVuY2UuY29va2llICYmIGluZmVyZW5jZS5zZXQpXG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gYWxpYXNlcztcbn07XG52YXIgcmVtb3ZlRGVmYXVsdFBhcmFtZXRlciA9IChwYXJhbWV0ZXIpID0+IHtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCBpbmRleCA9IHBhcmFtZXRlci5pbmRleE9mKFwiPVwiKTtcbiAgICBpZiAoaW5kZXggPT09IC0xKVxuICAgICAgYnJlYWs7XG4gICAgY29uc3QgY29tbWFJbmRleCA9IHBhcmFtZXRlci5pbmRleE9mKFwiLFwiLCBpbmRleCk7XG4gICAgY29uc3QgYnJhY2tldEluZGV4ID0gcGFyYW1ldGVyLmluZGV4T2YoXCJ9XCIsIGluZGV4KTtcbiAgICBjb25zdCBlbmQgPSBbY29tbWFJbmRleCwgYnJhY2tldEluZGV4XS5maWx0ZXIoKGkpID0+IGkgPiAwKS5zb3J0KChhMiwgYikgPT4gYTIgLSBiKVswXSB8fCAtMTtcbiAgICBpZiAoZW5kID09PSAtMSkge1xuICAgICAgcGFyYW1ldGVyID0gcGFyYW1ldGVyLnNsaWNlKDAsIGluZGV4KTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBwYXJhbWV0ZXIgPSBwYXJhbWV0ZXIuc2xpY2UoMCwgaW5kZXgpICsgcGFyYW1ldGVyLnNsaWNlKGVuZCk7XG4gIH1cbiAgcmV0dXJuIHBhcmFtZXRlci5zcGxpdChcIixcIikubWFwKChpKSA9PiBpLnRyaW0oKSkuam9pbihcIiwgXCIpO1xufTtcbnZhciB2YWxpZGF0ZUluZmVyZW5jZWRRdWVyaWVzID0gKHF1ZXJpZXMpID0+IHtcbiAgZm9yIChjb25zdCBxdWVyeSBvZiBxdWVyaWVzKSB7XG4gICAgaWYgKHF1ZXJ5LmNoYXJDb2RlQXQoMCkgPT09IDEyMylcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAocXVlcnkuaW5kZXhPZihcIidcIikgIT09IC0xKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChxdWVyeS5pbmRleE9mKCdcIicpICE9PSAtMSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAocXVlcnkuaW5kZXhPZihcIlxcblwiKSAhPT0gLTEpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHF1ZXJ5LmluZGV4T2YoXCJcdFwiKSAhPT0gLTEpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xudmFyIGluZmVyVHJhY2VCb2R5UmVmZXJlbmNlID0gKGNvZGUsIGFsaWFzZXMsIGluZmVyZW5jZSkgPT4ge1xuICBjb25zdCBhY2Nlc3MgPSAodHlwZSwgYWxpYXMpID0+IGNvZGUuaW5jbHVkZXModHlwZSArIFwiLlwiICsgYWxpYXMpIHx8IGNvZGUuaW5jbHVkZXModHlwZSArICdbXCInICsgYWxpYXMgKyAnXCJdJykgfHwgY29kZS5pbmNsdWRlcyh0eXBlICsgXCJbJ1wiICsgYWxpYXMgKyBcIiddXCIpO1xuICBmb3IgKGxldCBhbGlhcyBvZiBhbGlhc2VzKSB7XG4gICAgaWYgKGFsaWFzLmNoYXJDb2RlQXQoMCkgPT09IDEyMykge1xuICAgICAgYWxpYXMgPSByZXRyaWV2ZVJvb3RQYXJhbXRlcnMoYWxpYXMpO1xuICAgICAgaWYgKCFpbmZlcmVuY2UucmVxdWVzdCAmJiBhbGlhcy5pbmNsdWRlcyhcInJlcXVlc3RcIikpXG4gICAgICAgIGluZmVyZW5jZS5yZXF1ZXN0ID0gdHJ1ZTtcbiAgICAgIGlmICghaW5mZXJlbmNlLnBhcnNlICYmIGFsaWFzLmluY2x1ZGVzKFwicGFyc2VcIikpXG4gICAgICAgIGluZmVyZW5jZS5wYXJzZSA9IHRydWU7XG4gICAgICBpZiAoIWluZmVyZW5jZS50cmFuc2Zvcm0gJiYgYWxpYXMuaW5jbHVkZXMoXCJ0cmFuc2Zvcm1cIikpXG4gICAgICAgIGluZmVyZW5jZS50cmFuc2Zvcm0gPSB0cnVlO1xuICAgICAgaWYgKCFpbmZlcmVuY2UuaGFuZGxlICYmIGFsaWFzLmluY2x1ZGVzKFwiaGFuZGxlXCIpKVxuICAgICAgICBpbmZlcmVuY2UuaGFuZGxlID0gdHJ1ZTtcbiAgICAgIGlmICghaW5mZXJlbmNlLmJlZm9yZUhhbmRsZSAmJiBhbGlhcy5pbmNsdWRlcyhcImJlZm9yZUhhbmRsZVwiKSlcbiAgICAgICAgaW5mZXJlbmNlLmJlZm9yZUhhbmRsZSA9IHRydWU7XG4gICAgICBpZiAoIWluZmVyZW5jZS5hZnRlckhhbmRsZSAmJiBhbGlhcy5pbmNsdWRlcyhcImFmdGVySGFuZGxlXCIpKVxuICAgICAgICBpbmZlcmVuY2UuYWZ0ZXJIYW5kbGUgPSB0cnVlO1xuICAgICAgaWYgKCFpbmZlcmVuY2UuZXJyb3IgJiYgYWxpYXMuaW5jbHVkZXMoXCJlcnJvclwiKSlcbiAgICAgICAgaW5mZXJlbmNlLmVycm9yID0gdHJ1ZTtcbiAgICAgIGlmICghaW5mZXJlbmNlLmNvbnRleHQgJiYgYWxpYXMuaW5jbHVkZXMoXCJjb250ZXh0XCIpKVxuICAgICAgICBpbmZlcmVuY2UuY29udGV4dCA9IHRydWU7XG4gICAgICBpZiAoIWluZmVyZW5jZS5zdG9yZSAmJiBhbGlhcy5pbmNsdWRlcyhcInN0b3JlXCIpKVxuICAgICAgICBpbmZlcmVuY2Uuc3RvcmUgPSB0cnVlO1xuICAgICAgaWYgKCFpbmZlcmVuY2Uuc2V0ICYmIGFsaWFzLmluY2x1ZGVzKFwic2V0XCIpKVxuICAgICAgICBpbmZlcmVuY2Uuc2V0ID0gdHJ1ZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoY29kZS5pbmNsdWRlcyhcIihcIiArIGFsaWFzICsgXCIpXCIpKSB7XG4gICAgICBpbmZlcmVuY2UucmVxdWVzdCA9IHRydWU7XG4gICAgICBpbmZlcmVuY2UucGFyc2UgPSB0cnVlO1xuICAgICAgaW5mZXJlbmNlLnRyYW5zZm9ybSA9IHRydWU7XG4gICAgICBpbmZlcmVuY2UuaGFuZGxlID0gdHJ1ZTtcbiAgICAgIGluZmVyZW5jZS5iZWZvcmVIYW5kbGUgPSB0cnVlO1xuICAgICAgaW5mZXJlbmNlLmFmdGVySGFuZGxlID0gdHJ1ZTtcbiAgICAgIGluZmVyZW5jZS5lcnJvciA9IHRydWU7XG4gICAgICBpbmZlcmVuY2UuY29udGV4dCA9IHRydWU7XG4gICAgICBpbmZlcmVuY2Uuc3RvcmUgPSB0cnVlO1xuICAgICAgaW5mZXJlbmNlLnNldCA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKCFpbmZlcmVuY2UucmVxdWVzdCAmJiBhY2Nlc3MoXCJyZXF1ZXN0XCIsIGFsaWFzKSlcbiAgICAgIGluZmVyZW5jZS5yZXF1ZXN0ID0gdHJ1ZTtcbiAgICBpZiAoIWluZmVyZW5jZS5wYXJzZSAmJiBhY2Nlc3MoXCJwYXJzZVwiLCBhbGlhcykpXG4gICAgICBpbmZlcmVuY2UucGFyc2UgPSB0cnVlO1xuICAgIGlmICghaW5mZXJlbmNlLnRyYW5zZm9ybSAmJiBhY2Nlc3MoXCJ0cmFuc2Zvcm1cIiwgYWxpYXMpKVxuICAgICAgaW5mZXJlbmNlLnRyYW5zZm9ybSA9IHRydWU7XG4gICAgaWYgKCFpbmZlcmVuY2UuaGFuZGxlICYmIGFjY2VzcyhcImhhbmRsZVwiLCBhbGlhcykpXG4gICAgICBpbmZlcmVuY2UuaGFuZGxlID0gdHJ1ZTtcbiAgICBpZiAoIWluZmVyZW5jZS5iZWZvcmVIYW5kbGUgJiYgYWNjZXNzKFwiYmVmb3JlSGFuZGxlXCIsIGFsaWFzKSlcbiAgICAgIGluZmVyZW5jZS5iZWZvcmVIYW5kbGUgPSB0cnVlO1xuICAgIGlmICghaW5mZXJlbmNlLmFmdGVySGFuZGxlICYmIGFjY2VzcyhcImFmdGVySGFuZGxlXCIsIGFsaWFzKSlcbiAgICAgIGluZmVyZW5jZS5hZnRlckhhbmRsZSA9IHRydWU7XG4gICAgaWYgKCFpbmZlcmVuY2UuZXJyb3IgJiYgYWNjZXNzKFwiZXJyb3JcIiwgYWxpYXMpKVxuICAgICAgaW5mZXJlbmNlLmVycm9yID0gdHJ1ZTtcbiAgICBpZiAoIWluZmVyZW5jZS5jb250ZXh0ICYmIGFjY2VzcyhcImNvbnRleHRcIiwgYWxpYXMpKVxuICAgICAgaW5mZXJlbmNlLmNvbnRleHQgPSB0cnVlO1xuICAgIGlmICghaW5mZXJlbmNlLnN0b3JlICYmIGFjY2VzcyhcInN0b3JlXCIsIGFsaWFzKSlcbiAgICAgIGluZmVyZW5jZS5zdG9yZSA9IHRydWU7XG4gICAgaWYgKCFpbmZlcmVuY2Uuc2V0ICYmIGFjY2VzcyhcInNldFwiLCBhbGlhcykpXG4gICAgICBpbmZlcmVuY2Uuc2V0ID0gdHJ1ZTtcbiAgICBpZiAoaW5mZXJlbmNlLnJlcXVlc3QgJiYgaW5mZXJlbmNlLnBhcnNlICYmIGluZmVyZW5jZS50cmFuc2Zvcm0gJiYgaW5mZXJlbmNlLmhhbmRsZSAmJiBpbmZlcmVuY2UuYmVmb3JlSGFuZGxlICYmIGluZmVyZW5jZS5hZnRlckhhbmRsZSAmJiBpbmZlcmVuY2UuZXJyb3IgJiYgaW5mZXJlbmNlLmNvbnRleHQgJiYgaW5mZXJlbmNlLnN0b3JlICYmIGluZmVyZW5jZS5zZXQpXG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gYWxpYXNlcztcbn07XG52YXIgc3Vjcm9zZSA9IChsaWZlQ3ljbGUsIGluZmVyZW5jZSA9IHtcbiAgcXVlcmllczogW10sXG4gIHF1ZXJ5OiBmYWxzZSxcbiAgaGVhZGVyczogZmFsc2UsXG4gIGJvZHk6IGZhbHNlLFxuICBjb29raWU6IGZhbHNlLFxuICBzZXQ6IGZhbHNlLFxuICB1bmtub3duUXVlcmllczogZmFsc2Vcbn0pID0+IHtcbiAgY29uc3QgZXZlbnRzID0gW107XG4gIGlmIChsaWZlQ3ljbGUuaGFuZGxlciAmJiB0eXBlb2YgbGlmZUN5Y2xlLmhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIilcbiAgICBldmVudHMucHVzaChsaWZlQ3ljbGUuaGFuZGxlcik7XG4gIGlmIChsaWZlQ3ljbGUuYmVmb3JlSGFuZGxlPy5sZW5ndGgpXG4gICAgZXZlbnRzLnB1c2goLi4ubGlmZUN5Y2xlLmJlZm9yZUhhbmRsZSk7XG4gIGlmIChsaWZlQ3ljbGUucGFyc2U/Lmxlbmd0aClcbiAgICBldmVudHMucHVzaCguLi5saWZlQ3ljbGUucGFyc2UpO1xuICBpZiAobGlmZUN5Y2xlLmVycm9yPy5sZW5ndGgpXG4gICAgZXZlbnRzLnB1c2goLi4ubGlmZUN5Y2xlLmVycm9yKTtcbiAgaWYgKGxpZmVDeWNsZS50cmFuc2Zvcm0/Lmxlbmd0aClcbiAgICBldmVudHMucHVzaCguLi5saWZlQ3ljbGUudHJhbnNmb3JtKTtcbiAgaWYgKGxpZmVDeWNsZS5hZnRlckhhbmRsZT8ubGVuZ3RoKVxuICAgIGV2ZW50cy5wdXNoKC4uLmxpZmVDeWNsZS5hZnRlckhhbmRsZSk7XG4gIGlmIChsaWZlQ3ljbGUubWFwUmVzcG9uc2U/Lmxlbmd0aClcbiAgICBldmVudHMucHVzaCguLi5saWZlQ3ljbGUubWFwUmVzcG9uc2UpO1xuICBpZiAobGlmZUN5Y2xlLnJlcXVlc3Q/Lmxlbmd0aClcbiAgICBldmVudHMucHVzaCguLi5saWZlQ3ljbGUucmVxdWVzdCk7XG4gIGlmIChsaWZlQ3ljbGUub25SZXNwb25zZT8ubGVuZ3RoKVxuICAgIGV2ZW50cy5wdXNoKC4uLmxpZmVDeWNsZS5vblJlc3BvbnNlKTtcbiAgZm9yIChjb25zdCBlMiBvZiBldmVudHMpIHtcbiAgICBpZiAoIWUyKVxuICAgICAgY29udGludWU7XG4gICAgY29uc3QgZXZlbnQgPSBcImZuXCIgaW4gZTIgPyBlMi5mbiA6IGUyO1xuICAgIGNvbnN0IFtwYXJhbWV0ZXIsIGJvZHksIHsgaXNBcnJvd1JldHVybiB9XSA9IHNlcGFyYXRlRnVuY3Rpb24oXG4gICAgICBldmVudC50b1N0cmluZygpXG4gICAgKTtcbiAgICBjb25zdCByb290UGFyYW1ldGVycyA9IGZpbmRQYXJhbWV0ZXJSZWZlcmVuY2UocGFyYW1ldGVyLCBpbmZlcmVuY2UpO1xuICAgIGNvbnN0IG1haW5QYXJhbWV0ZXIgPSBleHRyYWN0TWFpblBhcmFtZXRlcihyb290UGFyYW1ldGVycyk7XG4gICAgaWYgKGlzQXJyb3dSZXR1cm4gJiYgKGJvZHkgPT09IFwicXVlcnlcIiB8fCByb290UGFyYW1ldGVycyAmJiBib2R5LnN0YXJ0c1dpdGgocm9vdFBhcmFtZXRlcnMgKyBcIi5xdWVyeVwiKSkpIHtcbiAgICAgIGluZmVyZW5jZS5xdWVyeSA9IHRydWU7XG4gICAgICBpbmZlcmVuY2UudW5rbm93blF1ZXJpZXMgPSB0cnVlO1xuICAgICAgaW5mZXJlbmNlLnF1ZXJpZXMgPSBbXTtcbiAgICB9XG4gICAgaWYgKG1haW5QYXJhbWV0ZXIpIHtcbiAgICAgIGNvbnN0IGFsaWFzZXMgPSBmaW5kQWxpYXMobWFpblBhcmFtZXRlciwgYm9keSk7XG4gICAgICBhbGlhc2VzLnNwbGljZSgwLCAtMSwgbWFpblBhcmFtZXRlcik7XG4gICAgICBpbmZlckJvZHlSZWZlcmVuY2UoYm9keSwgYWxpYXNlcywgaW5mZXJlbmNlKTtcbiAgICB9XG4gICAgY29uc3QgY29udGV4dCA9IHJvb3RQYXJhbWV0ZXJzIHx8IG1haW5QYXJhbWV0ZXI7XG4gICAgaWYgKGNvbnRleHQgJiYgYm9keS5pbmNsdWRlcyhcInJldHVybiBcIiArIGNvbnRleHQgKyBcIi5xdWVyeVwiKSkge1xuICAgICAgaW5mZXJlbmNlLnF1ZXJ5ID0gdHJ1ZTtcbiAgICAgIGluZmVyZW5jZS51bmtub3duUXVlcmllcyA9IHRydWU7XG4gICAgICBpbmZlcmVuY2UucXVlcmllcyA9IFtdO1xuICAgIH1cbiAgICBpZiAoaW5mZXJlbmNlLnF1ZXJ5KSB7XG4gICAgICBpbmZlckJvZHlSZWZlcmVuY2UoYm9keSwgW1wicXVlcnlcIl0sIGluZmVyZW5jZSk7XG4gICAgICBjb25zdCBxdWVyeUluZGV4ID0gcGFyYW1ldGVyLmluZGV4T2YoXCJxdWVyeToge1wiKTtcbiAgICAgIGlmIChxdWVyeUluZGV4ICE9PSAtMSkge1xuICAgICAgICBjb25zdCBwYXJ0ID0gcGFyYW1ldGVyLnNsaWNlKHF1ZXJ5SW5kZXggKyA3KTtcbiAgICAgICAgY29uc3QgW3N0YXJ0LCBlbmRdID0gYnJhY2tldFBhaXJSYW5nZShwYXJ0KTtcbiAgICAgICAgY29uc3QgcXVlcnlCcmFja2V0ID0gcmVtb3ZlRGVmYXVsdFBhcmFtZXRlcihcbiAgICAgICAgICBwYXJ0LnNsaWNlKHN0YXJ0LCBlbmQpXG4gICAgICAgICk7XG4gICAgICAgIGZvciAobGV0IHF1ZXJ5IG9mIHF1ZXJ5QnJhY2tldC5zbGljZSgxLCAtMSkuc3BsaXQoXCIsXCIpKSB7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBxdWVyeS5pbmRleE9mKFwiOlwiKTtcbiAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICAgICAgcXVlcnkgPSBxdWVyeS5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgICAgcXVlcnkgPSBxdWVyeS50cmltKCk7XG4gICAgICAgICAgaWYgKHF1ZXJ5ICYmICFpbmZlcmVuY2UucXVlcmllcy5pbmNsdWRlcyhxdWVyeSkpXG4gICAgICAgICAgICBpbmZlcmVuY2UucXVlcmllcy5wdXNoKHF1ZXJ5LnRyaW0oKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluZmVyZW5jZS5xdWVyeSAmJiBpbmZlcmVuY2UuaGVhZGVycyAmJiBpbmZlcmVuY2UuYm9keSAmJiBpbmZlcmVuY2UuY29va2llICYmIGluZmVyZW5jZS5zZXQpXG4gICAgICBicmVhaztcbiAgfVxuICBpZiAoIXZhbGlkYXRlSW5mZXJlbmNlZFF1ZXJpZXMoaW5mZXJlbmNlLnF1ZXJpZXMpKSB7XG4gICAgaW5mZXJlbmNlLnVua25vd25RdWVyaWVzID0gdHJ1ZTtcbiAgICBpbmZlcmVuY2UucXVlcmllcyA9IFtdO1xuICB9XG4gIHJldHVybiBpbmZlcmVuY2U7XG59O1xudmFyIHN1Y3Jvc2VUcmFjZSA9ICh0cmFjZXMsIGluZmVyZW5jZSA9IHtcbiAgcmVxdWVzdDogZmFsc2UsXG4gIHBhcnNlOiBmYWxzZSxcbiAgdHJhbnNmb3JtOiBmYWxzZSxcbiAgaGFuZGxlOiBmYWxzZSxcbiAgYmVmb3JlSGFuZGxlOiBmYWxzZSxcbiAgYWZ0ZXJIYW5kbGU6IGZhbHNlLFxuICBlcnJvcjogZmFsc2UsXG4gIGNvbnRleHQ6IGZhbHNlLFxuICBzdG9yZTogZmFsc2UsXG4gIHNldDogZmFsc2Vcbn0pID0+IHtcbiAgZm9yIChjb25zdCBoYW5kbGVyIG9mIHRyYWNlcykge1xuICAgIGNvbnN0IFtwYXJhbWV0ZXIsIGJvZHldID0gc2VwYXJhdGVGdW5jdGlvbihoYW5kbGVyLnRvU3RyaW5nKCkpO1xuICAgIGNvbnN0IHJvb3RQYXJhbWV0ZXJzID0gZmluZFRyYWNlUGFyYW1ldGVyUmVmZXJlbmNlKHBhcmFtZXRlciwgaW5mZXJlbmNlKTtcbiAgICBjb25zdCBtYWluUGFyYW1ldGVyID0gZXh0cmFjdE1haW5QYXJhbWV0ZXIocm9vdFBhcmFtZXRlcnMpO1xuICAgIGlmIChtYWluUGFyYW1ldGVyKSB7XG4gICAgICBjb25zdCBhbGlhc2VzID0gZmluZEFsaWFzKG1haW5QYXJhbWV0ZXIsIGJvZHkpO1xuICAgICAgYWxpYXNlcy5zcGxpY2UoMCwgLTEsIG1haW5QYXJhbWV0ZXIpO1xuICAgICAgaW5mZXJUcmFjZUJvZHlSZWZlcmVuY2UoYm9keSwgYWxpYXNlcywgaW5mZXJlbmNlKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoaW5mZXJlbmNlLnJlcXVlc3QgJiYgaW5mZXJlbmNlLnBhcnNlICYmIGluZmVyZW5jZS50cmFuc2Zvcm0gJiYgaW5mZXJlbmNlLmhhbmRsZSAmJiBpbmZlcmVuY2UuYmVmb3JlSGFuZGxlICYmIGluZmVyZW5jZS5hZnRlckhhbmRsZSAmJiBpbmZlcmVuY2UuZXJyb3IgJiYgaW5mZXJlbmNlLmNvbnRleHQgJiYgaW5mZXJlbmNlLnN0b3JlICYmIGluZmVyZW5jZS5zZXQpXG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gaW5mZXJlbmNlO1xufTtcblxuLy8gc3JjL2Vycm9yLnRzXG5pbXBvcnQgeyBWYWx1ZSBhcyBWYWx1ZTIgfSBmcm9tIFwiQHNpbmNsYWlyL3R5cGVib3gvdmFsdWVcIjtcblxuLy8gc3JjL3V0aWxzLnRzXG5pbXBvcnQgeyBLaW5kIH0gZnJvbSBcIkBzaW5jbGFpci90eXBlYm94XCI7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCJAc2luY2xhaXIvdHlwZWJveC92YWx1ZVwiO1xuaW1wb3J0IHsgVHlwZUNvbXBpbGVyIH0gZnJvbSBcIkBzaW5jbGFpci90eXBlYm94L2NvbXBpbGVyXCI7XG5cbi8vIHNyYy9oYW5kbGVyLnRzXG5pbXBvcnQgeyBzZXJpYWxpemUgfSBmcm9tIFwiY29va2llXCI7XG5cbi8vIHNyYy9jb29raWVzLnRzXG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gXCJjb29raWVcIjtcbmltcG9ydCBkZWNvZGVVUklDb21wb25lbnQgZnJvbSBcImZhc3QtZGVjb2RlLXVyaS1jb21wb25lbnRcIjtcbnZhciBDb29raWUgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGphciwgaW5pdGlhbCA9IHt9KSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmphciA9IGphcjtcbiAgICB0aGlzLmluaXRpYWwgPSBpbml0aWFsO1xuICB9XG4gIGdldCBjb29raWUoKSB7XG4gICAgaWYgKCEodGhpcy5uYW1lIGluIHRoaXMuamFyKSlcbiAgICAgIHJldHVybiB0aGlzLmluaXRpYWw7XG4gICAgcmV0dXJuIHRoaXMuamFyW3RoaXMubmFtZV07XG4gIH1cbiAgc2V0IGNvb2tpZShqYXIpIHtcbiAgICBpZiAoISh0aGlzLm5hbWUgaW4gdGhpcy5qYXIpKVxuICAgICAgdGhpcy5qYXJbdGhpcy5uYW1lXSA9IHRoaXMuaW5pdGlhbDtcbiAgICB0aGlzLmphclt0aGlzLm5hbWVdID0gamFyO1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb29raWUudmFsdWU7XG4gIH1cbiAgc2V0IHZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKCEodGhpcy5uYW1lIGluIHRoaXMuamFyKSlcbiAgICAgIHRoaXMuamFyW3RoaXMubmFtZV0gPSB0aGlzLmluaXRpYWw7XG4gICAgdGhpcy5qYXJbdGhpcy5uYW1lXS52YWx1ZSA9IHZhbHVlO1xuICB9XG4gIGdldCBleHBpcmVzKCkge1xuICAgIHJldHVybiB0aGlzLmNvb2tpZS5leHBpcmVzO1xuICB9XG4gIHNldCBleHBpcmVzKGV4cGlyZXMpIHtcbiAgICB0aGlzLmNvb2tpZS5leHBpcmVzID0gZXhwaXJlcztcbiAgfVxuICBnZXQgbWF4QWdlKCkge1xuICAgIHJldHVybiB0aGlzLmNvb2tpZS5tYXhBZ2U7XG4gIH1cbiAgc2V0IG1heEFnZShtYXhBZ2UpIHtcbiAgICB0aGlzLmNvb2tpZS5tYXhBZ2UgPSBtYXhBZ2U7XG4gIH1cbiAgZ2V0IGRvbWFpbigpIHtcbiAgICByZXR1cm4gdGhpcy5jb29raWUuZG9tYWluO1xuICB9XG4gIHNldCBkb21haW4oZG9tYWluKSB7XG4gICAgdGhpcy5jb29raWUuZG9tYWluID0gZG9tYWluO1xuICB9XG4gIGdldCBwYXRoKCkge1xuICAgIHJldHVybiB0aGlzLmNvb2tpZS5wYXRoO1xuICB9XG4gIHNldCBwYXRoKHBhdGgpIHtcbiAgICB0aGlzLmNvb2tpZS5wYXRoID0gcGF0aDtcbiAgfVxuICBnZXQgc2VjdXJlKCkge1xuICAgIHJldHVybiB0aGlzLmNvb2tpZS5zZWN1cmU7XG4gIH1cbiAgc2V0IHNlY3VyZShzZWN1cmUpIHtcbiAgICB0aGlzLmNvb2tpZS5zZWN1cmUgPSBzZWN1cmU7XG4gIH1cbiAgZ2V0IGh0dHBPbmx5KCkge1xuICAgIHJldHVybiB0aGlzLmNvb2tpZS5odHRwT25seTtcbiAgfVxuICBzZXQgaHR0cE9ubHkoaHR0cE9ubHkpIHtcbiAgICB0aGlzLmNvb2tpZS5odHRwT25seSA9IGh0dHBPbmx5O1xuICB9XG4gIGdldCBzYW1lU2l0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb29raWUuc2FtZVNpdGU7XG4gIH1cbiAgc2V0IHNhbWVTaXRlKHNhbWVTaXRlKSB7XG4gICAgdGhpcy5jb29raWUuc2FtZVNpdGUgPSBzYW1lU2l0ZTtcbiAgfVxuICBnZXQgcHJpb3JpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29va2llLnByaW9yaXR5O1xuICB9XG4gIHNldCBwcmlvcml0eShwcmlvcml0eSkge1xuICAgIHRoaXMuY29va2llLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gIH1cbiAgZ2V0IHBhcnRpdGlvbmVkKCkge1xuICAgIHJldHVybiB0aGlzLmNvb2tpZS5wYXJ0aXRpb25lZDtcbiAgfVxuICBzZXQgcGFydGl0aW9uZWQocGFydGl0aW9uZWQpIHtcbiAgICB0aGlzLmNvb2tpZS5wYXJ0aXRpb25lZCA9IHBhcnRpdGlvbmVkO1xuICB9XG4gIGdldCBzZWNyZXRzKCkge1xuICAgIHJldHVybiB0aGlzLmNvb2tpZS5zZWNyZXRzO1xuICB9XG4gIHNldCBzZWNyZXRzKHNlY3JldHMpIHtcbiAgICB0aGlzLmNvb2tpZS5zZWNyZXRzID0gc2VjcmV0cztcbiAgfVxuICB1cGRhdGUoY29uZmlnKSB7XG4gICAgdGhpcy5jb29raWUgPSBPYmplY3QuYXNzaWduKFxuICAgICAgdGhpcy5jb29raWUsXG4gICAgICB0eXBlb2YgY29uZmlnID09PSBcImZ1bmN0aW9uXCIgPyBjb25maWcodGhpcy5jb29raWUpIDogY29uZmlnXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBzZXQoY29uZmlnKSB7XG4gICAgdGhpcy5jb29raWUgPSBPYmplY3QuYXNzaWduKFxuICAgICAge1xuICAgICAgICAuLi50aGlzLmluaXRpYWwsXG4gICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlXG4gICAgICB9LFxuICAgICAgdHlwZW9mIGNvbmZpZyA9PT0gXCJmdW5jdGlvblwiID8gY29uZmlnKHRoaXMuY29va2llKSA6IGNvbmZpZ1xuICAgICk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcmVtb3ZlKCkge1xuICAgIGlmICh0aGlzLnZhbHVlID09PSB2b2lkIDApXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5zZXQoe1xuICAgICAgZXhwaXJlczogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKDApLFxuICAgICAgbWF4QWdlOiAwLFxuICAgICAgdmFsdWU6IFwiXCJcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMudmFsdWUgPT09IFwib2JqZWN0XCIgPyBKU09OLnN0cmluZ2lmeSh0aGlzLnZhbHVlKSA6IHRoaXMudmFsdWU/LnRvU3RyaW5nKCkgPz8gXCJcIjtcbiAgfVxufTtcbnZhciBjcmVhdGVDb29raWVKYXIgPSAoc2V0LCBzdG9yZSwgaW5pdGlhbCkgPT4ge1xuICBpZiAoIXNldC5jb29raWUpXG4gICAgc2V0LmNvb2tpZSA9IHt9O1xuICByZXR1cm4gbmV3IFByb3h5KHN0b3JlLCB7XG4gICAgZ2V0KF8sIGtleSkge1xuICAgICAgaWYgKGtleSBpbiBzdG9yZSlcbiAgICAgICAgcmV0dXJuIG5ldyBDb29raWUoXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIHNldC5jb29raWUsXG4gICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgaW5pdGlhbCA/PyB7fSwgc3RvcmVba2V5XSlcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBuZXcgQ29va2llKFxuICAgICAgICBrZXksXG4gICAgICAgIHNldC5jb29raWUsXG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIGluaXRpYWwpXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG59O1xudmFyIHBhcnNlQ29va2llID0gYXN5bmMgKHNldCwgY29va2llU3RyaW5nLCB7XG4gIHNlY3JldHMsXG4gIHNpZ24sXG4gIC4uLmluaXRpYWxcbn0gPSB7fSkgPT4ge1xuICBpZiAoIWNvb2tpZVN0cmluZylcbiAgICByZXR1cm4gY3JlYXRlQ29va2llSmFyKHNldCwge30sIGluaXRpYWwpO1xuICBjb25zdCBpc1N0cmluZ0tleSA9IHR5cGVvZiBzZWNyZXRzID09PSBcInN0cmluZ1wiO1xuICBpZiAoc2lnbiAmJiBzaWduICE9PSB0cnVlICYmICFBcnJheS5pc0FycmF5KHNpZ24pKVxuICAgIHNpZ24gPSBbc2lnbl07XG4gIGNvbnN0IGphciA9IHt9O1xuICBjb25zdCBjb29raWVzID0gcGFyc2UoY29va2llU3RyaW5nKTtcbiAgZm9yIChjb25zdCBbbmFtZSwgdl0gb2YgT2JqZWN0LmVudHJpZXMoY29va2llcykpIHtcbiAgICBsZXQgdmFsdWUgPSBkZWNvZGVVUklDb21wb25lbnQodik7XG4gICAgaWYgKHNpZ24gPT09IHRydWUgfHwgc2lnbj8uaW5jbHVkZXMobmFtZSkpIHtcbiAgICAgIGlmICghc2VjcmV0cylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gc2VjcmV0IGlzIHByb3ZpZGVkIHRvIGNvb2tpZSBwbHVnaW5cIik7XG4gICAgICBpZiAoaXNTdHJpbmdLZXkpIHtcbiAgICAgICAgY29uc3QgdGVtcCA9IGF3YWl0IHVuc2lnbkNvb2tpZSh2YWx1ZSwgc2VjcmV0cyk7XG4gICAgICAgIGlmICh0ZW1wID09PSBmYWxzZSlcbiAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZENvb2tpZVNpZ25hdHVyZShuYW1lKTtcbiAgICAgICAgdmFsdWUgPSB0ZW1wO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGRlY29kZWQgPSB0cnVlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlY3JldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCB0ZW1wID0gYXdhaXQgdW5zaWduQ29va2llKHZhbHVlLCBzZWNyZXRzW2ldKTtcbiAgICAgICAgICBpZiAodGVtcCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRlY29kZWQgPSB0cnVlO1xuICAgICAgICAgICAgdmFsdWUgPSB0ZW1wO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghZGVjb2RlZClcbiAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZENvb2tpZVNpZ25hdHVyZShuYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc3RhcnQgPSB2YWx1ZS5jaGFyQ29kZUF0KDApO1xuICAgIGlmIChzdGFydCA9PT0gMTIzIHx8IHN0YXJ0ID09PSA5MSlcbiAgICAgIHRyeSB7XG4gICAgICAgIGphcltuYW1lXSA9IHtcbiAgICAgICAgICB2YWx1ZTogSlNPTi5wYXJzZSh2YWx1ZSlcbiAgICAgICAgfTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgIH1cbiAgICBpZiAoaXNOdW1lcmljU3RyaW5nKHZhbHVlKSkge1xuICAgICAgamFyW25hbWVdID0ge1xuICAgICAgICB2YWx1ZTogcGFyc2VJbnQodmFsdWUpXG4gICAgICB9O1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgIGphcltuYW1lXSA9IHtcbiAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgIH07XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09PSBcImZhbHNlXCIpIHtcbiAgICAgIGphcltuYW1lXSA9IHtcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9O1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGphcltuYW1lXSA9IHtcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ29va2llSmFyKHNldCwgamFyLCBpbml0aWFsKTtcbn07XG5cbi8vIHNyYy9oYW5kbGVyLnRzXG52YXIgaGFzSGVhZGVyU2hvcnRoYW5kID0gXCJ0b0pTT05cIiBpbiBuZXcgSGVhZGVycygpO1xudmFyIGlzTm90RW1wdHkgPSAob2JqKSA9PiB7XG4gIGlmICghb2JqKVxuICAgIHJldHVybiBmYWxzZTtcbiAgZm9yIChjb25zdCB4IGluIG9iailcbiAgICByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIGZhbHNlO1xufTtcbnZhciBoYW5kbGVGaWxlID0gKHJlc3BvbnNlLCBzZXQpID0+IHtcbiAgY29uc3Qgc2l6ZSA9IHJlc3BvbnNlLnNpemU7XG4gIGlmICghc2V0ICYmIHNpemUgfHwgc2l6ZSAmJiBzZXQgJiYgc2V0LnN0YXR1cyAhPT0gMjA2ICYmIHNldC5zdGF0dXMgIT09IDMwNCAmJiBzZXQuc3RhdHVzICE9PSA0MTIgJiYgc2V0LnN0YXR1cyAhPT0gNDE2KSB7XG4gICAgaWYgKHNldCkge1xuICAgICAgaWYgKHNldC5oZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgICBpZiAoaGFzSGVhZGVyU2hvcnRoYW5kKVxuICAgICAgICAgIHNldC5oZWFkZXJzID0gc2V0LmhlYWRlcnMudG9KU09OKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBzZXQuaGVhZGVycy5lbnRyaWVzKCkpXG4gICAgICAgICAgICBpZiAoa2V5IGluIHNldC5oZWFkZXJzKVxuICAgICAgICAgICAgICBzZXQuaGVhZGVyc1trZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlLCB7XG4gICAgICAgIHN0YXR1czogc2V0LnN0YXR1cyxcbiAgICAgICAgaGVhZGVyczogT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcImFjY2VwdC1yYW5nZXNcIjogXCJieXRlc1wiLFxuICAgICAgICAgICAgXCJjb250ZW50LXJhbmdlXCI6IGBieXRlcyAwLSR7c2l6ZSAtIDF9LyR7c2l6ZX1gXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQuaGVhZGVyc1xuICAgICAgICApXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZSwge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcImFjY2VwdC1yYW5nZXNcIjogXCJieXRlc1wiLFxuICAgICAgICBcImNvbnRlbnQtcmFuZ2VcIjogYGJ5dGVzIDAtJHtzaXplIC0gMX0vJHtzaXplfWBcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlKTtcbn07XG52YXIgcGFyc2VTZXRDb29raWVzID0gKGhlYWRlcnMsIHNldENvb2tpZSkgPT4ge1xuICBpZiAoIWhlYWRlcnMpXG4gICAgcmV0dXJuIGhlYWRlcnM7XG4gIGhlYWRlcnMuZGVsZXRlKFwiU2V0LUNvb2tpZVwiKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXRDb29raWUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBpbmRleCA9IHNldENvb2tpZVtpXS5pbmRleE9mKFwiPVwiKTtcbiAgICBoZWFkZXJzLmFwcGVuZChcbiAgICAgIFwiU2V0LUNvb2tpZVwiLFxuICAgICAgYCR7c2V0Q29va2llW2ldLnNsaWNlKDAsIGluZGV4KX09JHtzZXRDb29raWVbaV0uc2xpY2UoaW5kZXggKyAxKSB8fCBcIlwifWBcbiAgICApO1xuICB9XG4gIHJldHVybiBoZWFkZXJzO1xufTtcbnZhciBzZXJpYWxpemVDb29raWUgPSAoY29va2llcykgPT4ge1xuICBpZiAoIWNvb2tpZXMgfHwgIWlzTm90RW1wdHkoY29va2llcykpXG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgY29uc3Qgc2V0ID0gW107XG4gIGZvciAoY29uc3QgW2tleSwgcHJvcGVydHldIG9mIE9iamVjdC5lbnRyaWVzKGNvb2tpZXMpKSB7XG4gICAgaWYgKCFrZXkgfHwgIXByb3BlcnR5KVxuICAgICAgY29udGludWU7XG4gICAgY29uc3QgdmFsdWUgPSBwcm9wZXJ0eS52YWx1ZTtcbiAgICBpZiAodmFsdWUgPT09IHZvaWQgMCB8fCB2YWx1ZSA9PT0gbnVsbClcbiAgICAgIGNvbnRpbnVlO1xuICAgIHNldC5wdXNoKFxuICAgICAgc2VyaWFsaXplKFxuICAgICAgICBrZXksXG4gICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiA/IEpTT04uc3RyaW5naWZ5KHZhbHVlKSA6IHZhbHVlICsgXCJcIixcbiAgICAgICAgcHJvcGVydHlcbiAgICAgIClcbiAgICApO1xuICB9XG4gIGlmIChzZXQubGVuZ3RoID09PSAwKVxuICAgIHJldHVybiB2b2lkIDA7XG4gIGlmIChzZXQubGVuZ3RoID09PSAxKVxuICAgIHJldHVybiBzZXRbMF07XG4gIHJldHVybiBzZXQ7XG59O1xudmFyIG1hcFJlc3BvbnNlID0gKHJlc3BvbnNlLCBzZXQsIHJlcXVlc3QpID0+IHtcbiAgaWYgKHJlc3BvbnNlPy4kcGFzc3Rocm91Z2gpXG4gICAgcmVzcG9uc2UgPSByZXNwb25zZT8uW3Jlc3BvbnNlLiRwYXNzdGhyb3VnaF07XG4gIGlmIChyZXNwb25zZT8uW0VMWVNJQV9SRVNQT05TRV0pIHtcbiAgICBzZXQuc3RhdHVzID0gcmVzcG9uc2VbRUxZU0lBX1JFU1BPTlNFXTtcbiAgICByZXNwb25zZSA9IHJlc3BvbnNlLnJlc3BvbnNlO1xuICB9XG4gIGlmIChpc05vdEVtcHR5KHNldC5oZWFkZXJzKSB8fCBzZXQuc3RhdHVzICE9PSAyMDAgfHwgc2V0LnJlZGlyZWN0IHx8IHNldC5jb29raWUpIHtcbiAgICBpZiAodHlwZW9mIHNldC5zdGF0dXMgPT09IFwic3RyaW5nXCIpXG4gICAgICBzZXQuc3RhdHVzID0gU3RhdHVzTWFwW3NldC5zdGF0dXNdO1xuICAgIGlmIChzZXQucmVkaXJlY3QpIHtcbiAgICAgIHNldC5oZWFkZXJzLkxvY2F0aW9uID0gc2V0LnJlZGlyZWN0O1xuICAgICAgaWYgKCFzZXQuc3RhdHVzIHx8IHNldC5zdGF0dXMgPCAzMDAgfHwgc2V0LnN0YXR1cyA+PSA0MDApXG4gICAgICAgIHNldC5zdGF0dXMgPSAzMDI7XG4gICAgfVxuICAgIGlmIChzZXQuY29va2llICYmIGlzTm90RW1wdHkoc2V0LmNvb2tpZSkpXG4gICAgICBzZXQuaGVhZGVyc1tcIlNldC1Db29raWVcIl0gPSBzZXJpYWxpemVDb29raWUoc2V0LmNvb2tpZSk7XG4gICAgaWYgKHNldC5oZWFkZXJzW1wiU2V0LUNvb2tpZVwiXSAmJiBBcnJheS5pc0FycmF5KHNldC5oZWFkZXJzW1wiU2V0LUNvb2tpZVwiXSkpIHtcbiAgICAgIHNldC5oZWFkZXJzID0gcGFyc2VTZXRDb29raWVzKFxuICAgICAgICBuZXcgSGVhZGVycyhzZXQuaGVhZGVycyksXG4gICAgICAgIHNldC5oZWFkZXJzW1wiU2V0LUNvb2tpZVwiXVxuICAgICAgKTtcbiAgICB9XG4gICAgc3dpdGNoIChyZXNwb25zZT8uY29uc3RydWN0b3I/Lm5hbWUpIHtcbiAgICAgIGNhc2UgXCJTdHJpbmdcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZSwgc2V0KTtcbiAgICAgIGNhc2UgXCJCbG9iXCI6XG4gICAgICAgIHJldHVybiBoYW5kbGVGaWxlKHJlc3BvbnNlLCBzZXQpO1xuICAgICAgY2FzZSBcIkFycmF5XCI6XG4gICAgICAgIHJldHVybiBSZXNwb25zZS5qc29uKHJlc3BvbnNlLCBzZXQpO1xuICAgICAgY2FzZSBcIk9iamVjdFwiOlxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIE9iamVjdC52YWx1ZXMocmVzcG9uc2UpKSB7XG4gICAgICAgICAgc3dpdGNoICh2YWx1ZT8uY29uc3RydWN0b3I/Lm5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJCbG9iXCI6XG4gICAgICAgICAgICBjYXNlIFwiRmlsZVwiOlxuICAgICAgICAgICAgY2FzZSBcIkFycmF5QnVmZmVyXCI6XG4gICAgICAgICAgICBjYXNlIFwiRmlsZVJlZlwiOlxuICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKGZvcm0ocmVzcG9uc2UpKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVzcG9uc2UuanNvbihyZXNwb25zZSwgc2V0KTtcbiAgICAgIGNhc2UgXCJSZWFkYWJsZVN0cmVhbVwiOlxuICAgICAgICBpZiAoIXNldC5oZWFkZXJzW1wiY29udGVudC10eXBlXCJdPy5zdGFydHNXaXRoKFxuICAgICAgICAgIFwidGV4dC9ldmVudC1zdHJlYW1cIlxuICAgICAgICApKVxuICAgICAgICAgIHNldC5oZWFkZXJzW1wiY29udGVudC10eXBlXCJdID0gXCJ0ZXh0L2V2ZW50LXN0cmVhbTsgY2hhcnNldD11dGYtOFwiO1xuICAgICAgICByZXF1ZXN0Py5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICBcImFib3J0XCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlRXZlbnQoKSB7XG4gICAgICAgICAgICAgIGlmICghcmVxdWVzdD8uc2lnbmFsLmFib3J0ZWQpXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuY2FuY2VsKHJlcXVlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICBzZXRcbiAgICAgICAgKTtcbiAgICAgIGNhc2Ugdm9pZCAwOlxuICAgICAgICBpZiAoIXJlc3BvbnNlKVxuICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXCJcIiwgc2V0KTtcbiAgICAgICAgcmV0dXJuIFJlc3BvbnNlLmpzb24ocmVzcG9uc2UsIHNldCk7XG4gICAgICBjYXNlIFwiUmVzcG9uc2VcIjpcbiAgICAgICAgbGV0IGlzQ29va2llU2V0ID0gZmFsc2U7XG4gICAgICAgIGlmIChzZXQuaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpXG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2V0LmhlYWRlcnMua2V5cygpKSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBcInNldC1jb29raWVcIikge1xuICAgICAgICAgICAgICBpZiAoaXNDb29raWVTZXQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIGlzQ29va2llU2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBjb29raWUgb2Ygc2V0LmhlYWRlcnMuZ2V0U2V0Q29va2llKCkpIHtcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuaGVhZGVycy5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICBcInNldC1jb29raWVcIixcbiAgICAgICAgICAgICAgICAgIGNvb2tpZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLmFwcGVuZChcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgc2V0LmhlYWRlcnM/LmdldChrZXkpID8/IFwiXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzZXQuaGVhZGVycylcbiAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMuYXBwZW5kKFxuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIHNldC5oZWFkZXJzW2tleV1cbiAgICAgICAgICAgICk7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IHNldC5zdGF0dXMpXG4gICAgICAgICAgc2V0LnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgY2FzZSBcIkVycm9yXCI6XG4gICAgICAgIHJldHVybiBlcnJvclRvUmVzcG9uc2UocmVzcG9uc2UsIHNldCk7XG4gICAgICBjYXNlIFwiUHJvbWlzZVwiOlxuICAgICAgICByZXR1cm4gcmVzcG9uc2UudGhlbihcbiAgICAgICAgICAoeCkgPT4gbWFwUmVzcG9uc2UoeCwgc2V0KVxuICAgICAgICApO1xuICAgICAgY2FzZSBcIkZ1bmN0aW9uXCI6XG4gICAgICAgIHJldHVybiBtYXBSZXNwb25zZShyZXNwb25zZSgpLCBzZXQpO1xuICAgICAgY2FzZSBcIk51bWJlclwiOlxuICAgICAgY2FzZSBcIkJvb2xlYW5cIjpcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgICAgICByZXNwb25zZS50b1N0cmluZygpLFxuICAgICAgICAgIHNldFxuICAgICAgICApO1xuICAgICAgY2FzZSBcIkNvb2tpZVwiOlxuICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBDb29raWUpXG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZS52YWx1ZSwgc2V0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZT8udG9TdHJpbmcoKSwgc2V0KTtcbiAgICAgIGNhc2UgXCJGb3JtRGF0YVwiOlxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlLCBzZXQpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgUmVzcG9uc2UpIHtcbiAgICAgICAgICBsZXQgaXNDb29raWVTZXQyID0gZmFsc2U7XG4gICAgICAgICAgaWYgKHNldC5oZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycylcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNldC5oZWFkZXJzLmtleXMoKSkge1xuICAgICAgICAgICAgICBpZiAoa2V5ID09PSBcInNldC1jb29raWVcIikge1xuICAgICAgICAgICAgICAgIGlmIChpc0Nvb2tpZVNldDIpXG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpc0Nvb2tpZVNldDIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29va2llIG9mIHNldC5oZWFkZXJzLmdldFNldENvb2tpZSgpKSB7XG4gICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgXCJzZXQtY29va2llXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgc2V0LmhlYWRlcnM/LmdldChrZXkpID8/IFwiXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNldC5oZWFkZXJzKVxuICAgICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLmFwcGVuZChcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgc2V0LmhlYWRlcnNba2V5XVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIGlmIChoYXNIZWFkZXJTaG9ydGhhbmQpXG4gICAgICAgICAgICBzZXQuaGVhZGVycyA9IHJlc3BvbnNlLmhlYWRlcnMudG9KU09OKCk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgcmVzcG9uc2UuaGVhZGVycy5lbnRyaWVzKCkpXG4gICAgICAgICAgICAgIGlmIChrZXkgaW4gc2V0LmhlYWRlcnMpXG4gICAgICAgICAgICAgICAgc2V0LmhlYWRlcnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS50aGVuKCh4KSA9PiBtYXBSZXNwb25zZSh4LCBzZXQpKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgICAgcmV0dXJuIGVycm9yVG9SZXNwb25zZShyZXNwb25zZSwgc2V0KTtcbiAgICAgICAgaWYgKFwiY2hhckNvZGVBdFwiIGluIHJlc3BvbnNlKSB7XG4gICAgICAgICAgY29uc3QgY29kZSA9IHJlc3BvbnNlLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgaWYgKGNvZGUgPT09IDEyMyB8fCBjb2RlID09PSA5MSkge1xuICAgICAgICAgICAgaWYgKCFzZXQuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSlcbiAgICAgICAgICAgICAgc2V0LmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIjtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSxcbiAgICAgICAgICAgICAgc2V0XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlLCBzZXQpO1xuICAgIH1cbiAgfSBlbHNlXG4gICAgc3dpdGNoIChyZXNwb25zZT8uY29uc3RydWN0b3I/Lm5hbWUpIHtcbiAgICAgIGNhc2UgXCJTdHJpbmdcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICBjYXNlIFwiQmxvYlwiOlxuICAgICAgICByZXR1cm4gaGFuZGxlRmlsZShyZXNwb25zZSwgc2V0KTtcbiAgICAgIGNhc2UgXCJBcnJheVwiOlxuICAgICAgICByZXR1cm4gUmVzcG9uc2UuanNvbihyZXNwb25zZSk7XG4gICAgICBjYXNlIFwiT2JqZWN0XCI6XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gT2JqZWN0LnZhbHVlcyhyZXNwb25zZSkpIHtcbiAgICAgICAgICBzd2l0Y2ggKHZhbHVlPy5jb25zdHJ1Y3Rvcj8ubmFtZSkge1xuICAgICAgICAgICAgY2FzZSBcIkJsb2JcIjpcbiAgICAgICAgICAgIGNhc2UgXCJGaWxlXCI6XG4gICAgICAgICAgICBjYXNlIFwiQXJyYXlCdWZmZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJGaWxlUmVmXCI6XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgZm9ybShyZXNwb25zZSksXG4gICAgICAgICAgICAgICAgc2V0XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlc3BvbnNlLmpzb24ocmVzcG9uc2UsIHNldCk7XG4gICAgICBjYXNlIFwiUmVhZGFibGVTdHJlYW1cIjpcbiAgICAgICAgcmVxdWVzdD8uc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgXCJhYm9ydFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZUV2ZW50KCkge1xuICAgICAgICAgICAgICBpZiAoIXJlcXVlc3Q/LnNpZ25hbC5hYm9ydGVkKVxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmNhbmNlbChyZXF1ZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG9uY2U6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2UsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvZXZlbnQtc3RyZWFtOyBjaGFyc2V0PXV0Zi04XCJcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgY2FzZSB2b2lkIDA6XG4gICAgICAgIGlmICghcmVzcG9uc2UpXG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcIlwiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShyZXNwb25zZSksIHtcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICBjYXNlIFwiUmVzcG9uc2VcIjpcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgY2FzZSBcIkVycm9yXCI6XG4gICAgICAgIHJldHVybiBlcnJvclRvUmVzcG9uc2UocmVzcG9uc2UsIHNldCk7XG4gICAgICBjYXNlIFwiUHJvbWlzZVwiOlxuICAgICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoeCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHIyID0gbWFwQ29tcGFjdFJlc3BvbnNlKHgpO1xuICAgICAgICAgIGlmIChyMiAhPT0gdm9pZCAwKVxuICAgICAgICAgICAgcmV0dXJuIHIyO1xuICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXCJcIik7XG4gICAgICAgIH0pO1xuICAgICAgY2FzZSBcIkZ1bmN0aW9uXCI6XG4gICAgICAgIHJldHVybiBtYXBDb21wYWN0UmVzcG9uc2UocmVzcG9uc2UoKSk7XG4gICAgICBjYXNlIFwiTnVtYmVyXCI6XG4gICAgICBjYXNlIFwiQm9vbGVhblwiOlxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlLnRvU3RyaW5nKCkpO1xuICAgICAgY2FzZSBcIkNvb2tpZVwiOlxuICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBDb29raWUpXG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZS52YWx1ZSwgc2V0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZT8udG9TdHJpbmcoKSwgc2V0KTtcbiAgICAgIGNhc2UgXCJGb3JtRGF0YVwiOlxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlLCBzZXQpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgUmVzcG9uc2UpXG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZS5ib2R5LCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKHgpID0+IG1hcFJlc3BvbnNlKHgsIHNldCkpO1xuICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcilcbiAgICAgICAgICByZXR1cm4gZXJyb3JUb1Jlc3BvbnNlKHJlc3BvbnNlLCBzZXQpO1xuICAgICAgICBpZiAoXCJjaGFyQ29kZUF0XCIgaW4gcmVzcG9uc2UpIHtcbiAgICAgICAgICBjb25zdCBjb2RlID0gcmVzcG9uc2UuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICBpZiAoY29kZSA9PT0gMTIzIHx8IGNvZGUgPT09IDkxKSB7XG4gICAgICAgICAgICBpZiAoIXNldC5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdKVxuICAgICAgICAgICAgICBzZXQuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSA9IFwiYXBwbGljYXRpb24vanNvblwiO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpLFxuICAgICAgICAgICAgICBzZXRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIH1cbn07XG52YXIgbWFwRWFybHlSZXNwb25zZSA9IChyZXNwb25zZSwgc2V0LCByZXF1ZXN0KSA9PiB7XG4gIGlmIChyZXNwb25zZSA9PT0gdm9pZCAwIHx8IHJlc3BvbnNlID09PSBudWxsKVxuICAgIHJldHVybjtcbiAgaWYgKHJlc3BvbnNlPy4kcGFzc3Rocm91Z2gpXG4gICAgcmVzcG9uc2UgPSByZXNwb25zZT8uW3Jlc3BvbnNlLiRwYXNzdGhyb3VnaF07XG4gIGlmIChyZXNwb25zZT8uW0VMWVNJQV9SRVNQT05TRV0pIHtcbiAgICBzZXQuc3RhdHVzID0gcmVzcG9uc2VbRUxZU0lBX1JFU1BPTlNFXTtcbiAgICByZXNwb25zZSA9IHJlc3BvbnNlLnJlc3BvbnNlO1xuICB9XG4gIGlmIChpc05vdEVtcHR5KHNldC5oZWFkZXJzKSB8fCBzZXQuc3RhdHVzICE9PSAyMDAgfHwgc2V0LnJlZGlyZWN0IHx8IHNldC5jb29raWUpIHtcbiAgICBpZiAodHlwZW9mIHNldC5zdGF0dXMgPT09IFwic3RyaW5nXCIpXG4gICAgICBzZXQuc3RhdHVzID0gU3RhdHVzTWFwW3NldC5zdGF0dXNdO1xuICAgIGlmIChzZXQucmVkaXJlY3QpIHtcbiAgICAgIHNldC5oZWFkZXJzLkxvY2F0aW9uID0gc2V0LnJlZGlyZWN0O1xuICAgICAgaWYgKCFzZXQuc3RhdHVzIHx8IHNldC5zdGF0dXMgPCAzMDAgfHwgc2V0LnN0YXR1cyA+PSA0MDApXG4gICAgICAgIHNldC5zdGF0dXMgPSAzMDI7XG4gICAgfVxuICAgIGlmIChzZXQuY29va2llICYmIGlzTm90RW1wdHkoc2V0LmNvb2tpZSkpXG4gICAgICBzZXQuaGVhZGVyc1tcIlNldC1Db29raWVcIl0gPSBzZXJpYWxpemVDb29raWUoc2V0LmNvb2tpZSk7XG4gICAgaWYgKHNldC5oZWFkZXJzW1wiU2V0LUNvb2tpZVwiXSAmJiBBcnJheS5pc0FycmF5KHNldC5oZWFkZXJzW1wiU2V0LUNvb2tpZVwiXSkpXG4gICAgICBzZXQuaGVhZGVycyA9IHBhcnNlU2V0Q29va2llcyhcbiAgICAgICAgbmV3IEhlYWRlcnMoc2V0LmhlYWRlcnMpLFxuICAgICAgICBzZXQuaGVhZGVyc1tcIlNldC1Db29raWVcIl1cbiAgICAgICk7XG4gICAgc3dpdGNoIChyZXNwb25zZT8uY29uc3RydWN0b3I/Lm5hbWUpIHtcbiAgICAgIGNhc2UgXCJTdHJpbmdcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZSwgc2V0KTtcbiAgICAgIGNhc2UgXCJCbG9iXCI6XG4gICAgICAgIHJldHVybiBoYW5kbGVGaWxlKHJlc3BvbnNlLCBzZXQpO1xuICAgICAgY2FzZSBcIkFycmF5XCI6XG4gICAgICAgIHJldHVybiBSZXNwb25zZS5qc29uKHJlc3BvbnNlLCBzZXQpO1xuICAgICAgY2FzZSBcIk9iamVjdFwiOlxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIE9iamVjdC52YWx1ZXMocmVzcG9uc2UpKSB7XG4gICAgICAgICAgc3dpdGNoICh2YWx1ZT8uY29uc3RydWN0b3I/Lm5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJCbG9iXCI6XG4gICAgICAgICAgICBjYXNlIFwiRmlsZVwiOlxuICAgICAgICAgICAgY2FzZSBcIkFycmF5QnVmZmVyXCI6XG4gICAgICAgICAgICBjYXNlIFwiRmlsZVJlZlwiOlxuICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgICAgICAgICAgIGZvcm0ocmVzcG9uc2UpLFxuICAgICAgICAgICAgICAgIHNldFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSZXNwb25zZS5qc29uKHJlc3BvbnNlLCBzZXQpO1xuICAgICAgY2FzZSBcIlJlYWRhYmxlU3RyZWFtXCI6XG4gICAgICAgIGlmICghc2V0LmhlYWRlcnNbXCJjb250ZW50LXR5cGVcIl0/LnN0YXJ0c1dpdGgoXG4gICAgICAgICAgXCJ0ZXh0L2V2ZW50LXN0cmVhbVwiXG4gICAgICAgICkpXG4gICAgICAgICAgc2V0LmhlYWRlcnNbXCJjb250ZW50LXR5cGVcIl0gPSBcInRleHQvZXZlbnQtc3RyZWFtOyBjaGFyc2V0PXV0Zi04XCI7XG4gICAgICAgIHJlcXVlc3Q/LnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgIFwiYWJvcnRcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVFdmVudCgpIHtcbiAgICAgICAgICAgICAgaWYgKCFyZXF1ZXN0Py5zaWduYWwuYWJvcnRlZClcbiAgICAgICAgICAgICAgICByZXNwb25zZS5jYW5jZWwocmVxdWVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgIHNldFxuICAgICAgICApO1xuICAgICAgY2FzZSB2b2lkIDA6XG4gICAgICAgIGlmICghcmVzcG9uc2UpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICByZXR1cm4gUmVzcG9uc2UuanNvbihyZXNwb25zZSwgc2V0KTtcbiAgICAgIGNhc2UgXCJSZXNwb25zZVwiOlxuICAgICAgICBsZXQgaXNDb29raWVTZXQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHNldC5oZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycylcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBzZXQuaGVhZGVycy5rZXlzKCkpIHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09IFwic2V0LWNvb2tpZVwiKSB7XG4gICAgICAgICAgICAgIGlmIChpc0Nvb2tpZVNldClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgaXNDb29raWVTZXQgPSB0cnVlO1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvb2tpZSBvZiBzZXQuaGVhZGVycy5nZXRTZXRDb29raWUoKSkge1xuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgIFwic2V0LWNvb2tpZVwiLFxuICAgICAgICAgICAgICAgICAgY29va2llXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMuYXBwZW5kKFxuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICBzZXQuaGVhZGVycz8uZ2V0KGtleSkgPz8gXCJcIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNldC5oZWFkZXJzKVxuICAgICAgICAgICAgcmVzcG9uc2UuaGVhZGVycy5hcHBlbmQoXG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgc2V0LmhlYWRlcnNba2V5XVxuICAgICAgICAgICAgKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gc2V0LnN0YXR1cylcbiAgICAgICAgICBzZXQuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICBjYXNlIFwiUHJvbWlzZVwiOlxuICAgICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoeCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHIyID0gbWFwRWFybHlSZXNwb25zZSh4LCBzZXQpO1xuICAgICAgICAgIGlmIChyMiAhPT0gdm9pZCAwKVxuICAgICAgICAgICAgcmV0dXJuIHIyO1xuICAgICAgICB9KTtcbiAgICAgIGNhc2UgXCJFcnJvclwiOlxuICAgICAgICByZXR1cm4gZXJyb3JUb1Jlc3BvbnNlKHJlc3BvbnNlLCBzZXQpO1xuICAgICAgY2FzZSBcIkZ1bmN0aW9uXCI6XG4gICAgICAgIHJldHVybiBtYXBFYXJseVJlc3BvbnNlKHJlc3BvbnNlKCksIHNldCk7XG4gICAgICBjYXNlIFwiTnVtYmVyXCI6XG4gICAgICBjYXNlIFwiQm9vbGVhblwiOlxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgICAgIHJlc3BvbnNlLnRvU3RyaW5nKCksXG4gICAgICAgICAgc2V0XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiRm9ybURhdGFcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICBjYXNlIFwiQ29va2llXCI6XG4gICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIENvb2tpZSlcbiAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlLnZhbHVlLCBzZXQpO1xuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlPy50b1N0cmluZygpLCBzZXQpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgUmVzcG9uc2UpIHtcbiAgICAgICAgICBsZXQgaXNDb29raWVTZXQyID0gZmFsc2U7XG4gICAgICAgICAgaWYgKHNldC5oZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycylcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNldC5oZWFkZXJzLmtleXMoKSkge1xuICAgICAgICAgICAgICBpZiAoa2V5ID09PSBcInNldC1jb29raWVcIikge1xuICAgICAgICAgICAgICAgIGlmIChpc0Nvb2tpZVNldDIpXG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpc0Nvb2tpZVNldDIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29va2llIG9mIHNldC5oZWFkZXJzLmdldFNldENvb2tpZSgpKSB7XG4gICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgXCJzZXQtY29va2llXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgc2V0LmhlYWRlcnM/LmdldChrZXkpID8/IFwiXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNldC5oZWFkZXJzKVxuICAgICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLmFwcGVuZChcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgc2V0LmhlYWRlcnNba2V5XVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IHNldC5zdGF0dXMpXG4gICAgICAgICAgICBzZXQuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS50aGVuKCh4KSA9PiBtYXBFYXJseVJlc3BvbnNlKHgsIHNldCkpO1xuICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcilcbiAgICAgICAgICByZXR1cm4gZXJyb3JUb1Jlc3BvbnNlKHJlc3BvbnNlLCBzZXQpO1xuICAgICAgICBpZiAoXCJjaGFyQ29kZUF0XCIgaW4gcmVzcG9uc2UpIHtcbiAgICAgICAgICBjb25zdCBjb2RlID0gcmVzcG9uc2UuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICBpZiAoY29kZSA9PT0gMTIzIHx8IGNvZGUgPT09IDkxKSB7XG4gICAgICAgICAgICBpZiAoIXNldC5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdKVxuICAgICAgICAgICAgICBzZXQuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSA9IFwiYXBwbGljYXRpb24vanNvblwiO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpLFxuICAgICAgICAgICAgICBzZXRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2UsIHNldCk7XG4gICAgfVxuICB9IGVsc2VcbiAgICBzd2l0Y2ggKHJlc3BvbnNlPy5jb25zdHJ1Y3Rvcj8ubmFtZSkge1xuICAgICAgY2FzZSBcIlN0cmluZ1wiOlxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgIGNhc2UgXCJCbG9iXCI6XG4gICAgICAgIHJldHVybiBoYW5kbGVGaWxlKHJlc3BvbnNlLCBzZXQpO1xuICAgICAgY2FzZSBcIkFycmF5XCI6XG4gICAgICAgIHJldHVybiBSZXNwb25zZS5qc29uKHJlc3BvbnNlKTtcbiAgICAgIGNhc2UgXCJPYmplY3RcIjpcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiBPYmplY3QudmFsdWVzKHJlc3BvbnNlKSkge1xuICAgICAgICAgIHN3aXRjaCAodmFsdWU/LmNvbnN0cnVjdG9yPy5uYW1lKSB7XG4gICAgICAgICAgICBjYXNlIFwiQmxvYlwiOlxuICAgICAgICAgICAgY2FzZSBcIkZpbGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJBcnJheUJ1ZmZlclwiOlxuICAgICAgICAgICAgY2FzZSBcIkZpbGVSZWZcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgICAgICAgICAgICBmb3JtKHJlc3BvbnNlKSxcbiAgICAgICAgICAgICAgICBzZXRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVzcG9uc2UuanNvbihyZXNwb25zZSwgc2V0KTtcbiAgICAgIGNhc2UgXCJSZWFkYWJsZVN0cmVhbVwiOlxuICAgICAgICByZXF1ZXN0Py5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICBcImFib3J0XCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlRXZlbnQoKSB7XG4gICAgICAgICAgICAgIGlmICghcmVxdWVzdD8uc2lnbmFsLmFib3J0ZWQpXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuY2FuY2VsKHJlcXVlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZSwge1xuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwidGV4dC9ldmVudC1zdHJlYW07IGNoYXJzZXQ9dXRmLThcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICBjYXNlIHZvaWQgMDpcbiAgICAgICAgaWYgKCFyZXNwb25zZSlcbiAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFwiXCIpO1xuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSwge1xuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIGNhc2UgXCJSZXNwb25zZVwiOlxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICBjYXNlIFwiUHJvbWlzZVwiOlxuICAgICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoeCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHIyID0gbWFwRWFybHlSZXNwb25zZSh4LCBzZXQpO1xuICAgICAgICAgIGlmIChyMiAhPT0gdm9pZCAwKVxuICAgICAgICAgICAgcmV0dXJuIHIyO1xuICAgICAgICB9KTtcbiAgICAgIGNhc2UgXCJFcnJvclwiOlxuICAgICAgICByZXR1cm4gZXJyb3JUb1Jlc3BvbnNlKHJlc3BvbnNlLCBzZXQpO1xuICAgICAgY2FzZSBcIkZ1bmN0aW9uXCI6XG4gICAgICAgIHJldHVybiBtYXBDb21wYWN0UmVzcG9uc2UocmVzcG9uc2UoKSk7XG4gICAgICBjYXNlIFwiTnVtYmVyXCI6XG4gICAgICBjYXNlIFwiQm9vbGVhblwiOlxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlLnRvU3RyaW5nKCkpO1xuICAgICAgY2FzZSBcIkNvb2tpZVwiOlxuICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBDb29raWUpXG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZS52YWx1ZSwgc2V0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZT8udG9TdHJpbmcoKSwgc2V0KTtcbiAgICAgIGNhc2UgXCJGb3JtRGF0YVwiOlxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIFJlc3BvbnNlKVxuICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2UuYm9keSwge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS50aGVuKCh4KSA9PiBtYXBFYXJseVJlc3BvbnNlKHgsIHNldCkpO1xuICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcilcbiAgICAgICAgICByZXR1cm4gZXJyb3JUb1Jlc3BvbnNlKHJlc3BvbnNlLCBzZXQpO1xuICAgICAgICBpZiAoXCJjaGFyQ29kZUF0XCIgaW4gcmVzcG9uc2UpIHtcbiAgICAgICAgICBjb25zdCBjb2RlID0gcmVzcG9uc2UuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICBpZiAoY29kZSA9PT0gMTIzIHx8IGNvZGUgPT09IDkxKSB7XG4gICAgICAgICAgICBpZiAoIXNldC5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdKVxuICAgICAgICAgICAgICBzZXQuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSA9IFwiYXBwbGljYXRpb24vanNvblwiO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpLFxuICAgICAgICAgICAgICBzZXRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIH1cbn07XG52YXIgbWFwQ29tcGFjdFJlc3BvbnNlID0gKHJlc3BvbnNlLCByZXF1ZXN0KSA9PiB7XG4gIGlmIChyZXNwb25zZT8uJHBhc3N0aHJvdWdoKVxuICAgIHJlc3BvbnNlID0gcmVzcG9uc2U/LltyZXNwb25zZS4kcGFzc3Rocm91Z2hdO1xuICBpZiAocmVzcG9uc2U/LltFTFlTSUFfUkVTUE9OU0VdKVxuICAgIHJldHVybiBtYXBSZXNwb25zZShyZXNwb25zZS5yZXNwb25zZSwge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgc3RhdHVzOiByZXNwb25zZVtFTFlTSUFfUkVTUE9OU0VdLFxuICAgICAgaGVhZGVyczoge31cbiAgICB9KTtcbiAgc3dpdGNoIChyZXNwb25zZT8uY29uc3RydWN0b3I/Lm5hbWUpIHtcbiAgICBjYXNlIFwiU3RyaW5nXCI6XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICBjYXNlIFwiQmxvYlwiOlxuICAgICAgcmV0dXJuIGhhbmRsZUZpbGUocmVzcG9uc2UpO1xuICAgIGNhc2UgXCJBcnJheVwiOlxuICAgICAgcmV0dXJuIFJlc3BvbnNlLmpzb24ocmVzcG9uc2UpO1xuICAgIGNhc2UgXCJPYmplY3RcIjpcbiAgICAgIGZvcm06XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgT2JqZWN0LnZhbHVlcyhyZXNwb25zZSkpXG4gICAgICAgICAgc3dpdGNoICh2YWx1ZT8uY29uc3RydWN0b3I/Lm5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJCbG9iXCI6XG4gICAgICAgICAgICBjYXNlIFwiRmlsZVwiOlxuICAgICAgICAgICAgY2FzZSBcIkFycmF5QnVmZmVyXCI6XG4gICAgICAgICAgICBjYXNlIFwiRmlsZVJlZlwiOlxuICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKGZvcm0ocmVzcG9uc2UpKTtcbiAgICAgICAgICAgIGNhc2UgXCJPYmplY3RcIjpcbiAgICAgICAgICAgICAgYnJlYWsgZm9ybTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgIHJldHVybiBSZXNwb25zZS5qc29uKHJlc3BvbnNlKTtcbiAgICBjYXNlIFwiUmVhZGFibGVTdHJlYW1cIjpcbiAgICAgIHJlcXVlc3Q/LnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImFib3J0XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBoYW5kbGVFdmVudCgpIHtcbiAgICAgICAgICAgIGlmICghcmVxdWVzdD8uc2lnbmFsLmFib3J0ZWQpXG4gICAgICAgICAgICAgIHJlc3BvbnNlLmNhbmNlbChyZXF1ZXN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvZXZlbnQtc3RyZWFtOyBjaGFyc2V0PXV0Zi04XCJcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgY2FzZSB2b2lkIDA6XG4gICAgICBpZiAoIXJlc3BvbnNlKVxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFwiXCIpO1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShyZXNwb25zZSksIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIGNhc2UgXCJSZXNwb25zZVwiOlxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIGNhc2UgXCJFcnJvclwiOlxuICAgICAgcmV0dXJuIGVycm9yVG9SZXNwb25zZShyZXNwb25zZSk7XG4gICAgY2FzZSBcIlByb21pc2VcIjpcbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKFxuICAgICAgICBtYXBDb21wYWN0UmVzcG9uc2VcbiAgICAgICk7XG4gICAgY2FzZSBcIkZ1bmN0aW9uXCI6XG4gICAgICByZXR1cm4gbWFwQ29tcGFjdFJlc3BvbnNlKHJlc3BvbnNlKCkpO1xuICAgIGNhc2UgXCJOdW1iZXJcIjpcbiAgICBjYXNlIFwiQm9vbGVhblwiOlxuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZS50b1N0cmluZygpKTtcbiAgICBjYXNlIFwiRm9ybURhdGFcIjpcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBSZXNwb25zZSlcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZS5ib2R5LCB7XG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgUHJvbWlzZSlcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4obWFwQ29tcGFjdFJlc3BvbnNlKTtcbiAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEVycm9yKVxuICAgICAgICByZXR1cm4gZXJyb3JUb1Jlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgIGlmIChcImNoYXJDb2RlQXRcIiBpbiByZXNwb25zZSkge1xuICAgICAgICBjb25zdCBjb2RlID0gcmVzcG9uc2UuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgaWYgKGNvZGUgPT09IDEyMyB8fCBjb2RlID09PSA5MSkge1xuICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2UpO1xuICB9XG59O1xudmFyIGVycm9yVG9SZXNwb25zZSA9IChlcnJvcjIsIHNldCkgPT4gbmV3IFJlc3BvbnNlKFxuICBKU09OLnN0cmluZ2lmeSh7XG4gICAgbmFtZTogZXJyb3IyPy5uYW1lLFxuICAgIG1lc3NhZ2U6IGVycm9yMj8ubWVzc2FnZSxcbiAgICBjYXVzZTogZXJyb3IyPy5jYXVzZVxuICB9KSxcbiAge1xuICAgIHN0YXR1czogc2V0Py5zdGF0dXMgIT09IDIwMCA/IHNldD8uc3RhdHVzID8/IDUwMCA6IDUwMCxcbiAgICBoZWFkZXJzOiBzZXQ/LmhlYWRlcnNcbiAgfVxuKTtcblxuLy8gc3JjL3V0aWxzLnRzXG52YXIgcmVwbGFjZVVybFBhdGggPSAodXJsLCBwYXRobmFtZSkgPT4ge1xuICBjb25zdCB1cmxPYmplY3QgPSBuZXcgVVJMKHVybCk7XG4gIHVybE9iamVjdC5wYXRobmFtZSA9IHBhdGhuYW1lO1xuICByZXR1cm4gdXJsT2JqZWN0LnRvU3RyaW5nKCk7XG59O1xudmFyIGlzQ2xhc3MgPSAodikgPT4gdHlwZW9mIHYgPT09IFwiZnVuY3Rpb25cIiAmJiAvXlxccypjbGFzc1xccysvLnRlc3Qodi50b1N0cmluZygpKSB8fCAvLyBIYW5kbGUgaW1wb3J0ICogYXMgU2VudHJ5IGZyb20gJ0BzZW50cnkvYnVuJ1xuLy8gVGhpcyBhbHNvIGhhbmRsZSBbb2JqZWN0IERhdGVdLCBbb2JqZWN0IEFycmF5XVxuLy8gYW5kIEZGSSB2YWx1ZSBsaWtlIFtvYmplY3QgUHJpc21hXVxudi50b1N0cmluZygpLnN0YXJ0c1dpdGgoXCJbb2JqZWN0IFwiKSB8fCAvLyBJZiBvYmplY3QgcHJvdG90eXBlIGlzIG5vdCBwdXJlLCB0aGVuIHByb2JhYmx5IGEgY2xhc3MtbGlrZSBvYmplY3RcbmlzTm90RW1wdHkoT2JqZWN0LmdldFByb3RvdHlwZU9mKHYpKTtcbnZhciBpc09iamVjdCA9IChpdGVtKSA9PiBpdGVtICYmIHR5cGVvZiBpdGVtID09PSBcIm9iamVjdFwiICYmICFBcnJheS5pc0FycmF5KGl0ZW0pO1xudmFyIG1lcmdlRGVlcCA9ICh0YXJnZXQsIHNvdXJjZSwge1xuICBza2lwS2V5c1xufSA9IHt9KSA9PiB7XG4gIGlmIChpc09iamVjdCh0YXJnZXQpICYmIGlzT2JqZWN0KHNvdXJjZSkpXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc291cmNlKSkge1xuICAgICAgaWYgKHNraXBLZXlzPy5pbmNsdWRlcyhrZXkpKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8ICEoa2V5IGluIHRhcmdldCkgfHwgaXNDbGFzcyh2YWx1ZSkpIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB0YXJnZXRba2V5XSA9IG1lcmdlRGVlcChcbiAgICAgICAgdGFyZ2V0W2tleV0sXG4gICAgICAgIHZhbHVlXG4gICAgICApO1xuICAgIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG52YXIgbWVyZ2VDb29raWUgPSAoYTIsIGIpID0+IHtcbiAgY29uc3QgeyBwcm9wZXJ0aWVzOiBfLCAuLi50YXJnZXQgfSA9IGEyID8/IHt9O1xuICBjb25zdCB7IHByb3BlcnRpZXM6IF9fLCAuLi5zb3VyY2UgfSA9IGIgPz8ge307XG4gIHJldHVybiBtZXJnZURlZXAodGFyZ2V0LCBzb3VyY2UpO1xufTtcbnZhciBtZXJnZU9iamVjdEFycmF5ID0gKGEyID0gW10sIGIgPSBbXSkgPT4ge1xuICBpZiAoIWEyKVxuICAgIHJldHVybiBbXTtcbiAgaWYgKCFiKVxuICAgIHJldHVybiBhMjtcbiAgY29uc3QgYXJyYXkgPSBbXTtcbiAgY29uc3QgY2hlY2tzdW1zID0gW107XG4gIGlmICghQXJyYXkuaXNBcnJheShhMikpXG4gICAgYTIgPSBbYTJdO1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYikpXG4gICAgYiA9IFtiXTtcbiAgZm9yIChjb25zdCBpdGVtIG9mIGEyKSB7XG4gICAgYXJyYXkucHVzaChpdGVtKTtcbiAgICBpZiAoaXRlbS5jaGVja3N1bSlcbiAgICAgIGNoZWNrc3Vtcy5wdXNoKGl0ZW0uY2hlY2tzdW0pO1xuICB9XG4gIGZvciAoY29uc3QgaXRlbSBvZiBiKVxuICAgIGlmICghY2hlY2tzdW1zLmluY2x1ZGVzKGl0ZW0uY2hlY2tzdW0pKVxuICAgICAgYXJyYXkucHVzaChpdGVtKTtcbiAgcmV0dXJuIGFycmF5O1xufTtcbnZhciBwcmltaXRpdmVIb29rcyA9IFtcbiAgXCJzdGFydFwiLFxuICBcInJlcXVlc3RcIixcbiAgXCJwYXJzZVwiLFxuICBcInRyYW5zZm9ybVwiLFxuICBcInJlc29sdmVcIixcbiAgXCJiZWZvcmVIYW5kbGVcIixcbiAgXCJhZnRlckhhbmRsZVwiLFxuICBcIm9uUmVzcG9uc2VcIixcbiAgXCJtYXBSZXNwb25zZVwiLFxuICBcInRyYWNlXCIsXG4gIFwiZXJyb3JcIixcbiAgXCJzdG9wXCIsXG4gIFwiYm9keVwiLFxuICBcImhlYWRlcnNcIixcbiAgXCJwYXJhbXNcIixcbiAgXCJxdWVyeVwiLFxuICBcInJlc3BvbnNlXCIsXG4gIFwidHlwZVwiLFxuICBcImRldGFpbFwiXG5dO1xudmFyIHByaW1pdGl2ZUhvb2tNYXAgPSBwcmltaXRpdmVIb29rcy5yZWR1Y2UoXG4gIChhY2MsIHgpID0+IChhY2NbeF0gPSB0cnVlLCBhY2MpLFxuICB7fVxuKTtcbnZhciBtZXJnZVJlc3BvbnNlID0gKGEyLCBiKSA9PiB7XG4gIGNvbnN0IGlzUmVjb3JkTnVtYmVyID0gKHgpID0+IHR5cGVvZiB4ID09PSBcIm9iamVjdFwiICYmIE9iamVjdC5rZXlzKHgpLmV2ZXJ5KGlzTnVtZXJpY1N0cmluZyk7XG4gIGlmIChpc1JlY29yZE51bWJlcihhMikgJiYgaXNSZWNvcmROdW1iZXIoYikpXG4gICAgcmV0dXJuIHsgLi4uYTIsIC4uLmIgfTtcbiAgcmV0dXJuIGIgPz8gYTI7XG59O1xudmFyIG1lcmdlSG9vayA9IChhMiwgYiwgeyBhbGxvd01hY3JvID0gZmFsc2UgfSA9IHt9KSA9PiB7XG4gIGNvbnN0IHJlc3QgPSBhbGxvd01hY3JvID8ge1xuICAgIC4uLmEyLFxuICAgIC4uLmJcbiAgfSA6IHZvaWQgMDtcbiAgcmV0dXJuIHtcbiAgICAuLi5yZXN0LFxuICAgIC8vIE1lcmdlIGxvY2FsIGhvb2sgZmlyc3RcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgYm9keTogYj8uYm9keSA/PyBhMj8uYm9keSxcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaGVhZGVyczogYj8uaGVhZGVycyA/PyBhMj8uaGVhZGVycyxcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcGFyYW1zOiBiPy5wYXJhbXMgPz8gYTI/LnBhcmFtcyxcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcXVlcnk6IGI/LnF1ZXJ5ID8/IGEyPy5xdWVyeSxcbiAgICAvLyA/IFRoaXMgb3JkZXIgaXMgY29ycmVjdCAtIFNhbHR5QW9tXG4gICAgcmVzcG9uc2U6IG1lcmdlUmVzcG9uc2UoXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBhMj8ucmVzcG9uc2UsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBiPy5yZXNwb25zZVxuICAgICksXG4gICAgdHlwZTogYTI/LnR5cGUgfHwgYj8udHlwZSxcbiAgICBkZXRhaWw6IG1lcmdlRGVlcChcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGI/LmRldGFpbCA/PyB7fSxcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGEyPy5kZXRhaWwgPz8ge31cbiAgICApLFxuICAgIHBhcnNlOiBtZXJnZU9iamVjdEFycmF5KGEyPy5wYXJzZSwgYj8ucGFyc2UpLFxuICAgIHRyYW5zZm9ybTogbWVyZ2VPYmplY3RBcnJheShhMj8udHJhbnNmb3JtLCBiPy50cmFuc2Zvcm0pLFxuICAgIGJlZm9yZUhhbmRsZTogbWVyZ2VPYmplY3RBcnJheShhMj8uYmVmb3JlSGFuZGxlLCBiPy5iZWZvcmVIYW5kbGUpLFxuICAgIGFmdGVySGFuZGxlOiBtZXJnZU9iamVjdEFycmF5KGEyPy5hZnRlckhhbmRsZSwgYj8uYWZ0ZXJIYW5kbGUpLFxuICAgIG9uUmVzcG9uc2U6IG1lcmdlT2JqZWN0QXJyYXkoYTI/Lm9uUmVzcG9uc2UsIGI/Lm9uUmVzcG9uc2UpLFxuICAgIG1hcFJlc3BvbnNlOiBtZXJnZU9iamVjdEFycmF5KGEyPy5tYXBSZXNwb25zZSwgYj8ubWFwUmVzcG9uc2UpLFxuICAgIHRyYWNlOiBtZXJnZU9iamVjdEFycmF5KGEyPy50cmFjZSwgYj8udHJhY2UpLFxuICAgIGVycm9yOiBtZXJnZU9iamVjdEFycmF5KGEyPy5lcnJvciwgYj8uZXJyb3IpXG4gIH07XG59O1xudmFyIGdldFNjaGVtYVZhbGlkYXRvciA9IChzLCB7XG4gIG1vZGVscyA9IHt9LFxuICBkeW5hbWljID0gZmFsc2UsXG4gIG5vcm1hbGl6ZSA9IGZhbHNlLFxuICBhZGRpdGlvbmFsUHJvcGVydGllcyA9IG5vcm1hbGl6ZVxufSA9IHt9KSA9PiB7XG4gIGlmICghcylcbiAgICByZXR1cm4gdm9pZCAwO1xuICBpZiAodHlwZW9mIHMgPT09IFwic3RyaW5nXCIgJiYgIShzIGluIG1vZGVscykpXG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgY29uc3Qgc2NoZW1hID0gdHlwZW9mIHMgPT09IFwic3RyaW5nXCIgPyBtb2RlbHNbc10gOiBzO1xuICBpZiAoc2NoZW1hLnR5cGUgPT09IFwib2JqZWN0XCIgJiYgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiIGluIHNjaGVtYSA9PT0gZmFsc2UpXG4gICAgc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gYWRkaXRpb25hbFByb3BlcnRpZXM7XG4gIGNvbnN0IGNsZWFuZXIgPSAodmFsdWUpID0+IFZhbHVlLkNsZWFuKHNjaGVtYSwgdmFsdWUpO1xuICBpZiAoZHluYW1pYykge1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IHtcbiAgICAgIHNjaGVtYSxcbiAgICAgIHJlZmVyZW5jZXM6IFwiXCIsXG4gICAgICBjaGVja0Z1bmM6ICgpID0+IHtcbiAgICAgIH0sXG4gICAgICBjb2RlOiBcIlwiLFxuICAgICAgQ2hlY2s6ICh2YWx1ZSkgPT4gVmFsdWUuQ2hlY2soc2NoZW1hLCB2YWx1ZSksXG4gICAgICBFcnJvcnM6ICh2YWx1ZSkgPT4gVmFsdWUuRXJyb3JzKHNjaGVtYSwgdmFsdWUpLFxuICAgICAgQ29kZTogKCkgPT4gXCJcIlxuICAgIH07XG4gICAgaWYgKG5vcm1hbGl6ZSAmJiBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IHRydWUpXG4gICAgICB2YWxpZGF0b3IuQ2xlYW4gPSBjbGVhbmVyO1xuICAgIGlmIChzY2hlbWEuY29uZmlnKSB7XG4gICAgICB2YWxpZGF0b3IuY29uZmlnID0gc2NoZW1hLmNvbmZpZztcbiAgICAgIGlmICh2YWxpZGF0b3I/LnNjaGVtYT8uY29uZmlnKVxuICAgICAgICBkZWxldGUgdmFsaWRhdG9yLnNjaGVtYS5jb25maWc7XG4gICAgfVxuICAgIHJldHVybiB2YWxpZGF0b3I7XG4gIH1cbiAgY29uc3QgY29tcGlsZWQgPSBUeXBlQ29tcGlsZXIuQ29tcGlsZShzY2hlbWEsIE9iamVjdC52YWx1ZXMobW9kZWxzKSk7XG4gIGNvbXBpbGVkLkNsZWFuID0gY2xlYW5lcjtcbiAgaWYgKHNjaGVtYS5jb25maWcpIHtcbiAgICBjb21waWxlZC5jb25maWcgPSBzY2hlbWEuY29uZmlnO1xuICAgIGlmIChjb21waWxlZD8uc2NoZW1hPy5jb25maWcpXG4gICAgICBkZWxldGUgY29tcGlsZWQuc2NoZW1hLmNvbmZpZztcbiAgfVxuICByZXR1cm4gY29tcGlsZWQ7XG59O1xudmFyIGdldFJlc3BvbnNlU2NoZW1hVmFsaWRhdG9yID0gKHMsIHtcbiAgbW9kZWxzID0ge30sXG4gIGR5bmFtaWMgPSBmYWxzZSxcbiAgbm9ybWFsaXplID0gZmFsc2UsXG4gIGFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gbm9ybWFsaXplXG59KSA9PiB7XG4gIGlmICghcylcbiAgICByZXR1cm47XG4gIGlmICh0eXBlb2YgcyA9PT0gXCJzdHJpbmdcIiAmJiAhKHMgaW4gbW9kZWxzKSlcbiAgICByZXR1cm47XG4gIGNvbnN0IG1heWJlU2NoZW1hT3JSZWNvcmQgPSB0eXBlb2YgcyA9PT0gXCJzdHJpbmdcIiA/IG1vZGVsc1tzXSA6IHM7XG4gIGNvbnN0IGNvbXBpbGUgPSAoc2NoZW1hLCByZWZlcmVuY2VzKSA9PiB7XG4gICAgY29uc3QgY2xlYW5lciA9ICh2YWx1ZSkgPT4gVmFsdWUuQ2xlYW4oc2NoZW1hLCB2YWx1ZSk7XG4gICAgaWYgKGR5bmFtaWMpXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzY2hlbWEsXG4gICAgICAgIHJlZmVyZW5jZXM6IFwiXCIsXG4gICAgICAgIGNoZWNrRnVuYzogKCkgPT4ge1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBcIlwiLFxuICAgICAgICBDaGVjazogKHZhbHVlKSA9PiBWYWx1ZS5DaGVjayhzY2hlbWEsIHZhbHVlKSxcbiAgICAgICAgRXJyb3JzOiAodmFsdWUpID0+IFZhbHVlLkVycm9ycyhzY2hlbWEsIHZhbHVlKSxcbiAgICAgICAgQ29kZTogKCkgPT4gXCJcIlxuICAgICAgfTtcbiAgICBjb25zdCBjb21waWxlZFZhbGlkYXRvciA9IFR5cGVDb21waWxlci5Db21waWxlKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgaWYgKG5vcm1hbGl6ZSAmJiBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IHRydWUpXG4gICAgICBjb21waWxlZFZhbGlkYXRvci5DbGVhbiA9IGNsZWFuZXI7XG4gICAgcmV0dXJuIGNvbXBpbGVkVmFsaWRhdG9yO1xuICB9O1xuICBpZiAoS2luZCBpbiBtYXliZVNjaGVtYU9yUmVjb3JkKSB7XG4gICAgaWYgKFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIiBpbiBtYXliZVNjaGVtYU9yUmVjb3JkID09PSBmYWxzZSlcbiAgICAgIG1heWJlU2NoZW1hT3JSZWNvcmQuYWRkaXRpb25hbFByb3BlcnRpZXMgPSBhZGRpdGlvbmFsUHJvcGVydGllcztcbiAgICByZXR1cm4ge1xuICAgICAgMjAwOiBjb21waWxlKG1heWJlU2NoZW1hT3JSZWNvcmQsIE9iamVjdC52YWx1ZXMobW9kZWxzKSlcbiAgICB9O1xuICB9XG4gIGNvbnN0IHJlY29yZCA9IHt9O1xuICBPYmplY3Qua2V5cyhtYXliZVNjaGVtYU9yUmVjb3JkKS5mb3JFYWNoKChzdGF0dXMpID0+IHtcbiAgICBjb25zdCBtYXliZU5hbWVPclNjaGVtYSA9IG1heWJlU2NoZW1hT3JSZWNvcmRbK3N0YXR1c107XG4gICAgaWYgKHR5cGVvZiBtYXliZU5hbWVPclNjaGVtYSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgaWYgKG1heWJlTmFtZU9yU2NoZW1hIGluIG1vZGVscykge1xuICAgICAgICBjb25zdCBzY2hlbWEgPSBtb2RlbHNbbWF5YmVOYW1lT3JTY2hlbWFdO1xuICAgICAgICBzY2hlbWEudHlwZSA9PT0gXCJvYmplY3RcIiAmJiBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCIgaW4gc2NoZW1hID09PSBmYWxzZTtcbiAgICAgICAgcmVjb3JkWytzdGF0dXNdID0gS2luZCBpbiBzY2hlbWEgPyBjb21waWxlKHNjaGVtYSwgT2JqZWN0LnZhbHVlcyhtb2RlbHMpKSA6IHNjaGVtYTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGlmIChtYXliZU5hbWVPclNjaGVtYS50eXBlID09PSBcIm9iamVjdFwiICYmIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIiBpbiBtYXliZU5hbWVPclNjaGVtYSA9PT0gZmFsc2UpXG4gICAgICBtYXliZU5hbWVPclNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9IGFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICAgIHJlY29yZFsrc3RhdHVzXSA9IEtpbmQgaW4gbWF5YmVOYW1lT3JTY2hlbWEgPyBjb21waWxlKG1heWJlTmFtZU9yU2NoZW1hLCBPYmplY3QudmFsdWVzKG1vZGVscykpIDogbWF5YmVOYW1lT3JTY2hlbWE7XG4gIH0pO1xuICByZXR1cm4gcmVjb3JkO1xufTtcbnZhciBpc0J1biA9IHR5cGVvZiBCdW4gIT09IFwidW5kZWZpbmVkXCI7XG52YXIgaGFzSGFzaCA9IGlzQnVuICYmIHR5cGVvZiBCdW4uaGFzaCA9PT0gXCJmdW5jdGlvblwiO1xudmFyIGNoZWNrc3VtID0gKHMpID0+IHtcbiAgaWYgKGhhc0hhc2gpXG4gICAgcmV0dXJuIEJ1bi5oYXNoKHMpO1xuICBsZXQgaCA9IDk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcy5sZW5ndGg7IClcbiAgICBoID0gTWF0aC5pbXVsKGggXiBzLmNoYXJDb2RlQXQoaSsrKSwgOSAqKiA5KTtcbiAgcmV0dXJuIGggPSBoIF4gaCA+Pj4gOTtcbn07XG52YXIgZ2V0Q29va2llVmFsaWRhdG9yID0gKHtcbiAgdmFsaWRhdG9yLFxuICBkZWZhdWx0Q29uZmlnID0ge30sXG4gIGNvbmZpZyxcbiAgZHluYW1pYyxcbiAgbW9kZWxzXG59KSA9PiB7XG4gIGxldCBjb29raWVWYWxpZGF0b3IgPSBnZXRTY2hlbWFWYWxpZGF0b3IodmFsaWRhdG9yLCB7XG4gICAgZHluYW1pYyxcbiAgICBtb2RlbHMsXG4gICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IHRydWVcbiAgfSk7XG4gIGlmIChpc05vdEVtcHR5KGRlZmF1bHRDb25maWcpKSB7XG4gICAgaWYgKGNvb2tpZVZhbGlkYXRvcikge1xuICAgICAgY29va2llVmFsaWRhdG9yLmNvbmZpZyA9IG1lcmdlQ29va2llKFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHByaXZhdGVcbiAgICAgICAgY29va2llVmFsaWRhdG9yLmNvbmZpZyxcbiAgICAgICAgY29uZmlnXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb29raWVWYWxpZGF0b3IgPSBnZXRTY2hlbWFWYWxpZGF0b3IodDIuQ29va2llKHt9KSwge1xuICAgICAgICBkeW5hbWljLFxuICAgICAgICBtb2RlbHMsXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIGNvb2tpZVZhbGlkYXRvci5jb25maWcgPSBkZWZhdWx0Q29uZmlnO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY29va2llVmFsaWRhdG9yO1xufTtcbnZhciBtZXJnZUxpZmVDeWNsZSA9IChhMiwgYiwgY2hlY2tzdW0yKSA9PiB7XG4gIGNvbnN0IGluamVjdENoZWNrc3VtID0gKHgpID0+IHtcbiAgICBpZiAoIXgpXG4gICAgICByZXR1cm47XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgICBjb25zdCBmbiA9IHg7XG4gICAgICBpZiAoY2hlY2tzdW0yICYmICFmbi5jaGVja3N1bSlcbiAgICAgICAgZm4uY2hlY2tzdW0gPSBjaGVja3N1bTI7XG4gICAgICBpZiAoZm4uc2NvcGUgPT09IFwic2NvcGVkXCIpXG4gICAgICAgIGZuLnNjb3BlID0gXCJsb2NhbFwiO1xuICAgICAgcmV0dXJuIGZuO1xuICAgIH1cbiAgICBjb25zdCBmbnMgPSBbLi4ueF07XG4gICAgZm9yIChjb25zdCBmbiBvZiBmbnMpIHtcbiAgICAgIGlmIChjaGVja3N1bTIgJiYgIWZuLmNoZWNrc3VtKVxuICAgICAgICBmbi5jaGVja3N1bSA9IGNoZWNrc3VtMjtcbiAgICAgIGlmIChmbi5zY29wZSA9PT0gXCJzY29wZWRcIilcbiAgICAgICAgZm4uc2NvcGUgPSBcImxvY2FsXCI7XG4gICAgfVxuICAgIHJldHVybiBmbnM7XG4gIH07XG4gIHJldHVybiB7XG4gICAgLy8gLi4uYSxcbiAgICAvLyAuLi5iLFxuICAgIHN0YXJ0OiBtZXJnZU9iamVjdEFycmF5KFxuICAgICAgYTIuc3RhcnQsXG4gICAgICBpbmplY3RDaGVja3N1bShiPy5zdGFydClcbiAgICApLFxuICAgIHJlcXVlc3Q6IG1lcmdlT2JqZWN0QXJyYXkoXG4gICAgICBhMi5yZXF1ZXN0LFxuICAgICAgaW5qZWN0Q2hlY2tzdW0oYj8ucmVxdWVzdClcbiAgICApLFxuICAgIHBhcnNlOiBtZXJnZU9iamVjdEFycmF5KFxuICAgICAgYTIucGFyc2UsXG4gICAgICBpbmplY3RDaGVja3N1bShiPy5wYXJzZSlcbiAgICApLFxuICAgIHRyYW5zZm9ybTogbWVyZ2VPYmplY3RBcnJheShcbiAgICAgIGEyLnRyYW5zZm9ybSxcbiAgICAgIGluamVjdENoZWNrc3VtKGI/LnRyYW5zZm9ybSlcbiAgICApLFxuICAgIGJlZm9yZUhhbmRsZTogbWVyZ2VPYmplY3RBcnJheShcbiAgICAgIGEyLmJlZm9yZUhhbmRsZSxcbiAgICAgIGluamVjdENoZWNrc3VtKGI/LmJlZm9yZUhhbmRsZSlcbiAgICApLFxuICAgIGFmdGVySGFuZGxlOiBtZXJnZU9iamVjdEFycmF5KFxuICAgICAgYTIuYWZ0ZXJIYW5kbGUsXG4gICAgICBpbmplY3RDaGVja3N1bShiPy5hZnRlckhhbmRsZSlcbiAgICApLFxuICAgIG1hcFJlc3BvbnNlOiBtZXJnZU9iamVjdEFycmF5KFxuICAgICAgYTIubWFwUmVzcG9uc2UsXG4gICAgICBpbmplY3RDaGVja3N1bShiPy5tYXBSZXNwb25zZSlcbiAgICApLFxuICAgIG9uUmVzcG9uc2U6IG1lcmdlT2JqZWN0QXJyYXkoXG4gICAgICBhMi5vblJlc3BvbnNlLFxuICAgICAgaW5qZWN0Q2hlY2tzdW0oYj8ub25SZXNwb25zZSlcbiAgICApLFxuICAgIC8vIEFscmVhZHkgbWVyZ2VkIG9uIEVseXNpYS5fdXNlLCBhbHNvIGxvZ2ljIGlzIG1vcmUgY29tcGxpY2F0ZWQsIGNhbid0IGRpcmVjdGx5IG1lcmdlXG4gICAgdHJhY2U6IGEyLnRyYWNlLFxuICAgIGVycm9yOiBtZXJnZU9iamVjdEFycmF5KFxuICAgICAgYTIuZXJyb3IsXG4gICAgICBpbmplY3RDaGVja3N1bShiPy5lcnJvcilcbiAgICApLFxuICAgIHN0b3A6IG1lcmdlT2JqZWN0QXJyYXkoXG4gICAgICBhMi5zdG9wLFxuICAgICAgaW5qZWN0Q2hlY2tzdW0oYj8uc3RvcClcbiAgICApXG4gIH07XG59O1xudmFyIGFzSG9va1R5cGUgPSAoZm4sIGluamVjdCwgeyBza2lwSWZIYXNUeXBlID0gZmFsc2UgfSA9IHt9KSA9PiB7XG4gIGlmICghZm4pXG4gICAgcmV0dXJuIGZuO1xuICBpZiAoIUFycmF5LmlzQXJyYXkoZm4pKSB7XG4gICAgaWYgKHNraXBJZkhhc1R5cGUpXG4gICAgICBmbi5zY29wZSA/Pz0gaW5qZWN0O1xuICAgIGVsc2VcbiAgICAgIGZuLnNjb3BlID0gaW5qZWN0O1xuICAgIHJldHVybiBmbjtcbiAgfVxuICBmb3IgKGNvbnN0IHggb2YgZm4pXG4gICAgaWYgKHNraXBJZkhhc1R5cGUpXG4gICAgICB4LnNjb3BlID8/PSBpbmplY3Q7XG4gICAgZWxzZVxuICAgICAgeC5zY29wZSA9IGluamVjdDtcbiAgcmV0dXJuIGZuO1xufTtcbnZhciBmaWx0ZXJHbG9iYWwgPSAoZm4pID0+IHtcbiAgaWYgKCFmbilcbiAgICByZXR1cm4gZm47XG4gIGlmICghQXJyYXkuaXNBcnJheShmbikpXG4gICAgc3dpdGNoIChmbi5zY29wZSkge1xuICAgICAgY2FzZSBcImdsb2JhbFwiOlxuICAgICAgY2FzZSBcInNjb3BlZFwiOlxuICAgICAgICByZXR1cm4geyAuLi5mbiB9O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHsgZm4gfTtcbiAgICB9XG4gIGNvbnN0IGFycmF5ID0gW107XG4gIGZvciAoY29uc3QgeCBvZiBmbilcbiAgICBzd2l0Y2ggKHguc2NvcGUpIHtcbiAgICAgIGNhc2UgXCJnbG9iYWxcIjpcbiAgICAgIGNhc2UgXCJzY29wZWRcIjpcbiAgICAgICAgYXJyYXkucHVzaCh7XG4gICAgICAgICAgLi4ueFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICByZXR1cm4gYXJyYXk7XG59O1xudmFyIGZpbHRlckdsb2JhbEhvb2sgPSAoaG9vaykgPT4ge1xuICByZXR1cm4ge1xuICAgIC8vIHJlc3QgaXMgdmFsaWRhdG9yXG4gICAgLi4uaG9vayxcbiAgICB0eXBlOiBob29rPy50eXBlLFxuICAgIGRldGFpbDogaG9vaz8uZGV0YWlsLFxuICAgIHBhcnNlOiBmaWx0ZXJHbG9iYWwoaG9vaz8ucGFyc2UpLFxuICAgIHRyYW5zZm9ybTogZmlsdGVyR2xvYmFsKGhvb2s/LnRyYW5zZm9ybSksXG4gICAgYmVmb3JlSGFuZGxlOiBmaWx0ZXJHbG9iYWwoaG9vaz8uYmVmb3JlSGFuZGxlKSxcbiAgICBhZnRlckhhbmRsZTogZmlsdGVyR2xvYmFsKGhvb2s/LmFmdGVySGFuZGxlKSxcbiAgICBvblJlc3BvbnNlOiBmaWx0ZXJHbG9iYWwoaG9vaz8ub25SZXNwb25zZSksXG4gICAgZXJyb3I6IGZpbHRlckdsb2JhbChob29rPy5lcnJvciksXG4gICAgbWFwUmVzcG9uc2U6IGZpbHRlckdsb2JhbChob29rPy5tYXBSZXNwb25zZSlcbiAgfTtcbn07XG52YXIgU3RhdHVzTWFwID0ge1xuICBDb250aW51ZTogMTAwLFxuICBcIlN3aXRjaGluZyBQcm90b2NvbHNcIjogMTAxLFxuICBQcm9jZXNzaW5nOiAxMDIsXG4gIFwiRWFybHkgSGludHNcIjogMTAzLFxuICBPSzogMjAwLFxuICBDcmVhdGVkOiAyMDEsXG4gIEFjY2VwdGVkOiAyMDIsXG4gIFwiTm9uLUF1dGhvcml0YXRpdmUgSW5mb3JtYXRpb25cIjogMjAzLFxuICBcIk5vIENvbnRlbnRcIjogMjA0LFxuICBcIlJlc2V0IENvbnRlbnRcIjogMjA1LFxuICBcIlBhcnRpYWwgQ29udGVudFwiOiAyMDYsXG4gIFwiTXVsdGktU3RhdHVzXCI6IDIwNyxcbiAgXCJBbHJlYWR5IFJlcG9ydGVkXCI6IDIwOCxcbiAgXCJNdWx0aXBsZSBDaG9pY2VzXCI6IDMwMCxcbiAgXCJNb3ZlZCBQZXJtYW5lbnRseVwiOiAzMDEsXG4gIEZvdW5kOiAzMDIsXG4gIFwiU2VlIE90aGVyXCI6IDMwMyxcbiAgXCJOb3QgTW9kaWZpZWRcIjogMzA0LFxuICBcIlRlbXBvcmFyeSBSZWRpcmVjdFwiOiAzMDcsXG4gIFwiUGVybWFuZW50IFJlZGlyZWN0XCI6IDMwOCxcbiAgXCJCYWQgUmVxdWVzdFwiOiA0MDAsXG4gIFVuYXV0aG9yaXplZDogNDAxLFxuICBcIlBheW1lbnQgUmVxdWlyZWRcIjogNDAyLFxuICBGb3JiaWRkZW46IDQwMyxcbiAgXCJOb3QgRm91bmRcIjogNDA0LFxuICBcIk1ldGhvZCBOb3QgQWxsb3dlZFwiOiA0MDUsXG4gIFwiTm90IEFjY2VwdGFibGVcIjogNDA2LFxuICBcIlByb3h5IEF1dGhlbnRpY2F0aW9uIFJlcXVpcmVkXCI6IDQwNyxcbiAgXCJSZXF1ZXN0IFRpbWVvdXRcIjogNDA4LFxuICBDb25mbGljdDogNDA5LFxuICBHb25lOiA0MTAsXG4gIFwiTGVuZ3RoIFJlcXVpcmVkXCI6IDQxMSxcbiAgXCJQcmVjb25kaXRpb24gRmFpbGVkXCI6IDQxMixcbiAgXCJQYXlsb2FkIFRvbyBMYXJnZVwiOiA0MTMsXG4gIFwiVVJJIFRvbyBMb25nXCI6IDQxNCxcbiAgXCJVbnN1cHBvcnRlZCBNZWRpYSBUeXBlXCI6IDQxNSxcbiAgXCJSYW5nZSBOb3QgU2F0aXNmaWFibGVcIjogNDE2LFxuICBcIkV4cGVjdGF0aW9uIEZhaWxlZFwiOiA0MTcsXG4gIFwiSSdtIGEgdGVhcG90XCI6IDQxOCxcbiAgXCJNaXNkaXJlY3RlZCBSZXF1ZXN0XCI6IDQyMSxcbiAgXCJVbnByb2Nlc3NhYmxlIENvbnRlbnRcIjogNDIyLFxuICBMb2NrZWQ6IDQyMyxcbiAgXCJGYWlsZWQgRGVwZW5kZW5jeVwiOiA0MjQsXG4gIFwiVG9vIEVhcmx5XCI6IDQyNSxcbiAgXCJVcGdyYWRlIFJlcXVpcmVkXCI6IDQyNixcbiAgXCJQcmVjb25kaXRpb24gUmVxdWlyZWRcIjogNDI4LFxuICBcIlRvbyBNYW55IFJlcXVlc3RzXCI6IDQyOSxcbiAgXCJSZXF1ZXN0IEhlYWRlciBGaWVsZHMgVG9vIExhcmdlXCI6IDQzMSxcbiAgXCJVbmF2YWlsYWJsZSBGb3IgTGVnYWwgUmVhc29uc1wiOiA0NTEsXG4gIFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCI6IDUwMCxcbiAgXCJOb3QgSW1wbGVtZW50ZWRcIjogNTAxLFxuICBcIkJhZCBHYXRld2F5XCI6IDUwMixcbiAgXCJTZXJ2aWNlIFVuYXZhaWxhYmxlXCI6IDUwMyxcbiAgXCJHYXRld2F5IFRpbWVvdXRcIjogNTA0LFxuICBcIkhUVFAgVmVyc2lvbiBOb3QgU3VwcG9ydGVkXCI6IDUwNSxcbiAgXCJWYXJpYW50IEFsc28gTmVnb3RpYXRlc1wiOiA1MDYsXG4gIFwiSW5zdWZmaWNpZW50IFN0b3JhZ2VcIjogNTA3LFxuICBcIkxvb3AgRGV0ZWN0ZWRcIjogNTA4LFxuICBcIk5vdCBFeHRlbmRlZFwiOiA1MTAsXG4gIFwiTmV0d29yayBBdXRoZW50aWNhdGlvbiBSZXF1aXJlZFwiOiA1MTFcbn07XG52YXIgSW52ZXJ0ZWRTdGF0dXNNYXAgPSBPYmplY3QuZnJvbUVudHJpZXMoXG4gIE9iamVjdC5lbnRyaWVzKFN0YXR1c01hcCkubWFwKChbaywgdl0pID0+IFt2LCBrXSlcbik7XG5mdW5jdGlvbiByZW1vdmVUcmFpbGluZ0VxdWFscyhkaWdlc3QpIHtcbiAgbGV0IHRyaW1tZWREaWdlc3QgPSBkaWdlc3Q7XG4gIHdoaWxlICh0cmltbWVkRGlnZXN0LmVuZHNXaXRoKFwiPVwiKSkge1xuICAgIHRyaW1tZWREaWdlc3QgPSB0cmltbWVkRGlnZXN0LnNsaWNlKDAsIC0xKTtcbiAgfVxuICByZXR1cm4gdHJpbW1lZERpZ2VzdDtcbn1cbnZhciBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG52YXIgc2lnbkNvb2tpZSA9IGFzeW5jICh2YWwsIHNlY3JldCkgPT4ge1xuICBpZiAodHlwZW9mIHZhbCAhPT0gXCJzdHJpbmdcIilcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29va2llIHZhbHVlIG11c3QgYmUgcHJvdmlkZWQgYXMgYSBzdHJpbmcuXCIpO1xuICBpZiAoc2VjcmV0ID09PSBudWxsKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTZWNyZXQga2V5IG11c3QgYmUgcHJvdmlkZWQuXCIpO1xuICBjb25zdCBzZWNyZXRLZXkgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmltcG9ydEtleShcbiAgICBcInJhd1wiLFxuICAgIGVuY29kZXIuZW5jb2RlKHNlY3JldCksXG4gICAgeyBuYW1lOiBcIkhNQUNcIiwgaGFzaDogXCJTSEEtMjU2XCIgfSxcbiAgICBmYWxzZSxcbiAgICBbXCJzaWduXCJdXG4gICk7XG4gIGNvbnN0IGhtYWNCdWZmZXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLnNpZ24oXG4gICAgXCJITUFDXCIsXG4gICAgc2VjcmV0S2V5LFxuICAgIGVuY29kZXIuZW5jb2RlKHZhbClcbiAgKTtcbiAgcmV0dXJuIHZhbCArIFwiLlwiICsgcmVtb3ZlVHJhaWxpbmdFcXVhbHMoQnVmZmVyLmZyb20oaG1hY0J1ZmZlcikudG9TdHJpbmcoXCJiYXNlNjRcIikpO1xufTtcbnZhciB1bnNpZ25Db29raWUgPSBhc3luYyAoaW5wdXQsIHNlY3JldCkgPT4ge1xuICBpZiAodHlwZW9mIGlucHV0ICE9PSBcInN0cmluZ1wiKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTaWduZWQgY29va2llIHN0cmluZyBtdXN0IGJlIHByb3ZpZGVkLlwiKTtcbiAgaWYgKG51bGwgPT09IHNlY3JldClcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU2VjcmV0IGtleSBtdXN0IGJlIHByb3ZpZGVkLlwiKTtcbiAgY29uc3QgdGVudGF0aXZlVmFsdWUgPSBpbnB1dC5zbGljZSgwLCBpbnB1dC5sYXN0SW5kZXhPZihcIi5cIikpO1xuICBjb25zdCBleHBlY3RlZElucHV0ID0gYXdhaXQgc2lnbkNvb2tpZSh0ZW50YXRpdmVWYWx1ZSwgc2VjcmV0KTtcbiAgcmV0dXJuIGV4cGVjdGVkSW5wdXQgPT09IGlucHV0ID8gdGVudGF0aXZlVmFsdWUgOiBmYWxzZTtcbn07XG52YXIgdHJhY2VCYWNrTWFjcm8gPSAoZXh0ZW5zaW9uLCBwcm9wZXJ0eSwgaG9va3MgPSBwcm9wZXJ0eSkgPT4ge1xuICBpZiAoIWV4dGVuc2lvbiB8fCB0eXBlb2YgZXh0ZW5zaW9uICE9PSBcIm9iamVjdFwiIHx8ICFwcm9wZXJ0eSlcbiAgICByZXR1cm47XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHByb3BlcnR5KSkge1xuICAgIGlmIChrZXkgaW4gcHJpbWl0aXZlSG9va01hcCB8fCAhKGtleSBpbiBleHRlbnNpb24pKVxuICAgICAgY29udGludWU7XG4gICAgY29uc3QgdiA9IGV4dGVuc2lvbltrZXldO1xuICAgIGlmICh0eXBlb2YgdiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB2KHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSBcIm9iamVjdFwiKVxuICAgICAgdHJhY2VCYWNrTWFjcm8odiwgdmFsdWUsIGhvb2tzKTtcbiAgfVxufTtcbnZhciBjcmVhdGVNYWNyb01hbmFnZXIgPSAoe1xuICBnbG9iYWxIb29rLFxuICBsb2NhbEhvb2tcbn0pID0+IChzdGFja05hbWUpID0+ICh0eXBlLCBmbikgPT4ge1xuICBpZiAodHlwZW9mIHR5cGUgPT09IFwiZnVuY3Rpb25cIilcbiAgICB0eXBlID0ge1xuICAgICAgZm46IHR5cGVcbiAgICB9O1xuICBpZiAoXCJmblwiIGluIHR5cGUgfHwgQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgIGlmICghbG9jYWxIb29rW3N0YWNrTmFtZV0pXG4gICAgICBsb2NhbEhvb2tbc3RhY2tOYW1lXSA9IFtdO1xuICAgIGlmICh0eXBlb2YgbG9jYWxIb29rW3N0YWNrTmFtZV0gPT09IFwiZnVuY3Rpb25cIilcbiAgICAgIGxvY2FsSG9va1tzdGFja05hbWVdID0gW2xvY2FsSG9va1tzdGFja05hbWVdXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSlcbiAgICAgIGxvY2FsSG9va1tzdGFja05hbWVdID0gbG9jYWxIb29rW3N0YWNrTmFtZV0uY29uY2F0KHR5cGUpO1xuICAgIGVsc2VcbiAgICAgIGxvY2FsSG9va1tzdGFja05hbWVdLnB1c2godHlwZSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHsgaW5zZXJ0ID0gXCJhZnRlclwiLCBzdGFjayA9IFwibG9jYWxcIiB9ID0gdHlwZTtcbiAgaWYgKHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiKVxuICAgIGZuID0geyBmbiB9O1xuICBpZiAoc3RhY2sgPT09IFwiZ2xvYmFsXCIpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZm4pKSB7XG4gICAgICBpZiAoaW5zZXJ0ID09PSBcImJlZm9yZVwiKSB7XG4gICAgICAgIDtcbiAgICAgICAgZ2xvYmFsSG9va1tzdGFja05hbWVdLnVuc2hpZnQoZm4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgO1xuICAgICAgICBnbG9iYWxIb29rW3N0YWNrTmFtZV0ucHVzaChmbik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbnNlcnQgPT09IFwiYmVmb3JlXCIpIHtcbiAgICAgICAgZ2xvYmFsSG9va1tzdGFja05hbWVdID0gZm4uY29uY2F0KFxuICAgICAgICAgIGdsb2JhbEhvb2tbc3RhY2tOYW1lXVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2xvYmFsSG9va1tzdGFja05hbWVdID0gZ2xvYmFsSG9va1tzdGFja05hbWVdLmNvbmNhdChmbik7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICghbG9jYWxIb29rW3N0YWNrTmFtZV0pXG4gICAgICBsb2NhbEhvb2tbc3RhY2tOYW1lXSA9IFtdO1xuICAgIGlmICh0eXBlb2YgbG9jYWxIb29rW3N0YWNrTmFtZV0gPT09IFwiZnVuY3Rpb25cIilcbiAgICAgIGxvY2FsSG9va1tzdGFja05hbWVdID0gW2xvY2FsSG9va1tzdGFja05hbWVdXTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZm4pKSB7XG4gICAgICBpZiAoaW5zZXJ0ID09PSBcImJlZm9yZVwiKSB7XG4gICAgICAgIDtcbiAgICAgICAgbG9jYWxIb29rW3N0YWNrTmFtZV0udW5zaGlmdChmbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICA7XG4gICAgICAgIGxvY2FsSG9va1tzdGFja05hbWVdLnB1c2goZm4pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW5zZXJ0ID09PSBcImJlZm9yZVwiKSB7XG4gICAgICAgIGxvY2FsSG9va1tzdGFja05hbWVdID0gZm4uY29uY2F0KGxvY2FsSG9va1tzdGFja05hbWVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvY2FsSG9va1tzdGFja05hbWVdID0gbG9jYWxIb29rW3N0YWNrTmFtZV0uY29uY2F0KGZuKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG52YXIgaXNOdW1lcmljU3RyaW5nID0gKG1lc3NhZ2UpID0+IHtcbiAgaWYgKG1lc3NhZ2UubGVuZ3RoIDwgMTYpXG4gICAgcmV0dXJuIG1lc3NhZ2UudHJpbSgpLmxlbmd0aCAhPT0gMCAmJiAhTnVtYmVyLmlzTmFOKE51bWJlcihtZXNzYWdlKSk7XG4gIGlmIChtZXNzYWdlLmxlbmd0aCA9PT0gMTYpIHtcbiAgICBjb25zdCBudW1WYWwgPSBOdW1iZXIobWVzc2FnZSk7XG4gICAgaWYgKG51bVZhbC50b1N0cmluZygpID09PSBtZXNzYWdlKVxuICAgICAgcmV0dXJuIG1lc3NhZ2UudHJpbSgpLmxlbmd0aCAhPT0gMCAmJiAhTnVtYmVyLmlzTmFOKG51bVZhbCk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbnZhciBQcm9taXNlR3JvdXAgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKG9uRXJyb3IgPSBjb25zb2xlLmVycm9yKSB7XG4gICAgdGhpcy5vbkVycm9yID0gb25FcnJvcjtcbiAgICB0aGlzLnJvb3QgPSBudWxsO1xuICAgIHRoaXMucHJvbWlzZXMgPSBbXTtcbiAgfVxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBwcm9taXNlcyBzdGlsbCBiZWluZyBhd2FpdGVkLlxuICAgKi9cbiAgZ2V0IHNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvbWlzZXMubGVuZ3RoO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgYSBwcm9taXNlIHRvIHRoZSBncm91cC5cbiAgICogQHJldHVybnMgVGhlIHByb21pc2UgdGhhdCB3YXMgYWRkZWQuXG4gICAqL1xuICBhZGQocHJvbWlzZSkge1xuICAgIHRoaXMucHJvbWlzZXMucHVzaChwcm9taXNlKTtcbiAgICB0aGlzLnJvb3QgfHw9IHRoaXMuZHJhaW4oKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuICBhc3luYyBkcmFpbigpIHtcbiAgICB3aGlsZSAodGhpcy5wcm9taXNlcy5sZW5ndGggPiAwKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnByb21pc2VzWzBdO1xuICAgICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICAgIHRoaXMub25FcnJvcihlcnJvcjIpO1xuICAgICAgfVxuICAgICAgdGhpcy5wcm9taXNlcy5zaGlmdCgpO1xuICAgIH1cbiAgICB0aGlzLnJvb3QgPSBudWxsO1xuICB9XG4gIC8vIEFsbG93IHRoZSBncm91cCB0byBiZSBhd2FpdGVkLlxuICB0aGVuKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKSB7XG4gICAgcmV0dXJuICh0aGlzLnJvb3QgPz8gUHJvbWlzZS5yZXNvbHZlKCkpLnRoZW4ob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpO1xuICB9XG59O1xudmFyIGZuVG9Db250YWluZXIgPSAoZm4pID0+IHtcbiAgaWYgKCFmbilcbiAgICByZXR1cm4gZm47XG4gIGlmICghQXJyYXkuaXNBcnJheShmbikpIHtcbiAgICBpZiAodHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICByZXR1cm4geyBmbiB9O1xuICAgIGVsc2UgaWYgKFwiZm5cIiBpbiBmbilcbiAgICAgIHJldHVybiBmbjtcbiAgfVxuICBjb25zdCBmbnMgPSBbXTtcbiAgZm9yIChjb25zdCB4IG9mIGZuKSB7XG4gICAgaWYgKHR5cGVvZiB4ID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICBmbnMucHVzaCh7IGZuOiB4IH0pO1xuICAgIGVsc2UgaWYgKFwiZm5cIiBpbiB4KVxuICAgICAgZm5zLnB1c2goeCk7XG4gIH1cbiAgcmV0dXJuIGZucztcbn07XG52YXIgbG9jYWxIb29rVG9MaWZlQ3ljbGVTdG9yZSA9IChhMikgPT4ge1xuICByZXR1cm4ge1xuICAgIC4uLmEyLFxuICAgIHN0YXJ0OiBmblRvQ29udGFpbmVyKGEyPy5zdGFydCksXG4gICAgcmVxdWVzdDogZm5Ub0NvbnRhaW5lcihhMj8ucmVxdWVzdCksXG4gICAgcGFyc2U6IGZuVG9Db250YWluZXIoYTI/LnBhcnNlKSxcbiAgICB0cmFuc2Zvcm06IGZuVG9Db250YWluZXIoYTI/LnRyYW5zZm9ybSksXG4gICAgYmVmb3JlSGFuZGxlOiBmblRvQ29udGFpbmVyKGEyPy5iZWZvcmVIYW5kbGUpLFxuICAgIGFmdGVySGFuZGxlOiBmblRvQ29udGFpbmVyKGEyPy5hZnRlckhhbmRsZSksXG4gICAgb25SZXNwb25zZTogZm5Ub0NvbnRhaW5lcihhMj8ub25SZXNwb25zZSksXG4gICAgbWFwUmVzcG9uc2U6IGZuVG9Db250YWluZXIoYTI/Lm1hcFJlc3BvbnNlKSxcbiAgICB0cmFjZTogZm5Ub0NvbnRhaW5lcihhMj8udHJhY2UpLFxuICAgIGVycm9yOiBmblRvQ29udGFpbmVyKGEyPy5lcnJvciksXG4gICAgc3RvcDogZm5Ub0NvbnRhaW5lcihhMj8uc3RvcClcbiAgfTtcbn07XG52YXIgbGlmZUN5Y2xlVG9GbiA9IChhMikgPT4ge1xuICByZXR1cm4ge1xuICAgIC4uLmEyLFxuICAgIHN0YXJ0OiBhMi5zdGFydD8ubWFwKCh4KSA9PiB4LmZuKSxcbiAgICByZXF1ZXN0OiBhMi5yZXF1ZXN0Py5tYXAoKHgpID0+IHguZm4pLFxuICAgIHBhcnNlOiBhMi5wYXJzZT8ubWFwKCh4KSA9PiB4LmZuKSxcbiAgICB0cmFuc2Zvcm06IGEyLnRyYW5zZm9ybT8ubWFwKCh4KSA9PiB4LmZuKSxcbiAgICBiZWZvcmVIYW5kbGU6IGEyLmJlZm9yZUhhbmRsZT8ubWFwKCh4KSA9PiB4LmZuKSxcbiAgICBhZnRlckhhbmRsZTogYTIuYWZ0ZXJIYW5kbGU/Lm1hcCgoeCkgPT4geC5mbiksXG4gICAgb25SZXNwb25zZTogYTIub25SZXNwb25zZT8ubWFwKCh4KSA9PiB4LmZuKSxcbiAgICBtYXBSZXNwb25zZTogYTIubWFwUmVzcG9uc2U/Lm1hcCgoeCkgPT4geC5mbiksXG4gICAgdHJhY2U6IGEyLnRyYWNlPy5tYXAoKHgpID0+IHguZm4pLFxuICAgIGVycm9yOiBhMi5lcnJvcj8ubWFwKCh4KSA9PiB4LmZuKSxcbiAgICBzdG9wOiBhMi5zdG9wPy5tYXAoKHgpID0+IHguZm4pXG4gIH07XG59O1xudmFyIGNsb25lSW5mZXJlbmNlID0gKGluZmVyZW5jZSkgPT4gKHtcbiAgZXZlbnQ6IHtcbiAgICBib2R5OiBpbmZlcmVuY2UuZXZlbnQuYm9keSxcbiAgICBjb29raWU6IGluZmVyZW5jZS5ldmVudC5jb29raWUsXG4gICAgaGVhZGVyczogaW5mZXJlbmNlLmV2ZW50LmhlYWRlcnMsXG4gICAgcXVlcmllczogWy4uLmluZmVyZW5jZS5ldmVudC5xdWVyaWVzXSxcbiAgICBxdWVyeTogaW5mZXJlbmNlLmV2ZW50LnF1ZXJ5LFxuICAgIHNldDogaW5mZXJlbmNlLmV2ZW50LnNldCxcbiAgICB1bmtub3duUXVlcmllczogaW5mZXJlbmNlLmV2ZW50LnVua25vd25RdWVyaWVzXG4gIH0sXG4gIHRyYWNlOiB7XG4gICAgcmVxdWVzdDogaW5mZXJlbmNlLnRyYWNlLnJlcXVlc3QsXG4gICAgcGFyc2U6IGluZmVyZW5jZS50cmFjZS5wYXJzZSxcbiAgICB0cmFuc2Zvcm06IGluZmVyZW5jZS50cmFjZS50cmFuc2Zvcm0sXG4gICAgaGFuZGxlOiBpbmZlcmVuY2UudHJhY2UuaGFuZGxlLFxuICAgIGJlZm9yZUhhbmRsZTogaW5mZXJlbmNlLnRyYWNlLmJlZm9yZUhhbmRsZSxcbiAgICBhZnRlckhhbmRsZTogaW5mZXJlbmNlLnRyYWNlLmFmdGVySGFuZGxlLFxuICAgIGVycm9yOiBpbmZlcmVuY2UudHJhY2UuZXJyb3IsXG4gICAgY29udGV4dDogaW5mZXJlbmNlLnRyYWNlLmNvbnRleHQsXG4gICAgc3RvcmU6IGluZmVyZW5jZS50cmFjZS5zdG9yZSxcbiAgICBzZXQ6IGluZmVyZW5jZS50cmFjZS5zZXRcbiAgfVxufSk7XG52YXIgcmVkaXJlY3QgPSAodXJsLCBzdGF0dXMgPSAzMDEpID0+IFJlc3BvbnNlLnJlZGlyZWN0KHVybCwgc3RhdHVzKTtcbnZhciBFTFlTSUFfRk9STV9EQVRBID0gU3ltYm9sKFwiRWx5c2lhRm9ybURhdGFcIik7XG52YXIgZm9ybSA9IChpdGVtcykgPT4ge1xuICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhpdGVtcykpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGZvciAoY29uc3QgdiBvZiB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBGaWxlKVxuICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChrZXksIHZhbHVlLCB2YWx1ZS5uYW1lKTtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKGtleSwgdik7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRmlsZSlcbiAgICAgIGZvcm1EYXRhLmFwcGVuZChrZXksIHZhbHVlLCB2YWx1ZS5uYW1lKTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGZvcm1EYXRhO1xufTtcblxuLy8gc3JjL2Vycm9yLnRzXG52YXIgZW52ID0gdHlwZW9mIEJ1biAhPT0gXCJ1bmRlZmluZWRcIiA/IEJ1bi5lbnYgOiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiA/IHByb2Nlc3M/LmVudiA6IHZvaWQgMDtcbnZhciBFUlJPUl9DT0RFID0gU3ltYm9sKFwiRWx5c2lhRXJyb3JDb2RlXCIpO1xudmFyIEVMWVNJQV9SRVNQT05TRSA9IFN5bWJvbChcIkVseXNpYVJlc3BvbnNlXCIpO1xudmFyIGlzUHJvZHVjdGlvbiA9IChlbnY/Lk5PREVfRU5WID8/IGVudj8uRU5WKSA9PT0gXCJwcm9kdWN0aW9uXCI7XG52YXIgZXJyb3IgPSAoY29kZSwgcmVzcG9uc2UpID0+ICh7XG4gIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgW0VMWVNJQV9SRVNQT05TRV06IFN0YXR1c01hcFtjb2RlXSA/PyBjb2RlLFxuICByZXNwb25zZTogcmVzcG9uc2UgPz8gKGNvZGUgaW4gSW52ZXJ0ZWRTdGF0dXNNYXAgPyAoXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBBbHdheXMgY29ycmVjdFxuICAgIEludmVydGVkU3RhdHVzTWFwW2NvZGVdXG4gICkgOiBjb2RlKSxcbiAgX3R5cGU6IHZvaWQgMFxufSk7XG52YXIgSW50ZXJuYWxTZXJ2ZXJFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgc3VwZXIobWVzc2FnZSA/PyBcIklOVEVSTkFMX1NFUlZFUl9FUlJPUlwiKTtcbiAgICB0aGlzLmNvZGUgPSBcIklOVEVSTkFMX1NFUlZFUl9FUlJPUlwiO1xuICAgIHRoaXMuc3RhdHVzID0gNTAwO1xuICB9XG59O1xudmFyIE5vdEZvdW5kRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgIHN1cGVyKG1lc3NhZ2UgPz8gXCJOT1RfRk9VTkRcIik7XG4gICAgdGhpcy5jb2RlID0gXCJOT1RfRk9VTkRcIjtcbiAgICB0aGlzLnN0YXR1cyA9IDQwNDtcbiAgfVxufTtcbnZhciBQYXJzZUVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGJvZHkpIHtcbiAgICBzdXBlcihtZXNzYWdlID8/IFwiUEFSU0VcIik7XG4gICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICB0aGlzLmNvZGUgPSBcIlBBUlNFXCI7XG4gICAgdGhpcy5zdGF0dXMgPSA0MDA7XG4gIH1cbn07XG52YXIgSW52YWxpZENvb2tpZVNpZ25hdHVyZSA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihrZXksIG1lc3NhZ2UpIHtcbiAgICBzdXBlcihtZXNzYWdlID8/IGBcIiR7a2V5fVwiIGhhcyBpbnZhbGlkIGNvb2tpZSBzaWduYXR1cmVgKTtcbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB0aGlzLmNvZGUgPSBcIklOVkFMSURfQ09PS0lFX1NJR05BVFVSRVwiO1xuICAgIHRoaXMuc3RhdHVzID0gNDAwO1xuICB9XG59O1xudmFyIFZhbGlkYXRpb25FcnJvciA9IGNsYXNzIF9WYWxpZGF0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHR5cGUsIHZhbGlkYXRvciwgdmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIEVMWVNJQV9SRVNQT05TRSBpbiB2YWx1ZSlcbiAgICAgIHZhbHVlID0gdmFsdWUucmVzcG9uc2U7XG4gICAgY29uc3QgZXJyb3IyID0gaXNQcm9kdWN0aW9uID8gdm9pZCAwIDogXCJFcnJvcnNcIiBpbiB2YWxpZGF0b3IgPyB2YWxpZGF0b3IuRXJyb3JzKHZhbHVlKS5GaXJzdCgpIDogVmFsdWUyLkVycm9ycyh2YWxpZGF0b3IsIHZhbHVlKS5GaXJzdCgpO1xuICAgIGNvbnN0IGN1c3RvbUVycm9yID0gZXJyb3IyPy5zY2hlbWEuZXJyb3IgIT09IHZvaWQgMCA/IHR5cGVvZiBlcnJvcjIuc2NoZW1hLmVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBlcnJvcjIuc2NoZW1hLmVycm9yKHtcbiAgICAgIHR5cGUsXG4gICAgICB2YWxpZGF0b3IsXG4gICAgICB2YWx1ZSxcbiAgICAgIGdldCBlcnJvcnMoKSB7XG4gICAgICAgIHJldHVybiBbLi4udmFsaWRhdG9yLkVycm9ycyh2YWx1ZSldO1xuICAgICAgfVxuICAgIH0pIDogZXJyb3IyLnNjaGVtYS5lcnJvciA6IHZvaWQgMDtcbiAgICBjb25zdCBhY2Nlc3NvciA9IGVycm9yMj8ucGF0aCB8fCBcInJvb3RcIjtcbiAgICBsZXQgbWVzc2FnZSA9IFwiXCI7XG4gICAgaWYgKGN1c3RvbUVycm9yICE9PSB2b2lkIDApIHtcbiAgICAgIG1lc3NhZ2UgPSB0eXBlb2YgY3VzdG9tRXJyb3IgPT09IFwib2JqZWN0XCIgPyBKU09OLnN0cmluZ2lmeShjdXN0b21FcnJvcikgOiBjdXN0b21FcnJvciArIFwiXCI7XG4gICAgfSBlbHNlIGlmIChpc1Byb2R1Y3Rpb24pIHtcbiAgICAgIG1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHR5cGU6IFwidmFsaWRhdGlvblwiLFxuICAgICAgICBvbjogdHlwZSxcbiAgICAgICAgbWVzc2FnZTogZXJyb3IyPy5tZXNzYWdlLFxuICAgICAgICBmb3VuZDogdmFsdWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzY2hlbWEgPSB2YWxpZGF0b3I/LnNjaGVtYSA/PyB2YWxpZGF0b3I7XG4gICAgICBjb25zdCBlcnJvcnMgPSBcIkVycm9yc1wiIGluIHZhbGlkYXRvciA/IFsuLi52YWxpZGF0b3IuRXJyb3JzKHZhbHVlKV0gOiBbLi4uVmFsdWUyLkVycm9ycyh2YWxpZGF0b3IsIHZhbHVlKV07XG4gICAgICBsZXQgZXhwZWN0ZWQ7XG4gICAgICB0cnkge1xuICAgICAgICBleHBlY3RlZCA9IFZhbHVlMi5DcmVhdGUoc2NoZW1hKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yMykge1xuICAgICAgICBleHBlY3RlZCA9IHtcbiAgICAgICAgICB0eXBlOiBcIkNvdWxkIG5vdCBjcmVhdGUgZXhwZWN0ZWQgdmFsdWVcIixcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3IzPy5tZXNzYWdlLFxuICAgICAgICAgIGVycm9yOiBlcnJvcjNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIG1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeShcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwidmFsaWRhdGlvblwiLFxuICAgICAgICAgIG9uOiB0eXBlLFxuICAgICAgICAgIHByb3BlcnR5OiBhY2Nlc3NvcixcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvcjI/Lm1lc3NhZ2UsXG4gICAgICAgICAgZXhwZWN0ZWQsXG4gICAgICAgICAgZm91bmQ6IHZhbHVlLFxuICAgICAgICAgIGVycm9yc1xuICAgICAgICB9LFxuICAgICAgICBudWxsLFxuICAgICAgICAyXG4gICAgICApO1xuICAgIH1cbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMudmFsaWRhdG9yID0gdmFsaWRhdG9yO1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLmNvZGUgPSBcIlZBTElEQVRJT05cIjtcbiAgICB0aGlzLnN0YXR1cyA9IDQyMjtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgX1ZhbGlkYXRpb25FcnJvci5wcm90b3R5cGUpO1xuICB9XG4gIGdldCBhbGwoKSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLnZhbGlkYXRvci5FcnJvcnModGhpcy52YWx1ZSldO1xuICB9XG4gIHN0YXRpYyBzaW1wbGlmeU1vZGVsKHZhbGlkYXRvcikge1xuICAgIGNvbnN0IG1vZGVsID0gXCJzY2hlbWFcIiBpbiB2YWxpZGF0b3IgPyB2YWxpZGF0b3Iuc2NoZW1hIDogdmFsaWRhdG9yO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gVmFsdWUyLkNyZWF0ZShtb2RlbCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gbW9kZWw7XG4gICAgfVxuICB9XG4gIGdldCBtb2RlbCgpIHtcbiAgICByZXR1cm4gX1ZhbGlkYXRpb25FcnJvci5zaW1wbGlmeU1vZGVsKHRoaXMudmFsaWRhdG9yKTtcbiAgfVxuICB0b1Jlc3BvbnNlKGhlYWRlcnMpIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHRoaXMubWVzc2FnZSwge1xuICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIC4uLmhlYWRlcnMsXG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHNyYy93cy9pbmRleC50c1xudmFyIHdlYnNvY2tldCA9IHtcbiAgb3Blbih3cykge1xuICAgIHdzLmRhdGEub3Blbj8uKHdzKTtcbiAgfSxcbiAgbWVzc2FnZSh3cywgbWVzc2FnZSkge1xuICAgIHdzLmRhdGEubWVzc2FnZT8uKHdzLCBtZXNzYWdlKTtcbiAgfSxcbiAgZHJhaW4od3MpIHtcbiAgICB3cy5kYXRhLmRyYWluPy4od3MpO1xuICB9LFxuICBjbG9zZSh3cywgY29kZSwgcmVhc29uKSB7XG4gICAgd3MuZGF0YS5jbG9zZT8uKHdzLCBjb2RlLCByZWFzb24pO1xuICB9XG59O1xudmFyIEVseXNpYVdTID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihyYXcsIGRhdGEpIHtcbiAgICB0aGlzLnJhdyA9IHJhdztcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIHRoaXMudmFsaWRhdG9yID0gcmF3LmRhdGEudmFsaWRhdG9yO1xuICAgIGlmIChyYXcuZGF0YS5pZCkge1xuICAgICAgdGhpcy5pZCA9IHJhdy5kYXRhLmlkO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBhcnJheSA9IG5ldyBVaW50MzJBcnJheSgxKTtcbiAgICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXJyYXkpO1xuICAgICAgdGhpcy5pZCA9IGFycmF5WzBdLnRvU3RyaW5nKCk7XG4gICAgfVxuICB9XG4gIGdldCBpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5yYXcuZGF0YS5pZDtcbiAgfVxuICBzZXQgaWQobmV3SUQpIHtcbiAgICB0aGlzLnJhdy5kYXRhLmlkID0gbmV3SUQ7XG4gIH1cbiAgZ2V0IHB1Ymxpc2goKSB7XG4gICAgcmV0dXJuICh0b3BpYywgZGF0YSA9IHZvaWQgMCwgY29tcHJlc3MpID0+IHtcbiAgICAgIGlmICh0aGlzLnZhbGlkYXRvcj8uQ2hlY2soZGF0YSkgPT09IGZhbHNlKVxuICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFwibWVzc2FnZVwiLCB0aGlzLnZhbGlkYXRvciwgZGF0YSk7XG4gICAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIpXG4gICAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgIHRoaXMucmF3LnB1Ymxpc2godG9waWMsIGRhdGEsIGNvbXByZXNzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gIH1cbiAgZ2V0IHNlbmQoKSB7XG4gICAgcmV0dXJuIChkYXRhKSA9PiB7XG4gICAgICBpZiAodGhpcy52YWxpZGF0b3I/LkNoZWNrKGRhdGEpID09PSBmYWxzZSlcbiAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcIm1lc3NhZ2VcIiwgdGhpcy52YWxpZGF0b3IsIGRhdGEpO1xuICAgICAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihkYXRhKSkge1xuICAgICAgICB0aGlzLnJhdy5zZW5kKGRhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIilcbiAgICAgICAgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgICAgdGhpcy5yYXcuc2VuZChkYXRhKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gIH1cbiAgZ2V0IHN1YnNjcmliZSgpIHtcbiAgICByZXR1cm4gKHJvb20pID0+IHtcbiAgICAgIHRoaXMucmF3LnN1YnNjcmliZShyb29tKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gIH1cbiAgZ2V0IHVuc3Vic2NyaWJlKCkge1xuICAgIHJldHVybiAocm9vbSkgPT4ge1xuICAgICAgdGhpcy5yYXcudW5zdWJzY3JpYmUocm9vbSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICB9XG4gIGdldCBjb3JrKCkge1xuICAgIHJldHVybiAoY2FsbGJhY2spID0+IHtcbiAgICAgIHRoaXMucmF3LmNvcmsoY2FsbGJhY2spO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgfVxuICBnZXQgY2xvc2UoKSB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMucmF3LmNsb3NlKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICB9XG4gIGdldCB0ZXJtaW5hdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmF3LnRlcm1pbmF0ZS5iaW5kKHRoaXMucmF3KTtcbiAgfVxuICBnZXQgaXNTdWJzY3JpYmVkKCkge1xuICAgIHJldHVybiB0aGlzLnJhdy5pc1N1YnNjcmliZWQuYmluZCh0aGlzLnJhdyk7XG4gIH1cbiAgZ2V0IHJlbW90ZUFkZHJlc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMucmF3LnJlbW90ZUFkZHJlc3M7XG4gIH1cbn07XG5cbi8vIHNyYy9jb21wb3NlLnRzXG5pbXBvcnQgeyBWYWx1ZSBhcyBWYWx1ZTMgfSBmcm9tIFwiQHNpbmNsYWlyL3R5cGVib3gvdmFsdWVcIjtcbmltcG9ydCB7IHBhcnNlIGFzIHBhcnNlUXVlcnkgfSBmcm9tIFwiZmFzdC1xdWVyeXN0cmluZ1wiO1xuaW1wb3J0IGRlY29kZVVSSUNvbXBvbmVudDIgZnJvbSBcImZhc3QtZGVjb2RlLXVyaS1jb21wb25lbnRcIjtcbnZhciBoZWFkZXJzSGFzVG9KU09OID0gbmV3IEhlYWRlcnMoKS50b0pTT047XG52YXIgcmVxdWVzdElkID0geyB2YWx1ZTogMCB9O1xudmFyIGNyZWF0ZVJlcG9ydCA9ICh7XG4gIGhhc1RyYWNlLFxuICBoYXNUcmFjZVNldCA9IGZhbHNlLFxuICBhZGRGbixcbiAgY29uZGl0aW9uID0ge31cbn0pID0+IHtcbiAgaWYgKGhhc1RyYWNlKSB7XG4gICAgYWRkRm4oYFxuY29uc3QgcmVwb3J0ZXIgPSBnZXRSZXBvcnRlcigpXG5gKTtcbiAgICByZXR1cm4gKGV2ZW50LCB7XG4gICAgICBuYW1lLFxuICAgICAgYXR0cmlidXRlID0gXCJcIixcbiAgICAgIHVuaXQgPSAwXG4gICAgfSA9IHt9KSA9PiB7XG4gICAgICBjb25zdCBkb3RJbmRleCA9IGV2ZW50LmluZGV4T2YoXCIuXCIpO1xuICAgICAgY29uc3QgaXNHcm91cCA9IGRvdEluZGV4ID09PSAtMTtcbiAgICAgIGlmIChldmVudCAhPT0gXCJyZXF1ZXN0XCIgJiYgZXZlbnQgIT09IFwicmVzcG9uc2VcIiAmJiAhY29uZGl0aW9uW2lzR3JvdXAgPyBldmVudCA6IGV2ZW50LnNsaWNlKDAsIGRvdEluZGV4KV0pXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgaWYgKGhhc1RyYWNlU2V0ICYmIGV2ZW50ID09PSBcImFmdGVySGFuZGxlXCIpXG4gICAgICAgICAgICBhZGRGbihgXG5hd2FpdCB0cmFjZURvbmVcbmApO1xuICAgICAgICB9O1xuICAgICAgaWYgKGlzR3JvdXApXG4gICAgICAgIG5hbWUgfHw9IGV2ZW50O1xuICAgICAgZWxzZVxuICAgICAgICBuYW1lIHx8PSBcImFub255bW91c1wiO1xuICAgICAgYWRkRm4oXG4gICAgICAgIFwiXFxuXCIgKyBgcmVwb3J0ZXIuZW1pdCgnZXZlbnQnLCB7XG5cdFx0XHRcdFx0aWQsXG5cdFx0XHRcdFx0ZXZlbnQ6ICcke2V2ZW50fScsXG5cdFx0XHRcdFx0dHlwZTogJ2JlZ2luJyxcblx0XHRcdFx0XHRuYW1lOiAnJHtuYW1lfScsXG5cdFx0XHRcdFx0dGltZTogcGVyZm9ybWFuY2Uubm93KCksXG5cdFx0XHRcdFx0JHtpc0dyb3VwID8gYHVuaXQ6ICR7dW5pdH0sYCA6IFwiXCJ9XG5cdFx0XHRcdFx0JHthdHRyaWJ1dGV9XG5cdFx0XHRcdH0pYC5yZXBsYWNlKC8oXFx0fCB8XFxuKS9nLCBcIlwiKSArIFwiXFxuXCJcbiAgICAgICk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBhZGRGbihcbiAgICAgICAgICBcIlxcblwiICsgYHJlcG9ydGVyLmVtaXQoJ2V2ZW50Jywge1xuXHRcdFx0XHRcdFx0XHRpZCxcblx0XHRcdFx0XHRcdFx0ZXZlbnQ6ICcke2V2ZW50fScsXG5cdFx0XHRcdFx0XHRcdHR5cGU6ICdlbmQnLFxuXHRcdFx0XHRcdFx0XHR0aW1lOiBwZXJmb3JtYW5jZS5ub3coKVxuXHRcdFx0XHRcdFx0fSlgLnJlcGxhY2UoLyhcXHR8IHxcXG4pL2csIFwiXCIpICsgXCJcXG5cIlxuICAgICAgICApO1xuICAgICAgICBpZiAoaGFzVHJhY2VTZXQgJiYgZXZlbnQgPT09IFwiYWZ0ZXJIYW5kbGVcIilcbiAgICAgICAgICBhZGRGbihgXG5hd2FpdCB0cmFjZURvbmVcbmApO1xuICAgICAgfTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoKSA9PiAoKSA9PiB7XG4gICAgfTtcbiAgfVxufTtcbnZhciBoYXNSZXR1cm4gPSAoZm5MaXRlcmFsKSA9PiB7XG4gIGNvbnN0IHBhcmVudGhlc2lzRW5kID0gZm5MaXRlcmFsLmluZGV4T2YoXCIpXCIpO1xuICBpZiAoZm5MaXRlcmFsLmNoYXJDb2RlQXQocGFyZW50aGVzaXNFbmQgKyAyKSA9PT0gNjEgJiYgZm5MaXRlcmFsLmNoYXJDb2RlQXQocGFyZW50aGVzaXNFbmQgKyA1KSAhPT0gMTIzKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZuTGl0ZXJhbC5pbmNsdWRlcyhcInJldHVyblwiKTtcbn07XG52YXIgY29tcG9zZVZhbGlkYXRpb25GYWN0b3J5ID0gKGhhc0Vycm9ySGFuZGxlciwge1xuICBpbmplY3RSZXNwb25zZSA9IFwiXCIsXG4gIG5vcm1hbGl6ZSA9IGZhbHNlXG59ID0ge30pID0+ICh7XG4gIGNvbXBvc2VWYWxpZGF0aW9uOiAodHlwZSwgdmFsdWUgPSBgYy4ke3R5cGV9YCkgPT4gaGFzRXJyb3JIYW5kbGVyID8gYGMuc2V0LnN0YXR1cyA9IDQyMjsgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcignJHt0eXBlfScsICR7dHlwZX0sICR7dmFsdWV9KWAgOiBgYy5zZXQuc3RhdHVzID0gNDIyOyByZXR1cm4gbmV3IFZhbGlkYXRpb25FcnJvcignJHt0eXBlfScsICR7dHlwZX0sICR7dmFsdWV9KS50b1Jlc3BvbnNlKGMuc2V0LmhlYWRlcnMpYCxcbiAgY29tcG9zZVJlc3BvbnNlVmFsaWRhdGlvbjogKG5hbWUgPSBcInJcIikgPT4ge1xuICAgIGNvbnN0IHJldHVybkVycm9yID0gaGFzRXJyb3JIYW5kbGVyID8gYHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ3Jlc3BvbnNlJywgcmVzcG9uc2VbYy5zZXQuc3RhdHVzXSwgJHtuYW1lfSlgIDogYHJldHVybiBuZXcgVmFsaWRhdGlvbkVycm9yKCdyZXNwb25zZScsIHJlc3BvbnNlW2Muc2V0LnN0YXR1c10sICR7bmFtZX0pLnRvUmVzcG9uc2UoYy5zZXQuaGVhZGVycylgO1xuICAgIGxldCBjb2RlID0gXCJcXG5cIiArIGluamVjdFJlc3BvbnNlICsgXCJcXG5cIjtcbiAgICBjb2RlICs9IGBsZXQgZXJcblxuXHRcdGlmKCR7bmFtZX0gJiYgdHlwZW9mICR7bmFtZX0gPT09IFwib2JqZWN0XCIgJiYgRUxZU0lBX1JFU1BPTlNFIGluICR7bmFtZX0pXG5cdFx0XHRlciA9ICR7bmFtZX1bRUxZU0lBX1JFU1BPTlNFXVxuYDtcbiAgICBpZiAobm9ybWFsaXplKVxuICAgICAgY29kZSArPSBgXG5cdFx0XHRpZighZXIgJiYgcmVzcG9uc2VbYy5zZXQuc3RhdHVzXT8uQ2xlYW4pXG5cdFx0XHRcdCR7bmFtZX0gPSByZXNwb25zZVtjLnNldC5zdGF0dXNdPy5DbGVhbigke25hbWV9KVxuXHRcdFx0ZWxzZSBpZihyZXNwb25zZVtlcl0/LkNsZWFuKVxuXHRcdFx0XHQke25hbWV9LnJlc3BvbnNlID0gcmVzcG9uc2VbZXJdPy5DbGVhbigke25hbWV9LnJlc3BvbnNlKWA7XG4gICAgY29kZSArPSBgXG5cdFx0XHRpZihlcikge1xuXHRcdFx0XHRpZighKCR7bmFtZX0gaW5zdGFuY2VvZiBSZXNwb25zZSkgJiYgcmVzcG9uc2VbZXJdPy5DaGVjaygke25hbWV9LnJlc3BvbnNlKSA9PT0gZmFsc2UpIHtcblx0XHRcdFx0XHRpZighKHJlc3BvbnNlIGluc3RhbmNlb2YgRXJyb3IpKSB7XG5cdFx0XHRcdFx0XHRjLnNldC5zdGF0dXMgPSAke25hbWV9W0VMWVNJQV9SRVNQT05TRV1cblxuXHRcdFx0XHRcdFx0JHtyZXR1cm5FcnJvcn1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZighKCR7bmFtZX0gaW5zdGFuY2VvZiBSZXNwb25zZSkgJiYgcmVzcG9uc2VbYy5zZXQuc3RhdHVzXT8uQ2hlY2soJHtuYW1lfSkgPT09IGZhbHNlKSB7XG5cdFx0XHRcdGlmKCEocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcikpXG5cdFx0XHRcdFx0JHtyZXR1cm5FcnJvcn1cblx0XHRcdH1cbmA7XG4gICAgcmV0dXJuIGNvZGU7XG4gIH1cbn0pO1xudmFyIEtpbmRTeW1ib2wgPSBTeW1ib2wuZm9yKFwiVHlwZUJveC5LaW5kXCIpO1xudmFyIGhhc1Byb3BlcnR5ID0gKGV4cGVjdGVkUHJvcGVydHksIHNjaGVtYSkgPT4ge1xuICBpZiAoIXNjaGVtYSlcbiAgICByZXR1cm47XG4gIGlmIChzY2hlbWEudHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBzY2hlbWEucHJvcGVydGllcztcbiAgICBpZiAoIXByb3BlcnRpZXMpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMocHJvcGVydGllcykpIHtcbiAgICAgIGNvbnN0IHByb3BlcnR5ID0gcHJvcGVydGllc1trZXldO1xuICAgICAgaWYgKGV4cGVjdGVkUHJvcGVydHkgaW4gcHJvcGVydHkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgaWYgKHByb3BlcnR5LnR5cGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgaWYgKGhhc1Byb3BlcnR5KGV4cGVjdGVkUHJvcGVydHksIHByb3BlcnR5KSlcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcGVydHkuYW55T2YpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wZXJ0eS5hbnlPZi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChoYXNQcm9wZXJ0eShleHBlY3RlZFByb3BlcnR5LCBwcm9wZXJ0eS5hbnlPZltpXSkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGV4cGVjdGVkUHJvcGVydHkgaW4gc2NoZW1hO1xufTtcbnZhciBUcmFuc2Zvcm1TeW1ib2wgPSBTeW1ib2wuZm9yKFwiVHlwZUJveC5UcmFuc2Zvcm1cIik7XG52YXIgaGFzVHJhbnNmb3JtID0gKHNjaGVtYSkgPT4ge1xuICBpZiAoIXNjaGVtYSlcbiAgICByZXR1cm47XG4gIGlmIChzY2hlbWEudHlwZSA9PT0gXCJvYmplY3RcIiAmJiBzY2hlbWEucHJvcGVydGllcykge1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBzY2hlbWEucHJvcGVydGllcztcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSkge1xuICAgICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2tleV07XG4gICAgICBpZiAocHJvcGVydHkudHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBpZiAoaGFzVHJhbnNmb3JtKHByb3BlcnR5KSlcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcGVydHkuYW55T2YpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wZXJ0eS5hbnlPZi5sZW5ndGg7IGkrKylcbiAgICAgICAgICBpZiAoaGFzVHJhbnNmb3JtKHByb3BlcnR5LmFueU9mW2ldKSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgaGFzVHJhbnNmb3JtU3ltYm9sID0gVHJhbnNmb3JtU3ltYm9sIGluIHByb3BlcnR5O1xuICAgICAgaWYgKGhhc1RyYW5zZm9ybVN5bWJvbClcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gVHJhbnNmb3JtU3ltYm9sIGluIHNjaGVtYSB8fCBzY2hlbWEucHJvcGVydGllcyAmJiBUcmFuc2Zvcm1TeW1ib2wgaW4gc2NoZW1hLnByb3BlcnRpZXM7XG59O1xudmFyIG1hdGNoRm5SZXR1cm4gPSAvKD86cmV0dXJufD0+KSBcXFMrXFwoL2c7XG52YXIgaXNBc3luYyA9ICh2KSA9PiB7XG4gIGNvbnN0IGZuID0gXCJmblwiIGluIHYgPyB2LmZuIDogdjtcbiAgaWYgKGZuLmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiQXN5bmNGdW5jdGlvblwiKVxuICAgIHJldHVybiB0cnVlO1xuICBjb25zdCBsaXRlcmFsID0gZm4udG9TdHJpbmcoKTtcbiAgaWYgKGxpdGVyYWwuaW5jbHVkZXMoXCI9PiByZXNwb25zZS5jbG9uZShcIikpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAobGl0ZXJhbC5pbmNsdWRlcyhcImF3YWl0XCIpKVxuICAgIHJldHVybiB0cnVlO1xuICBpZiAobGl0ZXJhbC5pbmNsdWRlcyhcImFzeW5jXCIpKVxuICAgIHJldHVybiB0cnVlO1xuICByZXR1cm4gISFsaXRlcmFsLm1hdGNoKG1hdGNoRm5SZXR1cm4pO1xufTtcbnZhciBjb21wb3NlSGFuZGxlciA9ICh7XG4gIGFwcCxcbiAgcGF0aCxcbiAgbWV0aG9kLFxuICBsb2NhbEhvb2ssXG4gIGhvb2tzLFxuICB2YWxpZGF0b3IsXG4gIGhhbmRsZXIsXG4gIGFsbG93TWV0YSA9IGZhbHNlLFxuICBhcHBJbmZlcmVuY2U6IHsgZXZlbnQ6IGV2ZW50SW5mZXJlbmNlLCB0cmFjZTogdHJhY2VJbmZlcmVuY2UgfVxufSkgPT4ge1xuICBjb25zdCBpc0hhbmRsZUZuID0gdHlwZW9mIGhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIjtcbiAgaWYgKCFpc0hhbmRsZUZuKVxuICAgIGhhbmRsZXIgPSBtYXBSZXNwb25zZShoYW5kbGVyLCB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHByaXZhdGUgcHJvcGVydHlcbiAgICAgIGhlYWRlcnM6IGFwcC5zZXRIZWFkZXJzID8/IHt9XG4gICAgfSk7XG4gIGNvbnN0IGhhc0Vycm9ySGFuZGxlciA9IGFwcC5jb25maWcuZm9yY2VFcnJvckVuY2Fwc3VsYXRpb24gJiYgKGlzSGFuZGxlRm4gfHwgaG9va3MuYWZ0ZXJIYW5kbGUubGVuZ3RoID4gMCB8fCBob29rcy5iZWZvcmVIYW5kbGUubGVuZ3RoID4gMCB8fCBob29rcy50cmFuc2Zvcm0ubGVuZ3RoID4gMCkgfHwgaG9va3MuZXJyb3IubGVuZ3RoID4gMCB8fCBhcHAuZXZlbnQuZXJyb3IubGVuZ3RoID4gMCB8fCB0eXBlb2YgQnVuID09PSBcInVuZGVmaW5lZFwiIHx8IGhvb2tzLm9uUmVzcG9uc2UubGVuZ3RoID4gMCB8fCAhIWhvb2tzLnRyYWNlLmxlbmd0aDtcbiAgY29uc3QgaGFuZGxlID0gaXNIYW5kbGVGbiA/IGBoYW5kbGVyKGMpYCA6IGBoYW5kbGVyYDtcbiAgY29uc3QgaGFuZGxlUmVzcG9uc2UgPSBob29rcy5vblJlc3BvbnNlLmxlbmd0aCA/IGBcbjsoYXN5bmMgKCkgPT4geyR7aG9va3Mub25SZXNwb25zZS5tYXAoKF8sIGkpID0+IGBhd2FpdCByZXMke2l9KGMpYCkuam9pbihcIjtcIil9fSkoKTtcbmAgOiBcIlwiO1xuICBjb25zdCB0cmFjZUNvbmRpdGlvbnMgPSB0cmFjZUluZmVyZW5jZTtcbiAgY29uc3QgaGFzVHJhY2UgPSBob29rcy50cmFjZS5sZW5ndGggPiAwO1xuICBsZXQgZm5MaXRlcmFsID0gXCJcIjtcbiAgY29uc3QgaW5mZXJlbmNlID0gc3Vjcm9zZShcbiAgICBPYmplY3QuYXNzaWduKGxvY2FsSG9vaywge1xuICAgICAgaGFuZGxlclxuICAgIH0pLFxuICAgIGV2ZW50SW5mZXJlbmNlXG4gICk7XG4gIGNvbnN0IGhhc1F1ZXJ5ID0gaW5mZXJlbmNlLnF1ZXJ5IHx8ICEhdmFsaWRhdG9yLnF1ZXJ5O1xuICBjb25zdCBoYXNCb2R5ID0gbWV0aG9kICE9PSBcIiRJTlRFUk5BTFdTXCIgJiYgbWV0aG9kICE9PSBcIkdFVFwiICYmIG1ldGhvZCAhPT0gXCJIRUFEXCIgJiYgaG9va3MudHlwZSAhPT0gXCJub25lXCIgJiYgKGluZmVyZW5jZS5ib2R5IHx8ICEhdmFsaWRhdG9yLmJvZHkpO1xuICBjb25zdCBkZWZhdWx0SGVhZGVycyA9IGFwcC5zZXRIZWFkZXJzO1xuICBjb25zdCBoYXNEZWZhdWx0SGVhZGVycyA9IGRlZmF1bHRIZWFkZXJzICYmICEhT2JqZWN0LmtleXMoZGVmYXVsdEhlYWRlcnMpLmxlbmd0aDtcbiAgY29uc3QgaGFzSGVhZGVycyA9IGluZmVyZW5jZS5oZWFkZXJzIHx8IHZhbGlkYXRvci5oZWFkZXJzO1xuICBjb25zdCBoYXNDb29raWUgPSBpbmZlcmVuY2UuY29va2llIHx8ICEhdmFsaWRhdG9yLmNvb2tpZTtcbiAgY29uc3QgY29va2llVmFsaWRhdG9yID0gaGFzQ29va2llID8gZ2V0Q29va2llVmFsaWRhdG9yKHtcbiAgICB2YWxpZGF0b3I6IHZhbGlkYXRvci5jb29raWUsXG4gICAgZGVmYXVsdENvbmZpZzogYXBwLmNvbmZpZy5jb29raWUsXG4gICAgZHluYW1pYzogISFhcHAuY29uZmlnLmFvdCxcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgY29uZmlnOiB2YWxpZGF0b3IuY29va2llPy5jb25maWcgPz8ge30sXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIG1vZGVsczogYXBwLmRlZmluaXRpb25zLnR5cGVcbiAgfSkgOiB2b2lkIDA7XG4gIGNvbnN0IGNvb2tpZU1ldGEgPSBjb29raWVWYWxpZGF0b3I/LmNvbmZpZztcbiAgbGV0IGVuY29kZUNvb2tpZSA9IFwiXCI7XG4gIGlmIChjb29raWVNZXRhPy5zaWduKSB7XG4gICAgaWYgKCFjb29raWVNZXRhLnNlY3JldHMpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGB0LkNvb2tpZSByZXF1aXJlZCBzZWNyZXQgd2hpY2ggaXMgbm90IHNldCBpbiAoJHttZXRob2R9KSAke3BhdGh9LmBcbiAgICAgICk7XG4gICAgY29uc3Qgc2VjcmV0ID0gIWNvb2tpZU1ldGEuc2VjcmV0cyA/IHZvaWQgMCA6IHR5cGVvZiBjb29raWVNZXRhLnNlY3JldHMgPT09IFwic3RyaW5nXCIgPyBjb29raWVNZXRhLnNlY3JldHMgOiBjb29raWVNZXRhLnNlY3JldHNbMF07XG4gICAgZW5jb2RlQ29va2llICs9IGBjb25zdCBfc2V0Q29va2llID0gYy5zZXQuY29va2llXG5cdFx0aWYoX3NldENvb2tpZSkge2A7XG4gICAgaWYgKGNvb2tpZU1ldGEuc2lnbiA9PT0gdHJ1ZSkge1xuICAgICAgZW5jb2RlQ29va2llICs9IGBmb3IoY29uc3QgW2tleSwgY29va2llXSBvZiBPYmplY3QuZW50cmllcyhfc2V0Q29va2llKSkge1xuXHRcdFx0XHRjLnNldC5jb29raWVba2V5XS52YWx1ZSA9IGF3YWl0IHNpZ25Db29raWUoY29va2llLnZhbHVlLCAnJHtzZWNyZXR9Jylcblx0XHRcdH1gO1xuICAgIH0gZWxzZVxuICAgICAgZm9yIChjb25zdCBuYW1lIG9mIGNvb2tpZU1ldGEuc2lnbikge1xuICAgICAgICBlbmNvZGVDb29raWUgKz0gYGlmKF9zZXRDb29raWVbJyR7bmFtZX0nXT8udmFsdWUpIHsgYy5zZXQuY29va2llWycke25hbWV9J10udmFsdWUgPSBhd2FpdCBzaWduQ29va2llKF9zZXRDb29raWVbJyR7bmFtZX0nXS52YWx1ZSwgJyR7c2VjcmV0fScpIH1cbmA7XG4gICAgICB9XG4gICAgZW5jb2RlQ29va2llICs9IFwifVxcblwiO1xuICB9XG4gIGNvbnN0IG5vcm1hbGl6ZSA9IGFwcC5jb25maWcubm9ybWFsaXplO1xuICBjb25zdCB7IGNvbXBvc2VWYWxpZGF0aW9uLCBjb21wb3NlUmVzcG9uc2VWYWxpZGF0aW9uIH0gPSBjb21wb3NlVmFsaWRhdGlvbkZhY3RvcnkoaGFzRXJyb3JIYW5kbGVyLCB7XG4gICAgbm9ybWFsaXplXG4gIH0pO1xuICBpZiAoaGFzSGVhZGVycykge1xuICAgIGZuTGl0ZXJhbCArPSBoZWFkZXJzSGFzVG9KU09OID8gYGMuaGVhZGVycyA9IGMucmVxdWVzdC5oZWFkZXJzLnRvSlNPTigpXG5gIDogYGMuaGVhZGVycyA9IHt9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgYy5yZXF1ZXN0LmhlYWRlcnMuZW50cmllcygpKVxuXHRcdFx0XHRcdGMuaGVhZGVyc1trZXldID0gdmFsdWVcblx0XHRcdFx0YDtcbiAgfVxuICBpZiAoaGFzQ29va2llKSB7XG4gICAgY29uc3QgZ2V0ID0gKG5hbWUsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBjb29raWVNZXRhPy5bbmFtZV0gPz8gZGVmYXVsdFZhbHVlO1xuICAgICAgaWYgKCF2YWx1ZSlcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBkZWZhdWx0VmFsdWUgPT09IFwic3RyaW5nXCIgPyBgJHtuYW1lfTogXCIke2RlZmF1bHRWYWx1ZX1cIixgIDogYCR7bmFtZX06ICR7ZGVmYXVsdFZhbHVlfSxgO1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIGAke25hbWV9OiAnJHt2YWx1ZX0nLGA7XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKVxuICAgICAgICByZXR1cm4gYCR7bmFtZX06IG5ldyBEYXRlKCR7dmFsdWUuZ2V0VGltZSgpfSksYDtcbiAgICAgIHJldHVybiBgJHtuYW1lfTogJHt2YWx1ZX0sYDtcbiAgICB9O1xuICAgIGNvbnN0IG9wdGlvbnMgPSBjb29raWVNZXRhID8gYHtcblx0XHRcdHNlY3JldHM6ICR7Y29va2llTWV0YS5zZWNyZXRzICE9PSB2b2lkIDAgPyB0eXBlb2YgY29va2llTWV0YS5zZWNyZXRzID09PSBcInN0cmluZ1wiID8gYCcke2Nvb2tpZU1ldGEuc2VjcmV0c30nYCA6IFwiW1wiICsgY29va2llTWV0YS5zZWNyZXRzLnJlZHVjZShcbiAgICAgIChhMiwgYikgPT4gYTIgKyBgJyR7Yn0nLGAsXG4gICAgICBcIlwiXG4gICAgKSArIFwiXVwiIDogXCJ1bmRlZmluZWRcIn0sXG5cdFx0XHRzaWduOiAke2Nvb2tpZU1ldGEuc2lnbiA9PT0gdHJ1ZSA/IHRydWUgOiBjb29raWVNZXRhLnNpZ24gIT09IHZvaWQgMCA/IFwiW1wiICsgY29va2llTWV0YS5zaWduLnJlZHVjZSgoYTIsIGIpID0+IGEyICsgYCcke2J9JyxgLCBcIlwiKSArIFwiXVwiIDogXCJ1bmRlZmluZWRcIn0sXG5cdFx0XHQke2dldChcImRvbWFpblwiKX1cblx0XHRcdCR7Z2V0KFwiZXhwaXJlc1wiKX1cblx0XHRcdCR7Z2V0KFwiaHR0cE9ubHlcIil9XG5cdFx0XHQke2dldChcIm1heEFnZVwiKX1cblx0XHRcdCR7Z2V0KFwicGF0aFwiLCBcIi9cIil9XG5cdFx0XHQke2dldChcInByaW9yaXR5XCIpfVxuXHRcdFx0JHtnZXQoXCJzYW1lU2l0ZVwiKX1cblx0XHRcdCR7Z2V0KFwic2VjdXJlXCIpfVxuXHRcdH1gIDogXCJ1bmRlZmluZWRcIjtcbiAgICBpZiAoaGFzSGVhZGVycylcbiAgICAgIGZuTGl0ZXJhbCArPSBgXG5jLmNvb2tpZSA9IGF3YWl0IHBhcnNlQ29va2llKGMuc2V0LCBjLmhlYWRlcnMuY29va2llLCAke29wdGlvbnN9KVxuYDtcbiAgICBlbHNlXG4gICAgICBmbkxpdGVyYWwgKz0gYFxuYy5jb29raWUgPSBhd2FpdCBwYXJzZUNvb2tpZShjLnNldCwgYy5yZXF1ZXN0LmhlYWRlcnMuZ2V0KCdjb29raWUnKSwgJHtvcHRpb25zfSlcbmA7XG4gIH1cbiAgaWYgKGhhc1F1ZXJ5KSB7XG4gICAgbGV0IGRlc3RydWN0dXJlZCA9IFtdO1xuICAgIGlmICh2YWxpZGF0b3IucXVlcnkgJiYgdmFsaWRhdG9yLnF1ZXJ5LnNjaGVtYS50eXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBkZXN0cnVjdHVyZWQgPSBPYmplY3Qua2V5cyh2YWxpZGF0b3IucXVlcnkuc2NoZW1hLnByb3BlcnRpZXMpO1xuICAgIH0gZWxzZVxuICAgICAgZm9yIChjb25zdCBxdWVyeSBvZiBpbmZlcmVuY2UucXVlcmllcylcbiAgICAgICAgaWYgKGRlc3RydWN0dXJlZC5pbmRleE9mKHF1ZXJ5KSA9PT0gLTEpXG4gICAgICAgICAgZGVzdHJ1Y3R1cmVkLnB1c2gocXVlcnkpO1xuICAgIGlmIChhcHAuY29uZmlnLmZvcmNlRHluYW1pY1F1ZXJ5ID09PSB0cnVlIHx8IGluZmVyZW5jZS51bmtub3duUXVlcmllcyA9PT0gdHJ1ZSB8fCAhZGVzdHJ1Y3R1cmVkLmxlbmd0aCkge1xuICAgICAgZm5MaXRlcmFsICs9IGBpZihjLnFpICE9PSAtMSkge1xuXHRcdFx0XHRjLnF1ZXJ5ID0gcGFyc2VRdWVyeShjLnVybC5zbGljZShjLnFpICsgMSkucmVwbGFjZSgvXFxcXCsvZywgJyAnKSlcblxuXHRcdFx0XHQvLyBkZWNvZGVVUklDb21wb25lbnQgaXMgYWxyZWFkeSBkb25lIGluIHBhcnNlUXVlcnkgZnVuY3Rpb25cblx0XHRcdFx0Ly8gZm9yKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhjLnF1ZXJ5KSlcblx0XHRcdFx0Ly8gIFx0Yy5xdWVyeVtrZXldID0gZGVjb2RlVVJJQ29tcG9uZW50Yy5xdWVyeVtrZXldKVxuXHRcdFx0fSBlbHNlIGMucXVlcnkgPSB7fWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZuTGl0ZXJhbCArPSBgaWYoYy5xaSAhPT0gLTEpIHtcblx0XHRcdFx0bGV0IHVybCA9ICcmJyArIGMudXJsLnNsaWNlKGMucWkgKyAxKS5yZXBsYWNlKC9cXFxcKy9nLCAnICcpXG5cblx0XHRcdFx0JHtkZXN0cnVjdHVyZWQubWFwKFxuICAgICAgICAobmFtZSwgaW5kZXgpID0+IGBcblx0XHRcdFx0XHRcdCR7aW5kZXggPT09IDAgPyBcImxldFwiIDogXCJcIn0gbWVtb3J5ID0gdXJsLmluZGV4T2YoJyYke25hbWV9PScpXG5cdFx0XHRcdFx0XHRsZXQgYSR7aW5kZXh9XG5cblx0XHRcdFx0XHRcdGlmIChtZW1vcnkgIT09IC0xKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHN0YXJ0ID0gbWVtb3J5ICsgJHtuYW1lLmxlbmd0aCArIDJ9XG5cdFx0XHRcdFx0XHRcdG1lbW9yeSA9IHVybC5pbmRleE9mKCcmJywgc3RhcnQpXG5cblx0XHRcdFx0XHRcdFx0aWYobWVtb3J5ID09PSAtMSkgYSR7aW5kZXh9ID0gZGVjb2RlVVJJQ29tcG9uZW50KHVybC5zbGljZShzdGFydCkpXG5cdFx0XHRcdFx0XHRcdGVsc2UgYSR7aW5kZXh9ID0gZGVjb2RlVVJJQ29tcG9uZW50KHVybC5zbGljZShzdGFydCwgbWVtb3J5KSlcblx0XHRcdFx0XHRcdH1gXG4gICAgICApLmpvaW4oXCJcXG5cIil9XG5cblx0XHRcdFx0Yy5xdWVyeSA9IHtcblx0XHRcdFx0XHQke2Rlc3RydWN0dXJlZC5tYXAoKG5hbWUsIGluZGV4KSA9PiBgJyR7bmFtZX0nOiBhJHtpbmRleH1gKS5qb2luKFwiLCBcIil9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGMucXVlcnkgPSB7fVxuXHRcdFx0fWA7XG4gICAgfVxuICB9XG4gIGNvbnN0IGhhc1RyYWNlU2V0ID0gdHJhY2VJbmZlcmVuY2Uuc2V0O1xuICBjb25zdCBoYXNTZXQgPSBpbmZlcmVuY2UuY29va2llIHx8IGluZmVyZW5jZS5zZXQgfHwgaGFzVHJhY2VTZXQgfHwgaGFzSGVhZGVycyB8fCBpc0hhbmRsZUZuICYmIGhhc0RlZmF1bHRIZWFkZXJzO1xuICBpZiAoaGFzVHJhY2UpXG4gICAgZm5MaXRlcmFsICs9IFwiXFxuY29uc3QgaWQgPSBjLiQkcmVxdWVzdElkXFxuXCI7XG4gIGNvbnN0IHJlcG9ydCA9IGNyZWF0ZVJlcG9ydCh7XG4gICAgaGFzVHJhY2UsXG4gICAgaGFzVHJhY2VTZXQsXG4gICAgY29uZGl0aW9uOiB0cmFjZUNvbmRpdGlvbnMsXG4gICAgYWRkRm46ICh3b3JkKSA9PiB7XG4gICAgICBmbkxpdGVyYWwgKz0gd29yZDtcbiAgICB9XG4gIH0pO1xuICBmbkxpdGVyYWwgKz0gaGFzRXJyb3JIYW5kbGVyID8gXCJcXG4gdHJ5IHtcXG5cIiA6IFwiXCI7XG4gIGlmIChoYXNUcmFjZVNldCkge1xuICAgIGZuTGl0ZXJhbCArPSBgXG5jb25zdCB0cmFjZURvbmUgPSBQcm9taXNlLmFsbChbYDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvb2tzLnRyYWNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmbkxpdGVyYWwgKz0gYG5ldyBQcm9taXNlKHIgPT4geyByZXBvcnRlci5vbmNlKFxcYHJlc1xcJHtpZH0uJHtpfVxcYCwgcikgfSksYDtcbiAgICB9XG4gICAgZm5MaXRlcmFsICs9IGBdKVxuYDtcbiAgfVxuICBjb25zdCBpc0FzeW5jSGFuZGxlciA9IHR5cGVvZiBoYW5kbGVyID09PSBcImZ1bmN0aW9uXCIgJiYgaXNBc3luYyhoYW5kbGVyKTtcbiAgY29uc3QgbWF5YmVBc3luYyA9IGhhc0Nvb2tpZSB8fCBoYXNCb2R5IHx8IGhhc1RyYWNlU2V0IHx8IGlzQXN5bmNIYW5kbGVyIHx8ICEhaG9va3MubWFwUmVzcG9uc2UubGVuZ3RoIHx8IGhvb2tzLnBhcnNlLmxlbmd0aCA+IDAgfHwgaG9va3MuYWZ0ZXJIYW5kbGUuc29tZShpc0FzeW5jKSB8fCBob29rcy5iZWZvcmVIYW5kbGUuc29tZShpc0FzeW5jKSB8fCBob29rcy50cmFuc2Zvcm0uc29tZShpc0FzeW5jKTtcbiAgY29uc3QgZW5kUGFyc2UgPSByZXBvcnQoXCJwYXJzZVwiLCB7XG4gICAgdW5pdDogaG9va3MucGFyc2UubGVuZ3RoXG4gIH0pO1xuICBpZiAoaGFzQm9keSkge1xuICAgIGNvbnN0IGhhc0JvZHlJbmZlcmVuY2UgPSBob29rcy5wYXJzZS5sZW5ndGggfHwgaW5mZXJlbmNlLmJvZHkgfHwgdmFsaWRhdG9yLmJvZHk7XG4gICAgaWYgKGhvb2tzLnR5cGUgJiYgIWhvb2tzLnBhcnNlLmxlbmd0aCkge1xuICAgICAgc3dpdGNoIChob29rcy50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJqc29uXCI6XG4gICAgICAgIGNhc2UgXCJhcHBsaWNhdGlvbi9qc29uXCI6XG4gICAgICAgICAgaWYgKGhhc0Vycm9ySGFuZGxlcilcbiAgICAgICAgICAgIGZuTGl0ZXJhbCArPSBgY29uc3QgdGVtcEJvZHkgPSBhd2FpdCBjLnJlcXVlc3QudGV4dCgpXG5cblx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRjLmJvZHkgPSBKU09OLnBhcnNlKHRlbXBCb2R5KVxuXHRcdFx0XHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgUGFyc2VFcnJvcignRmFpbGVkIHRvIHBhcnNlIGJvZHkgYXMgZm91bmQ6ICcgKyAodHlwZW9mIGJvZHkgPT09IFwic3RyaW5nXCIgPyBcIidcIiArIGJvZHkgKyBcIidcIiA6IGJvZHkpLCBib2R5KVxuXHRcdFx0XHRcdFx0XHR9YDtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBmbkxpdGVyYWwgKz0gYGMuYm9keSA9IGF3YWl0IGMucmVxdWVzdC5qc29uKClgO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICBjYXNlIFwidGV4dC9wbGFpblwiOlxuICAgICAgICAgIGZuTGl0ZXJhbCArPSBgYy5ib2R5ID0gYXdhaXQgYy5yZXF1ZXN0LnRleHQoKVxuYDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInVybGVuY29kZWRcIjpcbiAgICAgICAgY2FzZSBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiOlxuICAgICAgICAgIGZuTGl0ZXJhbCArPSBgYy5ib2R5ID0gcGFyc2VRdWVyeShhd2FpdCBjLnJlcXVlc3QudGV4dCgpKVxuYDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFycmF5QnVmZmVyXCI6XG4gICAgICAgIGNhc2UgXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIjpcbiAgICAgICAgICBmbkxpdGVyYWwgKz0gYGMuYm9keSA9IGF3YWl0IGMucmVxdWVzdC5hcnJheUJ1ZmZlcigpXG5gO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZm9ybWRhdGFcIjpcbiAgICAgICAgY2FzZSBcIm11bHRpcGFydC9mb3JtLWRhdGFcIjpcbiAgICAgICAgICBmbkxpdGVyYWwgKz0gYGMuYm9keSA9IHt9XG5cblx0XHRcdFx0XHRcdGNvbnN0IGZvcm0gPSBhd2FpdCBjLnJlcXVlc3QuZm9ybURhdGEoKVxuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBrZXkgb2YgZm9ybS5rZXlzKCkpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGMuYm9keVtrZXldKVxuXHRcdFx0XHRcdFx0XHRcdGNvbnRpbnVlXG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgdmFsdWUgPSBmb3JtLmdldEFsbChrZXkpXG5cdFx0XHRcdFx0XHRcdGlmICh2YWx1ZS5sZW5ndGggPT09IDEpXG5cdFx0XHRcdFx0XHRcdFx0Yy5ib2R5W2tleV0gPSB2YWx1ZVswXVxuXHRcdFx0XHRcdFx0XHRlbHNlIGMuYm9keVtrZXldID0gdmFsdWVcblx0XHRcdFx0XHRcdH1cbmA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChoYXNCb2R5SW5mZXJlbmNlKSB7XG4gICAgICBmbkxpdGVyYWwgKz0gXCJcXG5cIjtcbiAgICAgIGZuTGl0ZXJhbCArPSBoYXNIZWFkZXJzID8gYGxldCBjb250ZW50VHlwZSA9IGMuaGVhZGVyc1snY29udGVudC10eXBlJ11gIDogYGxldCBjb250ZW50VHlwZSA9IGMucmVxdWVzdC5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJylgO1xuICAgICAgZm5MaXRlcmFsICs9IGBcblx0XHRcdFx0aWYgKGNvbnRlbnRUeXBlKSB7XG5cdFx0XHRcdFx0Y29uc3QgaW5kZXggPSBjb250ZW50VHlwZS5pbmRleE9mKCc7Jylcblx0XHRcdFx0XHRpZiAoaW5kZXggIT09IC0xKSBjb250ZW50VHlwZSA9IGNvbnRlbnRUeXBlLnN1YnN0cmluZygwLCBpbmRleClcblxuXHRcdFx0XHRcdGMuY29udGVudFR5cGUgPSBjb250ZW50VHlwZVxuYDtcbiAgICAgIGlmIChob29rcy5wYXJzZS5sZW5ndGgpIHtcbiAgICAgICAgZm5MaXRlcmFsICs9IGBsZXQgdXNlZCA9IGZhbHNlXG5gO1xuICAgICAgICBjb25zdCBlbmRSZXBvcnQgPSByZXBvcnQoXCJwYXJzZVwiLCB7XG4gICAgICAgICAgdW5pdDogaG9va3MucGFyc2UubGVuZ3RoXG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvb2tzLnBhcnNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgZW5kVW5pdCA9IHJlcG9ydChcInBhcnNlLnVuaXRcIiwge1xuICAgICAgICAgICAgbmFtZTogaG9va3MucGFyc2VbaV0uZm4ubmFtZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IG5hbWUgPSBgYm8ke2l9YDtcbiAgICAgICAgICBpZiAoaSAhPT0gMClcbiAgICAgICAgICAgIGZuTGl0ZXJhbCArPSBgaWYoIXVzZWQpIHtcbmA7XG4gICAgICAgICAgZm5MaXRlcmFsICs9IGBsZXQgJHtuYW1lfSA9IHBhcnNlWyR7aX1dKGMsIGNvbnRlbnRUeXBlKVxuYDtcbiAgICAgICAgICBmbkxpdGVyYWwgKz0gYGlmKCR7bmFtZX0gaW5zdGFuY2VvZiBQcm9taXNlKSAke25hbWV9ID0gYXdhaXQgJHtuYW1lfVxuYDtcbiAgICAgICAgICBmbkxpdGVyYWwgKz0gYGlmKCR7bmFtZX0gIT09IHVuZGVmaW5lZCkgeyBjLmJvZHkgPSAke25hbWV9OyB1c2VkID0gdHJ1ZSB9XG5gO1xuICAgICAgICAgIGVuZFVuaXQoKTtcbiAgICAgICAgICBpZiAoaSAhPT0gMClcbiAgICAgICAgICAgIGZuTGl0ZXJhbCArPSBgfWA7XG4gICAgICAgIH1cbiAgICAgICAgZW5kUmVwb3J0KCk7XG4gICAgICB9XG4gICAgICBmbkxpdGVyYWwgKz0gXCJcXG5kZWxldGUgYy5jb250ZW50VHlwZVxcblwiO1xuICAgICAgaWYgKGhvb2tzLnBhcnNlLmxlbmd0aClcbiAgICAgICAgZm5MaXRlcmFsICs9IGBpZiAoIXVzZWQpIHtgO1xuICAgICAgaWYgKGhvb2tzLnR5cGUgJiYgIUFycmF5LmlzQXJyYXkoaG9va3MudHlwZSkpIHtcbiAgICAgICAgc3dpdGNoIChob29rcy50eXBlKSB7XG4gICAgICAgICAgY2FzZSBcImpzb25cIjpcbiAgICAgICAgICBjYXNlIFwiYXBwbGljYXRpb24vanNvblwiOlxuICAgICAgICAgICAgaWYgKGhhc0Vycm9ySGFuZGxlcilcbiAgICAgICAgICAgICAgZm5MaXRlcmFsICs9IGBjb25zdCB0ZW1wQm9keSA9IGF3YWl0IGMucmVxdWVzdC50ZXh0KClcblxuXHRcdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjLmJvZHkgPSBKU09OLnBhcnNlKHRlbXBCb2R5KVxuXHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IFBhcnNlRXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBib2R5IGFzIGZvdW5kOiAnICsgKHR5cGVvZiBib2R5ID09PSBcInN0cmluZ1wiID8gXCInXCIgKyBib2R5ICsgXCInXCIgOiBib2R5KSwgYm9keSlcblx0XHRcdFx0XHRcdFx0XHR9YDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgZm5MaXRlcmFsICs9IGBjLmJvZHkgPSBhd2FpdCBjLnJlcXVlc3QuanNvbigpYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgY2FzZSBcInRleHQvcGxhaW5cIjpcbiAgICAgICAgICAgIGZuTGl0ZXJhbCArPSBgYy5ib2R5ID0gYXdhaXQgYy5yZXF1ZXN0LnRleHQoKVxuYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ1cmxlbmNvZGVkXCI6XG4gICAgICAgICAgY2FzZSBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiOlxuICAgICAgICAgICAgZm5MaXRlcmFsICs9IGBjLmJvZHkgPSBwYXJzZVF1ZXJ5KGF3YWl0IGMucmVxdWVzdC50ZXh0KCkpXG5gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImFycmF5QnVmZmVyXCI6XG4gICAgICAgICAgY2FzZSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiOlxuICAgICAgICAgICAgZm5MaXRlcmFsICs9IGBjLmJvZHkgPSBhd2FpdCBjLnJlcXVlc3QuYXJyYXlCdWZmZXIoKVxuYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJmb3JtZGF0YVwiOlxuICAgICAgICAgIGNhc2UgXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCI6XG4gICAgICAgICAgICBmbkxpdGVyYWwgKz0gYGMuYm9keSA9IHt9XG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgZm9ybSA9IGF3YWl0IGMucmVxdWVzdC5mb3JtRGF0YSgpXG5cdFx0XHRcdFx0XHRcdGZvciAoY29uc3Qga2V5IG9mIGZvcm0ua2V5cygpKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGMuYm9keVtrZXldKVxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGludWVcblxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHZhbHVlID0gZm9ybS5nZXRBbGwoa2V5KVxuXHRcdFx0XHRcdFx0XHRcdGlmICh2YWx1ZS5sZW5ndGggPT09IDEpXG5cdFx0XHRcdFx0XHRcdFx0XHRjLmJvZHlba2V5XSA9IHZhbHVlWzBdXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBjLmJvZHlba2V5XSA9IHZhbHVlXG5cdFx0XHRcdFx0XHRcdH1cbmA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm5MaXRlcmFsICs9IGBcblx0XHRcdFx0XHRzd2l0Y2ggKGNvbnRlbnRUeXBlKSB7XG5cdFx0XHRcdFx0XHRjYXNlICdhcHBsaWNhdGlvbi9qc29uJzpcblx0XHRcdFx0XHRcdFx0JHtoYXNFcnJvckhhbmRsZXIgPyBgXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHRlbXBCb2R5ID0gYXdhaXQgYy5yZXF1ZXN0LnRleHQoKVxuXG5cdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0Yy5ib2R5ID0gSlNPTi5wYXJzZSh0ZW1wQm9keSlcblx0XHRcdFx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IFBhcnNlRXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBib2R5IGFzIGZvdW5kOiAnICsgKHR5cGVvZiBib2R5ID09PSBcInN0cmluZ1wiID8gXCInXCIgKyBib2R5ICsgXCInXCIgOiBib2R5KSwgYm9keSlcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRgIDogYGMuYm9keSA9IGF3YWl0IGMucmVxdWVzdC5qc29uKClcbmB9XG5cdFx0XHRcdFx0XHRcdGJyZWFrXG5cblx0XHRcdFx0XHRcdGNhc2UgJ3RleHQvcGxhaW4nOlxuXHRcdFx0XHRcdFx0XHRjLmJvZHkgPSBhd2FpdCBjLnJlcXVlc3QudGV4dCgpXG5cdFx0XHRcdFx0XHRcdGJyZWFrXG5cblx0XHRcdFx0XHRcdGNhc2UgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCc6XG5cdFx0XHRcdFx0XHRcdGMuYm9keSA9IHBhcnNlUXVlcnkoYXdhaXQgYy5yZXF1ZXN0LnRleHQoKSlcblx0XHRcdFx0XHRcdFx0YnJlYWtcblxuXHRcdFx0XHRcdFx0Y2FzZSAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJzpcblx0XHRcdFx0XHRcdFx0Yy5ib2R5ID0gYXdhaXQgYy5yZXF1ZXN0LmFycmF5QnVmZmVyKCk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrXG5cblx0XHRcdFx0XHRcdGNhc2UgJ211bHRpcGFydC9mb3JtLWRhdGEnOlxuXHRcdFx0XHRcdFx0XHRjLmJvZHkgPSB7fVxuXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGZvcm0gPSBhd2FpdCBjLnJlcXVlc3QuZm9ybURhdGEoKVxuXHRcdFx0XHRcdFx0XHRmb3IgKGNvbnN0IGtleSBvZiBmb3JtLmtleXMoKSkge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChjLmJvZHlba2V5XSlcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRpbnVlXG5cblx0XHRcdFx0XHRcdFx0XHRjb25zdCB2YWx1ZSA9IGZvcm0uZ2V0QWxsKGtleSlcblx0XHRcdFx0XHRcdFx0XHRpZiAodmFsdWUubGVuZ3RoID09PSAxKVxuXHRcdFx0XHRcdFx0XHRcdFx0Yy5ib2R5W2tleV0gPSB2YWx1ZVswXVxuXHRcdFx0XHRcdFx0XHRcdGVsc2UgYy5ib2R5W2tleV0gPSB2YWx1ZVxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0XHR9YDtcbiAgICAgIH1cbiAgICAgIGlmIChob29rcy5wYXJzZS5sZW5ndGgpXG4gICAgICAgIGZuTGl0ZXJhbCArPSBgfWA7XG4gICAgICBmbkxpdGVyYWwgKz0gXCJ9XFxuXCI7XG4gICAgfVxuICAgIGZuTGl0ZXJhbCArPSBcIlxcblwiO1xuICB9XG4gIGVuZFBhcnNlKCk7XG4gIGlmIChob29rcz8udHJhbnNmb3JtKSB7XG4gICAgY29uc3QgZW5kVHJhbnNmb3JtID0gcmVwb3J0KFwidHJhbnNmb3JtXCIsIHtcbiAgICAgIHVuaXQ6IGhvb2tzLnRyYW5zZm9ybS5sZW5ndGhcbiAgICB9KTtcbiAgICBpZiAoaG9va3MudHJhbnNmb3JtLmxlbmd0aClcbiAgICAgIGZuTGl0ZXJhbCArPSBcIlxcbmxldCB0cmFuc2Zvcm1lZFxcblwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9va3MudHJhbnNmb3JtLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBob29rcy50cmFuc2Zvcm1baV07XG4gICAgICBjb25zdCBlbmRVbml0ID0gcmVwb3J0KFwidHJhbnNmb3JtLnVuaXRcIiwge1xuICAgICAgICBuYW1lOiB0cmFuc2Zvcm0uZm4ubmFtZVxuICAgICAgfSk7XG4gICAgICBmbkxpdGVyYWwgKz0gaXNBc3luYyh0cmFuc2Zvcm0pID8gYHRyYW5zZm9ybWVkID0gYXdhaXQgdHJhbnNmb3JtWyR7aX1dKGMpXG5gIDogYHRyYW5zZm9ybWVkID0gdHJhbnNmb3JtWyR7aX1dKGMpXG5gO1xuICAgICAgZm5MaXRlcmFsICs9IGBpZih0cmFuc2Zvcm1lZD8uW0VMWVNJQV9SRVNQT05TRV0pXG5cdFx0XHRcdHRocm93IHRyYW5zZm9ybWVkXG5cdFx0XHRlbHNlXG5cdFx0XHRcdE9iamVjdC5hc3NpZ24oYywgdHJhbnNmb3JtZWQpXG5gO1xuICAgICAgZW5kVW5pdCgpO1xuICAgIH1cbiAgICBlbmRUcmFuc2Zvcm0oKTtcbiAgfVxuICBpZiAodmFsaWRhdG9yKSB7XG4gICAgZm5MaXRlcmFsICs9IFwiXFxuXCI7XG4gICAgaWYgKHZhbGlkYXRvci5oZWFkZXJzKSB7XG4gICAgICBpZiAoaGFzUHJvcGVydHkoXCJkZWZhdWx0XCIsIHZhbGlkYXRvci5oZWFkZXJzLnBhcmFtcykpXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKFxuICAgICAgICAgIFZhbHVlMy5EZWZhdWx0KFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdmFsaWRhdG9yLmhlYWRlcnMuc2NoZW1hLFxuICAgICAgICAgICAge31cbiAgICAgICAgICApXG4gICAgICAgICkpIHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiBgJyR7dmFsdWV9J2A7XG4gICAgICAgICAgaWYgKHBhcnNlZClcbiAgICAgICAgICAgIGZuTGl0ZXJhbCArPSBgYy5oZWFkZXJzWycke2tleX0nXSA/Pz0gJHtwYXJzZWR9XG5gO1xuICAgICAgICB9XG4gICAgICBmbkxpdGVyYWwgKz0gYGlmKGhlYWRlcnMuQ2hlY2soYy5oZWFkZXJzKSA9PT0gZmFsc2UpIHtcblx0XHRcdFx0JHtjb21wb3NlVmFsaWRhdGlvbihcImhlYWRlcnNcIil9XG5cdFx0XHR9YDtcbiAgICAgIGlmIChoYXNUcmFuc2Zvcm0odmFsaWRhdG9yLmhlYWRlcnMuc2NoZW1hKSlcbiAgICAgICAgZm5MaXRlcmFsICs9IGBcbmMuaGVhZGVycyA9IGhlYWRlcnMuRGVjb2RlKGMuaGVhZGVycylcbmA7XG4gICAgfVxuICAgIGlmICh2YWxpZGF0b3IucGFyYW1zKSB7XG4gICAgICBpZiAoaGFzUHJvcGVydHkoXCJkZWZhdWx0XCIsIHZhbGlkYXRvci5wYXJhbXMuc2NoZW1hKSlcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICAgICAgVmFsdWUzLkRlZmF1bHQoXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB2YWxpZGF0b3IucGFyYW1zLnNjaGVtYSxcbiAgICAgICAgICAgIHt9XG4gICAgICAgICAgKVxuICAgICAgICApKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogYCcke3ZhbHVlfSdgO1xuICAgICAgICAgIGlmIChwYXJzZWQpXG4gICAgICAgICAgICBmbkxpdGVyYWwgKz0gYGMucGFyYW1zWycke2tleX0nXSA/Pz0gJHtwYXJzZWR9XG5gO1xuICAgICAgICB9XG4gICAgICBmbkxpdGVyYWwgKz0gYGlmKHBhcmFtcy5DaGVjayhjLnBhcmFtcykgPT09IGZhbHNlKSB7XG5cdFx0XHRcdCR7Y29tcG9zZVZhbGlkYXRpb24oXCJwYXJhbXNcIil9XG5cdFx0XHR9YDtcbiAgICAgIGlmIChoYXNUcmFuc2Zvcm0odmFsaWRhdG9yLnBhcmFtcy5zY2hlbWEpKVxuICAgICAgICBmbkxpdGVyYWwgKz0gYFxuYy5wYXJhbXMgPSBwYXJhbXMuRGVjb2RlKGMucGFyYW1zKVxuYDtcbiAgICB9XG4gICAgaWYgKHZhbGlkYXRvci5xdWVyeSkge1xuICAgICAgaWYgKG5vcm1hbGl6ZSlcbiAgICAgICAgZm5MaXRlcmFsICs9IFwiYy5xdWVyeSA9IHF1ZXJ5LkNsZWFuKGMucXVlcnkpO1xcblwiO1xuICAgICAgaWYgKGhhc1Byb3BlcnR5KFwiZGVmYXVsdFwiLCB2YWxpZGF0b3IucXVlcnkuc2NoZW1hKSlcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICAgICAgVmFsdWUzLkRlZmF1bHQoXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB2YWxpZGF0b3IucXVlcnkuc2NoZW1hLFxuICAgICAgICAgICAge31cbiAgICAgICAgICApXG4gICAgICAgICkpIHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiBgJyR7dmFsdWV9J2A7XG4gICAgICAgICAgaWYgKHBhcnNlZClcbiAgICAgICAgICAgIGZuTGl0ZXJhbCArPSBgYy5xdWVyeVsnJHtrZXl9J10gPz89ICR7cGFyc2VkfVxuYDtcbiAgICAgICAgfVxuICAgICAgZm5MaXRlcmFsICs9IGBpZihxdWVyeS5DaGVjayhjLnF1ZXJ5KSA9PT0gZmFsc2UpIHtcblx0XHRcdFx0JHtjb21wb3NlVmFsaWRhdGlvbihcInF1ZXJ5XCIpfVxuXHRcdFx0fWA7XG4gICAgICBpZiAoaGFzVHJhbnNmb3JtKHZhbGlkYXRvci5xdWVyeS5zY2hlbWEpKVxuICAgICAgICBmbkxpdGVyYWwgKz0gYFxuYy5xdWVyeSA9IHF1ZXJ5LkRlY29kZShPYmplY3QuYXNzaWduKHt9LCBjLnF1ZXJ5KSlcbmA7XG4gICAgfVxuICAgIGlmICh2YWxpZGF0b3IuYm9keSkge1xuICAgICAgaWYgKG5vcm1hbGl6ZSlcbiAgICAgICAgZm5MaXRlcmFsICs9IFwiYy5ib2R5ID0gYm9keS5DbGVhbihjLmJvZHkpO1xcblwiO1xuICAgICAgaWYgKGhhc1Byb3BlcnR5KFwiZGVmYXVsdFwiLCB2YWxpZGF0b3IuYm9keS5zY2hlbWEpKVxuICAgICAgICBmbkxpdGVyYWwgKz0gYGlmKGJvZHkuQ2hlY2soYy5ib2R5KSA9PT0gZmFsc2UpIHtcbiAgICBcdFx0XHRcdGMuYm9keSA9IE9iamVjdC5hc3NpZ24oJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBWYWx1ZTMuRGVmYXVsdChcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHZhbGlkYXRvci5ib2R5LnNjaGVtYSxcbiAgICAgICAgICAgIG51bGxcbiAgICAgICAgICApID8/IHt9XG4gICAgICAgICl9LCBjLmJvZHkpXG5cbiAgICBcdFx0XHRcdGlmKGJvZHkuQ2hlY2soYy5xdWVyeSkgPT09IGZhbHNlKSB7XG4gICAgICAgIFx0XHRcdFx0JHtjb21wb3NlVmFsaWRhdGlvbihcImJvZHlcIil9XG4gICAgIFx0XHRcdH1cbiAgICAgICAgICAgIH1gO1xuICAgICAgZWxzZVxuICAgICAgICBmbkxpdGVyYWwgKz0gYGlmKGJvZHkuQ2hlY2soYy5ib2R5KSA9PT0gZmFsc2UpIHtcblx0XHRcdCR7Y29tcG9zZVZhbGlkYXRpb24oXCJib2R5XCIpfVxuXHRcdH1gO1xuICAgICAgaWYgKGhhc1RyYW5zZm9ybSh2YWxpZGF0b3IuYm9keS5zY2hlbWEpKVxuICAgICAgICBmbkxpdGVyYWwgKz0gYFxuYy5ib2R5ID0gYm9keS5EZWNvZGUoYy5ib2R5KVxuYDtcbiAgICB9XG4gICAgaWYgKGlzTm90RW1wdHkoY29va2llVmFsaWRhdG9yPy5zY2hlbWE/LnByb3BlcnRpZXMgPz8gY29va2llVmFsaWRhdG9yPy5zY2hlbWE/LnNjaGVtYSA/PyB7fSkpIHtcbiAgICAgIGZuTGl0ZXJhbCArPSBgY29uc3QgY29va2llVmFsdWUgPSB7fVxuICAgIFx0XHRcdGZvcihjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoYy5jb29raWUpKVxuICAgIFx0XHRcdFx0Y29va2llVmFsdWVba2V5XSA9IHZhbHVlLnZhbHVlXG5gO1xuICAgICAgaWYgKGhhc1Byb3BlcnR5KFwiZGVmYXVsdFwiLCBjb29raWVWYWxpZGF0b3Iuc2NoZW1hKSlcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICAgICAgVmFsdWUzLkRlZmF1bHQoXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb29raWVWYWxpZGF0b3Iuc2NoZW1hLFxuICAgICAgICAgICAge31cbiAgICAgICAgICApXG4gICAgICAgICkpIHtcbiAgICAgICAgICBmbkxpdGVyYWwgKz0gYGNvb2tpZVZhbHVlWycke2tleX0nXSA9ICR7dHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogdmFsdWV9XG5gO1xuICAgICAgICB9XG4gICAgICBmbkxpdGVyYWwgKz0gYGlmKGNvb2tpZS5DaGVjayhjb29raWVWYWx1ZSkgPT09IGZhbHNlKSB7XG5cdFx0XHRcdCR7Y29tcG9zZVZhbGlkYXRpb24oXCJjb29raWVcIiwgXCJjb29raWVWYWx1ZVwiKX1cblx0XHRcdH1gO1xuICAgIH1cbiAgfVxuICBpZiAoaG9va3M/LmJlZm9yZUhhbmRsZSkge1xuICAgIGNvbnN0IGVuZEJlZm9yZUhhbmRsZSA9IHJlcG9ydChcImJlZm9yZUhhbmRsZVwiLCB7XG4gICAgICB1bml0OiBob29rcy5iZWZvcmVIYW5kbGUubGVuZ3RoXG4gICAgfSk7XG4gICAgbGV0IGhhc1Jlc29sdmUgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvb2tzLmJlZm9yZUhhbmRsZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYmVmb3JlSGFuZGxlID0gaG9va3MuYmVmb3JlSGFuZGxlW2ldO1xuICAgICAgY29uc3QgZW5kVW5pdCA9IHJlcG9ydChcImJlZm9yZUhhbmRsZS51bml0XCIsIHtcbiAgICAgICAgbmFtZTogYmVmb3JlSGFuZGxlLmZuLm5hbWVcbiAgICAgIH0pO1xuICAgICAgY29uc3QgcmV0dXJuaW5nID0gaGFzUmV0dXJuKGJlZm9yZUhhbmRsZS5mbi50b1N0cmluZygpKTtcbiAgICAgIGNvbnN0IGlzUmVzb2x2ZXIgPSBiZWZvcmVIYW5kbGUuc3ViVHlwZSA9PT0gXCJyZXNvbHZlXCI7XG4gICAgICBpZiAoaXNSZXNvbHZlcikge1xuICAgICAgICBpZiAoIWhhc1Jlc29sdmUpIHtcbiAgICAgICAgICBoYXNSZXNvbHZlID0gdHJ1ZTtcbiAgICAgICAgICBmbkxpdGVyYWwgKz0gXCJcXG5sZXQgcmVzb2x2ZWRcXG5cIjtcbiAgICAgICAgfVxuICAgICAgICBmbkxpdGVyYWwgKz0gaXNBc3luYyhiZWZvcmVIYW5kbGUpID8gYHJlc29sdmVkID0gYXdhaXQgYmVmb3JlSGFuZGxlWyR7aX1dKGMpO1xuYCA6IGByZXNvbHZlZCA9IGJlZm9yZUhhbmRsZVske2l9XShjKTtcbmA7XG4gICAgICAgIGZuTGl0ZXJhbCArPSBgaWYocmVzb2x2ZWRbRUxZU0lBX1JFU1BPTlNFXSlcblx0XHRcdFx0XHRcdHRocm93IHJlc29sdmVkXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0T2JqZWN0LmFzc2lnbihjLCByZXNvbHZlZClcbmA7XG4gICAgICB9IGVsc2UgaWYgKCFyZXR1cm5pbmcpIHtcbiAgICAgICAgZm5MaXRlcmFsICs9IGlzQXN5bmMoYmVmb3JlSGFuZGxlKSA/IGBhd2FpdCBiZWZvcmVIYW5kbGVbJHtpfV0oYyk7XG5gIDogYGJlZm9yZUhhbmRsZVske2l9XShjKTtcbmA7XG4gICAgICAgIGVuZFVuaXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZuTGl0ZXJhbCArPSBgT2JqZWN0LmFzc2lnbihjLCBiZSk7YDtcbiAgICAgICAgZm5MaXRlcmFsICs9IGlzQXN5bmMoYmVmb3JlSGFuZGxlKSA/IGBiZSA9IGF3YWl0IGJlZm9yZUhhbmRsZVske2l9XShjKTtcbmAgOiBgYmUgPSBiZWZvcmVIYW5kbGVbJHtpfV0oYyk7XG5gO1xuICAgICAgICBlbmRVbml0KCk7XG4gICAgICAgIGZuTGl0ZXJhbCArPSBgaWYoYmUgIT09IHVuZGVmaW5lZCkge1xuYDtcbiAgICAgICAgZW5kQmVmb3JlSGFuZGxlKCk7XG4gICAgICAgIGlmIChob29rcy5hZnRlckhhbmRsZT8ubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgZW5kQWZ0ZXJIYW5kbGUgPSByZXBvcnQoXCJhZnRlckhhbmRsZVwiLCB7XG4gICAgICAgICAgICB1bml0OiBob29rcy50cmFuc2Zvcm0ubGVuZ3RoXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVwb3J0KFwiaGFuZGxlXCIsIHtcbiAgICAgICAgICAgIG5hbWU6IGlzSGFuZGxlRm4gPyBoYW5kbGVyLm5hbWUgOiB2b2lkIDBcbiAgICAgICAgICB9KSgpO1xuICAgICAgICAgIGZvciAobGV0IGkyID0gMDsgaTIgPCBob29rcy5hZnRlckhhbmRsZS5sZW5ndGg7IGkyKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGhvb2sgPSBob29rcy5hZnRlckhhbmRsZVtpMl07XG4gICAgICAgICAgICBjb25zdCByZXR1cm5pbmcyID0gaGFzUmV0dXJuKGhvb2suZm4udG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBjb25zdCBlbmRVbml0MiA9IHJlcG9ydChcImFmdGVySGFuZGxlLnVuaXRcIiwge1xuICAgICAgICAgICAgICBuYW1lOiBob29rLmZuLm5hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZm5MaXRlcmFsICs9IGBjLnJlc3BvbnNlID0gYmVcbmA7XG4gICAgICAgICAgICBpZiAoIXJldHVybmluZzIpIHtcbiAgICAgICAgICAgICAgZm5MaXRlcmFsICs9IGlzQXN5bmMoaG9vay5mbikgPyBgYXdhaXQgYWZ0ZXJIYW5kbGVbJHtpMn1dKGMsIGJlKVxuYCA6IGBhZnRlckhhbmRsZVske2kyfV0oYywgYmUpXG5gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZm5MaXRlcmFsICs9IGlzQXN5bmMoaG9vay5mbikgPyBgYWYgPSBhd2FpdCBhZnRlckhhbmRsZVske2kyfV0oYylcbmAgOiBgYWYgPSBhZnRlckhhbmRsZVske2kyfV0oYylcbmA7XG4gICAgICAgICAgICAgIGZuTGl0ZXJhbCArPSBgaWYoYWYgIT09IHVuZGVmaW5lZCkgeyBjLnJlc3BvbnNlID0gYmUgPSBhZiB9XG5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW5kVW5pdDIoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZW5kQWZ0ZXJIYW5kbGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsaWRhdG9yLnJlc3BvbnNlKVxuICAgICAgICAgIGZuTGl0ZXJhbCArPSBjb21wb3NlUmVzcG9uc2VWYWxpZGF0aW9uKFwiYmVcIik7XG4gICAgICAgIGlmIChob29rcy5tYXBSZXNwb25zZS5sZW5ndGgpIHtcbiAgICAgICAgICBmbkxpdGVyYWwgKz0gYGMucmVzcG9uc2UgPSBiZWA7XG4gICAgICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGhvb2tzLm1hcFJlc3BvbnNlLmxlbmd0aDsgaTIrKykge1xuICAgICAgICAgICAgZm5MaXRlcmFsICs9IGBcbmlmKG1yID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0bXIgPSBvbk1hcFJlc3BvbnNlWyR7aTJ9XShjKVxuXHRcdFx0XHRcdFx0XHRpZihtciBpbnN0YW5jZW9mIFByb21pc2UpIG1yID0gYXdhaXQgbXJcblx0XHRcdFx0XHRcdFx0aWYobXIgIT09IHVuZGVmaW5lZCkgYy5yZXNwb25zZSA9IG1yXG5cdFx0XHRcdFx0XHR9XG5gO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmbkxpdGVyYWwgKz0gZW5jb2RlQ29va2llO1xuICAgICAgICBmbkxpdGVyYWwgKz0gYHJldHVybiBtYXBFYXJseVJlc3BvbnNlKGJlLCBjLnNldCl9XG5gO1xuICAgICAgfVxuICAgIH1cbiAgICBlbmRCZWZvcmVIYW5kbGUoKTtcbiAgfVxuICBpZiAoaG9va3M/LmFmdGVySGFuZGxlLmxlbmd0aCkge1xuICAgIGNvbnN0IGVuZEhhbmRsZSA9IHJlcG9ydChcImhhbmRsZVwiLCB7XG4gICAgICBuYW1lOiBpc0hhbmRsZUZuID8gaGFuZGxlci5uYW1lIDogdm9pZCAwXG4gICAgfSk7XG4gICAgaWYgKGhvb2tzLmFmdGVySGFuZGxlLmxlbmd0aClcbiAgICAgIGZuTGl0ZXJhbCArPSBpc0FzeW5jSGFuZGxlciA/IGBsZXQgciA9IGMucmVzcG9uc2UgPSBhd2FpdCAke2hhbmRsZX07XG5gIDogYGxldCByID0gYy5yZXNwb25zZSA9ICR7aGFuZGxlfTtcbmA7XG4gICAgZWxzZVxuICAgICAgZm5MaXRlcmFsICs9IGlzQXN5bmNIYW5kbGVyID8gYGxldCByID0gYXdhaXQgJHtoYW5kbGV9O1xuYCA6IGBsZXQgciA9ICR7aGFuZGxlfTtcbmA7XG4gICAgZW5kSGFuZGxlKCk7XG4gICAgY29uc3QgZW5kQWZ0ZXJIYW5kbGUgPSByZXBvcnQoXCJhZnRlckhhbmRsZVwiLCB7XG4gICAgICB1bml0OiBob29rcy5hZnRlckhhbmRsZS5sZW5ndGhcbiAgICB9KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvb2tzLmFmdGVySGFuZGxlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBob29rID0gaG9va3MuYWZ0ZXJIYW5kbGVbaV07XG4gICAgICBjb25zdCByZXR1cm5pbmcgPSBoYXNSZXR1cm4oaG9vay5mbi50b1N0cmluZygpKTtcbiAgICAgIGNvbnN0IGVuZFVuaXQgPSByZXBvcnQoXCJhZnRlckhhbmRsZS51bml0XCIsIHtcbiAgICAgICAgbmFtZTogaG9vay5mbi5uYW1lXG4gICAgICB9KTtcbiAgICAgIGlmICghcmV0dXJuaW5nKSB7XG4gICAgICAgIGZuTGl0ZXJhbCArPSBpc0FzeW5jKGhvb2suZm4pID8gYGF3YWl0IGFmdGVySGFuZGxlWyR7aX1dKGMpXG5gIDogYGFmdGVySGFuZGxlWyR7aX1dKGMpXG5gO1xuICAgICAgICBlbmRVbml0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbkxpdGVyYWwgKz0gaXNBc3luYyhob29rLmZuKSA/IGBhZiA9IGF3YWl0IGFmdGVySGFuZGxlWyR7aX1dKGMpXG5gIDogYGFmID0gYWZ0ZXJIYW5kbGVbJHtpfV0oYylcbmA7XG4gICAgICAgIGVuZFVuaXQoKTtcbiAgICAgICAgaWYgKHZhbGlkYXRvci5yZXNwb25zZSkge1xuICAgICAgICAgIGZuTGl0ZXJhbCArPSBgaWYoYWYgIT09IHVuZGVmaW5lZCkge2A7XG4gICAgICAgICAgZW5kQWZ0ZXJIYW5kbGUoKTtcbiAgICAgICAgICBmbkxpdGVyYWwgKz0gY29tcG9zZVJlc3BvbnNlVmFsaWRhdGlvbihcImFmXCIpO1xuICAgICAgICAgIGZuTGl0ZXJhbCArPSBgYy5yZXNwb25zZSA9IGFmIH1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZuTGl0ZXJhbCArPSBgaWYoYWYgIT09IHVuZGVmaW5lZCkge2A7XG4gICAgICAgICAgZW5kQWZ0ZXJIYW5kbGUoKTtcbiAgICAgICAgICBmbkxpdGVyYWwgKz0gYGMucmVzcG9uc2UgPSBhZn1cbmA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZW5kQWZ0ZXJIYW5kbGUoKTtcbiAgICBmbkxpdGVyYWwgKz0gYHIgPSBjLnJlc3BvbnNlXG5gO1xuICAgIGlmICh2YWxpZGF0b3IucmVzcG9uc2UpXG4gICAgICBmbkxpdGVyYWwgKz0gY29tcG9zZVJlc3BvbnNlVmFsaWRhdGlvbigpO1xuICAgIGZuTGl0ZXJhbCArPSBlbmNvZGVDb29raWU7XG4gICAgaWYgKGhvb2tzLm1hcFJlc3BvbnNlLmxlbmd0aCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob29rcy5tYXBSZXNwb25zZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmbkxpdGVyYWwgKz0gYFxubXIgPSBvbk1hcFJlc3BvbnNlWyR7aX1dKGMpXG5cdFx0XHRcdGlmKG1yIGluc3RhbmNlb2YgUHJvbWlzZSkgbXIgPSBhd2FpdCBtclxuXHRcdFx0XHRpZihtciAhPT0gdW5kZWZpbmVkKSBjLnJlc3BvbnNlID0gbXJcbmA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChoYXNTZXQpXG4gICAgICBmbkxpdGVyYWwgKz0gYHJldHVybiBtYXBSZXNwb25zZShyLCBjLnNldClcbmA7XG4gICAgZWxzZVxuICAgICAgZm5MaXRlcmFsICs9IGByZXR1cm4gbWFwQ29tcGFjdFJlc3BvbnNlKHIpXG5gO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGVuZEhhbmRsZSA9IHJlcG9ydChcImhhbmRsZVwiLCB7XG4gICAgICBuYW1lOiBpc0hhbmRsZUZuID8gaGFuZGxlci5uYW1lIDogdm9pZCAwXG4gICAgfSk7XG4gICAgaWYgKHZhbGlkYXRvci5yZXNwb25zZSB8fCBob29rcy5tYXBSZXNwb25zZS5sZW5ndGgpIHtcbiAgICAgIGZuTGl0ZXJhbCArPSBpc0FzeW5jSGFuZGxlciA/IGBsZXQgciA9IGF3YWl0ICR7aGFuZGxlfTtcbmAgOiBgbGV0IHIgPSAke2hhbmRsZX07XG5gO1xuICAgICAgZW5kSGFuZGxlKCk7XG4gICAgICBpZiAodmFsaWRhdG9yLnJlc3BvbnNlKVxuICAgICAgICBmbkxpdGVyYWwgKz0gY29tcG9zZVJlc3BvbnNlVmFsaWRhdGlvbigpO1xuICAgICAgcmVwb3J0KFwiYWZ0ZXJIYW5kbGVcIikoKTtcbiAgICAgIGlmIChob29rcy5tYXBSZXNwb25zZS5sZW5ndGgpIHtcbiAgICAgICAgZm5MaXRlcmFsICs9IFwiYy5yZXNwb25zZSA9IHJcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob29rcy5tYXBSZXNwb25zZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGZuTGl0ZXJhbCArPSBgXG5pZihtciA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRtciA9IG9uTWFwUmVzcG9uc2VbJHtpfV0oYylcblx0XHRcdFx0XHRcdGlmKG1yIGluc3RhbmNlb2YgUHJvbWlzZSkgbXIgPSBhd2FpdCBtclxuICAgIFx0XHRcdFx0XHRpZihtciAhPT0gdW5kZWZpbmVkKSByID0gYy5yZXNwb25zZSA9IG1yXG5cdFx0XHRcdFx0fVxuYDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm5MaXRlcmFsICs9IGVuY29kZUNvb2tpZTtcbiAgICAgIGlmIChoYW5kbGVyIGluc3RhbmNlb2YgUmVzcG9uc2UpIHtcbiAgICAgICAgZm5MaXRlcmFsICs9IGluZmVyZW5jZS5zZXQgPyBgaWYoXG5cdFx0XHRcdFx0aXNOb3RFbXB0eShjLnNldC5oZWFkZXJzKSB8fFxuXHRcdFx0XHRcdGMuc2V0LnN0YXR1cyAhPT0gMjAwIHx8XG5cdFx0XHRcdFx0Yy5zZXQucmVkaXJlY3QgfHxcblx0XHRcdFx0XHRjLnNldC5jb29raWVcblx0XHRcdFx0KVxuXHRcdFx0XHRcdHJldHVybiBtYXBSZXNwb25zZSgke2hhbmRsZX0uY2xvbmUoKSwgYy5zZXQpXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRyZXR1cm4gJHtoYW5kbGV9LmNsb25lKClgIDogYHJldHVybiAke2hhbmRsZX0uY2xvbmUoKWA7XG4gICAgICAgIGZuTGl0ZXJhbCArPSBcIlxcblwiO1xuICAgICAgfSBlbHNlIGlmIChoYXNTZXQpXG4gICAgICAgIGZuTGl0ZXJhbCArPSBgcmV0dXJuIG1hcFJlc3BvbnNlKHIsIGMuc2V0KVxuYDtcbiAgICAgIGVsc2VcbiAgICAgICAgZm5MaXRlcmFsICs9IGByZXR1cm4gbWFwQ29tcGFjdFJlc3BvbnNlKHIpXG5gO1xuICAgIH0gZWxzZSBpZiAodHJhY2VDb25kaXRpb25zLmhhbmRsZSB8fCBoYXNDb29raWUpIHtcbiAgICAgIGZuTGl0ZXJhbCArPSBpc0FzeW5jSGFuZGxlciA/IGBsZXQgciA9IGF3YWl0ICR7aGFuZGxlfTtcbmAgOiBgbGV0IHIgPSAke2hhbmRsZX07XG5gO1xuICAgICAgZW5kSGFuZGxlKCk7XG4gICAgICByZXBvcnQoXCJhZnRlckhhbmRsZVwiKSgpO1xuICAgICAgaWYgKGhvb2tzLm1hcFJlc3BvbnNlLmxlbmd0aCkge1xuICAgICAgICBmbkxpdGVyYWwgKz0gXCJjLnJlc3BvbnNlID0gclwiO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvb2tzLm1hcFJlc3BvbnNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgZm5MaXRlcmFsICs9IGBcbmlmKG1yID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0bXIgPSBvbk1hcFJlc3BvbnNlWyR7aX1dKGMpXG5cdFx0XHRcdFx0XHRcdGlmKG1yIGluc3RhbmNlb2YgUHJvbWlzZSkgbXIgPSBhd2FpdCBtclxuICAgIFx0XHRcdFx0XHRcdGlmKG1yICE9PSB1bmRlZmluZWQpIHIgPSBjLnJlc3BvbnNlID0gbXJcblx0XHRcdFx0XHRcdH1cbmA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZuTGl0ZXJhbCArPSBlbmNvZGVDb29raWU7XG4gICAgICBpZiAoaGFzU2V0KVxuICAgICAgICBmbkxpdGVyYWwgKz0gYHJldHVybiBtYXBSZXNwb25zZShyLCBjLnNldClcbmA7XG4gICAgICBlbHNlXG4gICAgICAgIGZuTGl0ZXJhbCArPSBgcmV0dXJuIG1hcENvbXBhY3RSZXNwb25zZShyKVxuYDtcbiAgICB9IGVsc2Uge1xuICAgICAgZW5kSGFuZGxlKCk7XG4gICAgICBjb25zdCBoYW5kbGVkID0gaXNBc3luY0hhbmRsZXIgPyBgYXdhaXQgJHtoYW5kbGV9YCA6IGhhbmRsZTtcbiAgICAgIHJlcG9ydChcImFmdGVySGFuZGxlXCIpKCk7XG4gICAgICBpZiAoaGFuZGxlciBpbnN0YW5jZW9mIFJlc3BvbnNlKSB7XG4gICAgICAgIGZuTGl0ZXJhbCArPSBpbmZlcmVuY2Uuc2V0ID8gYGlmKFxuXHRcdFx0XHRcdGlzTm90RW1wdHkoYy5zZXQuaGVhZGVycykgfHxcblx0XHRcdFx0XHRjLnNldC5zdGF0dXMgIT09IDIwMCB8fFxuXHRcdFx0XHRcdGMuc2V0LnJlZGlyZWN0IHx8XG5cdFx0XHRcdFx0Yy5zZXQuY29va2llXG5cdFx0XHRcdClcblx0XHRcdFx0XHRyZXR1cm4gbWFwUmVzcG9uc2UoJHtoYW5kbGV9LmNsb25lKCksIGMuc2V0KVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0cmV0dXJuICR7aGFuZGxlfS5jbG9uZSgpYCA6IGByZXR1cm4gJHtoYW5kbGV9LmNsb25lKClgO1xuICAgICAgICBmbkxpdGVyYWwgKz0gXCJcXG5cIjtcbiAgICAgIH0gZWxzZSBpZiAoaGFzU2V0KVxuICAgICAgICBmbkxpdGVyYWwgKz0gYHJldHVybiBtYXBSZXNwb25zZSgke2hhbmRsZWR9LCBjLnNldClcbmA7XG4gICAgICBlbHNlXG4gICAgICAgIGZuTGl0ZXJhbCArPSBgcmV0dXJuIG1hcENvbXBhY3RSZXNwb25zZSgke2hhbmRsZWR9KVxuYDtcbiAgICB9XG4gIH1cbiAgaWYgKGhhc0Vycm9ySGFuZGxlciB8fCBoYW5kbGVSZXNwb25zZSkge1xuICAgIGZuTGl0ZXJhbCArPSBgXG59IGNhdGNoKGVycm9yKSB7YDtcbiAgICBpZiAoIW1heWJlQXN5bmMpXG4gICAgICBmbkxpdGVyYWwgKz0gYHJldHVybiAoYXN5bmMgKCkgPT4ge2A7XG4gICAgZm5MaXRlcmFsICs9IGBjb25zdCBzZXQgPSBjLnNldFxuaWYgKCFzZXQuc3RhdHVzIHx8IHNldC5zdGF0dXMgPCAzMDApIHNldC5zdGF0dXMgPSBlcnJvcj8uc3RhdHVzIHx8IDUwMFxuYDtcbiAgICBjb25zdCBlbmRFcnJvciA9IHJlcG9ydChcImVycm9yXCIsIHtcbiAgICAgIHVuaXQ6IGhvb2tzLmVycm9yLmxlbmd0aFxuICAgIH0pO1xuICAgIGlmIChob29rcy5lcnJvci5sZW5ndGgpIHtcbiAgICAgIGZuTGl0ZXJhbCArPSBgXG5cdFx0XHRcdGMuZXJyb3IgPSBlcnJvclxuXHRcdFx0XHRjLmNvZGUgPSBlcnJvci5jb2RlID8/IGVycm9yW0VSUk9SX0NPREVdID8/IFwiVU5LTk9XTlwiXG5cdFx0XHRgO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob29rcy5lcnJvci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBuYW1lID0gYGVyJHtpfWA7XG4gICAgICAgIGNvbnN0IGVuZFVuaXQgPSByZXBvcnQoXCJlcnJvci51bml0XCIsIHtcbiAgICAgICAgICBuYW1lOiBob29rcy5lcnJvcltpXS5mbi5uYW1lXG4gICAgICAgIH0pO1xuICAgICAgICBmbkxpdGVyYWwgKz0gYFxubGV0ICR7bmFtZX0gPSBoYW5kbGVFcnJvcnNbJHtpfV0oYylcbmA7XG4gICAgICAgIGlmIChpc0FzeW5jKGhvb2tzLmVycm9yW2ldKSlcbiAgICAgICAgICBmbkxpdGVyYWwgKz0gYGlmICgke25hbWV9IGluc3RhbmNlb2YgUHJvbWlzZSkgJHtuYW1lfSA9IGF3YWl0ICR7bmFtZX1cbmA7XG4gICAgICAgIGVuZFVuaXQoKTtcbiAgICAgICAgZm5MaXRlcmFsICs9IGAke25hbWV9ID0gbWFwRWFybHlSZXNwb25zZSgke25hbWV9LCBzZXQpXG5gO1xuICAgICAgICBmbkxpdGVyYWwgKz0gYGlmICgke25hbWV9KSB7YDtcbiAgICAgICAgZm5MaXRlcmFsICs9IGByZXR1cm4gJHtuYW1lfSB9XG5gO1xuICAgICAgfVxuICAgIH1cbiAgICBlbmRFcnJvcigpO1xuICAgIGZuTGl0ZXJhbCArPSBgcmV0dXJuIGhhbmRsZUVycm9yKGMsIGVycm9yLCB0cnVlKVxuXG5gO1xuICAgIGlmICghbWF5YmVBc3luYylcbiAgICAgIGZuTGl0ZXJhbCArPSBcIn0pKClcIjtcbiAgICBmbkxpdGVyYWwgKz0gXCJ9XCI7XG4gICAgaWYgKGhhbmRsZVJlc3BvbnNlIHx8IGhhc1RyYWNlKSB7XG4gICAgICBmbkxpdGVyYWwgKz0gYCBmaW5hbGx5IHsgYDtcbiAgICAgIGNvbnN0IGVuZFJlc3BvbnNlID0gcmVwb3J0KFwicmVzcG9uc2VcIiwge1xuICAgICAgICB1bml0OiBob29rcy5vblJlc3BvbnNlLmxlbmd0aFxuICAgICAgfSk7XG4gICAgICBmbkxpdGVyYWwgKz0gaGFuZGxlUmVzcG9uc2U7XG4gICAgICBlbmRSZXNwb25zZSgpO1xuICAgICAgZm5MaXRlcmFsICs9IGB9YDtcbiAgICB9XG4gIH1cbiAgZm5MaXRlcmFsID0gYGNvbnN0IHtcblx0XHRoYW5kbGVyLFxuXHRcdGhhbmRsZUVycm9yLFxuXHRcdGhvb2tzOiB7XG5cdFx0XHR0cmFuc2Zvcm0sXG5cdFx0XHRyZXNvbHZlLFxuXHRcdFx0YmVmb3JlSGFuZGxlLFxuXHRcdFx0YWZ0ZXJIYW5kbGUsXG5cdFx0XHRtYXBSZXNwb25zZTogb25NYXBSZXNwb25zZSxcblx0XHRcdHBhcnNlLFxuXHRcdFx0ZXJyb3I6IGhhbmRsZUVycm9ycyxcblx0XHRcdG9uUmVzcG9uc2Vcblx0XHR9LFxuXHRcdHZhbGlkYXRvcjoge1xuXHRcdFx0Ym9keSxcblx0XHRcdGhlYWRlcnMsXG5cdFx0XHRwYXJhbXMsXG5cdFx0XHRxdWVyeSxcblx0XHRcdHJlc3BvbnNlLFxuXHRcdFx0Y29va2llXG5cdFx0fSxcblx0XHR1dGlsczoge1xuXHRcdFx0bWFwUmVzcG9uc2UsXG5cdFx0XHRtYXBDb21wYWN0UmVzcG9uc2UsXG5cdFx0XHRtYXBFYXJseVJlc3BvbnNlLFxuXHRcdFx0cGFyc2VRdWVyeSxcblx0XHRcdGlzTm90RW1wdHlcblx0XHR9LFxuXHRcdGVycm9yOiB7XG5cdFx0XHROb3RGb3VuZEVycm9yLFxuXHRcdFx0VmFsaWRhdGlvbkVycm9yLFxuXHRcdFx0SW50ZXJuYWxTZXJ2ZXJFcnJvcixcblx0XHRcdFBhcnNlRXJyb3Jcblx0XHR9LFxuXHRcdHNjaGVtYSxcblx0XHRkZWZpbml0aW9ucyxcblx0XHRFUlJPUl9DT0RFLFxuXHRcdGdldFJlcG9ydGVyLFxuXHRcdHJlcXVlc3RJZCxcblx0XHRwYXJzZUNvb2tpZSxcblx0XHRzaWduQ29va2llLFxuXHRcdGRlY29kZVVSSUNvbXBvbmVudCxcblx0XHRFTFlTSUFfUkVTUE9OU0Vcblx0fSA9IGhvb2tzXG5cblx0JHtob29rcy5vblJlc3BvbnNlLmxlbmd0aCA/IGBjb25zdCAke2hvb2tzLm9uUmVzcG9uc2UubWFwKCh4LCBpKSA9PiBgcmVzJHtpfSA9IG9uUmVzcG9uc2VbJHtpfV1gKS5qb2luKFwiLFwiKX1gIDogXCJcIn1cblxuXHRyZXR1cm4gJHttYXliZUFzeW5jID8gXCJhc3luY1wiIDogXCJcIn0gZnVuY3Rpb24gaGFuZGxlKGMpIHtcblx0XHQke2hvb2tzLmJlZm9yZUhhbmRsZS5sZW5ndGggPyBcImxldCBiZVwiIDogXCJcIn1cblx0XHQke2hvb2tzLmFmdGVySGFuZGxlLmxlbmd0aCA/IFwibGV0IGFmXCIgOiBcIlwifVxuXHRcdCR7aG9va3MubWFwUmVzcG9uc2UubGVuZ3RoID8gXCJsZXQgbXJcIiA6IFwiXCJ9XG5cblx0XHQke2FsbG93TWV0YSA/IFwiYy5zY2hlbWEgPSBzY2hlbWE7IGMuZGVmcyA9IGRlZmluaXRpb25zXCIgOiBcIlwifVxuXHRcdCR7Zm5MaXRlcmFsfVxuXHR9YDtcbiAgY29uc3QgY3JlYXRlSGFuZGxlciA9IEZ1bmN0aW9uKFwiaG9va3NcIiwgZm5MaXRlcmFsKTtcbiAgcmV0dXJuIGNyZWF0ZUhhbmRsZXIoe1xuICAgIGhhbmRsZXIsXG4gICAgaG9va3M6IGxpZmVDeWNsZVRvRm4oaG9va3MpLFxuICAgIHZhbGlkYXRvcixcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgaGFuZGxlRXJyb3I6IGFwcC5oYW5kbGVFcnJvcixcbiAgICB1dGlsczoge1xuICAgICAgbWFwUmVzcG9uc2UsXG4gICAgICBtYXBDb21wYWN0UmVzcG9uc2UsXG4gICAgICBtYXBFYXJseVJlc3BvbnNlLFxuICAgICAgcGFyc2VRdWVyeSxcbiAgICAgIGlzTm90RW1wdHlcbiAgICB9LFxuICAgIGVycm9yOiB7XG4gICAgICBOb3RGb3VuZEVycm9yLFxuICAgICAgVmFsaWRhdGlvbkVycm9yLFxuICAgICAgSW50ZXJuYWxTZXJ2ZXJFcnJvcixcbiAgICAgIFBhcnNlRXJyb3JcbiAgICB9LFxuICAgIHNjaGVtYTogYXBwLnJvdXRlci5oaXN0b3J5LFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBkZWZpbml0aW9uczogYXBwLmRlZmluaXRpb25zLnR5cGUsXG4gICAgRVJST1JfQ09ERSxcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgZ2V0UmVwb3J0ZXI6ICgpID0+IGFwcC5yZXBvcnRlcixcbiAgICByZXF1ZXN0SWQsXG4gICAgcGFyc2VDb29raWUsXG4gICAgc2lnbkNvb2tpZSxcbiAgICBkZWNvZGVVUklDb21wb25lbnQ6IGRlY29kZVVSSUNvbXBvbmVudDIsXG4gICAgRUxZU0lBX1JFU1BPTlNFXG4gIH0pO1xufTtcbnZhciBjb21wb3NlR2VuZXJhbEhhbmRsZXIgPSAoYXBwKSA9PiB7XG4gIGNvbnN0IGluZmVyZW5jZSA9IHtcbiAgICBldmVudDoge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgLi4uYXBwLmluZmVyZW5jZS5ldmVudCxcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgIHF1ZXJpZXM6IFsuLi5hcHAuaW5mZXJlbmNlLmV2ZW50LnF1ZXJpZXNdXG4gICAgfSxcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgdHJhY2U6IHsgLi4uYXBwLmluZmVyZW5jZS50cmFjZSB9XG4gIH07XG4gIGxldCBkZWNvcmF0b3JzTGl0ZXJhbCA9IFwiXCI7XG4gIGxldCBmbkxpdGVyYWwgPSBcIlwiO1xuICBjb25zdCBkZWZhdWx0SGVhZGVycyA9IGFwcC5zZXRIZWFkZXJzO1xuICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhhcHAuc2luZ2xldG9uLmRlY29yYXRvcikpXG4gICAgZGVjb3JhdG9yc0xpdGVyYWwgKz0gYCwke2tleX06IGFwcC5zaW5nbGV0b24uZGVjb3JhdG9yLiR7a2V5fWA7XG4gIGNvbnN0IHJvdXRlciA9IGFwcC5yb3V0ZXI7XG4gIGNvbnN0IGhhc1RyYWNlID0gYXBwLmV2ZW50LnRyYWNlLmxlbmd0aCA+IDA7XG4gIGxldCBmaW5kRHluYW1pY1JvdXRlID0gYFxuXHRjb25zdCByb3V0ZSA9IHJvdXRlci5maW5kKHJlcXVlc3QubWV0aG9kLCBwYXRoKSAke3JvdXRlci5odHRwLnJvb3QuQUxMID8gJz8/IHJvdXRlci5maW5kKFwiQUxMXCIsIHBhdGgpJyA6IFwiXCJ9XG5cblx0aWYgKHJvdXRlID09PSBudWxsKVxuXHRcdHJldHVybiAke2FwcC5ldmVudC5lcnJvci5sZW5ndGggPyBgYXBwLmhhbmRsZUVycm9yKGN0eCwgbm90Rm91bmQpYCA6IGFwcC5ldmVudC5yZXF1ZXN0Lmxlbmd0aCA/IGBuZXcgUmVzcG9uc2UoZXJyb3I0MDRNZXNzYWdlLCB7XG5cdFx0XHRcdFx0c3RhdHVzOiBjdHguc2V0LnN0YXR1cyA9PT0gMjAwID8gNDA0IDogY3R4LnNldC5zdGF0dXMsXG5cdFx0XHRcdFx0aGVhZGVyczogY3R4LnNldC5oZWFkZXJzXG5cdFx0XHRcdH0pYCA6IGBlcnJvcjQwNC5jbG9uZSgpYH1cblxuXHRjdHgucGFyYW1zID0gcm91dGUucGFyYW1zXG5gO1xuICBjb25zdCBzaG91bGRQcmVjb21waWxlID0gYXBwLmNvbmZpZy5wcmVjb21waWxlID09PSB0cnVlIHx8IHR5cGVvZiBhcHAuY29uZmlnLnByZWNvbXBpbGUgPT09IFwib2JqZWN0XCIgJiYgYXBwLmNvbmZpZy5wcmVjb21waWxlLmNvbXBvc2UgPT09IHRydWU7XG4gIGlmICghc2hvdWxkUHJlY29tcGlsZSlcbiAgICBmaW5kRHluYW1pY1JvdXRlICs9IGBcblx0XHRcdGlmKHJvdXRlLnN0b3JlLmNvbXBvc2VkKVxuXHRcdFx0XHRyZXR1cm4gcm91dGUuc3RvcmUuY29tcG9zZWQoY3R4KVxuXG5cdFx0XHRpZihyb3V0ZS5zdG9yZS5jb21wb3NlKVxuXHRcdFx0XHRyZXR1cm4gKHJvdXRlLnN0b3JlLmNvbXBvc2UoKSkoY3R4KWA7XG4gIGVsc2VcbiAgICBmaW5kRHluYW1pY1JvdXRlICs9IGByZXR1cm4gcm91dGUuc3RvcmUoY3R4KWA7XG4gIGZpbmREeW5hbWljUm91dGUgKz0gXCJcXG5cIjtcbiAgbGV0IHN3aXRjaE1hcCA9IGBgO1xuICBmb3IgKGNvbnN0IFtwYXRoLCB7IGNvZGUsIGFsbCB9XSBvZiBPYmplY3QuZW50cmllcyhyb3V0ZXIuc3RhdGljLmh0dHAubWFwKSlcbiAgICBzd2l0Y2hNYXAgKz0gYGNhc2UgJyR7cGF0aH0nOlxuc3dpdGNoKHJlcXVlc3QubWV0aG9kKSB7XG4ke2NvZGV9XG4ke2FsbCA/PyBgZGVmYXVsdDogYnJlYWsgbWFwYH19XG5cbmA7XG4gIGNvbnN0IG1heWJlQXN5bmMgPSBhcHAuZXZlbnQucmVxdWVzdC5zb21lKGlzQXN5bmMpO1xuICBjb25zdCBpbml0ID0gYFxuXG5cdGNvbnN0IHVybCA9IHJlcXVlc3QudXJsXG5cdGNvbnN0IHMgPSB1cmwuaW5kZXhPZignLycsIDExKVxuXHRjb25zdCBxaSA9IHVybC5pbmRleE9mKCc/JywgcyArIDEpXG5cdGxldCBwYXRoXG5cdGlmKHFpID09PSAtMSlcblx0XHRwYXRoID0gdXJsLnN1YnN0cmluZyhzKVxuXHRlbHNlXG5cdFx0cGF0aCA9IHVybC5zdWJzdHJpbmcocywgcWkpXG5gO1xuICBmbkxpdGVyYWwgKz0gYGNvbnN0IHtcblx0XHRhcHAsXG5cdFx0bWFwRWFybHlSZXNwb25zZSxcblx0XHROb3RGb3VuZEVycm9yLFxuXHRcdHJlcXVlc3RJZCxcblx0XHRnZXRSZXBvcnRlcixcblx0XHRoYW5kbGVFcnJvcixcblx0XHRlcnJvcixcblx0XHRyZWRpcmVjdFxuXHR9ID0gZGF0YVxuXG5cdGNvbnN0IHN0b3JlID0gYXBwLnNpbmdsZXRvbi5zdG9yZVxuXHRjb25zdCBzdGF0aWNSb3V0ZXIgPSBhcHAucm91dGVyLnN0YXRpYy5odHRwXG5cdGNvbnN0IHdzUm91dGVyID0gYXBwLnJvdXRlci53c1xuXHRjb25zdCByb3V0ZXIgPSBhcHAucm91dGVyLmh0dHBcblxuXHRjb25zdCBub3RGb3VuZCA9IG5ldyBOb3RGb3VuZEVycm9yKClcblxuXHQke2FwcC5ldmVudC5yZXF1ZXN0Lmxlbmd0aCA/IGBjb25zdCBvblJlcXVlc3QgPSBhcHAuZXZlbnQucmVxdWVzdC5tYXAoeCA9PiB4LmZuKWAgOiBcIlwifVxuXHQke3JvdXRlci5zdGF0aWMuaHR0cC52YXJpYWJsZXN9XG5cdCR7YXBwLmV2ZW50LmVycm9yLmxlbmd0aCA/IFwiXCIgOiBgXG5cdGNvbnN0IGVycm9yNDA0TWVzc2FnZSA9IG5vdEZvdW5kLm1lc3NhZ2UudG9TdHJpbmcoKVxuXHRjb25zdCBlcnJvcjQwNCA9IG5ldyBSZXNwb25zZShlcnJvcjQwNE1lc3NhZ2UsIHsgc3RhdHVzOiA0MDQgfSk7XG5cdGB9XG5cblx0cmV0dXJuICR7bWF5YmVBc3luYyA/IFwiYXN5bmNcIiA6IFwiXCJ9IGZ1bmN0aW9uIG1hcChyZXF1ZXN0KSB7XG5gO1xuICBpZiAoYXBwLmV2ZW50LnJlcXVlc3QubGVuZ3RoKVxuICAgIGZuTGl0ZXJhbCArPSBgbGV0IHJlYDtcbiAgY29uc3QgcmVwb3J0ID0gY3JlYXRlUmVwb3J0KHtcbiAgICBoYXNUcmFjZSxcbiAgICBoYXNUcmFjZVNldDogaW5mZXJlbmNlLnRyYWNlLnNldCxcbiAgICBjb25kaXRpb246IHtcbiAgICAgIHJlcXVlc3Q6IGluZmVyZW5jZS50cmFjZS5yZXF1ZXN0XG4gICAgfSxcbiAgICBhZGRGbjogKHdvcmQpID0+IHtcbiAgICAgIGZuTGl0ZXJhbCArPSB3b3JkO1xuICAgIH1cbiAgfSk7XG4gIGlmIChhcHAuZXZlbnQucmVxdWVzdC5sZW5ndGgpIHtcbiAgICBmbkxpdGVyYWwgKz0gYFxuXHRcdFx0JHtoYXNUcmFjZSA/IFwiY29uc3QgaWQgPSArcmVxdWVzdElkLnZhbHVlKytcIiA6IFwiXCJ9XG5cblx0XHRcdGNvbnN0IGN0eCA9IHtcblx0XHRcdFx0cmVxdWVzdCxcblx0XHRcdFx0c3RvcmUsXG5cdFx0XHRcdHJlZGlyZWN0LFxuXHRcdFx0XHRzZXQ6IHtcblx0XHRcdFx0XHRoZWFkZXJzOiAke09iamVjdC5rZXlzKGRlZmF1bHRIZWFkZXJzID8/IHt9KS5sZW5ndGggPyBcIk9iamVjdC5hc3NpZ24oe30sIGFwcC5zZXRIZWFkZXJzKVwiIDogXCJ7fVwifSxcblx0XHRcdFx0XHRzdGF0dXM6IDIwMFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRlcnJvclxuXHRcdFx0XHQke2hhc1RyYWNlID8gXCIsJCRyZXF1ZXN0SWQ6ICtpZFwiIDogXCJcIn1cblx0XHRcdFx0JHtkZWNvcmF0b3JzTGl0ZXJhbH1cblx0XHRcdH1cblx0XHRgO1xuICAgIGNvbnN0IGVuZFJlcG9ydCA9IHJlcG9ydChcInJlcXVlc3RcIiwge1xuICAgICAgYXR0cmlidXRlOiBcImN0eFwiLFxuICAgICAgdW5pdDogYXBwLmV2ZW50LnJlcXVlc3QubGVuZ3RoXG4gICAgfSk7XG4gICAgZm5MaXRlcmFsICs9IGBcbiB0cnkge1xuYDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFwcC5ldmVudC5yZXF1ZXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBob29rID0gYXBwLmV2ZW50LnJlcXVlc3RbaV07XG4gICAgICBjb25zdCB3aXRoUmV0dXJuID0gaGFzUmV0dXJuKGhvb2suZm4udG9TdHJpbmcoKSk7XG4gICAgICBjb25zdCBtYXliZUFzeW5jMiA9IGlzQXN5bmMoaG9vayk7XG4gICAgICBjb25zdCBlbmRVbml0ID0gcmVwb3J0KFwicmVxdWVzdC51bml0XCIsIHtcbiAgICAgICAgbmFtZTogYXBwLmV2ZW50LnJlcXVlc3RbaV0uZm4ubmFtZVxuICAgICAgfSk7XG4gICAgICBpZiAod2l0aFJldHVybikge1xuICAgICAgICBmbkxpdGVyYWwgKz0gYHJlID0gbWFwRWFybHlSZXNwb25zZShcblx0XHRcdFx0XHQke21heWJlQXN5bmMyID8gXCJhd2FpdFwiIDogXCJcIn0gb25SZXF1ZXN0WyR7aX1dKGN0eCksXG5cdFx0XHRcdFx0Y3R4LnNldCxcblx0XHRcdFx0XHRyZXF1ZXN0XG5cdFx0XHRcdClcbmA7XG4gICAgICAgIGVuZFVuaXQoKTtcbiAgICAgICAgZm5MaXRlcmFsICs9IGBpZihyZSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gcmVcbmA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbkxpdGVyYWwgKz0gYCR7bWF5YmVBc3luYzIgPyBcImF3YWl0XCIgOiBcIlwifSBvblJlcXVlc3RbJHtpfV0oY3R4KVxuYDtcbiAgICAgICAgZW5kVW5pdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmbkxpdGVyYWwgKz0gYH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4gYXBwLmhhbmRsZUVycm9yKGN0eCwgZXJyb3IpXG5cdFx0fWA7XG4gICAgZW5kUmVwb3J0KCk7XG4gICAgZm5MaXRlcmFsICs9IGluaXQ7XG4gICAgZm5MaXRlcmFsICs9IGBcbmN0eC5xaSA9IHFpXG4gY3R4LnBhdGggPSBwYXRoXG5jdHgudXJsPXVybGA7XG4gIH0gZWxzZSB7XG4gICAgZm5MaXRlcmFsICs9IGluaXQ7XG4gICAgZm5MaXRlcmFsICs9IGAke2hhc1RyYWNlID8gXCJjb25zdCBpZCA9ICtyZXF1ZXN0SWQudmFsdWUrK1wiIDogXCJcIn1cblx0XHRjb25zdCBjdHggPSB7XG5cdFx0XHRyZXF1ZXN0LFxuXHRcdFx0c3RvcmUsXG5cdFx0XHRxaSxcblx0XHRcdHBhdGgsXG5cdFx0XHR1cmwsXG5cdFx0XHRyZWRpcmVjdCxcblx0XHRcdHNldDoge1xuXHRcdFx0XHRoZWFkZXJzOiAke09iamVjdC5rZXlzKGRlZmF1bHRIZWFkZXJzID8/IHt9KS5sZW5ndGggPyBcIk9iamVjdC5hc3NpZ24oe30sIGFwcC5zZXRIZWFkZXJzKVwiIDogXCJ7fVwifSxcblx0XHRcdFx0c3RhdHVzOiAyMDBcblx0XHRcdH0sXG5cdFx0XHRlcnJvclxuXHRcdFx0JHtoYXNUcmFjZSA/IFwiLCQkcmVxdWVzdElkOiBpZFwiIDogXCJcIn1cblx0XHRcdCR7ZGVjb3JhdG9yc0xpdGVyYWx9XG5cdFx0fWA7XG4gICAgcmVwb3J0KFwicmVxdWVzdFwiLCB7XG4gICAgICB1bml0OiBhcHAuZXZlbnQucmVxdWVzdC5sZW5ndGgsXG4gICAgICBhdHRyaWJ1dGU6IGluZmVyZW5jZS50cmFjZS5jb250ZXh0IHx8IGluZmVyZW5jZS50cmFjZS5zdG9yZSB8fCBpbmZlcmVuY2UudHJhY2Uuc2V0ID8gXCJjdHhcIiA6IFwiXCJcbiAgICB9KSgpO1xuICB9XG4gIGNvbnN0IHdzUGF0aHMgPSBhcHAucm91dGVyLnN0YXRpYy53cztcbiAgY29uc3Qgd3NSb3V0ZXIgPSBhcHAucm91dGVyLndzO1xuICBpZiAoT2JqZWN0LmtleXMod3NQYXRocykubGVuZ3RoIHx8IHdzUm91dGVyLmhpc3RvcnkubGVuZ3RoKSB7XG4gICAgZm5MaXRlcmFsICs9IGBcblx0XHRcdGlmKHJlcXVlc3QubWV0aG9kID09PSAnR0VUJykge1xuXHRcdFx0XHRzd2l0Y2gocGF0aCkge2A7XG4gICAgZm9yIChjb25zdCBbcGF0aCwgaW5kZXhdIG9mIE9iamVjdC5lbnRyaWVzKHdzUGF0aHMpKSB7XG4gICAgICBmbkxpdGVyYWwgKz0gYFxuXHRcdFx0XHRcdGNhc2UgJyR7cGF0aH0nOlxuXHRcdFx0XHRcdFx0aWYocmVxdWVzdC5oZWFkZXJzLmdldCgndXBncmFkZScpID09PSAnd2Vic29ja2V0Jylcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHN0JHtpbmRleH0oY3R4KVxuXG5cdFx0XHRcdFx0XHRicmVha2A7XG4gICAgfVxuICAgIGZuTGl0ZXJhbCArPSBgXG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0aWYocmVxdWVzdC5oZWFkZXJzLmdldCgndXBncmFkZScpID09PSAnd2Vic29ja2V0Jykge1xuXHRcdFx0XHRcdFx0Y29uc3Qgcm91dGUgPSB3c1JvdXRlci5maW5kKCd3cycsIHBhdGgpXG5cblx0XHRcdFx0XHRcdGlmKHJvdXRlKSB7XG5cdFx0XHRcdFx0XHRcdGN0eC5wYXJhbXMgPSByb3V0ZS5wYXJhbXNcblxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcm91dGUuc3RvcmUoY3R4KVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrXG5cdFx0XHR9XG5cdFx0fVxuYDtcbiAgfVxuICBmbkxpdGVyYWwgKz0gYFxuXHRcdG1hcDogc3dpdGNoKHBhdGgpIHtcblx0XHRcdCR7c3dpdGNoTWFwfVxuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRicmVha1xuXHRcdH1cblxuXHRcdCR7ZmluZER5bmFtaWNSb3V0ZX1cblx0fWA7XG4gIGNvbnN0IGhhbmRsZUVycm9yID0gY29tcG9zZUVycm9ySGFuZGxlcihhcHApO1xuICBhcHAuaGFuZGxlRXJyb3IgPSBoYW5kbGVFcnJvcjtcbiAgcmV0dXJuIEZ1bmN0aW9uKFxuICAgIFwiZGF0YVwiLFxuICAgIGZuTGl0ZXJhbFxuICApKHtcbiAgICBhcHAsXG4gICAgbWFwRWFybHlSZXNwb25zZSxcbiAgICBOb3RGb3VuZEVycm9yLFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBnZXRSZXBvcnRlcjogKCkgPT4gYXBwLnJlcG9ydGVyLFxuICAgIHJlcXVlc3RJZCxcbiAgICBoYW5kbGVFcnJvcixcbiAgICBlcnJvcixcbiAgICByZWRpcmVjdFxuICB9KTtcbn07XG52YXIgY29tcG9zZUVycm9ySGFuZGxlciA9IChhcHApID0+IHtcbiAgbGV0IGZuTGl0ZXJhbCA9IGBjb25zdCB7XG5cdFx0YXBwOiB7IGV2ZW50OiB7IGVycm9yOiBvbkVycm9yQ29udGFpbmVyLCBvblJlc3BvbnNlOiByZXNDb250YWluZXIgfSB9LFxuXHRcdG1hcFJlc3BvbnNlLFxuXHRcdEVSUk9SX0NPREUsXG5cdFx0RUxZU0lBX1JFU1BPTlNFXG5cdH0gPSBpbmplY3RcblxuXHRjb25zdCBvbkVycm9yID0gb25FcnJvckNvbnRhaW5lci5tYXAoeCA9PiB4LmZuKVxuXHRjb25zdCByZXMgPSByZXNDb250YWluZXIubWFwKHggPT4geC5mbilcblxuXHRyZXR1cm4gJHthcHAuZXZlbnQuZXJyb3IuZmluZChpc0FzeW5jKSA/IFwiYXN5bmNcIiA6IFwiXCJ9IGZ1bmN0aW9uKGNvbnRleHQsIGVycm9yLCBza2lwR2xvYmFsKSB7XG5cdFx0bGV0IHJcblxuXHRcdGNvbnN0IHsgc2V0IH0gPSBjb250ZXh0XG5cblx0XHRjb250ZXh0LmNvZGUgPSBlcnJvci5jb2RlXG5cdFx0Y29udGV4dC5lcnJvciA9IGVycm9yXG5cblx0XHRpZih0eXBlb2YgZXJyb3IgPT09IFwib2JqZWN0XCIgJiYgRUxZU0lBX1JFU1BPTlNFIGluIGVycm9yKSB7XG5cdFx0XHRlcnJvci5zdGF0dXMgPSBlcnJvcltFTFlTSUFfUkVTUE9OU0VdXG5cdFx0XHRlcnJvci5tZXNzYWdlID0gZXJyb3IucmVzcG9uc2Vcblx0XHR9XG5gO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFwcC5ldmVudC5lcnJvci5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGhhbmRsZXIgPSBhcHAuZXZlbnQuZXJyb3JbaV07XG4gICAgY29uc3QgcmVzcG9uc2UgPSBgJHtpc0FzeW5jKGhhbmRsZXIpID8gXCJhd2FpdCBcIiA6IFwiXCJ9b25FcnJvclske2l9XShjb250ZXh0KWA7XG4gICAgZm5MaXRlcmFsICs9IFwiXFxuaWYoc2tpcEdsb2JhbCAhPT0gdHJ1ZSkge1xcblwiO1xuICAgIGlmIChoYXNSZXR1cm4oaGFuZGxlci5mbi50b1N0cmluZygpKSlcbiAgICAgIGZuTGl0ZXJhbCArPSBgciA9ICR7cmVzcG9uc2V9OyBpZihyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0aWYociBpbnN0YW5jZW9mIFJlc3BvbnNlKSByZXR1cm4gclxuXG5cdFx0XHRcdGlmKHJbRUxZU0lBX1JFU1BPTlNFXSkge1xuXHRcdFx0XHRcdGVycm9yLnN0YXR1cyA9IGVycm9yW0VMWVNJQV9SRVNQT05TRV1cblx0XHRcdFx0XHRlcnJvci5tZXNzYWdlID0gZXJyb3IucmVzcG9uc2Vcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmKHNldC5zdGF0dXMgPT09IDIwMCkgc2V0LnN0YXR1cyA9IGVycm9yLnN0YXR1c1xuXHRcdFx0XHRyZXR1cm4gbWFwUmVzcG9uc2Uociwgc2V0LCBjb250ZXh0LnJlcXVlc3QpXG5cdFx0XHR9XG5gO1xuICAgIGVsc2VcbiAgICAgIGZuTGl0ZXJhbCArPSByZXNwb25zZSArIFwiXFxuXCI7XG4gICAgZm5MaXRlcmFsICs9IFwiXFxufVxcblwiO1xuICB9XG4gIGZuTGl0ZXJhbCArPSBgaWYoZXJyb3IuY29uc3RydWN0b3IubmFtZSA9PT0gXCJWYWxpZGF0aW9uRXJyb3JcIiB8fCBlcnJvci5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIlRyYW5zZm9ybURlY29kZUVycm9yXCIpIHtcblx0XHRzZXQuc3RhdHVzID0gZXJyb3Iuc3RhdHVzID8/IDQyMlxuXHRcdHJldHVybiBuZXcgUmVzcG9uc2UoXG5cdFx0XHRlcnJvci5tZXNzYWdlLFxuXHRcdFx0e1xuXHRcdFx0XHRoZWFkZXJzOiBPYmplY3QuYXNzaWduKFxuXHRcdFx0XHRcdHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30sXG5cdFx0XHRcdFx0c2V0LmhlYWRlcnNcblx0XHRcdFx0KSxcblx0XHRcdFx0c3RhdHVzOiBzZXQuc3RhdHVzXG5cdFx0XHR9XG5cdFx0KVxuXHR9IGVsc2Uge1xuXHRcdGlmKGVycm9yLmNvZGUgJiYgdHlwZW9mIGVycm9yLnN0YXR1cyA9PT0gXCJudW1iZXJcIilcblx0XHRcdHJldHVybiBuZXcgUmVzcG9uc2UoXG5cdFx0XHRcdGVycm9yLm1lc3NhZ2UsXG5cdFx0XHRcdHsgaGVhZGVyczogc2V0LmhlYWRlcnMsIHN0YXR1czogZXJyb3Iuc3RhdHVzIH1cblx0XHRcdClcblxuXHRcdHJldHVybiBtYXBSZXNwb25zZShlcnJvciwgc2V0LCBjb250ZXh0LnJlcXVlc3QpXG5cdH1cbn1gO1xuICByZXR1cm4gRnVuY3Rpb24oXG4gICAgXCJpbmplY3RcIixcbiAgICBmbkxpdGVyYWxcbiAgKSh7XG4gICAgYXBwLFxuICAgIG1hcFJlc3BvbnNlLFxuICAgIEVSUk9SX0NPREUsXG4gICAgRUxZU0lBX1JFU1BPTlNFXG4gIH0pO1xufTtcbnZhciBqaXRSb3V0ZSA9IChpbmRleCkgPT4gYGlmKHN0YyR7aW5kZXh9KSByZXR1cm4gc3RjJHtpbmRleH0oY3R4KVxuaWYoc3Qke2luZGV4fS5jb21wb3NlKSByZXR1cm4gKHN0YyR7aW5kZXh9ID0gc3Qke2luZGV4fS5jb21wb3NlKCkpKGN0eClcblxucmV0dXJuIHN0JHtpbmRleH0oY3R4KWA7XG5cbi8vIHNyYy9keW5hbWljLWhhbmRsZS50c1xuaW1wb3J0IHsgcGFyc2UgYXMgcGFyc2VRdWVyeTIgfSBmcm9tIFwiZmFzdC1xdWVyeXN0cmluZ1wiO1xudmFyIGNyZWF0ZUR5bmFtaWNIYW5kbGVyID0gKGFwcCkgPT4gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgY29uc3QgdXJsID0gcmVxdWVzdC51cmwsIHMgPSB1cmwuaW5kZXhPZihcIi9cIiwgMTEpLCBxaSA9IHVybC5pbmRleE9mKFwiP1wiLCBzICsgMSksIHBhdGggPSBxaSA9PT0gLTEgPyB1cmwuc3Vic3RyaW5nKHMpIDogdXJsLnN1YnN0cmluZyhzLCBxaSk7XG4gIGNvbnN0IHNldCA9IHtcbiAgICBjb29raWU6IHt9LFxuICAgIHN0YXR1czogMjAwLFxuICAgIGhlYWRlcnM6IHt9XG4gIH07XG4gIGNvbnN0IGNvbnRleHQgPSBPYmplY3QuYXNzaWduKFxuICAgIHt9LFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBhcHAuc2luZ2xldG9uLmRlY29yYXRvcixcbiAgICB7XG4gICAgICBzZXQsXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICBzdG9yZTogYXBwLnNpbmdsZXRvbi5zdG9yZSxcbiAgICAgIHJlcXVlc3QsXG4gICAgICBwYXRoLFxuICAgICAgcWksXG4gICAgICByZWRpcmVjdFxuICAgIH1cbiAgKTtcbiAgdHJ5IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFwcC5ldmVudC5yZXF1ZXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBvblJlcXVlc3QgPSBhcHAuZXZlbnQucmVxdWVzdFtpXS5mbjtcbiAgICAgIGxldCByZXNwb25zZTIgPSBvblJlcXVlc3QoY29udGV4dCk7XG4gICAgICBpZiAocmVzcG9uc2UyIGluc3RhbmNlb2YgUHJvbWlzZSlcbiAgICAgICAgcmVzcG9uc2UyID0gYXdhaXQgcmVzcG9uc2UyO1xuICAgICAgcmVzcG9uc2UyID0gbWFwRWFybHlSZXNwb25zZShyZXNwb25zZTIsIHNldCk7XG4gICAgICBpZiAocmVzcG9uc2UyKVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UyO1xuICAgIH1cbiAgICBjb25zdCBoYW5kbGVyID0gYXBwLnJvdXRlci5keW5hbWljLmZpbmQocmVxdWVzdC5tZXRob2QsIHBhdGgpID8/IGFwcC5yb3V0ZXIuZHluYW1pYy5maW5kKFwiQUxMXCIsIHBhdGgpO1xuICAgIGlmICghaGFuZGxlcilcbiAgICAgIHRocm93IG5ldyBOb3RGb3VuZEVycm9yKCk7XG4gICAgY29uc3QgeyBoYW5kbGUsIGhvb2tzLCB2YWxpZGF0b3IsIGNvbnRlbnQgfSA9IGhhbmRsZXIuc3RvcmU7XG4gICAgbGV0IGJvZHk7XG4gICAgaWYgKHJlcXVlc3QubWV0aG9kICE9PSBcIkdFVFwiICYmIHJlcXVlc3QubWV0aG9kICE9PSBcIkhFQURcIikge1xuICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgc3dpdGNoIChjb250ZW50KSB7XG4gICAgICAgICAgY2FzZSBcImFwcGxpY2F0aW9uL2pzb25cIjpcbiAgICAgICAgICAgIGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ0ZXh0L3BsYWluXCI6XG4gICAgICAgICAgICBib2R5ID0gYXdhaXQgcmVxdWVzdC50ZXh0KCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCI6XG4gICAgICAgICAgICBib2R5ID0gcGFyc2VRdWVyeTIoYXdhaXQgcmVxdWVzdC50ZXh0KCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiOlxuICAgICAgICAgICAgYm9keSA9IGF3YWl0IHJlcXVlc3QuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCI6XG4gICAgICAgICAgICBib2R5ID0ge307XG4gICAgICAgICAgICBjb25zdCBmb3JtMiA9IGF3YWl0IHJlcXVlc3QuZm9ybURhdGEoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGZvcm0yLmtleXMoKSkge1xuICAgICAgICAgICAgICBpZiAoYm9keVtrZXldKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGZvcm0yLmdldEFsbChrZXkpO1xuICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgIGJvZHlba2V5XSA9IHZhbHVlWzBdO1xuICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgYm9keVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGNvbnRlbnRUeXBlID0gcmVxdWVzdC5oZWFkZXJzLmdldChcImNvbnRlbnQtdHlwZVwiKTtcbiAgICAgICAgaWYgKGNvbnRlbnRUeXBlKSB7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBjb250ZW50VHlwZS5pbmRleE9mKFwiO1wiKTtcbiAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICAgICAgY29udGVudFR5cGUgPSBjb250ZW50VHlwZS5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgICAgY29udGV4dC5jb250ZW50VHlwZSA9IGNvbnRlbnRUeXBlO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9va3MucGFyc2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGhvb2sgPSBob29rcy5wYXJzZVtpXS5mbjtcbiAgICAgICAgICAgIGxldCB0ZW1wID0gaG9vayhjb250ZXh0LCBjb250ZW50VHlwZSk7XG4gICAgICAgICAgICBpZiAodGVtcCBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgICAgICAgIHRlbXAgPSBhd2FpdCB0ZW1wO1xuICAgICAgICAgICAgaWYgKHRlbXApIHtcbiAgICAgICAgICAgICAgYm9keSA9IHRlbXA7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBkZWxldGUgY29udGV4dC5jb250ZW50VHlwZTtcbiAgICAgICAgICBpZiAoYm9keSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNvbnRlbnRUeXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJhcHBsaWNhdGlvbi9qc29uXCI6XG4gICAgICAgICAgICAgICAgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwidGV4dC9wbGFpblwiOlxuICAgICAgICAgICAgICAgIGJvZHkgPSBhd2FpdCByZXF1ZXN0LnRleHQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiOlxuICAgICAgICAgICAgICAgIGJvZHkgPSBwYXJzZVF1ZXJ5Mihhd2FpdCByZXF1ZXN0LnRleHQoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIjpcbiAgICAgICAgICAgICAgICBib2R5ID0gYXdhaXQgcmVxdWVzdC5hcnJheUJ1ZmZlcigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiOlxuICAgICAgICAgICAgICAgIGJvZHkgPSB7fTtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3JtMiA9IGF3YWl0IHJlcXVlc3QuZm9ybURhdGEoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBmb3JtMi5rZXlzKCkpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChib2R5W2tleV0pXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBmb3JtMi5nZXRBbGwoa2V5KTtcbiAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIGJvZHlba2V5XSA9IHZhbHVlWzBdO1xuICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBib2R5W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnRleHQuYm9keSA9IGJvZHk7XG4gICAgY29udGV4dC5wYXJhbXMgPSBoYW5kbGVyPy5wYXJhbXMgfHwgdm9pZCAwO1xuICAgIGNvbnRleHQucXVlcnkgPSBxaSA9PT0gLTEgPyB7fSA6IHBhcnNlUXVlcnkyKHVybC5zdWJzdHJpbmcocWkgKyAxKSk7XG4gICAgY29udGV4dC5oZWFkZXJzID0ge307XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgcmVxdWVzdC5oZWFkZXJzLmVudHJpZXMoKSlcbiAgICAgIGNvbnRleHQuaGVhZGVyc1trZXldID0gdmFsdWU7XG4gICAgY29uc3QgY29va2llTWV0YSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7fSxcbiAgICAgIGFwcC5jb25maWc/LmNvb2tpZSxcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgIHZhbGlkYXRvcj8uY29va2llPy5jb25maWdcbiAgICApO1xuICAgIGNvbnN0IGNvb2tpZUhlYWRlclZhbHVlID0gcmVxdWVzdC5oZWFkZXJzLmdldChcImNvb2tpZVwiKTtcbiAgICBjb250ZXh0LmNvb2tpZSA9IGF3YWl0IHBhcnNlQ29va2llKFxuICAgICAgY29udGV4dC5zZXQsXG4gICAgICBjb29raWVIZWFkZXJWYWx1ZSxcbiAgICAgIGNvb2tpZU1ldGEgPyB7XG4gICAgICAgIHNlY3JldHM6IGNvb2tpZU1ldGEuc2VjcmV0cyAhPT0gdm9pZCAwID8gdHlwZW9mIGNvb2tpZU1ldGEuc2VjcmV0cyA9PT0gXCJzdHJpbmdcIiA/IGNvb2tpZU1ldGEuc2VjcmV0cyA6IGNvb2tpZU1ldGEuc2VjcmV0cy5qb2luKFwiLFwiKSA6IHZvaWQgMCxcbiAgICAgICAgc2lnbjogY29va2llTWV0YS5zaWduID09PSB0cnVlID8gdHJ1ZSA6IGNvb2tpZU1ldGEuc2lnbiAhPT0gdm9pZCAwID8gdHlwZW9mIGNvb2tpZU1ldGEuc2lnbiA9PT0gXCJzdHJpbmdcIiA/IGNvb2tpZU1ldGEuc2lnbiA6IGNvb2tpZU1ldGEuc2lnbi5qb2luKFwiLFwiKSA6IHZvaWQgMFxuICAgICAgfSA6IHZvaWQgMFxuICAgICk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob29rcy50cmFuc2Zvcm0ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGhvb2sgPSBob29rcy50cmFuc2Zvcm1baV07XG4gICAgICBjb25zdCBvcGVyYXRpb24gPSBob29rLmZuKGNvbnRleHQpO1xuICAgICAgaWYgKGhvb2suc3ViVHlwZSA9PT0gXCJkZXJpdmVcIikge1xuICAgICAgICBpZiAob3BlcmF0aW9uIGluc3RhbmNlb2YgUHJvbWlzZSlcbiAgICAgICAgICBPYmplY3QuYXNzaWduKGNvbnRleHQsIGF3YWl0IG9wZXJhdGlvbik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBPYmplY3QuYXNzaWduKGNvbnRleHQsIG9wZXJhdGlvbik7XG4gICAgICB9IGVsc2UgaWYgKG9wZXJhdGlvbiBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgIGF3YWl0IG9wZXJhdGlvbjtcbiAgICB9XG4gICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgaWYgKHZhbGlkYXRvci5oZWFkZXJzKSB7XG4gICAgICAgIGNvbnN0IF9oZWFkZXIgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVxdWVzdC5oZWFkZXJzKVxuICAgICAgICAgIF9oZWFkZXJba2V5XSA9IHJlcXVlc3QuaGVhZGVycy5nZXQoa2V5KTtcbiAgICAgICAgaWYgKHZhbGlkYXRvci5oZWFkZXJzLkNoZWNrKF9oZWFkZXIpID09PSBmYWxzZSlcbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgXCJoZWFkZXJcIixcbiAgICAgICAgICAgIHZhbGlkYXRvci5oZWFkZXJzLFxuICAgICAgICAgICAgX2hlYWRlclxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAodmFsaWRhdG9yLnBhcmFtcz8uQ2hlY2soY29udGV4dC5wYXJhbXMpID09PSBmYWxzZSlcbiAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcbiAgICAgICAgICBcInBhcmFtc1wiLFxuICAgICAgICAgIHZhbGlkYXRvci5wYXJhbXMsXG4gICAgICAgICAgY29udGV4dC5wYXJhbXNcbiAgICAgICAgKTtcbiAgICAgIGlmICh2YWxpZGF0b3IucXVlcnk/LkNoZWNrKGNvbnRleHQucXVlcnkpID09PSBmYWxzZSlcbiAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcbiAgICAgICAgICBcInF1ZXJ5XCIsXG4gICAgICAgICAgdmFsaWRhdG9yLnF1ZXJ5LFxuICAgICAgICAgIGNvbnRleHQucXVlcnlcbiAgICAgICAgKTtcbiAgICAgIGlmICh2YWxpZGF0b3IuY29va2llKSB7XG4gICAgICAgIGNvbnN0IGNvb2tpZVZhbHVlID0ge307XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGNvbnRleHQuY29va2llKSlcbiAgICAgICAgICBjb29raWVWYWx1ZVtrZXldID0gdmFsdWUudmFsdWU7XG4gICAgICAgIGlmICh2YWxpZGF0b3IuY29va2llPy5DaGVjayhjb29raWVWYWx1ZSkgPT09IGZhbHNlKVxuICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoXG4gICAgICAgICAgICBcImNvb2tpZVwiLFxuICAgICAgICAgICAgdmFsaWRhdG9yLmNvb2tpZSxcbiAgICAgICAgICAgIGNvb2tpZVZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWxpZGF0b3IuYm9keT8uQ2hlY2soYm9keSkgPT09IGZhbHNlKVxuICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFwiYm9keVwiLCB2YWxpZGF0b3IuYm9keSwgYm9keSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9va3MuYmVmb3JlSGFuZGxlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcmVzcG9uc2UyID0gaG9va3MuYmVmb3JlSGFuZGxlW2ldLmZuKGNvbnRleHQpO1xuICAgICAgaWYgKHJlc3BvbnNlMiBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgIHJlc3BvbnNlMiA9IGF3YWl0IHJlc3BvbnNlMjtcbiAgICAgIGlmIChyZXNwb25zZTIgIT09IHZvaWQgMCkge1xuICAgICAgICA7XG4gICAgICAgIGNvbnRleHQucmVzcG9uc2UgPSByZXNwb25zZTI7XG4gICAgICAgIGZvciAobGV0IGkyID0gMDsgaTIgPCBob29rcy5hZnRlckhhbmRsZS5sZW5ndGg7IGkyKyspIHtcbiAgICAgICAgICBsZXQgbmV3UmVzcG9uc2UgPSBob29rcy5hZnRlckhhbmRsZVtpMl0uZm4oXG4gICAgICAgICAgICBjb250ZXh0XG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAobmV3UmVzcG9uc2UgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgICAgICAgbmV3UmVzcG9uc2UgPSBhd2FpdCBuZXdSZXNwb25zZTtcbiAgICAgICAgICBpZiAobmV3UmVzcG9uc2UpXG4gICAgICAgICAgICByZXNwb25zZTIgPSBuZXdSZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBtYXBFYXJseVJlc3BvbnNlKHJlc3BvbnNlMiwgY29udGV4dC5zZXQpO1xuICAgICAgICBpZiAocmVzdWx0KVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCByZXNwb25zZSA9IGhhbmRsZShjb250ZXh0KTtcbiAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgcmVzcG9uc2UgPSBhd2FpdCByZXNwb25zZTtcbiAgICBpZiAoIWhvb2tzLmFmdGVySGFuZGxlLmxlbmd0aCkge1xuICAgICAgY29uc3QgcmVzcG9uc2VWYWxpZGF0b3IgPSB2YWxpZGF0b3I/LnJlc3BvbnNlPy5bcmVzcG9uc2Uuc3RhdHVzXTtcbiAgICAgIGlmIChyZXNwb25zZVZhbGlkYXRvcj8uQ2hlY2socmVzcG9uc2UpID09PSBmYWxzZSlcbiAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcbiAgICAgICAgICBcInJlc3BvbnNlXCIsXG4gICAgICAgICAgcmVzcG9uc2VWYWxpZGF0b3IsXG4gICAgICAgICAgcmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgO1xuICAgICAgY29udGV4dC5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob29rcy5hZnRlckhhbmRsZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgbmV3UmVzcG9uc2UgPSBob29rcy5hZnRlckhhbmRsZVtpXS5mbihcbiAgICAgICAgICBjb250ZXh0XG4gICAgICAgICk7XG4gICAgICAgIGlmIChuZXdSZXNwb25zZSBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgICAgbmV3UmVzcG9uc2UgPSBhd2FpdCBuZXdSZXNwb25zZTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbWFwRWFybHlSZXNwb25zZShuZXdSZXNwb25zZSwgY29udGV4dC5zZXQpO1xuICAgICAgICBpZiAocmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZVZhbGlkYXRvciA9IHZhbGlkYXRvcj8ucmVzcG9uc2U/LltyZXNwb25zZS5zdGF0dXNdO1xuICAgICAgICAgIGlmIChyZXNwb25zZVZhbGlkYXRvcj8uQ2hlY2socmVzdWx0KSA9PT0gZmFsc2UpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgICBcInJlc3BvbnNlXCIsXG4gICAgICAgICAgICAgIHJlc3BvbnNlVmFsaWRhdG9yLFxuICAgICAgICAgICAgICByZXN1bHRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29udGV4dC5zZXQuY29va2llICYmIGNvb2tpZU1ldGE/LnNpZ24pIHtcbiAgICAgIGNvbnN0IHNlY3JldCA9ICFjb29raWVNZXRhLnNlY3JldHMgPyB2b2lkIDAgOiB0eXBlb2YgY29va2llTWV0YS5zZWNyZXRzID09PSBcInN0cmluZ1wiID8gY29va2llTWV0YS5zZWNyZXRzIDogY29va2llTWV0YS5zZWNyZXRzWzBdO1xuICAgICAgaWYgKGNvb2tpZU1ldGEuc2lnbiA9PT0gdHJ1ZSlcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCBjb29raWVdIG9mIE9iamVjdC5lbnRyaWVzKFxuICAgICAgICAgIGNvbnRleHQuc2V0LmNvb2tpZVxuICAgICAgICApKVxuICAgICAgICAgIGNvbnRleHQuc2V0LmNvb2tpZVtrZXldLnZhbHVlID0gYXdhaXQgc2lnbkNvb2tpZShcbiAgICAgICAgICAgIGNvb2tpZS52YWx1ZSxcbiAgICAgICAgICAgIFwiJHtzZWNyZXR9XCJcbiAgICAgICAgICApO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSB2YWxpZGF0b3I/LmNvb2tpZT8uc2NoZW1hPy5wcm9wZXJ0aWVzO1xuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgY29va2llTWV0YS5zaWduKSB7XG4gICAgICAgICAgaWYgKCEobmFtZSBpbiBwcm9wZXJ0aWVzKSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGlmIChjb250ZXh0LnNldC5jb29raWVbbmFtZV0/LnZhbHVlKSB7XG4gICAgICAgICAgICBjb250ZXh0LnNldC5jb29raWVbbmFtZV0udmFsdWUgPSBhd2FpdCBzaWduQ29va2llKFxuICAgICAgICAgICAgICBjb250ZXh0LnNldC5jb29raWVbbmFtZV0udmFsdWUsXG4gICAgICAgICAgICAgIHNlY3JldFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hcFJlc3BvbnNlKHJlc3BvbnNlLCBjb250ZXh0LnNldCk7XG4gIH0gY2F0Y2ggKGVycm9yMikge1xuICAgIGlmIChlcnJvcjIuc3RhdHVzKVxuICAgICAgc2V0LnN0YXR1cyA9IGVycm9yMi5zdGF0dXM7XG4gICAgcmV0dXJuIGFwcC5oYW5kbGVFcnJvcihjb250ZXh0LCBlcnJvcjIpO1xuICB9IGZpbmFsbHkge1xuICAgIGZvciAoY29uc3Qgb25SZXNwb25zZSBvZiBhcHAuZXZlbnQub25SZXNwb25zZSlcbiAgICAgIGF3YWl0IG9uUmVzcG9uc2UuZm4oY29udGV4dCk7XG4gIH1cbn07XG52YXIgY3JlYXRlRHluYW1pY0Vycm9ySGFuZGxlciA9IChhcHApID0+IGFzeW5jIChjb250ZXh0LCBlcnJvcjIpID0+IHtcbiAgY29uc3QgZXJyb3JDb250ZXh0ID0gT2JqZWN0LmFzc2lnbihjb250ZXh0LCB7IGVycm9yOiBlcnJvcjIsIGNvZGU6IGVycm9yMi5jb2RlIH0pO1xuICBlcnJvckNvbnRleHQuc2V0ID0gY29udGV4dC5zZXQ7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXBwLmV2ZW50LmVycm9yLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgaG9vayA9IGFwcC5ldmVudC5lcnJvcltpXTtcbiAgICBsZXQgcmVzcG9uc2UgPSBob29rLmZuKGVycm9yQ29udGV4dCk7XG4gICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgUHJvbWlzZSlcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgcmVzcG9uc2U7XG4gICAgaWYgKHJlc3BvbnNlICE9PSB2b2lkIDAgJiYgcmVzcG9uc2UgIT09IG51bGwpXG4gICAgICByZXR1cm4gbWFwUmVzcG9uc2UocmVzcG9uc2UsIGNvbnRleHQuc2V0KTtcbiAgfVxuICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgIHR5cGVvZiBlcnJvcjIuY2F1c2UgPT09IFwic3RyaW5nXCIgPyBlcnJvcjIuY2F1c2UgOiBlcnJvcjIubWVzc2FnZSxcbiAgICB7XG4gICAgICBoZWFkZXJzOiBjb250ZXh0LnNldC5oZWFkZXJzLFxuICAgICAgc3RhdHVzOiBlcnJvcjIuc3RhdHVzID8/IDUwMFxuICAgIH1cbiAgKTtcbn07XG5cbi8vIHNyYy90eXBlLXN5c3RlbS50c1xuaW1wb3J0IHtcbiAgVHlwZVJlZ2lzdHJ5XG59IGZyb20gXCJAc2luY2xhaXIvdHlwZWJveFwiO1xuaW1wb3J0IHsgVHlwZVN5c3RlbSB9IGZyb20gXCJAc2luY2xhaXIvdHlwZWJveC9zeXN0ZW1cIjtcbmltcG9ydCB7XG4gIFR5cGUsXG4gIEZvcm1hdFJlZ2lzdHJ5XG59IGZyb20gXCJAc2luY2xhaXIvdHlwZWJveFwiO1xuaW1wb3J0IHsgVmFsdWUgYXMgVmFsdWU0IH0gZnJvbSBcIkBzaW5jbGFpci90eXBlYm94L3ZhbHVlXCI7XG5cbi8vIHNyYy9mb3JtYXRzLnRzXG52YXIgZnVsbEZvcm1hdHMgPSB7XG4gIC8vIGRhdGU6IGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMzMzkjc2VjdGlvbi01LjZcbiAgZGF0ZSxcbiAgLy8gZGF0ZS10aW1lOiBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMzM5I3NlY3Rpb24tNS42XG4gIHRpbWU6IGdldFRpbWUodHJ1ZSksXG4gIFwiZGF0ZS10aW1lXCI6IGdldERhdGVUaW1lKHRydWUpLFxuICBcImlzby10aW1lXCI6IGdldFRpbWUoZmFsc2UpLFxuICBcImlzby1kYXRlLXRpbWVcIjogZ2V0RGF0ZVRpbWUoZmFsc2UpLFxuICAvLyBkdXJhdGlvbjogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMzMzkjYXBwZW5kaXgtQVxuICBkdXJhdGlvbjogL15QKD8hJCkoKFxcZCtZKT8oXFxkK00pPyhcXGQrRCk/KFQoPz1cXGQpKFxcZCtIKT8oXFxkK00pPyhcXGQrUyk/KT98KFxcZCtXKT8pJC8sXG4gIHVyaSxcbiAgXCJ1cmktcmVmZXJlbmNlXCI6IC9eKD86W2Etel1bYS16MC05K1xcLS5dKjopPyg/OlxcLz9cXC8oPzooPzpbYS16MC05XFwtLl9+ISQmJygpKissOz06XXwlWzAtOWEtZl17Mn0pKkApPyg/OlxcWyg/Oig/Oig/Oig/OlswLTlhLWZdezEsNH06KXs2fXw6Oig/OlswLTlhLWZdezEsNH06KXs1fXwoPzpbMC05YS1mXXsxLDR9KT86Oig/OlswLTlhLWZdezEsNH06KXs0fXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCwxfVswLTlhLWZdezEsNH0pPzo6KD86WzAtOWEtZl17MSw0fTopezN9fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDJ9WzAtOWEtZl17MSw0fSk/OjooPzpbMC05YS1mXXsxLDR9Oil7Mn18KD86KD86WzAtOWEtZl17MSw0fTopezAsM31bMC05YS1mXXsxLDR9KT86OlswLTlhLWZdezEsNH06fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDR9WzAtOWEtZl17MSw0fSk/OjopKD86WzAtOWEtZl17MSw0fTpbMC05YS1mXXsxLDR9fCg/Oig/OjI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KSl8KD86KD86WzAtOWEtZl17MSw0fTopezAsNX1bMC05YS1mXXsxLDR9KT86OlswLTlhLWZdezEsNH18KD86KD86WzAtOWEtZl17MSw0fTopezAsNn1bMC05YS1mXXsxLDR9KT86Oil8W1Z2XVswLTlhLWZdK1xcLlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpdKylcXF18KD86KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KVxcLil7M30oPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pfCg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9XXwlWzAtOWEtZl17Mn0pKikoPzo6XFxkKik/KD86XFwvKD86W2EtejAtOVxcLS5ffiEkJidcIigpKissOz06QF18JVswLTlhLWZdezJ9KSopKnxcXC8oPzooPzpbYS16MC05XFwtLl9+ISQmJ1wiKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKyg/OlxcLyg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkqKSopP3woPzpbYS16MC05XFwtLl9+ISQmJ1wiKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKyg/OlxcLyg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkqKSopPyg/OlxcPyg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9OkAvP118JVswLTlhLWZdezJ9KSopPyg/OiMoPzpbYS16MC05XFwtLl9+ISQmJ1wiKCkqKyw7PTpALz9dfCVbMC05YS1mXXsyfSkqKT8kL2ksXG4gIC8vIHVyaS10ZW1wbGF0ZTogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY1NzBcbiAgXCJ1cmktdGVtcGxhdGVcIjogL14oPzooPzpbXlxceDAwLVxceDIwXCInPD4lXFxcXF5ge3x9XXwlWzAtOWEtZl17Mn0pfFxce1srIy4vOz8mPSwhQHxdPyg/OlthLXowLTlfXXwlWzAtOWEtZl17Mn0pKyg/OjpbMS05XVswLTldezAsM318XFwqKT8oPzosKD86W2EtejAtOV9dfCVbMC05YS1mXXsyfSkrKD86OlsxLTldWzAtOV17MCwzfXxcXCopPykqXFx9KSokL2ksXG4gIC8vIEZvciB0aGUgc291cmNlOiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9kcGVyaW5pLzcyOTI5NFxuICAvLyBGb3IgdGVzdCBjYXNlczogaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vdXJsLXJlZ2V4XG4gIHVybDogL14oPzpodHRwcz98ZnRwKTpcXC9cXC8oPzpcXFMrKD86OlxcUyopP0ApPyg/Oig/ISg/OjEwfDEyNykoPzpcXC5cXGR7MSwzfSl7M30pKD8hKD86MTY5XFwuMjU0fDE5MlxcLjE2OCkoPzpcXC5cXGR7MSwzfSl7Mn0pKD8hMTcyXFwuKD86MVs2LTldfDJcXGR8M1swLTFdKSg/OlxcLlxcZHsxLDN9KXsyfSkoPzpbMS05XVxcZD98MVxcZFxcZHwyWzAxXVxcZHwyMlswLTNdKSg/OlxcLig/OjE/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pKXsyfSg/OlxcLig/OlsxLTldXFxkP3wxXFxkXFxkfDJbMC00XVxcZHwyNVswLTRdKSl8KD86KD86W2EtejAtOVxcdXswMGExfS1cXHV7ZmZmZn1dKy0pKlthLXowLTlcXHV7MDBhMX0tXFx1e2ZmZmZ9XSspKD86XFwuKD86W2EtejAtOVxcdXswMGExfS1cXHV7ZmZmZn1dKy0pKlthLXowLTlcXHV7MDBhMX0tXFx1e2ZmZmZ9XSspKig/OlxcLig/OlthLXpcXHV7MDBhMX0tXFx1e2ZmZmZ9XXsyLH0pKSkoPzo6XFxkezIsNX0pPyg/OlxcL1teXFxzXSopPyQvaXUsXG4gIGVtYWlsOiAvXlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSpAKD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pPyQvaSxcbiAgaG9zdG5hbWU6IC9eKD89LnsxLDI1M31cXC4/JClbYS16MC05XSg/OlthLXowLTktXXswLDYxfVthLXowLTldKT8oPzpcXC5bYS16MC05XSg/OlstMC05YS16XXswLDYxfVswLTlhLXpdKT8pKlxcLj8kL2ksXG4gIC8vIG9wdGltaXplZCBodHRwczovL3d3dy5zYWZhcmlib29rc29ubGluZS5jb20vbGlicmFyeS92aWV3L3JlZ3VsYXItZXhwcmVzc2lvbnMtY29va2Jvb2svOTc4MDU5NjgwMjgzNy9jaDA3czE2Lmh0bWxcbiAgaXB2NDogL14oPzooPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZClcXC4pezN9KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpJC8sXG4gIGlwdjY6IC9eKCgoWzAtOWEtZl17MSw0fTopezd9KFswLTlhLWZdezEsNH18OikpfCgoWzAtOWEtZl17MSw0fTopezZ9KDpbMC05YS1mXXsxLDR9fCgoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05YS1mXXsxLDR9Oil7NX0oKCg6WzAtOWEtZl17MSw0fSl7MSwyfSl8OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05YS1mXXsxLDR9Oil7NH0oKCg6WzAtOWEtZl17MSw0fSl7MSwzfSl8KCg6WzAtOWEtZl17MSw0fSk/OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOWEtZl17MSw0fTopezN9KCgoOlswLTlhLWZdezEsNH0pezEsNH0pfCgoOlswLTlhLWZdezEsNH0pezAsMn06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05YS1mXXsxLDR9Oil7Mn0oKCg6WzAtOWEtZl17MSw0fSl7MSw1fSl8KCg6WzAtOWEtZl17MSw0fSl7MCwzfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlhLWZdezEsNH06KXsxfSgoKDpbMC05YS1mXXsxLDR9KXsxLDZ9KXwoKDpbMC05YS1mXXsxLDR9KXswLDR9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCg6KCgoOlswLTlhLWZdezEsNH0pezEsN30pfCgoOlswLTlhLWZdezEsNH0pezAsNX06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSkpJC9pLFxuICByZWdleCxcbiAgLy8gdXVpZDogaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNDEyMlxuICB1dWlkOiAvXig/OnVybjp1dWlkOik/WzAtOWEtZl17OH0tKD86WzAtOWEtZl17NH0tKXszfVswLTlhLWZdezEyfSQvaSxcbiAgLy8gSlNPTi1wb2ludGVyOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjkwMVxuICAvLyB1cmkgZnJhZ21lbnQ6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I2FwcGVuZGl4LUFcbiAgXCJqc29uLXBvaW50ZXJcIjogL14oPzpcXC8oPzpbXn4vXXx+MHx+MSkqKSokLyxcbiAgXCJqc29uLXBvaW50ZXItdXJpLWZyYWdtZW50XCI6IC9eIyg/OlxcLyg/OlthLXowLTlfXFwtLiEkJicoKSorLDs6PUBdfCVbMC05YS1mXXsyfXx+MHx+MSkqKSokL2ksXG4gIC8vIHJlbGF0aXZlIEpTT04tcG9pbnRlcjogaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtbHVmZi1yZWxhdGl2ZS1qc29uLXBvaW50ZXItMDBcbiAgXCJyZWxhdGl2ZS1qc29uLXBvaW50ZXJcIjogL14oPzowfFsxLTldWzAtOV0qKSg/OiN8KD86XFwvKD86W15+L118fjB8fjEpKikqKSQvLFxuICAvLyB0aGUgZm9sbG93aW5nIGZvcm1hdHMgYXJlIHVzZWQgYnkgdGhlIG9wZW5hcGkgc3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9zcGVjLm9wZW5hcGlzLm9yZy9vYXMvdjMuMC4wI2RhdGEtdHlwZXNcbiAgLy8gYnl0ZTogaHR0cHM6Ly9naXRodWIuY29tL21pZ3VlbG1vdGEvaXMtYmFzZTY0XG4gIGJ5dGUsXG4gIC8vIHNpZ25lZCAzMiBiaXQgaW50ZWdlclxuICBpbnQzMjogeyB0eXBlOiBcIm51bWJlclwiLCB2YWxpZGF0ZTogdmFsaWRhdGVJbnQzMiB9LFxuICAvLyBzaWduZWQgNjQgYml0IGludGVnZXJcbiAgaW50NjQ6IHsgdHlwZTogXCJudW1iZXJcIiwgdmFsaWRhdGU6IHZhbGlkYXRlSW50NjQgfSxcbiAgLy8gQy10eXBlIGZsb2F0XG4gIGZsb2F0OiB7IHR5cGU6IFwibnVtYmVyXCIsIHZhbGlkYXRlOiB2YWxpZGF0ZU51bWJlciB9LFxuICAvLyBDLXR5cGUgZG91YmxlXG4gIGRvdWJsZTogeyB0eXBlOiBcIm51bWJlclwiLCB2YWxpZGF0ZTogdmFsaWRhdGVOdW1iZXIgfSxcbiAgLy8gaGludCB0byB0aGUgVUkgdG8gaGlkZSBpbnB1dCBzdHJpbmdzXG4gIHBhc3N3b3JkOiB0cnVlLFxuICAvLyB1bmNoZWNrZWQgc3RyaW5nIHBheWxvYWRcbiAgYmluYXJ5OiB0cnVlXG59O1xuZnVuY3Rpb24gaXNMZWFwWWVhcih5ZWFyKSB7XG4gIHJldHVybiB5ZWFyICUgNCA9PT0gMCAmJiAoeWVhciAlIDEwMCAhPT0gMCB8fCB5ZWFyICUgNDAwID09PSAwKTtcbn1cbnZhciBEQVRFID0gL14oXFxkXFxkXFxkXFxkKS0oXFxkXFxkKS0oXFxkXFxkKSQvO1xudmFyIERBWVMgPSBbMCwgMzEsIDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV07XG5mdW5jdGlvbiBkYXRlKHN0cikge1xuICBjb25zdCBtYXRjaGVzID0gREFURS5leGVjKHN0cik7XG4gIGlmICghbWF0Y2hlcylcbiAgICByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IHllYXIgPSArbWF0Y2hlc1sxXTtcbiAgY29uc3QgbW9udGggPSArbWF0Y2hlc1syXTtcbiAgY29uc3QgZGF5ID0gK21hdGNoZXNbM107XG4gIHJldHVybiBtb250aCA+PSAxICYmIG1vbnRoIDw9IDEyICYmIGRheSA+PSAxICYmIGRheSA8PSAobW9udGggPT09IDIgJiYgaXNMZWFwWWVhcih5ZWFyKSA/IDI5IDogREFZU1ttb250aF0pO1xufVxudmFyIFRJTUUgPSAvXihcXGRcXGQpOihcXGRcXGQpOihcXGRcXGQoPzpcXC5cXGQrKT8pKHp8KFsrLV0pKFxcZFxcZCkoPzo6PyhcXGRcXGQpKT8pPyQvaTtcbmZ1bmN0aW9uIGdldFRpbWUoc3RyaWN0VGltZVpvbmUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHRpbWUoc3RyKSB7XG4gICAgY29uc3QgbWF0Y2hlcyA9IFRJTUUuZXhlYyhzdHIpO1xuICAgIGlmICghbWF0Y2hlcylcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBociA9ICttYXRjaGVzWzFdO1xuICAgIGNvbnN0IG1pbiA9ICttYXRjaGVzWzJdO1xuICAgIGNvbnN0IHNlYyA9ICttYXRjaGVzWzNdO1xuICAgIGNvbnN0IHR6ID0gbWF0Y2hlc1s0XTtcbiAgICBjb25zdCB0elNpZ24gPSBtYXRjaGVzWzVdID09PSBcIi1cIiA/IC0xIDogMTtcbiAgICBjb25zdCB0ekggPSArKG1hdGNoZXNbNl0gfHwgMCk7XG4gICAgY29uc3QgdHpNID0gKyhtYXRjaGVzWzddIHx8IDApO1xuICAgIGlmICh0ekggPiAyMyB8fCB0ek0gPiA1OSB8fCBzdHJpY3RUaW1lWm9uZSAmJiAhdHopXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGhyIDw9IDIzICYmIG1pbiA8PSA1OSAmJiBzZWMgPCA2MClcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGNvbnN0IHV0Y01pbiA9IG1pbiAtIHR6TSAqIHR6U2lnbjtcbiAgICBjb25zdCB1dGNIciA9IGhyIC0gdHpIICogdHpTaWduIC0gKHV0Y01pbiA8IDAgPyAxIDogMCk7XG4gICAgcmV0dXJuICh1dGNIciA9PT0gMjMgfHwgdXRjSHIgPT09IC0xKSAmJiAodXRjTWluID09PSA1OSB8fCB1dGNNaW4gPT09IC0xKSAmJiBzZWMgPCA2MTtcbiAgfTtcbn1cbnZhciBEQVRFX1RJTUVfU0VQQVJBVE9SID0gL3R8XFxzL2k7XG5mdW5jdGlvbiBnZXREYXRlVGltZShzdHJpY3RUaW1lWm9uZSkge1xuICBjb25zdCB0aW1lID0gZ2V0VGltZShzdHJpY3RUaW1lWm9uZSk7XG4gIHJldHVybiBmdW5jdGlvbiBkYXRlX3RpbWUoc3RyKSB7XG4gICAgY29uc3QgZGF0ZVRpbWUgPSBzdHIuc3BsaXQoREFURV9USU1FX1NFUEFSQVRPUik7XG4gICAgcmV0dXJuIGRhdGVUaW1lLmxlbmd0aCA9PT0gMiAmJiBkYXRlKGRhdGVUaW1lWzBdKSAmJiB0aW1lKGRhdGVUaW1lWzFdKTtcbiAgfTtcbn1cbnZhciBOT1RfVVJJX0ZSQUdNRU5UID0gL1xcL3w6LztcbnZhciBVUkkgPSAvXig/OlthLXpdW2EtejAtOStcXC0uXSo6KSg/OlxcLz9cXC8oPzooPzpbYS16MC05XFwtLl9+ISQmJygpKissOz06XXwlWzAtOWEtZl17Mn0pKkApPyg/OlxcWyg/Oig/Oig/Oig/OlswLTlhLWZdezEsNH06KXs2fXw6Oig/OlswLTlhLWZdezEsNH06KXs1fXwoPzpbMC05YS1mXXsxLDR9KT86Oig/OlswLTlhLWZdezEsNH06KXs0fXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCwxfVswLTlhLWZdezEsNH0pPzo6KD86WzAtOWEtZl17MSw0fTopezN9fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDJ9WzAtOWEtZl17MSw0fSk/OjooPzpbMC05YS1mXXsxLDR9Oil7Mn18KD86KD86WzAtOWEtZl17MSw0fTopezAsM31bMC05YS1mXXsxLDR9KT86OlswLTlhLWZdezEsNH06fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDR9WzAtOWEtZl17MSw0fSk/OjopKD86WzAtOWEtZl17MSw0fTpbMC05YS1mXXsxLDR9fCg/Oig/OjI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KSl8KD86KD86WzAtOWEtZl17MSw0fTopezAsNX1bMC05YS1mXXsxLDR9KT86OlswLTlhLWZdezEsNH18KD86KD86WzAtOWEtZl17MSw0fTopezAsNn1bMC05YS1mXXsxLDR9KT86Oil8W1Z2XVswLTlhLWZdK1xcLlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpdKylcXF18KD86KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KVxcLil7M30oPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pfCg/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PV18JVswLTlhLWZdezJ9KSopKD86OlxcZCopPyg/OlxcLyg/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKikqfFxcLyg/Oig/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKyg/OlxcLyg/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKikqKT98KD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkrKD86XFwvKD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkqKSopKD86XFw/KD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9OkAvP118JVswLTlhLWZdezJ9KSopPyg/OiMoPzpbYS16MC05XFwtLl9+ISQmJygpKissOz06QC8/XXwlWzAtOWEtZl17Mn0pKik/JC9pO1xuZnVuY3Rpb24gdXJpKHN0cikge1xuICByZXR1cm4gTk9UX1VSSV9GUkFHTUVOVC50ZXN0KHN0cikgJiYgVVJJLnRlc3Qoc3RyKTtcbn1cbnZhciBCWVRFID0gL14oPzpbQS1aYS16MC05Ky9dezR9KSooPzpbQS1aYS16MC05Ky9dezJ9PT18W0EtWmEtejAtOSsvXXszfT0pPyQvZ207XG5mdW5jdGlvbiBieXRlKHN0cikge1xuICBCWVRFLmxhc3RJbmRleCA9IDA7XG4gIHJldHVybiBCWVRFLnRlc3Qoc3RyKTtcbn1cbnZhciBNSU5fSU5UMzIgPSAtKDIgKiogMzEpO1xudmFyIE1BWF9JTlQzMiA9IDIgKiogMzEgLSAxO1xuZnVuY3Rpb24gdmFsaWRhdGVJbnQzMih2YWx1ZSkge1xuICByZXR1cm4gTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSkgJiYgdmFsdWUgPD0gTUFYX0lOVDMyICYmIHZhbHVlID49IE1JTl9JTlQzMjtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlSW50NjQodmFsdWUpIHtcbiAgcmV0dXJuIE51bWJlci5pc0ludGVnZXIodmFsdWUpO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVOdW1iZXIoKSB7XG4gIHJldHVybiB0cnVlO1xufVxudmFyIFpfQU5DSE9SID0gL1teXFxcXF1cXFxcWi87XG5mdW5jdGlvbiByZWdleChzdHIpIHtcbiAgaWYgKFpfQU5DSE9SLnRlc3Qoc3RyKSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIHRyeSB7XG4gICAgbmV3IFJlZ0V4cChzdHIpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlMikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLyBzcmMvdHlwZS1zeXN0ZW0udHNcbmltcG9ydCB7XG4gIFR5cGVTeXN0ZW1Qb2xpY3ksXG4gIFR5cGVTeXN0ZW0gYXMgVHlwZVN5c3RlbTIsXG4gIFR5cGVTeXN0ZW1EdXBsaWNhdGVGb3JtYXQsXG4gIFR5cGVTeXN0ZW1EdXBsaWNhdGVUeXBlS2luZFxufSBmcm9tIFwiQHNpbmNsYWlyL3R5cGVib3gvc3lzdGVtXCI7XG5pbXBvcnQgeyBUeXBlQ29tcGlsZXIgYXMgVHlwZUNvbXBpbGVyMiwgVHlwZUNoZWNrIGFzIFR5cGVDaGVjazIgfSBmcm9tIFwiQHNpbmNsYWlyL3R5cGVib3gvY29tcGlsZXJcIjtcbnZhciBpc0lTTzg2MDEgPSAvKFxcZHs0fS1bMDFdXFxkLVswLTNdXFxkVFswLTJdXFxkOlswLTVdXFxkOlswLTVdXFxkXFwuXFxkKyhbKy1dWzAtMl1cXGQ6WzAtNV1cXGR8WikpfChcXGR7NH0tWzAxXVxcZC1bMC0zXVxcZFRbMC0yXVxcZDpbMC01XVxcZDpbMC01XVxcZChbKy1dWzAtMl1cXGQ6WzAtNV1cXGR8WikpfChcXGR7NH0tWzAxXVxcZC1bMC0zXVxcZFRbMC0yXVxcZDpbMC01XVxcZChbKy1dWzAtMl1cXGQ6WzAtNV1cXGR8WikpLztcbnZhciBpc0Zvcm1hbERhdGUgPSAvKD86U3VufE1vbnxUdWV8V2VkfFRodXxGcml8U2F0KVxccyg/OkphbnxGZWJ8TWFyfEFwcnxNYXl8SnVufEp1bHxBdWd8U2VwfE9jdHxOb3Z8RGVjKVxcc1xcZHsyfVxcc1xcZHs0fVxcc1xcZHsyfTpcXGR7Mn06XFxkezJ9XFxzR01UKD86XFwrfC0pXFxkezR9XFxzXFwoW14pXStcXCkvO1xudmFyIGlzU2hvcnRlbkRhdGUgPSAvXig/Oig/Oig/Oig/OjA/WzEtOV18WzEyXVswLTldfDNbMDFdKVsvXFxzLV0oPzowP1sxLTldfDFbMC0yXSlbL1xccy1dKD86MTl8MjApXFxkezJ9KXwoPzooPzoxOXwyMClcXGR7Mn1bL1xccy1dKD86MD9bMS05XXwxWzAtMl0pWy9cXHMtXSg/OjA/WzEtOV18WzEyXVswLTldfDNbMDFdKSkpKSg/Olxccyg/OjFbMDEyXXwwP1sxLTldKTpbMC01XVswLTldKD86OlswLTVdWzAtOV0pPyg/Olxcc1tBUF1NKT8pPyQvO1xudmFyIF92YWxpZGF0ZURhdGUgPSBmdWxsRm9ybWF0cy5kYXRlO1xudmFyIF92YWxpZGF0ZURhdGVUaW1lID0gZnVsbEZvcm1hdHNbXCJkYXRlLXRpbWVcIl07XG5pZiAoIUZvcm1hdFJlZ2lzdHJ5LkhhcyhcImRhdGVcIikpXG4gIFR5cGVTeXN0ZW0uRm9ybWF0KFwiZGF0ZVwiLCAodmFsdWUpID0+IHtcbiAgICBjb25zdCB0ZW1wID0gdmFsdWUucmVwbGFjZSgvXCIvZywgXCJcIik7XG4gICAgaWYgKGlzSVNPODYwMS50ZXN0KHRlbXApIHx8IGlzRm9ybWFsRGF0ZS50ZXN0KHRlbXApIHx8IGlzU2hvcnRlbkRhdGUudGVzdCh0ZW1wKSB8fCBfdmFsaWRhdGVEYXRlKHRlbXApKSB7XG4gICAgICBjb25zdCBkYXRlMiA9IG5ldyBEYXRlKHRlbXApO1xuICAgICAgaWYgKCFOdW1iZXIuaXNOYU4oZGF0ZTIuZ2V0VGltZSgpKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG5pZiAoIUZvcm1hdFJlZ2lzdHJ5LkhhcyhcImRhdGUtdGltZVwiKSlcbiAgVHlwZVN5c3RlbS5Gb3JtYXQoXCJkYXRlLXRpbWVcIiwgKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgdGVtcCA9IHZhbHVlLnJlcGxhY2UoL1wiL2csIFwiXCIpO1xuICAgIGlmIChpc0lTTzg2MDEudGVzdCh0ZW1wKSB8fCBpc0Zvcm1hbERhdGUudGVzdCh0ZW1wKSB8fCBpc1Nob3J0ZW5EYXRlLnRlc3QodGVtcCkgfHwgX3ZhbGlkYXRlRGF0ZVRpbWUodGVtcCkpIHtcbiAgICAgIGNvbnN0IGRhdGUyID0gbmV3IERhdGUodGVtcCk7XG4gICAgICBpZiAoIU51bWJlci5pc05hTihkYXRlMi5nZXRUaW1lKCkpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbk9iamVjdC5lbnRyaWVzKGZ1bGxGb3JtYXRzKS5mb3JFYWNoKChmb3JtYXRFbnRyeSkgPT4ge1xuICBjb25zdCBbZm9ybWF0TmFtZSwgZm9ybWF0VmFsdWVdID0gZm9ybWF0RW50cnk7XG4gIGlmICghRm9ybWF0UmVnaXN0cnkuSGFzKGZvcm1hdE5hbWUpKSB7XG4gICAgaWYgKGZvcm1hdFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKVxuICAgICAgVHlwZVN5c3RlbS5Gb3JtYXQoZm9ybWF0TmFtZSwgKHZhbHVlKSA9PiBmb3JtYXRWYWx1ZS50ZXN0KHZhbHVlKSk7XG4gICAgZWxzZSBpZiAodHlwZW9mIGZvcm1hdFZhbHVlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICBUeXBlU3lzdGVtLkZvcm1hdChmb3JtYXROYW1lLCBmb3JtYXRWYWx1ZSk7XG4gIH1cbn0pO1xudmFyIHQyID0gT2JqZWN0LmFzc2lnbih7fSwgVHlwZSk7XG52YXIgcGFyc2VGaWxlVW5pdCA9IChzaXplKSA9PiB7XG4gIGlmICh0eXBlb2Ygc2l6ZSA9PT0gXCJzdHJpbmdcIilcbiAgICBzd2l0Y2ggKHNpemUuc2xpY2UoLTEpKSB7XG4gICAgICBjYXNlIFwia1wiOlxuICAgICAgICByZXR1cm4gK3NpemUuc2xpY2UoMCwgc2l6ZS5sZW5ndGggLSAxKSAqIDEwMjQ7XG4gICAgICBjYXNlIFwibVwiOlxuICAgICAgICByZXR1cm4gK3NpemUuc2xpY2UoMCwgc2l6ZS5sZW5ndGggLSAxKSAqIDEwNDg1NzY7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gK3NpemU7XG4gICAgfVxuICByZXR1cm4gc2l6ZTtcbn07XG52YXIgdmFsaWRhdGVGaWxlID0gKG9wdGlvbnMsIHZhbHVlKSA9PiB7XG4gIGlmICghKHZhbHVlIGluc3RhbmNlb2YgQmxvYikpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAob3B0aW9ucy5taW5TaXplICYmIHZhbHVlLnNpemUgPCBwYXJzZUZpbGVVbml0KG9wdGlvbnMubWluU2l6ZSkpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAob3B0aW9ucy5tYXhTaXplICYmIHZhbHVlLnNpemUgPiBwYXJzZUZpbGVVbml0KG9wdGlvbnMubWF4U2l6ZSkpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAob3B0aW9ucy5leHRlbnNpb24pXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmV4dGVuc2lvbiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgaWYgKCF2YWx1ZS50eXBlLnN0YXJ0c1dpdGgob3B0aW9ucy5leHRlbnNpb24pKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0aW9ucy5leHRlbnNpb24ubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICh2YWx1ZS50eXBlLnN0YXJ0c1dpdGgob3B0aW9ucy5leHRlbnNpb25baV0pKVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgcmV0dXJuIHRydWU7XG59O1xudmFyIEZpbGUyID0gVHlwZVJlZ2lzdHJ5LkdldChcIkZpbGVzXCIpID8/IFR5cGVTeXN0ZW0uVHlwZShcIkZpbGVcIiwgdmFsaWRhdGVGaWxlKTtcbnZhciBGaWxlcyA9IFR5cGVSZWdpc3RyeS5HZXQoXCJGaWxlc1wiKSA/PyBUeXBlU3lzdGVtLlR5cGUoXG4gIFwiRmlsZXNcIixcbiAgKG9wdGlvbnMsIHZhbHVlKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSlcbiAgICAgIHJldHVybiB2YWxpZGF0ZUZpbGUob3B0aW9ucywgdmFsdWUpO1xuICAgIGlmIChvcHRpb25zLm1pbkl0ZW1zICYmIHZhbHVlLmxlbmd0aCA8IG9wdGlvbnMubWluSXRlbXMpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKG9wdGlvbnMubWF4SXRlbXMgJiYgdmFsdWUubGVuZ3RoID4gb3B0aW9ucy5tYXhJdGVtcylcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKCF2YWxpZGF0ZUZpbGUob3B0aW9ucywgdmFsdWVbaV0pKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbik7XG5pZiAoIUZvcm1hdFJlZ2lzdHJ5LkhhcyhcIm51bWVyaWNcIikpXG4gIEZvcm1hdFJlZ2lzdHJ5LlNldChcIm51bWVyaWNcIiwgKHZhbHVlKSA9PiAhIXZhbHVlICYmICFpc05hTigrdmFsdWUpKTtcbmlmICghRm9ybWF0UmVnaXN0cnkuSGFzKFwiYm9vbGVhblwiKSlcbiAgRm9ybWF0UmVnaXN0cnkuU2V0KFxuICAgIFwiYm9vbGVhblwiLFxuICAgICh2YWx1ZSkgPT4gdmFsdWUgPT09IFwidHJ1ZVwiIHx8IHZhbHVlID09PSBcImZhbHNlXCJcbiAgKTtcbmlmICghRm9ybWF0UmVnaXN0cnkuSGFzKFwiT2JqZWN0U3RyaW5nXCIpKVxuICBGb3JtYXRSZWdpc3RyeS5TZXQoXCJPYmplY3RTdHJpbmdcIiwgKHZhbHVlKSA9PiB7XG4gICAgbGV0IHN0YXJ0ID0gdmFsdWUuY2hhckNvZGVBdCgwKTtcbiAgICBpZiAoc3RhcnQgPT09IDkgfHwgc3RhcnQgPT09IDEwIHx8IHN0YXJ0ID09PSAzMilcbiAgICAgIHN0YXJ0ID0gdmFsdWUudHJpbVN0YXJ0KCkuY2hhckNvZGVBdCgwKTtcbiAgICBpZiAoc3RhcnQgIT09IDEyMyAmJiBzdGFydCAhPT0gOTEpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgIEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcbnZhciBFbHlzaWFUeXBlID0ge1xuICBOdW1lcmljOiAocHJvcGVydHkpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBUeXBlLk51bWJlcihwcm9wZXJ0eSk7XG4gICAgcmV0dXJuIHQyLlRyYW5zZm9ybShcbiAgICAgIHQyLlVuaW9uKFxuICAgICAgICBbXG4gICAgICAgICAgdDIuU3RyaW5nKHtcbiAgICAgICAgICAgIGZvcm1hdDogXCJudW1lcmljXCIsXG4gICAgICAgICAgICBkZWZhdWx0OiAwXG4gICAgICAgICAgfSksXG4gICAgICAgICAgdDIuTnVtYmVyKHByb3BlcnR5KVxuICAgICAgICBdLFxuICAgICAgICBwcm9wZXJ0eVxuICAgICAgKVxuICAgICkuRGVjb2RlKCh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgbnVtYmVyID0gK3ZhbHVlO1xuICAgICAgaWYgKGlzTmFOKG51bWJlcikpXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIGlmIChwcm9wZXJ0eSAmJiAhVmFsdWU0LkNoZWNrKHNjaGVtYSwgbnVtYmVyKSlcbiAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcInByb3BlcnR5XCIsIHNjaGVtYSwgbnVtYmVyKTtcbiAgICAgIHJldHVybiBudW1iZXI7XG4gICAgfSkuRW5jb2RlKCh2YWx1ZSkgPT4gdmFsdWUpO1xuICB9LFxuICBEYXRlOiAocHJvcGVydHkpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBUeXBlLkRhdGUocHJvcGVydHkpO1xuICAgIHJldHVybiB0Mi5UcmFuc2Zvcm0oXG4gICAgICB0Mi5VbmlvbihcbiAgICAgICAgW1xuICAgICAgICAgIFR5cGUuRGF0ZShwcm9wZXJ0eSksXG4gICAgICAgICAgdDIuU3RyaW5nKHtcbiAgICAgICAgICAgIGZvcm1hdDogXCJkYXRlXCIsXG4gICAgICAgICAgICBkZWZhdWx0OiAoLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICB9KSxcbiAgICAgICAgICB0Mi5TdHJpbmcoe1xuICAgICAgICAgICAgZm9ybWF0OiBcImRhdGUtdGltZVwiLFxuICAgICAgICAgICAgZGVmYXVsdDogKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgfSlcbiAgICAgICAgXSxcbiAgICAgICAgcHJvcGVydHlcbiAgICAgIClcbiAgICApLkRlY29kZSgodmFsdWUpID0+IHtcbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIGNvbnN0IGRhdGUyID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgaWYgKCFWYWx1ZTQuQ2hlY2soc2NoZW1hLCBkYXRlMikpXG4gICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoXCJwcm9wZXJ0eVwiLCBzY2hlbWEsIGRhdGUyKTtcbiAgICAgIHJldHVybiBkYXRlMjtcbiAgICB9KS5FbmNvZGUoKHZhbHVlKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm4gbmV3IERhdGUodmFsdWUpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0pO1xuICB9LFxuICBCb29sZWFuU3RyaW5nOiAocHJvcGVydHkpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBUeXBlLkJvb2xlYW4ocHJvcGVydHkpO1xuICAgIHJldHVybiB0Mi5UcmFuc2Zvcm0oXG4gICAgICB0Mi5VbmlvbihcbiAgICAgICAgW1xuICAgICAgICAgIHQyLlN0cmluZyh7XG4gICAgICAgICAgICBmb3JtYXQ6IFwiYm9vbGVhblwiLFxuICAgICAgICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICAgICAgICB9KSxcbiAgICAgICAgICB0Mi5Cb29sZWFuKHByb3BlcnR5KVxuICAgICAgICBdLFxuICAgICAgICBwcm9wZXJ0eVxuICAgICAgKVxuICAgICkuRGVjb2RlKCh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBcInRydWVcIjtcbiAgICAgIGlmIChwcm9wZXJ0eSAmJiAhVmFsdWU0LkNoZWNrKHNjaGVtYSwgdmFsdWUpKVxuICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFwicHJvcGVydHlcIiwgc2NoZW1hLCB2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSkuRW5jb2RlKCh2YWx1ZSkgPT4gdmFsdWUpO1xuICB9LFxuICBPYmplY3RTdHJpbmc6IChwcm9wZXJ0aWVzID0ge30sIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSB0Mi5PYmplY3QocHJvcGVydGllcywgb3B0aW9ucyk7XG4gICAgY29uc3QgZGVmYXVsdFZhbHVlID0gSlNPTi5zdHJpbmdpZnkoVmFsdWU0LkNyZWF0ZShzY2hlbWEpKTtcbiAgICByZXR1cm4gdDIuVHJhbnNmb3JtKFxuICAgICAgdDIuVW5pb24oW1xuICAgICAgICB0Mi5TdHJpbmcoe1xuICAgICAgICAgIGZvcm1hdDogXCJPYmplY3RTdHJpbmdcIixcbiAgICAgICAgICBkZWZhdWx0OiBkZWZhdWx0VmFsdWVcbiAgICAgICAgfSksXG4gICAgICAgIHNjaGVtYVxuICAgICAgXSlcbiAgICApLkRlY29kZSgodmFsdWUpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YWx1ZSA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFwicHJvcGVydHlcIiwgc2NoZW1hLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFWYWx1ZTQuQ2hlY2soc2NoZW1hLCB2YWx1ZSkpXG4gICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcInByb3BlcnR5XCIsIHNjaGVtYSwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSkuRW5jb2RlKCh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YWx1ZSA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFwicHJvcGVydHlcIiwgc2NoZW1hLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIGlmICghVmFsdWU0LkNoZWNrKHNjaGVtYSwgdmFsdWUpKVxuICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFwicHJvcGVydHlcIiwgc2NoZW1hLCB2YWx1ZSk7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgIH0pO1xuICB9LFxuICBGaWxlOiBGaWxlMixcbiAgRmlsZXM6IChvcHRpb25zID0ge30pID0+IHQyLlRyYW5zZm9ybShGaWxlcyhvcHRpb25zKSkuRGVjb2RlKCh2YWx1ZSkgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSlcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICByZXR1cm4gW3ZhbHVlXTtcbiAgfSkuRW5jb2RlKCh2YWx1ZSkgPT4gdmFsdWUpLFxuICBOdWxsYWJsZTogKHNjaGVtYSkgPT4gdDIuVW5pb24oW3QyLk51bGwoKSwgc2NoZW1hXSksXG4gIC8qKlxuICAgKiBBbGxvdyBPcHRpb25hbCwgTnVsbGFibGUgYW5kIFVuZGVmaW5lZFxuICAgKi9cbiAgTWF5YmVFbXB0eTogKHNjaGVtYSkgPT4gdDIuVW5pb24oW3QyLk51bGwoKSwgdDIuVW5kZWZpbmVkKCksIHNjaGVtYV0pLFxuICBDb29raWU6IChwcm9wZXJ0aWVzLCB7XG4gICAgZG9tYWluLFxuICAgIGV4cGlyZXMsXG4gICAgaHR0cE9ubHksXG4gICAgbWF4QWdlLFxuICAgIHBhdGgsXG4gICAgcHJpb3JpdHksXG4gICAgc2FtZVNpdGUsXG4gICAgc2VjdXJlLFxuICAgIHNlY3JldHMsXG4gICAgc2lnbixcbiAgICAuLi5vcHRpb25zXG4gIH0gPSB7fSkgPT4ge1xuICAgIGNvbnN0IHYgPSB0Mi5PYmplY3QocHJvcGVydGllcywgb3B0aW9ucyk7XG4gICAgdi5jb25maWcgPSB7XG4gICAgICBkb21haW4sXG4gICAgICBleHBpcmVzLFxuICAgICAgaHR0cE9ubHksXG4gICAgICBtYXhBZ2UsXG4gICAgICBwYXRoLFxuICAgICAgcHJpb3JpdHksXG4gICAgICBzYW1lU2l0ZSxcbiAgICAgIHNlY3VyZSxcbiAgICAgIHNlY3JldHMsXG4gICAgICBzaWduXG4gICAgfTtcbiAgICByZXR1cm4gdjtcbiAgfVxufTtcbnQyLkJvb2xlYW5TdHJpbmcgPSBFbHlzaWFUeXBlLkJvb2xlYW5TdHJpbmc7XG50Mi5PYmplY3RTdHJpbmcgPSBFbHlzaWFUeXBlLk9iamVjdFN0cmluZztcbnQyLk51bWVyaWMgPSBFbHlzaWFUeXBlLk51bWVyaWM7XG50Mi5GaWxlID0gKGFyZyA9IHt9KSA9PiBFbHlzaWFUeXBlLkZpbGUoe1xuICBkZWZhdWx0OiBcIkZpbGVcIixcbiAgLi4uYXJnLFxuICBleHRlbnNpb246IGFyZz8udHlwZSxcbiAgdHlwZTogXCJzdHJpbmdcIixcbiAgZm9ybWF0OiBcImJpbmFyeVwiXG59KTtcbnQyLkZpbGVzID0gKGFyZyA9IHt9KSA9PiBFbHlzaWFUeXBlLkZpbGVzKHtcbiAgLi4uYXJnLFxuICBlbHlzaWFNZXRhOiBcIkZpbGVzXCIsXG4gIGRlZmF1bHQ6IFwiRmlsZXNcIixcbiAgZXh0ZW5zaW9uOiBhcmc/LnR5cGUsXG4gIHR5cGU6IFwiYXJyYXlcIixcbiAgaXRlbXM6IHtcbiAgICAuLi5hcmcsXG4gICAgZGVmYXVsdDogXCJGaWxlc1wiLFxuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgZm9ybWF0OiBcImJpbmFyeVwiXG4gIH1cbn0pO1xudDIuTnVsbGFibGUgPSAoc2NoZW1hKSA9PiBFbHlzaWFUeXBlLk51bGxhYmxlKHNjaGVtYSk7XG50Mi5NYXliZUVtcHR5ID0gRWx5c2lhVHlwZS5NYXliZUVtcHR5O1xudDIuQ29va2llID0gRWx5c2lhVHlwZS5Db29raWU7XG50Mi5EYXRlID0gRWx5c2lhVHlwZS5EYXRlO1xuXG4vLyBzcmMvaW5kZXgudHNcbnZhciBFbHlzaWEgPSBjbGFzcyBfRWx5c2lhIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgdGhpcy5zZXJ2ZXIgPSBudWxsO1xuICAgIHRoaXMuZGVwZW5kZW5jaWVzID0ge307XG4gICAgdGhpcy5yZXBvcnRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICB0aGlzLl9yb3V0ZXMgPSB7fTtcbiAgICB0aGlzLl90eXBlcyA9IHtcbiAgICAgIFByZWZpeDogXCJcIixcbiAgICAgIFNjb3BlZDogZmFsc2UsXG4gICAgICBTaW5nbGV0b246IHt9LFxuICAgICAgRGVmaW5pdGlvbnM6IHt9LFxuICAgICAgTWV0YWRhdGE6IHt9XG4gICAgfTtcbiAgICB0aGlzLl9lcGhlbWVyYWwgPSB7fTtcbiAgICB0aGlzLl92b2xhdGlsZSA9IHt9O1xuICAgIHRoaXMuc2luZ2xldG9uID0ge1xuICAgICAgZGVjb3JhdG9yOiB7fSxcbiAgICAgIHN0b3JlOiB7fSxcbiAgICAgIGRlcml2ZToge30sXG4gICAgICByZXNvbHZlOiB7fVxuICAgIH07XG4gICAgdGhpcy5kZWZpbml0aW9ucyA9IHtcbiAgICAgIHR5cGU6IHt9LFxuICAgICAgZXJyb3I6IHt9XG4gICAgfTtcbiAgICB0aGlzLmV4dGVuZGVyID0ge1xuICAgICAgbWFjcm9zOiBbXVxuICAgIH07XG4gICAgdGhpcy52YWxpZGF0b3IgPSBudWxsO1xuICAgIHRoaXMuZXZlbnQgPSB7XG4gICAgICBzdGFydDogW10sXG4gICAgICByZXF1ZXN0OiBbXSxcbiAgICAgIHBhcnNlOiBbXSxcbiAgICAgIHRyYW5zZm9ybTogW10sXG4gICAgICBiZWZvcmVIYW5kbGU6IFtdLFxuICAgICAgYWZ0ZXJIYW5kbGU6IFtdLFxuICAgICAgbWFwUmVzcG9uc2U6IFtdLFxuICAgICAgb25SZXNwb25zZTogW10sXG4gICAgICB0cmFjZTogW10sXG4gICAgICBlcnJvcjogW10sXG4gICAgICBzdG9wOiBbXVxuICAgIH07XG4gICAgdGhpcy50ZWxlbWV0cnkgPSB7XG4gICAgICBzdGFjazogdm9pZCAwXG4gICAgfTtcbiAgICB0aGlzLnJvdXRlciA9IHtcbiAgICAgIGh0dHA6IG5ldyBNZW1vaXJpc3QoKSxcbiAgICAgIHdzOiBuZXcgTWVtb2lyaXN0KCksXG4gICAgICAvLyBVc2UgaW4gbm9uLUFPVCBtb2RlXG4gICAgICBkeW5hbWljOiBuZXcgTWVtb2lyaXN0KCksXG4gICAgICBzdGF0aWM6IHtcbiAgICAgICAgaHR0cDoge1xuICAgICAgICAgIGhhbmRsZXJzOiBbXSxcbiAgICAgICAgICB2YXJpYWJsZXM6IFwiXCIsXG4gICAgICAgICAgbWFwOiB7fSxcbiAgICAgICAgICBhbGw6IFwiXCJcbiAgICAgICAgfSxcbiAgICAgICAgLy8gU3RhdGljIFdTIFJvdXRlciBpcyBjb25zaXN0cyBvZiBwYXRobmFtZSBhbmQgd2Vic29ja2V0IGhhbmRsZXIgaW5kZXggdG8gY29tcG9zZVxuICAgICAgICB3czoge31cbiAgICAgIH0sXG4gICAgICBoaXN0b3J5OiBbXVxuICAgIH07XG4gICAgdGhpcy5pbmZlcmVuY2UgPSB7XG4gICAgICBldmVudDoge1xuICAgICAgICBib2R5OiBmYWxzZSxcbiAgICAgICAgY29va2llOiBmYWxzZSxcbiAgICAgICAgaGVhZGVyczogZmFsc2UsXG4gICAgICAgIHF1ZXJpZXM6IFtdLFxuICAgICAgICBxdWVyeTogZmFsc2UsXG4gICAgICAgIHNldDogZmFsc2UsXG4gICAgICAgIHVua25vd25RdWVyaWVzOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHRyYWNlOiB7XG4gICAgICAgIHJlcXVlc3Q6IGZhbHNlLFxuICAgICAgICBwYXJzZTogZmFsc2UsXG4gICAgICAgIHRyYW5zZm9ybTogZmFsc2UsXG4gICAgICAgIGhhbmRsZTogZmFsc2UsXG4gICAgICAgIGJlZm9yZUhhbmRsZTogZmFsc2UsXG4gICAgICAgIGFmdGVySGFuZGxlOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGZhbHNlLFxuICAgICAgICBjb250ZXh0OiBmYWxzZSxcbiAgICAgICAgc3RvcmU6IGZhbHNlLFxuICAgICAgICBzZXQ6IGZhbHNlXG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnByb21pc2VkTW9kdWxlcyA9IG5ldyBQcm9taXNlR3JvdXAoKTtcbiAgICB0aGlzLnJvdXRlVHJlZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy5oYW5kbGUgPSBhc3luYyAocmVxdWVzdCkgPT4gdGhpcy5mZXRjaChyZXF1ZXN0KTtcbiAgICAvKipcbiAgICAgKiBVc2UgaGFuZGxlIGNhbiBiZSBlaXRoZXIgc3luYyBvciBhc3luYyB0byBzYXZlIHBlcmZvcm1hbmNlLlxuICAgICAqXG4gICAgICogQmVzaWRlIGJlbmNobWFyayBwdXJwb3NlLCBwbGVhc2UgdXNlICdoYW5kbGUnIGluc3RlYWQuXG4gICAgICovXG4gICAgdGhpcy5mZXRjaCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiICYmIHRoaXMuY29uZmlnLmFvdCAhPT0gZmFsc2UpXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIlBlcmZvcm1hbmNlIGRlZ3JhZGF0aW9uIGZvdW5kLiBQbGVhc2UgY2FsbCBFbHlzaWEuY29tcGlsZSgpIGJlZm9yZSB1c2luZyAnZmV0Y2gnXCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiAodGhpcy5mZXRjaCA9IHRoaXMuY29uZmlnLmFvdCA/IGNvbXBvc2VHZW5lcmFsSGFuZGxlcih0aGlzKSA6IGNyZWF0ZUR5bmFtaWNIYW5kbGVyKHRoaXMpKShyZXF1ZXN0KTtcbiAgICB9O1xuICAgIHRoaXMuaGFuZGxlRXJyb3IgPSBhc3luYyAoY29udGV4dCwgZXJyb3IyKSA9PiAodGhpcy5oYW5kbGVFcnJvciA9IHRoaXMuY29uZmlnLmFvdCA/IGNvbXBvc2VFcnJvckhhbmRsZXIodGhpcykgOiBjcmVhdGVEeW5hbWljRXJyb3JIYW5kbGVyKHRoaXMpKShjb250ZXh0LCBlcnJvcjIpO1xuICAgIHRoaXMub3V0ZXJFcnJvckhhbmRsZXIgPSAoZXJyb3IyKSA9PiBuZXcgUmVzcG9uc2UoZXJyb3IyLm1lc3NhZ2UgfHwgZXJyb3IyLm5hbWUgfHwgXCJFcnJvclwiLCB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBzdGF0dXM6IGVycm9yMj8uc3RhdHVzID8/IDUwMFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqICMjIyBsaXN0ZW5cbiAgICAgKiBBc3NpZ24gY3VycmVudCBpbnN0YW5jZSB0byBwb3J0IGFuZCBzdGFydCBzZXJ2aW5nXG4gICAgICpcbiAgICAgKiAtLS1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBuZXcgRWx5c2lhKClcbiAgICAgKiAgICAgLmdldChcIi9cIiwgKCkgPT4gJ2hpJylcbiAgICAgKiAgICAgLmxpc3RlbigzMDAwKVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHRoaXMubGlzdGVuID0gKG9wdGlvbnMsIGNhbGxiYWNrKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIEJ1biA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiLmxpc3RlbigpIGlzIGRlc2lnbmVkIHRvIHJ1biBvbiBCdW4gb25seS4gSWYgeW91IGFyZSBydW5uaW5nIEVseXNpYSBpbiBvdGhlciBlbnZpcm9ubWVudCBwbGVhc2UgdXNlIGEgZGVkaWNhdGVkIHBsdWdpbiBvciBleHBvcnQgdGhlIGhhbmRsZXIgdmlhIEVseXNpYS5mZXRjaFwiXG4gICAgICAgICk7XG4gICAgICB0aGlzLmNvbXBpbGUoKTtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoIWlzTnVtZXJpY1N0cmluZyhvcHRpb25zKSlcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQb3J0IG11c3QgYmUgYSBudW1lcmljIHZhbHVlXCIpO1xuICAgICAgICBvcHRpb25zID0gcGFyc2VJbnQob3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBjb25zdCBmZXRjaCA9IHRoaXMuZmV0Y2g7XG4gICAgICBjb25zdCBzZXJ2ZSA9IHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiID8ge1xuICAgICAgICBkZXZlbG9wbWVudDogIWlzUHJvZHVjdGlvbixcbiAgICAgICAgcmV1c2VQb3J0OiB0cnVlLFxuICAgICAgICAuLi50aGlzLmNvbmZpZy5zZXJ2ZSB8fCB7fSxcbiAgICAgICAgLi4ub3B0aW9ucyB8fCB7fSxcbiAgICAgICAgd2Vic29ja2V0OiB7XG4gICAgICAgICAgLi4udGhpcy5jb25maWcud2Vic29ja2V0IHx8IHt9LFxuICAgICAgICAgIC4uLndlYnNvY2tldCB8fCB7fVxuICAgICAgICB9LFxuICAgICAgICBmZXRjaCxcbiAgICAgICAgZXJyb3I6IHRoaXMub3V0ZXJFcnJvckhhbmRsZXJcbiAgICAgIH0gOiB7XG4gICAgICAgIGRldmVsb3BtZW50OiAhaXNQcm9kdWN0aW9uLFxuICAgICAgICByZXVzZVBvcnQ6IHRydWUsXG4gICAgICAgIC4uLnRoaXMuY29uZmlnLnNlcnZlIHx8IHt9LFxuICAgICAgICB3ZWJzb2NrZXQ6IHtcbiAgICAgICAgICAuLi50aGlzLmNvbmZpZy53ZWJzb2NrZXQgfHwge30sXG4gICAgICAgICAgLi4ud2Vic29ja2V0IHx8IHt9XG4gICAgICAgIH0sXG4gICAgICAgIHBvcnQ6IG9wdGlvbnMsXG4gICAgICAgIGZldGNoLFxuICAgICAgICBlcnJvcjogdGhpcy5vdXRlckVycm9ySGFuZGxlclxuICAgICAgfTtcbiAgICAgIHRoaXMuc2VydmVyID0gQnVuPy5zZXJ2ZShzZXJ2ZSk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXZlbnQuc3RhcnQubGVuZ3RoOyBpKyspXG4gICAgICAgIHRoaXMuZXZlbnQuc3RhcnRbaV0uZm4odGhpcyk7XG4gICAgICBpZiAoY2FsbGJhY2spXG4gICAgICAgIGNhbGxiYWNrKHRoaXMuc2VydmVyKTtcbiAgICAgIHByb2Nlc3Mub24oXCJiZWZvcmVFeGl0XCIsICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc2VydmVyKSB7XG4gICAgICAgICAgdGhpcy5zZXJ2ZXIuc3RvcCgpO1xuICAgICAgICAgIHRoaXMuc2VydmVyID0gbnVsbDtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXZlbnQuc3RvcC5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHRoaXMuZXZlbnQuc3RvcFtpXS5mbih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLnByb21pc2VkTW9kdWxlcy50aGVuKCgpID0+IHtcbiAgICAgICAgQnVuPy5nYyhmYWxzZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogIyMjIHN0b3BcbiAgICAgKiBTdG9wIHNlcnZlciBmcm9tIHNlcnZpbmdcbiAgICAgKlxuICAgICAqIC0tLVxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNvbnN0IGFwcCA9IG5ldyBFbHlzaWEoKVxuICAgICAqICAgICAuZ2V0KFwiL1wiLCAoKSA9PiAnaGknKVxuICAgICAqICAgICAubGlzdGVuKDMwMDApXG4gICAgICpcbiAgICAgKiAvLyBTb21ldGltZSBsYXRlclxuICAgICAqIGFwcC5zdG9wKClcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICB0aGlzLnN0b3AgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuc2VydmVyKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJFbHlzaWEgaXNuJ3QgcnVubmluZy4gQ2FsbCBgYXBwLmxpc3RlbmAgdG8gc3RhcnQgdGhlIHNlcnZlci5cIlxuICAgICAgICApO1xuICAgICAgaWYgKHRoaXMuc2VydmVyKSB7XG4gICAgICAgIHRoaXMuc2VydmVyLnN0b3AoKTtcbiAgICAgICAgdGhpcy5zZXJ2ZXIgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5ldmVudC5zdG9wLmxlbmd0aClcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXZlbnQuc3RvcC5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHRoaXMuZXZlbnQuc3RvcFtpXS5mbih0aGlzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChjb25maWc/LnRhZ3MpIHtcbiAgICAgIGlmICghY29uZmlnLmRldGFpbClcbiAgICAgICAgY29uZmlnLmRldGFpbCA9IHtcbiAgICAgICAgICB0YWdzOiBjb25maWcudGFnc1xuICAgICAgICB9O1xuICAgICAgZWxzZVxuICAgICAgICBjb25maWcuZGV0YWlsLnRhZ3MgPSBjb25maWcudGFncztcbiAgICB9XG4gICAgdGhpcy5jb25maWcgPSB7XG4gICAgICBmb3JjZUVycm9yRW5jYXBzdWxhdGlvbjogdHJ1ZSxcbiAgICAgIHByZWZpeDogXCJcIixcbiAgICAgIGFvdDogdHJ1ZSxcbiAgICAgIHN0cmljdFBhdGg6IGZhbHNlLFxuICAgICAgZ2xvYmFsOiBmYWxzZSxcbiAgICAgIGNvb2tpZToge1xuICAgICAgICBwYXRoOiBcIi9cIlxuICAgICAgfSxcbiAgICAgIGFuYWx5dGljOiBmYWxzZSxcbiAgICAgIC4uLmNvbmZpZyxcbiAgICAgIGV4cGVyaW1lbnRhbDogY29uZmlnPy5leHBlcmltZW50YWwgPz8ge30sXG4gICAgICBzZWVkOiBjb25maWc/LnNlZWQgPT09IHZvaWQgMCA/IFwiXCIgOiBjb25maWc/LnNlZWRcbiAgICB9O1xuICAgIGlmIChjb25maWc/LmFuYWx5dGljICYmIChjb25maWc/Lm5hbWUgfHwgY29uZmlnPy5zZWVkICE9PSB2b2lkIDApKVxuICAgICAgdGhpcy50ZWxlbWV0cnkuc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgfVxuICBnZXQgc3RvcmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2luZ2xldG9uLnN0b3JlO1xuICB9XG4gIGdldCBkZWNvcmF0b3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2luZ2xldG9uLmRlY29yYXRvcjtcbiAgfVxuICBnZXQgX3Njb3BlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcuc2NvcGVkO1xuICB9XG4gIGdldFNlcnZlcigpIHtcbiAgICByZXR1cm4gdGhpcy5zZXJ2ZXI7XG4gIH1cbiAgZ2V0IHJvdXRlcygpIHtcbiAgICByZXR1cm4gdGhpcy5yb3V0ZXIuaGlzdG9yeTtcbiAgfVxuICBhcHBseU1hY3JvKGxvY2FsSG9vaykge1xuICAgIGlmICh0aGlzLmV4dGVuZGVyLm1hY3Jvcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IG1hbmFnZSA9IGNyZWF0ZU1hY3JvTWFuYWdlcih7XG4gICAgICAgIGdsb2JhbEhvb2s6IHRoaXMuZXZlbnQsXG4gICAgICAgIGxvY2FsSG9va1xuICAgICAgfSk7XG4gICAgICBjb25zdCBtYW5hZ2VyID0ge1xuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICBnbG9iYWw6IHRoaXMuZXZlbnQsXG4gICAgICAgICAgbG9jYWw6IGxvY2FsSG9va1xuICAgICAgICB9LFxuICAgICAgICBvblBhcnNlOiBtYW5hZ2UoXCJwYXJzZVwiKSxcbiAgICAgICAgb25UcmFuc2Zvcm06IG1hbmFnZShcInRyYW5zZm9ybVwiKSxcbiAgICAgICAgb25CZWZvcmVIYW5kbGU6IG1hbmFnZShcImJlZm9yZUhhbmRsZVwiKSxcbiAgICAgICAgb25BZnRlckhhbmRsZTogbWFuYWdlKFwiYWZ0ZXJIYW5kbGVcIiksXG4gICAgICAgIG9uUmVzcG9uc2U6IG1hbmFnZShcIm9uUmVzcG9uc2VcIiksXG4gICAgICAgIG1hcFJlc3BvbnNlOiBtYW5hZ2UoXCJtYXBSZXNwb25zZVwiKSxcbiAgICAgICAgb25FcnJvcjogbWFuYWdlKFwiZXJyb3JcIilcbiAgICAgIH07XG4gICAgICBmb3IgKGNvbnN0IG1hY3JvIG9mIHRoaXMuZXh0ZW5kZXIubWFjcm9zKVxuICAgICAgICB0cmFjZUJhY2tNYWNybyhtYWNyby5mbihtYW5hZ2VyKSwgbG9jYWxIb29rKTtcbiAgICB9XG4gIH1cbiAgYWRkKG1ldGhvZCwgcGF0aCwgaGFuZGxlLCBsb2NhbEhvb2ssIHsgYWxsb3dNZXRhID0gZmFsc2UsIHNraXBQcmVmaXggPSBmYWxzZSB9ID0ge1xuICAgIGFsbG93TWV0YTogZmFsc2UsXG4gICAgc2tpcFByZWZpeDogZmFsc2VcbiAgfSkge1xuICAgIGxvY2FsSG9vayA9IGxvY2FsSG9va1RvTGlmZUN5Y2xlU3RvcmUobG9jYWxIb29rKTtcbiAgICBpZiAocGF0aCAhPT0gXCJcIiAmJiBwYXRoLmNoYXJDb2RlQXQoMCkgIT09IDQ3KVxuICAgICAgcGF0aCA9IFwiL1wiICsgcGF0aDtcbiAgICBpZiAodGhpcy5jb25maWcucHJlZml4ICYmICFza2lwUHJlZml4ICYmICF0aGlzLmNvbmZpZy5zY29wZWQpXG4gICAgICBwYXRoID0gdGhpcy5jb25maWcucHJlZml4ICsgcGF0aDtcbiAgICBpZiAobG9jYWxIb29rPy50eXBlKVxuICAgICAgc3dpdGNoIChsb2NhbEhvb2sudHlwZSkge1xuICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICAgIGxvY2FsSG9vay50eXBlID0gXCJ0ZXh0L3BsYWluXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJqc29uXCI6XG4gICAgICAgICAgbG9jYWxIb29rLnR5cGUgPSBcImFwcGxpY2F0aW9uL2pzb25cIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImZvcm1kYXRhXCI6XG4gICAgICAgICAgbG9jYWxIb29rLnR5cGUgPSBcIm11bHRpcGFydC9mb3JtLWRhdGFcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInVybGVuY29kZWRcIjpcbiAgICAgICAgICBsb2NhbEhvb2sudHlwZSA9IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhcnJheUJ1ZmZlclwiOlxuICAgICAgICAgIGxvY2FsSG9vay50eXBlID0gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjb25zdCBtb2RlbHMgPSB0aGlzLmRlZmluaXRpb25zLnR5cGU7XG4gICAgbGV0IF9ib2R5LCBfaGVhZGVycywgX3BhcmFtcywgX3F1ZXJ5LCBfY29va2llLCBfcmVzcG9uc2U7XG4gICAgY29uc3QgZHluYW1pYyA9ICF0aGlzLmNvbmZpZy5hb3Q7XG4gICAgY29uc3QgY2xvbmVkID0ge1xuICAgICAgYm9keTogbG9jYWxIb29rPy5ib2R5ID8/IHRoaXMudmFsaWRhdG9yPy5ib2R5LFxuICAgICAgaGVhZGVyczogbG9jYWxIb29rPy5oZWFkZXJzID8/IHRoaXMudmFsaWRhdG9yPy5oZWFkZXJzLFxuICAgICAgcGFyYW1zOiBsb2NhbEhvb2s/LnBhcmFtcyA/PyB0aGlzLnZhbGlkYXRvcj8ucGFyYW1zLFxuICAgICAgcXVlcnk6IGxvY2FsSG9vaz8ucXVlcnkgPz8gdGhpcy52YWxpZGF0b3I/LnF1ZXJ5LFxuICAgICAgY29va2llOiBsb2NhbEhvb2s/LmNvb2tpZSA/PyB0aGlzLnZhbGlkYXRvcj8uY29va2llLFxuICAgICAgcmVzcG9uc2U6IGxvY2FsSG9vaz8ucmVzcG9uc2UgPz8gdGhpcy52YWxpZGF0b3I/LnJlc3BvbnNlXG4gICAgfTtcbiAgICBjb25zdCBjb29raWVWYWxpZGF0b3IgPSAoKSA9PiBjbG9uZWQuY29va2llID8gZ2V0Q29va2llVmFsaWRhdG9yKHtcbiAgICAgIHZhbGlkYXRvcjogY2xvbmVkLmNvb2tpZSxcbiAgICAgIGRlZmF1bHRDb25maWc6IHRoaXMuY29uZmlnLmNvb2tpZSxcbiAgICAgIGNvbmZpZzogY2xvbmVkLmNvb2tpZT8uY29uZmlnID8/IHt9LFxuICAgICAgZHluYW1pYyxcbiAgICAgIG1vZGVsc1xuICAgIH0pIDogdm9pZCAwO1xuICAgIGNvbnN0IG5vcm1hbGl6ZSA9IHRoaXMuY29uZmlnLm5vcm1hbGl6ZTtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSB0aGlzLmNvbmZpZy5wcmVjb21waWxlID09PSB0cnVlIHx8IHR5cGVvZiB0aGlzLmNvbmZpZy5wcmVjb21waWxlID09PSBcIm9iamVjdFwiICYmIHRoaXMuY29uZmlnLnByZWNvbXBpbGUuc2NoZW1hID09PSB0cnVlID8ge1xuICAgICAgYm9keTogZ2V0U2NoZW1hVmFsaWRhdG9yKGNsb25lZC5ib2R5LCB7XG4gICAgICAgIGR5bmFtaWMsXG4gICAgICAgIG1vZGVscyxcbiAgICAgICAgbm9ybWFsaXplXG4gICAgICB9KSxcbiAgICAgIGhlYWRlcnM6IGdldFNjaGVtYVZhbGlkYXRvcihjbG9uZWQuaGVhZGVycywge1xuICAgICAgICBkeW5hbWljLFxuICAgICAgICBtb2RlbHMsXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiB0cnVlXG4gICAgICB9KSxcbiAgICAgIHBhcmFtczogZ2V0U2NoZW1hVmFsaWRhdG9yKGNsb25lZC5wYXJhbXMsIHtcbiAgICAgICAgZHluYW1pYyxcbiAgICAgICAgbW9kZWxzXG4gICAgICB9KSxcbiAgICAgIHF1ZXJ5OiBnZXRTY2hlbWFWYWxpZGF0b3IoY2xvbmVkLnF1ZXJ5LCB7XG4gICAgICAgIGR5bmFtaWMsXG4gICAgICAgIG1vZGVscyxcbiAgICAgICAgbm9ybWFsaXplXG4gICAgICB9KSxcbiAgICAgIGNvb2tpZTogY29va2llVmFsaWRhdG9yKCksXG4gICAgICByZXNwb25zZTogZ2V0UmVzcG9uc2VTY2hlbWFWYWxpZGF0b3IoY2xvbmVkLnJlc3BvbnNlLCB7XG4gICAgICAgIGR5bmFtaWMsXG4gICAgICAgIG1vZGVscyxcbiAgICAgICAgbm9ybWFsaXplXG4gICAgICB9KVxuICAgIH0gOiB7XG4gICAgICBnZXQgYm9keSgpIHtcbiAgICAgICAgaWYgKF9ib2R5KVxuICAgICAgICAgIHJldHVybiBfYm9keTtcbiAgICAgICAgcmV0dXJuIF9ib2R5ID0gZ2V0U2NoZW1hVmFsaWRhdG9yKGNsb25lZC5ib2R5LCB7XG4gICAgICAgICAgZHluYW1pYyxcbiAgICAgICAgICBtb2RlbHMsXG4gICAgICAgICAgbm9ybWFsaXplXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGdldCBoZWFkZXJzKCkge1xuICAgICAgICBpZiAoX2hlYWRlcnMpXG4gICAgICAgICAgcmV0dXJuIF9oZWFkZXJzO1xuICAgICAgICByZXR1cm4gZ2V0U2NoZW1hVmFsaWRhdG9yKGNsb25lZC5oZWFkZXJzLCB7XG4gICAgICAgICAgZHluYW1pYyxcbiAgICAgICAgICBtb2RlbHMsXG4gICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZ2V0IHBhcmFtcygpIHtcbiAgICAgICAgaWYgKF9wYXJhbXMpXG4gICAgICAgICAgcmV0dXJuIF9wYXJhbXM7XG4gICAgICAgIHJldHVybiBfcGFyYW1zID0gZ2V0U2NoZW1hVmFsaWRhdG9yKFxuICAgICAgICAgIGNsb25lZC5wYXJhbXMsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZHluYW1pYyxcbiAgICAgICAgICAgIG1vZGVsc1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBnZXQgcXVlcnkoKSB7XG4gICAgICAgIGlmIChfcXVlcnkpXG4gICAgICAgICAgcmV0dXJuIF9xdWVyeTtcbiAgICAgICAgcmV0dXJuIF9xdWVyeSA9IGdldFNjaGVtYVZhbGlkYXRvcihjbG9uZWQucXVlcnksIHtcbiAgICAgICAgICBkeW5hbWljLFxuICAgICAgICAgIG1vZGVsc1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBnZXQgY29va2llKCkge1xuICAgICAgICBpZiAoX2Nvb2tpZSlcbiAgICAgICAgICByZXR1cm4gX2Nvb2tpZTtcbiAgICAgICAgcmV0dXJuIF9jb29raWUgPSBjb29raWVWYWxpZGF0b3IoKTtcbiAgICAgIH0sXG4gICAgICBnZXQgcmVzcG9uc2UoKSB7XG4gICAgICAgIGlmIChfcmVzcG9uc2UpXG4gICAgICAgICAgcmV0dXJuIF9yZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIF9yZXNwb25zZSA9IGdldFJlc3BvbnNlU2NoZW1hVmFsaWRhdG9yKFxuICAgICAgICAgIGNsb25lZC5yZXNwb25zZSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkeW5hbWljLFxuICAgICAgICAgICAgbW9kZWxzLFxuICAgICAgICAgICAgbm9ybWFsaXplXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbG9vc2VQYXRoID0gcGF0aC5lbmRzV2l0aChcIi9cIikgPyBwYXRoLnNsaWNlKDAsIHBhdGgubGVuZ3RoIC0gMSkgOiBwYXRoICsgXCIvXCI7XG4gICAgbG9jYWxIb29rID0gbWVyZ2VIb29rKGxvY2FsSG9vaywge30sIHsgYWxsb3dNYWNybzogdHJ1ZSB9KTtcbiAgICBpZiAobG9jYWxIb29rLnRhZ3MpIHtcbiAgICAgIGlmICghbG9jYWxIb29rLmRldGFpbClcbiAgICAgICAgbG9jYWxIb29rLmRldGFpbCA9IHtcbiAgICAgICAgICB0YWdzOiBsb2NhbEhvb2sudGFnc1xuICAgICAgICB9O1xuICAgICAgZWxzZVxuICAgICAgICBsb2NhbEhvb2suZGV0YWlsLnRhZ3MgPSBsb2NhbEhvb2sudGFncztcbiAgICB9XG4gICAgaWYgKGlzTm90RW1wdHkodGhpcy5jb25maWcuZGV0YWlsKSlcbiAgICAgIGxvY2FsSG9vay5kZXRhaWwgPSBtZXJnZURlZXAoXG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY29uZmlnLmRldGFpbCksXG4gICAgICAgIGxvY2FsSG9vay5kZXRhaWxcbiAgICAgICk7XG4gICAgdGhpcy5hcHBseU1hY3JvKGxvY2FsSG9vayk7XG4gICAgY29uc3QgaG9va3MgPSBtZXJnZUhvb2sodGhpcy5ldmVudCwgbG9jYWxIb29rKTtcbiAgICBpZiAodGhpcy5jb25maWcuYW90ID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5yb3V0ZXIuZHluYW1pYy5hZGQobWV0aG9kLCBwYXRoLCB7XG4gICAgICAgIHZhbGlkYXRvcixcbiAgICAgICAgaG9va3MsXG4gICAgICAgIGNvbnRlbnQ6IGxvY2FsSG9vaz8udHlwZSxcbiAgICAgICAgaGFuZGxlXG4gICAgICB9KTtcbiAgICAgIGlmICh0aGlzLmNvbmZpZy5zdHJpY3RQYXRoID09PSBmYWxzZSkge1xuICAgICAgICB0aGlzLnJvdXRlci5keW5hbWljLmFkZChtZXRob2QsIGxvb3NlUGF0aCwge1xuICAgICAgICAgIHZhbGlkYXRvcixcbiAgICAgICAgICBob29rcyxcbiAgICAgICAgICBjb250ZW50OiBsb2NhbEhvb2s/LnR5cGUsXG4gICAgICAgICAgaGFuZGxlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5yb3V0ZXIuaGlzdG9yeS5wdXNoKHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBwYXRoLFxuICAgICAgICBjb21wb3NlZDogbnVsbCxcbiAgICAgICAgaGFuZGxlcjogaGFuZGxlLFxuICAgICAgICBob29rc1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBjb21wb3NlZCA9IHZvaWQgMDtcbiAgICBjb25zdCBzaG91bGRQcmVjb21waWxlID0gdGhpcy5jb25maWcucHJlY29tcGlsZSA9PT0gdHJ1ZSB8fCB0eXBlb2YgdGhpcy5jb25maWcucHJlY29tcGlsZSA9PT0gXCJvYmplY3RcIiAmJiB0aGlzLmNvbmZpZy5wcmVjb21waWxlLmNvbXBvc2UgPT09IHRydWU7XG4gICAgY29uc3QgYXBwSW5mZXJlbmNlID0gY2xvbmVJbmZlcmVuY2UodGhpcy5pbmZlcmVuY2UpO1xuICAgIGNvbnN0IG1haW5IYW5kbGVyID0gc2hvdWxkUHJlY29tcGlsZSA/IGNvbXBvc2VIYW5kbGVyKHtcbiAgICAgIGFwcDogdGhpcyxcbiAgICAgIHBhdGgsXG4gICAgICBtZXRob2QsXG4gICAgICBsb2NhbEhvb2s6IG1lcmdlSG9vayhsb2NhbEhvb2spLFxuICAgICAgaG9va3MsXG4gICAgICB2YWxpZGF0b3IsXG4gICAgICBoYW5kbGVyOiBoYW5kbGUsXG4gICAgICBhbGxvd01ldGEsXG4gICAgICBhcHBJbmZlcmVuY2VcbiAgICB9KSA6IChjb250ZXh0KSA9PiB7XG4gICAgICBpZiAoY29tcG9zZWQpXG4gICAgICAgIHJldHVybiBjb21wb3NlZChjb250ZXh0KTtcbiAgICAgIHJldHVybiAoY29tcG9zZWQgPSBjb21wb3NlSGFuZGxlcih7XG4gICAgICAgIGFwcDogdGhpcyxcbiAgICAgICAgcGF0aCxcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBsb2NhbEhvb2s6IG1lcmdlSG9vayhsb2NhbEhvb2spLFxuICAgICAgICBob29rcyxcbiAgICAgICAgdmFsaWRhdG9yLFxuICAgICAgICBoYW5kbGVyOiBoYW5kbGUsXG4gICAgICAgIGFsbG93TWV0YSxcbiAgICAgICAgYXBwSW5mZXJlbmNlXG4gICAgICB9KSkoY29udGV4dCk7XG4gICAgfTtcbiAgICBpZiAoIXNob3VsZFByZWNvbXBpbGUpXG4gICAgICBtYWluSGFuZGxlci5jb21wb3NlID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gbWFpbkhhbmRsZXIuY29tcG9zZWQgPSBjb21wb3NlSGFuZGxlcih7XG4gICAgICAgICAgYXBwOiB0aGlzLFxuICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgIGxvY2FsSG9vazogbWVyZ2VIb29rKGxvY2FsSG9vayksXG4gICAgICAgICAgaG9va3MsXG4gICAgICAgICAgdmFsaWRhdG9yLFxuICAgICAgICAgIGhhbmRsZXI6IGhhbmRsZSxcbiAgICAgICAgICBhbGxvd01ldGEsXG4gICAgICAgICAgYXBwSW5mZXJlbmNlXG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICBsZXQgcm91dGVJbmRleCA9IHRoaXMucm91dGVyLmhpc3RvcnkubGVuZ3RoO1xuICAgIGlmICh0aGlzLnJvdXRlVHJlZS5oYXMobWV0aG9kICsgcGF0aCkpIHtcbiAgICAgIHJvdXRlSW5kZXggPSB0aGlzLnJvdXRlci5oaXN0b3J5LmZpbmRJbmRleChcbiAgICAgICAgKHJvdXRlKSA9PiByb3V0ZS5wYXRoID09PSBwYXRoICYmIHJvdXRlLm1ldGhvZCA9PT0gbWV0aG9kXG4gICAgICApO1xuICAgICAgaWYgKHJvdXRlSW5kZXggIT09IC0xKSB7XG4gICAgICAgIGNvbnN0IHJlbW92ZWQgPSB0aGlzLnJvdXRlci5oaXN0b3J5LnNwbGljZShyb3V0ZUluZGV4LCAxKVswXTtcbiAgICAgICAgaWYgKHJlbW92ZWQgJiYgdGhpcy5yb3V0ZVRyZWUuaGFzKHJlbW92ZWQ/Lm1ldGhvZCArIHJlbW92ZWQ/LnBhdGgpKVxuICAgICAgICAgIHRoaXMucm91dGVUcmVlLmRlbGV0ZShyZW1vdmVkLm1ldGhvZCArIHJlbW92ZWQucGF0aCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucm91dGVUcmVlLnNldChtZXRob2QgKyBwYXRoLCByb3V0ZUluZGV4KTtcbiAgICB0aGlzLnJvdXRlci5oaXN0b3J5LnB1c2goe1xuICAgICAgbWV0aG9kLFxuICAgICAgcGF0aCxcbiAgICAgIGNvbXBvc2VkOiBtYWluSGFuZGxlcixcbiAgICAgIGhhbmRsZXI6IGhhbmRsZSxcbiAgICAgIGhvb2tzXG4gICAgfSk7XG4gICAgY29uc3Qgc3RhdGljUm91dGVyID0gdGhpcy5yb3V0ZXIuc3RhdGljLmh0dHA7XG4gICAgaWYgKG1ldGhvZCA9PT0gXCIkSU5URVJOQUxXU1wiKSB7XG4gICAgICBjb25zdCBsb29zZSA9IHRoaXMuY29uZmlnLnN0cmljdFBhdGggPyB2b2lkIDAgOiBwYXRoLmVuZHNXaXRoKFwiL1wiKSA/IHBhdGguc2xpY2UoMCwgcGF0aC5sZW5ndGggLSAxKSA6IHBhdGggKyBcIi9cIjtcbiAgICAgIGlmIChwYXRoLmluZGV4T2YoXCI6XCIpID09PSAtMSAmJiBwYXRoLmluZGV4T2YoXCIqXCIpID09PSAtMSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHN0YXRpY1JvdXRlci5oYW5kbGVycy5sZW5ndGg7XG4gICAgICAgIHN0YXRpY1JvdXRlci5oYW5kbGVycy5wdXNoKG1haW5IYW5kbGVyKTtcbiAgICAgICAgc3RhdGljUm91dGVyLnZhcmlhYmxlcyArPSBgY29uc3Qgc3Qke2luZGV4fSA9IHN0YXRpY1JvdXRlci5oYW5kbGVyc1ske2luZGV4fV1cbmA7XG4gICAgICAgIHRoaXMucm91dGVyLnN0YXRpYy53c1twYXRoXSA9IGluZGV4O1xuICAgICAgICBpZiAobG9vc2UpXG4gICAgICAgICAgdGhpcy5yb3V0ZXIuc3RhdGljLndzW2xvb3NlXSA9IGluZGV4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yb3V0ZXIud3MuYWRkKFwid3NcIiwgcGF0aCwgbWFpbkhhbmRsZXIpO1xuICAgICAgICBpZiAobG9vc2UpXG4gICAgICAgICAgdGhpcy5yb3V0ZXIud3MuYWRkKFwid3NcIiwgbG9vc2UsIG1haW5IYW5kbGVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHBhdGguaW5kZXhPZihcIjpcIikgPT09IC0xICYmIHBhdGguaW5kZXhPZihcIipcIikgPT09IC0xKSB7XG4gICAgICBjb25zdCBpbmRleCA9IHN0YXRpY1JvdXRlci5oYW5kbGVycy5sZW5ndGg7XG4gICAgICBzdGF0aWNSb3V0ZXIuaGFuZGxlcnMucHVzaChtYWluSGFuZGxlcik7XG4gICAgICBzdGF0aWNSb3V0ZXIudmFyaWFibGVzICs9IHNob3VsZFByZWNvbXBpbGUgPyBgY29uc3Qgc3Qke2luZGV4fSA9IHN0YXRpY1JvdXRlci5oYW5kbGVyc1ske2luZGV4fV1cbmAgOiBgbGV0IHN0JHtpbmRleH0gPSBzdGF0aWNSb3V0ZXIuaGFuZGxlcnNbJHtpbmRleH1dXG5sZXQgc3RjJHtpbmRleH1cbmA7XG4gICAgICBpZiAoIXN0YXRpY1JvdXRlci5tYXBbcGF0aF0pXG4gICAgICAgIHN0YXRpY1JvdXRlci5tYXBbcGF0aF0gPSB7XG4gICAgICAgICAgY29kZTogXCJcIlxuICAgICAgICB9O1xuICAgICAgaWYgKG1ldGhvZCA9PT0gXCJBTExcIilcbiAgICAgICAgc3RhdGljUm91dGVyLm1hcFtwYXRoXS5hbGwgPSBzaG91bGRQcmVjb21waWxlID8gYGRlZmF1bHQ6IHJldHVybiBzdCR7aW5kZXh9KGN0eClcbmAgOiBgZGVmYXVsdDogJHtqaXRSb3V0ZShpbmRleCl9XG5gO1xuICAgICAgZWxzZVxuICAgICAgICBzdGF0aWNSb3V0ZXIubWFwW3BhdGhdLmNvZGUgPSBzaG91bGRQcmVjb21waWxlID8gYGNhc2UgJyR7bWV0aG9kfSc6IHJldHVybiBzdCR7aW5kZXh9KGN0eClcbiR7c3RhdGljUm91dGVyLm1hcFtwYXRoXS5jb2RlfWAgOiBgY2FzZSAnJHttZXRob2R9JzogJHtqaXRSb3V0ZShpbmRleCl9XG4ke3N0YXRpY1JvdXRlci5tYXBbcGF0aF0uY29kZX1gO1xuICAgICAgaWYgKCF0aGlzLmNvbmZpZy5zdHJpY3RQYXRoKSB7XG4gICAgICAgIGlmICghc3RhdGljUm91dGVyLm1hcFtsb29zZVBhdGhdKVxuICAgICAgICAgIHN0YXRpY1JvdXRlci5tYXBbbG9vc2VQYXRoXSA9IHtcbiAgICAgICAgICAgIGNvZGU6IFwiXCJcbiAgICAgICAgICB9O1xuICAgICAgICBpZiAobWV0aG9kID09PSBcIkFMTFwiKVxuICAgICAgICAgIHN0YXRpY1JvdXRlci5tYXBbbG9vc2VQYXRoXS5hbGwgPSBzaG91bGRQcmVjb21waWxlID8gYGRlZmF1bHQ6IHJldHVybiBzdCR7aW5kZXh9KGN0eClcbmAgOiBgZGVmYXVsdDogJHtqaXRSb3V0ZShpbmRleCl9XG5gO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgc3RhdGljUm91dGVyLm1hcFtsb29zZVBhdGhdLmNvZGUgPSBzaG91bGRQcmVjb21waWxlID8gYGNhc2UgJyR7bWV0aG9kfSc6IHJldHVybiBzdCR7aW5kZXh9KGN0eClcbiR7c3RhdGljUm91dGVyLm1hcFtsb29zZVBhdGhdLmNvZGV9YCA6IGBjYXNlICcke21ldGhvZH0nOiAke2ppdFJvdXRlKGluZGV4KX1cbiR7c3RhdGljUm91dGVyLm1hcFtsb29zZVBhdGhdLmNvZGV9YDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yb3V0ZXIuaHR0cC5hZGQobWV0aG9kLCBwYXRoLCBtYWluSGFuZGxlcik7XG4gICAgICBpZiAoIXRoaXMuY29uZmlnLnN0cmljdFBhdGgpXG4gICAgICAgIHRoaXMucm91dGVyLmh0dHAuYWRkKFxuICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICBwYXRoLmVuZHNXaXRoKFwiL1wiKSA/IHBhdGguc2xpY2UoMCwgcGF0aC5sZW5ndGggLSAxKSA6IHBhdGggKyBcIi9cIixcbiAgICAgICAgICBtYWluSGFuZGxlclxuICAgICAgICApO1xuICAgIH1cbiAgfVxuICBoZWFkZXJzKGhlYWRlcikge1xuICAgIGlmICghaGVhZGVyKVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgaWYgKCF0aGlzLnNldEhlYWRlcnMpXG4gICAgICB0aGlzLnNldEhlYWRlcnMgPSB7fTtcbiAgICB0aGlzLnNldEhlYWRlcnMgPSBtZXJnZURlZXAodGhpcy5zZXRIZWFkZXJzLCBoZWFkZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiAjIyMgc3RhcnQgfCBMaWZlIGN5Y2xlIGV2ZW50XG4gICAqIENhbGxlZCBhZnRlciBzZXJ2ZXIgaXMgcmVhZHkgZm9yIHNlcnZpbmdcbiAgICpcbiAgICogLS0tXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogbmV3IEVseXNpYSgpXG4gICAqICAgICAub25TdGFydCgoeyB1cmwsIHBvcnQgfSkgPT4ge1xuICAgKiAgICAgICAgIGNvbnNvbGUubG9nKFwiUnVubmluZyBhdCAke3VybH06JHtwb3J0fVwiKVxuICAgKiAgICAgfSlcbiAgICogICAgIC5saXN0ZW4oMzAwMClcbiAgICogYGBgXG4gICAqL1xuICBvblN0YXJ0KGhhbmRsZXIpIHtcbiAgICB0aGlzLm9uKFwic3RhcnRcIiwgaGFuZGxlcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqICMjIyByZXF1ZXN0IHwgTGlmZSBjeWNsZSBldmVudFxuICAgKiBDYWxsZWQgb24gZXZlcnkgbmV3IHJlcXVlc3QgaXMgYWNjZXB0ZWRcbiAgICpcbiAgICogLS0tXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogbmV3IEVseXNpYSgpXG4gICAqICAgICAub25SZXF1ZXN0KCh7IG1ldGhvZCwgdXJsIH0pID0+IHtcbiAgICogICAgICAgICBzYXZlVG9BbmFseXRpYyh7IG1ldGhvZCwgdXJsIH0pXG4gICAqICAgICB9KVxuICAgKiBgYGBcbiAgICovXG4gIG9uUmVxdWVzdChoYW5kbGVyKSB7XG4gICAgdGhpcy5vbihcInJlcXVlc3RcIiwgaGFuZGxlcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgb25QYXJzZShvcHRpb25zLCBoYW5kbGVyKSB7XG4gICAgaWYgKCFoYW5kbGVyKVxuICAgICAgcmV0dXJuIHRoaXMub24oXCJwYXJzZVwiLCBvcHRpb25zKTtcbiAgICByZXR1cm4gdGhpcy5vbihcbiAgICAgIG9wdGlvbnMsXG4gICAgICBcInBhcnNlXCIsXG4gICAgICBoYW5kbGVyXG4gICAgKTtcbiAgfVxuICBvblRyYW5zZm9ybShvcHRpb25zLCBoYW5kbGVyKSB7XG4gICAgaWYgKCFoYW5kbGVyKVxuICAgICAgcmV0dXJuIHRoaXMub24oXCJ0cmFuc2Zvcm1cIiwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHRoaXMub24oXG4gICAgICBvcHRpb25zLFxuICAgICAgXCJ0cmFuc2Zvcm1cIixcbiAgICAgIGhhbmRsZXJcbiAgICApO1xuICB9XG4gIHJlc29sdmUob3B0aW9uc09yUmVzb2x2ZSwgcmVzb2x2ZSkge1xuICAgIGlmICghcmVzb2x2ZSkge1xuICAgICAgcmVzb2x2ZSA9IG9wdGlvbnNPclJlc29sdmU7XG4gICAgICBvcHRpb25zT3JSZXNvbHZlID0geyBhczogXCJsb2NhbFwiIH07XG4gICAgfVxuICAgIGNvbnN0IGhvb2sgPSB7XG4gICAgICBzdWJUeXBlOiBcInJlc29sdmVcIixcbiAgICAgIGZuOiByZXNvbHZlXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5vbkJlZm9yZUhhbmRsZShvcHRpb25zT3JSZXNvbHZlLCBob29rKTtcbiAgfVxuICBtYXBSZXNvbHZlKG9wdGlvbnNPclJlc29sdmUsIG1hcHBlcikge1xuICAgIGlmICghbWFwcGVyKSB7XG4gICAgICBtYXBwZXIgPSBvcHRpb25zT3JSZXNvbHZlO1xuICAgICAgb3B0aW9uc09yUmVzb2x2ZSA9IHsgYXM6IFwibG9jYWxcIiB9O1xuICAgIH1cbiAgICBjb25zdCBob29rID0ge1xuICAgICAgc3ViVHlwZTogXCJyZXNvbHZlXCIsXG4gICAgICBmbjogbWFwcGVyXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5vbkJlZm9yZUhhbmRsZShvcHRpb25zT3JSZXNvbHZlLCBob29rKTtcbiAgfVxuICBvbkJlZm9yZUhhbmRsZShvcHRpb25zLCBoYW5kbGVyKSB7XG4gICAgaWYgKCFoYW5kbGVyKVxuICAgICAgcmV0dXJuIHRoaXMub24oXCJiZWZvcmVIYW5kbGVcIiwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHRoaXMub24oXG4gICAgICBvcHRpb25zLFxuICAgICAgXCJiZWZvcmVIYW5kbGVcIixcbiAgICAgIGhhbmRsZXJcbiAgICApO1xuICB9XG4gIG9uQWZ0ZXJIYW5kbGUob3B0aW9ucywgaGFuZGxlcikge1xuICAgIGlmICghaGFuZGxlcilcbiAgICAgIHJldHVybiB0aGlzLm9uKFwiYWZ0ZXJIYW5kbGVcIiwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHRoaXMub24oXG4gICAgICBvcHRpb25zLFxuICAgICAgXCJhZnRlckhhbmRsZVwiLFxuICAgICAgaGFuZGxlclxuICAgICk7XG4gIH1cbiAgbWFwUmVzcG9uc2Uob3B0aW9ucywgaGFuZGxlcikge1xuICAgIGlmICghaGFuZGxlcilcbiAgICAgIHJldHVybiB0aGlzLm9uKFwibWFwUmVzcG9uc2VcIiwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHRoaXMub24oXG4gICAgICBvcHRpb25zLFxuICAgICAgXCJtYXBSZXNwb25zZVwiLFxuICAgICAgaGFuZGxlclxuICAgICk7XG4gIH1cbiAgb25SZXNwb25zZShvcHRpb25zLCBoYW5kbGVyKSB7XG4gICAgaWYgKCFoYW5kbGVyKVxuICAgICAgcmV0dXJuIHRoaXMub24oXCJyZXNwb25zZVwiLCBvcHRpb25zKTtcbiAgICByZXR1cm4gdGhpcy5vbihcbiAgICAgIG9wdGlvbnMsXG4gICAgICBcInJlc3BvbnNlXCIsXG4gICAgICBoYW5kbGVyXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogIyMjIEFmdGVyIEhhbmRsZSB8IExpZmUgY3ljbGUgZXZlbnRcbiAgICogSW50ZXJjZXB0IHJlcXVlc3QgKiphZnRlcioqIG1haW4gaGFuZGxlciBpcyBjYWxsZWQuXG4gICAqXG4gICAqIElmIHRydXRoeSB2YWx1ZSBpcyByZXR1cm5lZCwgd2lsbCBiZSBhc3NpZ25lZCBhcyBgUmVzcG9uc2VgXG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIG5ldyBFbHlzaWEoKVxuICAgKiAgICAgLm9uQWZ0ZXJIYW5kbGUoKGNvbnRleHQsIHJlc3BvbnNlKSA9PiB7XG4gICAqICAgICAgICAgaWYodHlwZW9mIHJlc3BvbnNlID09PSBcIm9iamVjdFwiKVxuICAgKiAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpXG4gICAqICAgICB9KVxuICAgKiBgYGBcbiAgICovXG4gIHRyYWNlKG9wdGlvbnMsIGhhbmRsZXIpIHtcbiAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgIGhhbmRsZXIgPSBvcHRpb25zO1xuICAgICAgb3B0aW9ucyA9IHsgYXM6IFwibG9jYWxcIiB9O1xuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoaGFuZGxlcikpXG4gICAgICBoYW5kbGVyID0gW2hhbmRsZXJdO1xuICAgIGZvciAoY29uc3QgZm4gb2YgaGFuZGxlcilcbiAgICAgIHRoaXMucmVwb3J0ZXIub24oXG4gICAgICAgIFwiZXZlbnRcIixcbiAgICAgICAgY3JlYXRlVHJhY2VMaXN0ZW5lcihcbiAgICAgICAgICAoKSA9PiB0aGlzLnJlcG9ydGVyLFxuICAgICAgICAgIHRoaXMuZXZlbnQudHJhY2UubGVuZ3RoLFxuICAgICAgICAgIGZuXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgdGhpcy5vbihvcHRpb25zLCBcInRyYWNlXCIsIGhhbmRsZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGVycm9yKG5hbWUsIGVycm9yMikge1xuICAgIHN3aXRjaCAodHlwZW9mIG5hbWUpIHtcbiAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgZXJyb3IyLnByb3RvdHlwZVtFUlJPUl9DT0RFXSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbnMuZXJyb3JbbmFtZV0gPSBlcnJvcjI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbnMuZXJyb3IgPSBuYW1lKHRoaXMuZGVmaW5pdGlvbnMuZXJyb3IpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZm9yIChjb25zdCBbY29kZSwgZXJyb3IzXSBvZiBPYmplY3QuZW50cmllcyhuYW1lKSkge1xuICAgICAgZXJyb3IzLnByb3RvdHlwZVtFUlJPUl9DT0RFXSA9IGNvZGU7XG4gICAgICB0aGlzLmRlZmluaXRpb25zLmVycm9yW2NvZGVdID0gZXJyb3IzO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIEVycm9yIHwgTGlmZSBjeWNsZSBldmVudFxuICAgKiBDYWxsZWQgd2hlbiBlcnJvciBpcyB0aHJvd24gZHVyaW5nIHByb2Nlc3NpbmcgcmVxdWVzdFxuICAgKlxuICAgKiAtLS1cbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiBuZXcgRWx5c2lhKClcbiAgICogICAgIC5vbkVycm9yKCh7IGNvZGUgfSkgPT4ge1xuICAgKiAgICAgICAgIGlmKGNvZGUgPT09IFwiTk9UX0ZPVU5EXCIpXG4gICAqICAgICAgICAgICAgIHJldHVybiBcIlBhdGggbm90IGZvdW5kIDooXCJcbiAgICogICAgIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgb25FcnJvcihvcHRpb25zLCBoYW5kbGVyKSB7XG4gICAgaWYgKCFoYW5kbGVyKVxuICAgICAgcmV0dXJuIHRoaXMub24oXCJlcnJvclwiLCBvcHRpb25zKTtcbiAgICByZXR1cm4gdGhpcy5vbihcbiAgICAgIG9wdGlvbnMsXG4gICAgICBcImVycm9yXCIsXG4gICAgICBoYW5kbGVyXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogIyMjIHN0b3AgfCBMaWZlIGN5Y2xlIGV2ZW50XG4gICAqIENhbGxlZCBhZnRlciBzZXJ2ZXIgc3RvcCBzZXJ2aW5nIHJlcXVlc3RcbiAgICpcbiAgICogLS0tXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogbmV3IEVseXNpYSgpXG4gICAqICAgICAub25TdG9wKChhcHApID0+IHtcbiAgICogICAgICAgICBjbGVhbnVwKClcbiAgICogICAgIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgb25TdG9wKGhhbmRsZXIpIHtcbiAgICB0aGlzLm9uKFwic3RvcFwiLCBoYW5kbGVyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBvbihvcHRpb25zT3JUeXBlLCB0eXBlT3JIYW5kbGVycywgaGFuZGxlcnMpIHtcbiAgICBsZXQgdHlwZTtcbiAgICBzd2l0Y2ggKHR5cGVvZiBvcHRpb25zT3JUeXBlKSB7XG4gICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgIHR5cGUgPSBvcHRpb25zT3JUeXBlO1xuICAgICAgICBoYW5kbGVycyA9IHR5cGVPckhhbmRsZXJzO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgdHlwZSA9IHR5cGVPckhhbmRsZXJzO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFwicmVzcG9uc2VcIilcbiAgICAgIHR5cGUgPSBcIm9uUmVzcG9uc2VcIjtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShoYW5kbGVycykpXG4gICAgICBoYW5kbGVycyA9IGZuVG9Db250YWluZXIoaGFuZGxlcnMpO1xuICAgIGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiBoYW5kbGVycyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBoYW5kbGVycyA9IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmbjogaGFuZGxlcnNcbiAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICBlbHNlXG4gICAgICAgIGhhbmRsZXJzID0gW2hhbmRsZXJzXTtcbiAgICB9XG4gICAgY29uc3QgaGFuZGxlcyA9IGhhbmRsZXJzO1xuICAgIGZvciAoY29uc3QgaGFuZGxlIG9mIGhhbmRsZXMpXG4gICAgICBoYW5kbGUuc2NvcGUgPSB0eXBlb2Ygb3B0aW9uc09yVHlwZSA9PT0gXCJzdHJpbmdcIiA/IFwibG9jYWxcIiA6IG9wdGlvbnNPclR5cGU/LmFzID8/IFwibG9jYWxcIjtcbiAgICBpZiAodHlwZSA9PT0gXCJ0cmFjZVwiKVxuICAgICAgc3Vjcm9zZVRyYWNlKFxuICAgICAgICBoYW5kbGVzLm1hcCgoeCkgPT4geC5mbiksXG4gICAgICAgIHRoaXMuaW5mZXJlbmNlLnRyYWNlXG4gICAgICApO1xuICAgIGVsc2VcbiAgICAgIHN1Y3Jvc2UoXG4gICAgICAgIHtcbiAgICAgICAgICBbdHlwZV06IGhhbmRsZXMubWFwKCh4KSA9PiB4LmZuKVxuICAgICAgICB9LFxuICAgICAgICB0aGlzLmluZmVyZW5jZS5ldmVudFxuICAgICAgKTtcbiAgICBmb3IgKGNvbnN0IGhhbmRsZSBvZiBoYW5kbGVzKSB7XG4gICAgICBjb25zdCBmbiA9IGFzSG9va1R5cGUoaGFuZGxlLCBcImdsb2JhbFwiLCB7IHNraXBJZkhhc1R5cGU6IHRydWUgfSk7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcInN0YXJ0XCI6XG4gICAgICAgICAgdGhpcy5ldmVudC5zdGFydC5wdXNoKGZuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInJlcXVlc3RcIjpcbiAgICAgICAgICB0aGlzLmV2ZW50LnJlcXVlc3QucHVzaChmbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwYXJzZVwiOlxuICAgICAgICAgIHRoaXMuZXZlbnQucGFyc2UucHVzaChmbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0cmFuc2Zvcm1cIjpcbiAgICAgICAgICB0aGlzLmV2ZW50LnRyYW5zZm9ybS5wdXNoKGZuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJlZm9yZUhhbmRsZVwiOlxuICAgICAgICAgIHRoaXMuZXZlbnQuYmVmb3JlSGFuZGxlLnB1c2goZm4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWZ0ZXJIYW5kbGVcIjpcbiAgICAgICAgICB0aGlzLmV2ZW50LmFmdGVySGFuZGxlLnB1c2goZm4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWFwUmVzcG9uc2VcIjpcbiAgICAgICAgICB0aGlzLmV2ZW50Lm1hcFJlc3BvbnNlLnB1c2goZm4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib25SZXNwb25zZVwiOlxuICAgICAgICAgIHRoaXMuZXZlbnQub25SZXNwb25zZS5wdXNoKGZuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRyYWNlXCI6XG4gICAgICAgICAgdGhpcy5ldmVudC50cmFjZS5wdXNoKGZuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgdGhpcy5ldmVudC5lcnJvci5wdXNoKGZuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0b3BcIjpcbiAgICAgICAgICB0aGlzLmV2ZW50LnN0b3AucHVzaChmbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHByb3BhZ2F0ZSgpIHtcbiAgICBjb25zdCBwcm9tb3RlRXZlbnQgPSAoZXZlbnRzKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGV2ZW50cykge1xuICAgICAgICBpZiAoXCJzY29wZVwiIGluIGV2ZW50ICYmIGV2ZW50LnNjb3BlID09PSBcImxvY2FsXCIpXG4gICAgICAgICAgZXZlbnQuc2NvcGUgPSBcInNjb3BlZFwiO1xuICAgICAgfVxuICAgIH07XG4gICAgcHJvbW90ZUV2ZW50KHRoaXMuZXZlbnQucGFyc2UpO1xuICAgIHByb21vdGVFdmVudCh0aGlzLmV2ZW50LnRyYW5zZm9ybSk7XG4gICAgcHJvbW90ZUV2ZW50KHRoaXMuZXZlbnQuYmVmb3JlSGFuZGxlKTtcbiAgICBwcm9tb3RlRXZlbnQodGhpcy5ldmVudC5hZnRlckhhbmRsZSk7XG4gICAgcHJvbW90ZUV2ZW50KHRoaXMuZXZlbnQubWFwUmVzcG9uc2UpO1xuICAgIHByb21vdGVFdmVudCh0aGlzLmV2ZW50Lm9uUmVzcG9uc2UpO1xuICAgIHByb21vdGVFdmVudCh0aGlzLmV2ZW50LnRyYWNlKTtcbiAgICBwcm9tb3RlRXZlbnQodGhpcy5ldmVudC5lcnJvcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqICMjIyBncm91cFxuICAgKiBFbmNhcHN1bGF0ZSBhbmQgZ3JvdXAgcGF0aCB3aXRoIHByZWZpeFxuICAgKlxuICAgKiAtLS1cbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiBuZXcgRWx5c2lhKClcbiAgICogICAgIC5ncm91cCgnL3YxJywgYXBwID0+IGFwcFxuICAgKiAgICAgICAgIC5nZXQoJy8nLCAoKSA9PiAnSGknKVxuICAgKiAgICAgICAgIC5nZXQoJy9uYW1lJywgKCkgPT4gJ0VseXNpYScpXG4gICAqICAgICB9KVxuICAgKiBgYGBcbiAgICovXG4gIGdyb3VwKHByZWZpeCwgc2NoZW1hT3JSdW4sIHJ1bikge1xuICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IF9FbHlzaWEoe1xuICAgICAgLi4udGhpcy5jb25maWcsXG4gICAgICBwcmVmaXg6IFwiXCJcbiAgICB9KTtcbiAgICBpbnN0YW5jZS5zaW5nbGV0b24gPSB7IC4uLnRoaXMuc2luZ2xldG9uIH07XG4gICAgaW5zdGFuY2UuZGVmaW5pdGlvbnMgPSB7IC4uLnRoaXMuZGVmaW5pdGlvbnMgfTtcbiAgICBpbnN0YW5jZS5nZXRTZXJ2ZXIgPSAoKSA9PiB0aGlzLnNlcnZlcjtcbiAgICBpbnN0YW5jZS5pbmZlcmVuY2UgPSBjbG9uZUluZmVyZW5jZSh0aGlzLmluZmVyZW5jZSk7XG4gICAgaW5zdGFuY2UuZXh0ZW5kZXIgPSB7IC4uLnRoaXMuZXh0ZW5kZXIgfTtcbiAgICBjb25zdCBpc1NjaGVtYSA9IHR5cGVvZiBzY2hlbWFPclJ1biA9PT0gXCJvYmplY3RcIjtcbiAgICBjb25zdCBzYW5kYm94ID0gKGlzU2NoZW1hID8gcnVuIDogc2NoZW1hT3JSdW4pKGluc3RhbmNlKTtcbiAgICB0aGlzLnNpbmdsZXRvbiA9IG1lcmdlRGVlcCh0aGlzLnNpbmdsZXRvbiwgaW5zdGFuY2Uuc2luZ2xldG9uKTtcbiAgICB0aGlzLmRlZmluaXRpb25zID0gbWVyZ2VEZWVwKHRoaXMuZGVmaW5pdGlvbnMsIGluc3RhbmNlLmRlZmluaXRpb25zKTtcbiAgICBpZiAoc2FuZGJveC5ldmVudC5yZXF1ZXN0Lmxlbmd0aClcbiAgICAgIHRoaXMuZXZlbnQucmVxdWVzdCA9IFtcbiAgICAgICAgLi4udGhpcy5ldmVudC5yZXF1ZXN0IHx8IFtdLFxuICAgICAgICAuLi5zYW5kYm94LmV2ZW50LnJlcXVlc3QgfHwgW11cbiAgICAgIF07XG4gICAgaWYgKHNhbmRib3guZXZlbnQub25SZXNwb25zZS5sZW5ndGgpXG4gICAgICB0aGlzLmV2ZW50Lm9uUmVzcG9uc2UgPSBbXG4gICAgICAgIC4uLnRoaXMuZXZlbnQub25SZXNwb25zZSB8fCBbXSxcbiAgICAgICAgLi4uc2FuZGJveC5ldmVudC5vblJlc3BvbnNlIHx8IFtdXG4gICAgICBdO1xuICAgIHRoaXMubW9kZWwoc2FuZGJveC5kZWZpbml0aW9ucy50eXBlKTtcbiAgICBPYmplY3QudmFsdWVzKGluc3RhbmNlLnJvdXRlci5oaXN0b3J5KS5mb3JFYWNoKFxuICAgICAgKHsgbWV0aG9kLCBwYXRoLCBoYW5kbGVyLCBob29rcyB9KSA9PiB7XG4gICAgICAgIHBhdGggPSAoaXNTY2hlbWEgPyBcIlwiIDogdGhpcy5jb25maWcucHJlZml4KSArIHByZWZpeCArIHBhdGg7XG4gICAgICAgIGlmIChpc1NjaGVtYSkge1xuICAgICAgICAgIGNvbnN0IGhvb2sgPSBzY2hlbWFPclJ1bjtcbiAgICAgICAgICBjb25zdCBsb2NhbEhvb2sgPSBob29rcztcbiAgICAgICAgICB0aGlzLmFkZChcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBoYW5kbGVyLFxuICAgICAgICAgICAgbWVyZ2VIb29rKGhvb2ssIHtcbiAgICAgICAgICAgICAgLi4ubG9jYWxIb29rIHx8IHt9LFxuICAgICAgICAgICAgICBlcnJvcjogIWxvY2FsSG9vay5lcnJvciA/IHNhbmRib3guZXZlbnQuZXJyb3IgOiBBcnJheS5pc0FycmF5KGxvY2FsSG9vay5lcnJvcikgPyBbXG4gICAgICAgICAgICAgICAgLi4ubG9jYWxIb29rLmVycm9yIHx8IHt9LFxuICAgICAgICAgICAgICAgIC4uLnNhbmRib3guZXZlbnQuZXJyb3IgfHwge31cbiAgICAgICAgICAgICAgXSA6IFtcbiAgICAgICAgICAgICAgICBsb2NhbEhvb2suZXJyb3IsXG4gICAgICAgICAgICAgICAgLi4uc2FuZGJveC5ldmVudC5lcnJvciB8fCB7fVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5hZGQoXG4gICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgaGFuZGxlcixcbiAgICAgICAgICAgIG1lcmdlSG9vayhcbiAgICAgICAgICAgICAgaG9va3MsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlcnJvcjogc2FuZGJveC5ldmVudC5lcnJvclxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBza2lwUHJlZml4OiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqICMjIyBndWFyZFxuICAgKiBFbmNhcHN1bGF0ZSBhbmQgcGFzcyBob29rIGludG8gYWxsIGNoaWxkIGhhbmRsZXJcbiAgICpcbiAgICogLS0tXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogaW1wb3J0IHsgdCB9IGZyb20gJ2VseXNpYSdcbiAgICpcbiAgICogbmV3IEVseXNpYSgpXG4gICAqICAgICAuZ3VhcmQoe1xuICAgKiAgICAgICAgICBzY2hlbWE6IHtcbiAgICogICAgICAgICAgICAgIGJvZHk6IHQuT2JqZWN0KHtcbiAgICogICAgICAgICAgICAgICAgICB1c2VybmFtZTogdC5TdHJpbmcoKSxcbiAgICogICAgICAgICAgICAgICAgICBwYXNzd29yZDogdC5TdHJpbmcoKVxuICAgKiAgICAgICAgICAgICAgfSlcbiAgICogICAgICAgICAgfVxuICAgKiAgICAgfSwgYXBwID0+IGFwcFxuICAgKiAgICAgICAgIC5nZXQoXCIvXCIsICgpID0+ICdIaScpXG4gICAqICAgICAgICAgLmdldChcIi9uYW1lXCIsICgpID0+ICdFbHlzaWEnKVxuICAgKiAgICAgfSlcbiAgICogYGBgXG4gICAqL1xuICBndWFyZChob29rLCBydW4pIHtcbiAgICBpZiAoIXJ1bikge1xuICAgICAgaWYgKHR5cGVvZiBob29rID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHRoaXMuYXBwbHlNYWNybyhob29rKTtcbiAgICAgICAgdGhpcy5ldmVudCA9IG1lcmdlTGlmZUN5Y2xlKHRoaXMuZXZlbnQsIGhvb2spO1xuICAgICAgICB0aGlzLnZhbGlkYXRvciA9IHtcbiAgICAgICAgICBib2R5OiBob29rLmJvZHkgPz8gdGhpcy52YWxpZGF0b3I/LmJvZHksXG4gICAgICAgICAgaGVhZGVyczogaG9vay5oZWFkZXJzID8/IHRoaXMudmFsaWRhdG9yPy5oZWFkZXJzLFxuICAgICAgICAgIHBhcmFtczogaG9vay5wYXJhbXMgPz8gdGhpcy52YWxpZGF0b3I/LnBhcmFtcyxcbiAgICAgICAgICBxdWVyeTogaG9vay5xdWVyeSA/PyB0aGlzLnZhbGlkYXRvcj8ucXVlcnksXG4gICAgICAgICAgcmVzcG9uc2U6IGhvb2sucmVzcG9uc2UgPz8gdGhpcy52YWxpZGF0b3I/LnJlc3BvbnNlLFxuICAgICAgICAgIGNvb2tpZTogaG9vay5jb29raWUgPz8gdGhpcy52YWxpZGF0b3I/LmNvb2tpZVxuICAgICAgICB9O1xuICAgICAgICBpZiAoaG9vay5kZXRhaWwpIHtcbiAgICAgICAgICBpZiAodGhpcy5jb25maWcuZGV0YWlsKVxuICAgICAgICAgICAgdGhpcy5jb25maWcuZGV0YWlsID0gbWVyZ2VEZWVwKFxuICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmNvbmZpZy5kZXRhaWwpLFxuICAgICAgICAgICAgICBob29rLmRldGFpbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5kZXRhaWwgPSBob29rLmRldGFpbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaG9vaz8udGFncykge1xuICAgICAgICAgIGlmICghdGhpcy5jb25maWcuZGV0YWlsKVxuICAgICAgICAgICAgdGhpcy5jb25maWcuZGV0YWlsID0ge1xuICAgICAgICAgICAgICB0YWdzOiBob29rLnRhZ3NcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5jb25maWcuZGV0YWlsLnRhZ3MgPSBob29rLnRhZ3M7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5ndWFyZCh7fSwgaG9vayk7XG4gICAgfVxuICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IF9FbHlzaWEoe1xuICAgICAgLi4udGhpcy5jb25maWcsXG4gICAgICBwcmVmaXg6IFwiXCJcbiAgICB9KTtcbiAgICBpbnN0YW5jZS5zaW5nbGV0b24gPSB7IC4uLnRoaXMuc2luZ2xldG9uIH07XG4gICAgaW5zdGFuY2UuZGVmaW5pdGlvbnMgPSB7IC4uLnRoaXMuZGVmaW5pdGlvbnMgfTtcbiAgICBpbnN0YW5jZS5pbmZlcmVuY2UgPSBjbG9uZUluZmVyZW5jZSh0aGlzLmluZmVyZW5jZSk7XG4gICAgaW5zdGFuY2UuZXh0ZW5kZXIgPSB7IC4uLnRoaXMuZXh0ZW5kZXIgfTtcbiAgICBjb25zdCBzYW5kYm94ID0gcnVuKGluc3RhbmNlKTtcbiAgICB0aGlzLnNpbmdsZXRvbiA9IG1lcmdlRGVlcCh0aGlzLnNpbmdsZXRvbiwgaW5zdGFuY2Uuc2luZ2xldG9uKTtcbiAgICB0aGlzLmRlZmluaXRpb25zID0gbWVyZ2VEZWVwKHRoaXMuZGVmaW5pdGlvbnMsIGluc3RhbmNlLmRlZmluaXRpb25zKTtcbiAgICBzYW5kYm94LmdldFNlcnZlciA9ICgpID0+IHRoaXMuc2VydmVyO1xuICAgIGlmIChzYW5kYm94LmV2ZW50LnJlcXVlc3QubGVuZ3RoKVxuICAgICAgdGhpcy5ldmVudC5yZXF1ZXN0ID0gW1xuICAgICAgICAuLi50aGlzLmV2ZW50LnJlcXVlc3QgfHwgW10sXG4gICAgICAgIC4uLnNhbmRib3guZXZlbnQucmVxdWVzdCB8fCBbXVxuICAgICAgXTtcbiAgICBpZiAoc2FuZGJveC5ldmVudC5vblJlc3BvbnNlLmxlbmd0aClcbiAgICAgIHRoaXMuZXZlbnQub25SZXNwb25zZSA9IFtcbiAgICAgICAgLi4udGhpcy5ldmVudC5vblJlc3BvbnNlIHx8IFtdLFxuICAgICAgICAuLi5zYW5kYm94LmV2ZW50Lm9uUmVzcG9uc2UgfHwgW11cbiAgICAgIF07XG4gICAgdGhpcy5tb2RlbChzYW5kYm94LmRlZmluaXRpb25zLnR5cGUpO1xuICAgIE9iamVjdC52YWx1ZXMoaW5zdGFuY2Uucm91dGVyLmhpc3RvcnkpLmZvckVhY2goXG4gICAgICAoeyBtZXRob2QsIHBhdGgsIGhhbmRsZXIsIGhvb2tzOiBsb2NhbEhvb2sgfSkgPT4ge1xuICAgICAgICB0aGlzLmFkZChcbiAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgcGF0aCxcbiAgICAgICAgICBoYW5kbGVyLFxuICAgICAgICAgIG1lcmdlSG9vayhcbiAgICAgICAgICAgIGhvb2ssXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC4uLmxvY2FsSG9vayB8fCB7fSxcbiAgICAgICAgICAgICAgZXJyb3I6ICFsb2NhbEhvb2suZXJyb3IgPyBzYW5kYm94LmV2ZW50LmVycm9yIDogQXJyYXkuaXNBcnJheShsb2NhbEhvb2suZXJyb3IpID8gW1xuICAgICAgICAgICAgICAgIC4uLmxvY2FsSG9vay5lcnJvciB8fCB7fSxcbiAgICAgICAgICAgICAgICAuLi5zYW5kYm94LmV2ZW50LmVycm9yIHx8IFtdXG4gICAgICAgICAgICAgIF0gOiBbXG4gICAgICAgICAgICAgICAgbG9jYWxIb29rLmVycm9yLFxuICAgICAgICAgICAgICAgIC4uLnNhbmRib3guZXZlbnQuZXJyb3IgfHwgW11cbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYWxsb3dNYWNybzogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiAjIyMgdXNlXG4gICAqIE1lcmdlIHNlcGFyYXRlIGxvZ2ljIG9mIEVseXNpYSB3aXRoIGN1cnJlbnRcbiAgICpcbiAgICogLS0tXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogY29uc3QgcGx1Z2luID0gKGFwcDogRWx5c2lhKSA9PiBhcHBcbiAgICogICAgIC5nZXQoJy9wbHVnaW4nLCAoKSA9PiAnaGknKVxuICAgKlxuICAgKiBuZXcgRWx5c2lhKClcbiAgICogICAgIC51c2UocGx1Z2luKVxuICAgKiBgYGBcbiAgICovXG4gIHVzZShwbHVnaW4sIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucz8uc2NvcGVkKVxuICAgICAgcmV0dXJuIHRoaXMuZ3VhcmQoe30sIChhcHApID0+IGFwcC51c2UocGx1Z2luKSk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocGx1Z2luKSkge1xuICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzO1xuICAgICAgZm9yIChjb25zdCBwIG9mIHBsdWdpbilcbiAgICAgICAgY3VycmVudCA9IHRoaXMudXNlKHApO1xuICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuICAgIGlmIChwbHVnaW4gaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICB0aGlzLnByb21pc2VkTW9kdWxlcy5hZGQoXG4gICAgICAgIHBsdWdpbi50aGVuKChwbHVnaW4yKSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwbHVnaW4yID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gcGx1Z2luMih0aGlzKTtcbiAgICAgICAgICBpZiAocGx1Z2luMiBpbnN0YW5jZW9mIF9FbHlzaWEpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdXNlKHBsdWdpbjIpO1xuICAgICAgICAgIGlmICh0eXBlb2YgcGx1Z2luMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gcGx1Z2luMi5kZWZhdWx0KHRoaXMpO1xuICAgICAgICAgIGlmIChwbHVnaW4yLmRlZmF1bHQgaW5zdGFuY2VvZiBfRWx5c2lhKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VzZShwbHVnaW4yLmRlZmF1bHQpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICdJbnZhbGlkIHBsdWdpbiB0eXBlLiBFeHBlY3RlZCBFbHlzaWEgaW5zdGFuY2UsIGZ1bmN0aW9uLCBvciBtb2R1bGUgd2l0aCBcImRlZmF1bHRcIiBhcyBFbHlzaWEgaW5zdGFuY2Ugb3IgZnVuY3Rpb24gdGhhdCByZXR1cm5zIEVseXNpYSBpbnN0YW5jZS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgfSkudGhlbigoeCkgPT4geC5jb21waWxlKCkpXG4gICAgICApO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl91c2UocGx1Z2luKTtcbiAgfVxuICBfdXNlKHBsdWdpbikge1xuICAgIGlmICh0eXBlb2YgcGx1Z2luID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGNvbnN0IGluc3RhbmNlID0gcGx1Z2luKHRoaXMpO1xuICAgICAgaWYgKGluc3RhbmNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICB0aGlzLnByb21pc2VkTW9kdWxlcy5hZGQoXG4gICAgICAgICAgaW5zdGFuY2UudGhlbigocGx1Z2luMikgPT4ge1xuICAgICAgICAgICAgaWYgKHBsdWdpbjIgaW5zdGFuY2VvZiBfRWx5c2lhKSB7XG4gICAgICAgICAgICAgIHRoaXMuY29tcGlsZSgpO1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHtcbiAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICBoYW5kbGVyLFxuICAgICAgICAgICAgICAgIGhvb2tzXG4gICAgICAgICAgICAgIH0gb2YgT2JqZWN0LnZhbHVlcyhwbHVnaW4yLnJvdXRlci5oaXN0b3J5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKFxuICAgICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICAgIGhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICBtZXJnZUhvb2soXG4gICAgICAgICAgICAgICAgICAgIGhvb2tzLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IHBsdWdpbjIuZXZlbnQuZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHBsdWdpbjI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBsdWdpbjIgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgcmV0dXJuIHBsdWdpbjIoXG4gICAgICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwbHVnaW4yLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgcmV0dXJuIHBsdWdpbjIuZGVmYXVsdChcbiAgICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdXNlKHBsdWdpbjIpO1xuICAgICAgICAgIH0pLnRoZW4oKHgpID0+IHguY29tcGlsZSgpKVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG4gICAgaWYgKHBsdWdpbi5wcm9taXNlZE1vZHVsZXMuc2l6ZSkge1xuICAgICAgdGhpcy5wcm9taXNlZE1vZHVsZXMuYWRkKFxuICAgICAgICBwbHVnaW4ubW9kdWxlcy50aGVuKCgpID0+IHRoaXMuX3VzZShwbHVnaW4pKS50aGVuKCh4KSA9PiB4LmNvbXBpbGUoKSlcbiAgICAgICk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY29uc3QgeyBuYW1lLCBzZWVkIH0gPSBwbHVnaW4uY29uZmlnO1xuICAgIHBsdWdpbi5nZXRTZXJ2ZXIgPSAoKSA9PiB0aGlzLmdldFNlcnZlcigpO1xuICAgIHBsdWdpbi5tb2RlbCh0aGlzLmRlZmluaXRpb25zLnR5cGUpO1xuICAgIHBsdWdpbi5lcnJvcih0aGlzLmRlZmluaXRpb25zLmVycm9yKTtcbiAgICBjb25zdCBpc1Njb3BlZCA9IHBsdWdpbi5jb25maWcuc2NvcGVkO1xuICAgIGlmIChpc1Njb3BlZCkge1xuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgaWYgKCEobmFtZSBpbiB0aGlzLmRlcGVuZGVuY2llcykpXG4gICAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXNbbmFtZV0gPSBbXTtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHNlZWQgIT09IHZvaWQgMCA/IGNoZWNrc3VtKG5hbWUgKyBKU09OLnN0cmluZ2lmeShzZWVkKSkgOiAwO1xuICAgICAgICBpZiAodGhpcy5kZXBlbmRlbmNpZXNbbmFtZV0uc29tZShcbiAgICAgICAgICAoeyBjaGVja3N1bTogY2hlY2tzdW0yIH0pID0+IGN1cnJlbnQgPT09IGNoZWNrc3VtMlxuICAgICAgICApKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB0aGlzLmRlcGVuZGVuY2llc1tuYW1lXS5wdXNoKFxuICAgICAgICAgICF0aGlzLmNvbmZpZz8uYW5hbHl0aWMgPyB7XG4gICAgICAgICAgICBuYW1lOiBwbHVnaW4uY29uZmlnLm5hbWUsXG4gICAgICAgICAgICBzZWVkOiBwbHVnaW4uY29uZmlnLnNlZWQsXG4gICAgICAgICAgICBjaGVja3N1bTogY3VycmVudCxcbiAgICAgICAgICAgIGRlcGVuZGVuY2llczogcGx1Z2luLmRlcGVuZGVuY2llc1xuICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICBuYW1lOiBwbHVnaW4uY29uZmlnLm5hbWUsXG4gICAgICAgICAgICBzZWVkOiBwbHVnaW4uY29uZmlnLnNlZWQsXG4gICAgICAgICAgICBjaGVja3N1bTogY3VycmVudCxcbiAgICAgICAgICAgIGRlcGVuZGVuY2llczogcGx1Z2luLmRlcGVuZGVuY2llcyxcbiAgICAgICAgICAgIHN0YWNrOiBwbHVnaW4udGVsZW1ldHJ5LnN0YWNrLFxuICAgICAgICAgICAgcm91dGVzOiBwbHVnaW4ucm91dGVyLmhpc3RvcnksXG4gICAgICAgICAgICBkZWNvcmF0b3JzOiBwbHVnaW4uc2luZ2xldG9uLmRlY29yYXRvcixcbiAgICAgICAgICAgIHN0b3JlOiBwbHVnaW4uc2luZ2xldG9uLnN0b3JlLFxuICAgICAgICAgICAgdHlwZTogcGx1Z2luLmRlZmluaXRpb25zLnR5cGUsXG4gICAgICAgICAgICBlcnJvcjogcGx1Z2luLmRlZmluaXRpb25zLmVycm9yLFxuICAgICAgICAgICAgZGVyaXZlOiBwbHVnaW4uZXZlbnQudHJhbnNmb3JtLmZpbHRlcigoeCkgPT4geC5zdWJUeXBlID09PSBcImRlcml2ZVwiKS5tYXAoKHgpID0+ICh7XG4gICAgICAgICAgICAgIGZuOiB4LmZuLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgIHN0YWNrOiBuZXcgRXJyb3IoKS5zdGFjayA/PyBcIlwiXG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgICByZXNvbHZlOiBwbHVnaW4uZXZlbnQudHJhbnNmb3JtLmZpbHRlcigoeCkgPT4geC5zdWJUeXBlID09PSBcImRlcml2ZVwiKS5tYXAoKHgpID0+ICh7XG4gICAgICAgICAgICAgIGZuOiB4LmZuLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgIHN0YWNrOiBuZXcgRXJyb3IoKS5zdGFjayA/PyBcIlwiXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBwbHVnaW4uZXh0ZW5kZXIubWFjcm9zID0gdGhpcy5leHRlbmRlci5tYWNyb3MuY29uY2F0KFxuICAgICAgICBwbHVnaW4uZXh0ZW5kZXIubWFjcm9zXG4gICAgICApO1xuICAgICAgY29uc3QgbWFjcm9IYXNoZXMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGx1Z2luLmV4dGVuZGVyLm1hY3Jvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBtYWNybyA9IHRoaXMuZXh0ZW5kZXIubWFjcm9zW2ldO1xuICAgICAgICBpZiAobWFjcm9IYXNoZXMuaW5jbHVkZXMobWFjcm8uY2hlY2tzdW0pKSB7XG4gICAgICAgICAgcGx1Z2luLmV4dGVuZGVyLm1hY3Jvcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgaS0tO1xuICAgICAgICB9XG4gICAgICAgIG1hY3JvSGFzaGVzLnB1c2gobWFjcm8uY2hlY2tzdW0pO1xuICAgICAgfVxuICAgICAgcGx1Z2luLm9uUmVxdWVzdCgoY29udGV4dCkgPT4ge1xuICAgICAgICBPYmplY3QuYXNzaWduKGNvbnRleHQsIHRoaXMuc2luZ2xldG9uLmRlY29yYXRvcik7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oY29udGV4dC5zdG9yZSwgdGhpcy5zaW5nbGV0b24uc3RvcmUpO1xuICAgICAgfSk7XG4gICAgICBpZiAocGx1Z2luLmV2ZW50LnRyYWNlLmxlbmd0aClcbiAgICAgICAgcGx1Z2luLmV2ZW50LnRyYWNlLnB1c2goLi4ucGx1Z2luLmV2ZW50LnRyYWNlKTtcbiAgICAgIGlmICghcGx1Z2luLmNvbmZpZy5wcmVmaXgpXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIkl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIHNjb3BlZCBpbnN0YW5jZSB3aXRoIGEgcHJlZml4IHRvIHByZXZlbnQgY29sbGlzaW9uIHJvdXRpbmcgd2l0aCBvdGhlciBpbnN0YW5jZS5cIlxuICAgICAgICApO1xuICAgICAgaWYgKHBsdWdpbi5ldmVudC5lcnJvci5sZW5ndGgpXG4gICAgICAgIHBsdWdpbi5ldmVudC5lcnJvci5wdXNoKC4uLnRoaXMuZXZlbnQuZXJyb3IpO1xuICAgICAgaWYgKHBsdWdpbi5jb25maWcuYW90KVxuICAgICAgICBwbHVnaW4uY29tcGlsZSgpO1xuICAgICAgaWYgKGlzU2NvcGVkID09PSB0cnVlICYmIHBsdWdpbi5jb25maWcucHJlZml4KSB7XG4gICAgICAgIHRoaXMubW91bnQocGx1Z2luLmNvbmZpZy5wcmVmaXggKyBcIi9cIiwgcGx1Z2luLmZldGNoKTtcbiAgICAgICAgZm9yIChjb25zdCByb3V0ZSBvZiBwbHVnaW4ucm91dGVyLmhpc3RvcnkpIHtcbiAgICAgICAgICB0aGlzLnJvdXRlVHJlZS5zZXQoXG4gICAgICAgICAgICByb3V0ZS5tZXRob2QgKyBgJHtwbHVnaW4uY29uZmlnLnByZWZpeH0ke3JvdXRlLnBhdGh9YCxcbiAgICAgICAgICAgIHRoaXMucm91dGVyLmhpc3RvcnkubGVuZ3RoXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLnJvdXRlci5oaXN0b3J5LnB1c2goe1xuICAgICAgICAgICAgLi4ucm91dGUsXG4gICAgICAgICAgICBwYXRoOiBgJHtwbHVnaW4uY29uZmlnLnByZWZpeH0ke3JvdXRlLnBhdGh9YCxcbiAgICAgICAgICAgIGhvb2tzOiBtZXJnZUhvb2socm91dGUuaG9va3MsIHtcbiAgICAgICAgICAgICAgZXJyb3I6IHRoaXMuZXZlbnQuZXJyb3JcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubW91bnQocGx1Z2luLmZldGNoKTtcbiAgICAgICAgZm9yIChjb25zdCByb3V0ZSBvZiBwbHVnaW4ucm91dGVyLmhpc3RvcnkpIHtcbiAgICAgICAgICB0aGlzLnJvdXRlVHJlZS5zZXQoXG4gICAgICAgICAgICByb3V0ZS5tZXRob2QgKyBgJHtwbHVnaW4uY29uZmlnLnByZWZpeH0ke3JvdXRlLnBhdGh9YCxcbiAgICAgICAgICAgIHRoaXMucm91dGVyLmhpc3RvcnkubGVuZ3RoXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLnJvdXRlci5oaXN0b3J5LnB1c2goe1xuICAgICAgICAgICAgLi4ucm91dGUsXG4gICAgICAgICAgICBwYXRoOiBgJHtwbHVnaW4uY29uZmlnLnByZWZpeH0ke3JvdXRlLnBhdGh9YCxcbiAgICAgICAgICAgIGhvb2tzOiBtZXJnZUhvb2socm91dGUuaG9va3MsIHtcbiAgICAgICAgICAgICAgZXJyb3I6IHRoaXMuZXZlbnQuZXJyb3JcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhlYWRlcnMocGx1Z2luLnNldEhlYWRlcnMpO1xuICAgICAgcGx1Z2luLnJlcG9ydGVyID0gdGhpcy5yZXBvcnRlcjtcbiAgICAgIGZvciAoY29uc3QgdHJhY2Ugb2YgcGx1Z2luLmV2ZW50LnRyYWNlKVxuICAgICAgICBpZiAodHJhY2Uuc2NvcGUgJiYgdHJhY2Uuc2NvcGUgIT09IFwibG9jYWxcIilcbiAgICAgICAgICB0aGlzLnRyYWNlKHRyYWNlKTtcbiAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgIGlmICghKG5hbWUgaW4gdGhpcy5kZXBlbmRlbmNpZXMpKVxuICAgICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzW25hbWVdID0gW107XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBzZWVkICE9PSB2b2lkIDAgPyBjaGVja3N1bShuYW1lICsgSlNPTi5zdHJpbmdpZnkoc2VlZCkpIDogMDtcbiAgICAgICAgaWYgKCF0aGlzLmRlcGVuZGVuY2llc1tuYW1lXS5zb21lKFxuICAgICAgICAgICh7IGNoZWNrc3VtOiBjaGVja3N1bTIgfSkgPT4gY3VycmVudCA9PT0gY2hlY2tzdW0yXG4gICAgICAgICkpXG4gICAgICAgICAgdGhpcy5leHRlbmRlci5tYWNyb3MgPSB0aGlzLmV4dGVuZGVyLm1hY3Jvcy5jb25jYXQoXG4gICAgICAgICAgICBwbHVnaW4uZXh0ZW5kZXIubWFjcm9zXG4gICAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZXh0ZW5kZXIubWFjcm9zID0gdGhpcy5leHRlbmRlci5tYWNyb3MuY29uY2F0KFxuICAgICAgICAgIHBsdWdpbi5leHRlbmRlci5tYWNyb3NcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1hY3JvSGFzaGVzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXh0ZW5kZXIubWFjcm9zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG1hY3JvID0gdGhpcy5leHRlbmRlci5tYWNyb3NbaV07XG4gICAgICAgIGlmIChtYWNyby5jaGVja3N1bSkge1xuICAgICAgICAgIGlmIChtYWNyb0hhc2hlcy5pbmNsdWRlcyhtYWNyby5jaGVja3N1bSkpIHtcbiAgICAgICAgICAgIHRoaXMuZXh0ZW5kZXIubWFjcm9zLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWFjcm9IYXNoZXMucHVzaChtYWNyby5jaGVja3N1bSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuaW5mZXJlbmNlID0ge1xuICAgICAgICBldmVudDoge1xuICAgICAgICAgIGJvZHk6IHRoaXMuaW5mZXJlbmNlLmV2ZW50LmJvZHkgfHwgcGx1Z2luLmluZmVyZW5jZS5ldmVudC5ib2R5LFxuICAgICAgICAgIGNvb2tpZTogdGhpcy5pbmZlcmVuY2UuZXZlbnQuY29va2llIHx8IHBsdWdpbi5pbmZlcmVuY2UuZXZlbnQuY29va2llLFxuICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaW5mZXJlbmNlLmV2ZW50LmhlYWRlcnMgfHwgcGx1Z2luLmluZmVyZW5jZS5ldmVudC5oZWFkZXJzLFxuICAgICAgICAgIHF1ZXJpZXM6IFtcbiAgICAgICAgICAgIC4uLnRoaXMuaW5mZXJlbmNlLmV2ZW50LnF1ZXJpZXMsXG4gICAgICAgICAgICAuLi5wbHVnaW4uaW5mZXJlbmNlLmV2ZW50LnF1ZXJpZXNcbiAgICAgICAgICBdLFxuICAgICAgICAgIHF1ZXJ5OiB0aGlzLmluZmVyZW5jZS5ldmVudC5xdWVyeSB8fCBwbHVnaW4uaW5mZXJlbmNlLmV2ZW50LnF1ZXJ5LFxuICAgICAgICAgIHNldDogdGhpcy5pbmZlcmVuY2UuZXZlbnQuc2V0IHx8IHBsdWdpbi5pbmZlcmVuY2UuZXZlbnQuc2V0LFxuICAgICAgICAgIHVua25vd25RdWVyaWVzOiB0aGlzLmluZmVyZW5jZS5ldmVudC51bmtub3duUXVlcmllcyB8fCBwbHVnaW4uaW5mZXJlbmNlLmV2ZW50LnVua25vd25RdWVyaWVzXG4gICAgICAgIH0sXG4gICAgICAgIHRyYWNlOiB7XG4gICAgICAgICAgcmVxdWVzdDogdGhpcy5pbmZlcmVuY2UudHJhY2UucmVxdWVzdCB8fCBwbHVnaW4uaW5mZXJlbmNlLnRyYWNlLnJlcXVlc3QsXG4gICAgICAgICAgcGFyc2U6IHRoaXMuaW5mZXJlbmNlLnRyYWNlLnBhcnNlIHx8IHBsdWdpbi5pbmZlcmVuY2UudHJhY2UucGFyc2UsXG4gICAgICAgICAgdHJhbnNmb3JtOiB0aGlzLmluZmVyZW5jZS50cmFjZS50cmFuc2Zvcm0gfHwgcGx1Z2luLmluZmVyZW5jZS50cmFjZS50cmFuc2Zvcm0sXG4gICAgICAgICAgaGFuZGxlOiB0aGlzLmluZmVyZW5jZS50cmFjZS5oYW5kbGUgfHwgcGx1Z2luLmluZmVyZW5jZS50cmFjZS5oYW5kbGUsXG4gICAgICAgICAgYmVmb3JlSGFuZGxlOiB0aGlzLmluZmVyZW5jZS50cmFjZS5iZWZvcmVIYW5kbGUgfHwgcGx1Z2luLmluZmVyZW5jZS50cmFjZS5iZWZvcmVIYW5kbGUsXG4gICAgICAgICAgYWZ0ZXJIYW5kbGU6IHRoaXMuaW5mZXJlbmNlLnRyYWNlLmFmdGVySGFuZGxlIHx8IHBsdWdpbi5pbmZlcmVuY2UudHJhY2UuYWZ0ZXJIYW5kbGUsXG4gICAgICAgICAgZXJyb3I6IHRoaXMuaW5mZXJlbmNlLnRyYWNlLmVycm9yIHx8IHBsdWdpbi5pbmZlcmVuY2UudHJhY2UuZXJyb3IsXG4gICAgICAgICAgY29udGV4dDogdGhpcy5pbmZlcmVuY2UudHJhY2UuY29udGV4dCB8fCBwbHVnaW4uaW5mZXJlbmNlLnRyYWNlLmNvbnRleHQsXG4gICAgICAgICAgc3RvcmU6IHRoaXMuaW5mZXJlbmNlLnRyYWNlLnN0b3JlIHx8IHBsdWdpbi5pbmZlcmVuY2UudHJhY2Uuc3RvcmUsXG4gICAgICAgICAgc2V0OiB0aGlzLmluZmVyZW5jZS50cmFjZS5zZXQgfHwgcGx1Z2luLmluZmVyZW5jZS50cmFjZS5zZXRcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5kZWNvcmF0ZShwbHVnaW4uc2luZ2xldG9uLmRlY29yYXRvcik7XG4gICAgdGhpcy5zdGF0ZShwbHVnaW4uc2luZ2xldG9uLnN0b3JlKTtcbiAgICB0aGlzLm1vZGVsKHBsdWdpbi5kZWZpbml0aW9ucy50eXBlKTtcbiAgICB0aGlzLmVycm9yKHBsdWdpbi5kZWZpbml0aW9ucy5lcnJvcik7XG4gICAgZm9yIChjb25zdCB7IG1ldGhvZCwgcGF0aCwgaGFuZGxlciwgaG9va3MgfSBvZiBPYmplY3QudmFsdWVzKFxuICAgICAgcGx1Z2luLnJvdXRlci5oaXN0b3J5XG4gICAgKSkge1xuICAgICAgdGhpcy5hZGQoXG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgcGF0aCxcbiAgICAgICAgaGFuZGxlcixcbiAgICAgICAgbWVyZ2VIb29rKFxuICAgICAgICAgIGhvb2tzLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yOiBwbHVnaW4uZXZlbnQuZXJyb3JcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghaXNTY29wZWQpXG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICBpZiAoIShuYW1lIGluIHRoaXMuZGVwZW5kZW5jaWVzKSlcbiAgICAgICAgICB0aGlzLmRlcGVuZGVuY2llc1tuYW1lXSA9IFtdO1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gc2VlZCAhPT0gdm9pZCAwID8gY2hlY2tzdW0obmFtZSArIEpTT04uc3RyaW5naWZ5KHNlZWQpKSA6IDA7XG4gICAgICAgIGlmICh0aGlzLmRlcGVuZGVuY2llc1tuYW1lXS5zb21lKFxuICAgICAgICAgICh7IGNoZWNrc3VtOiBjaGVja3N1bTIgfSkgPT4gY3VycmVudCA9PT0gY2hlY2tzdW0yXG4gICAgICAgICkpXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzW25hbWVdLnB1c2goXG4gICAgICAgICAgIXRoaXMuY29uZmlnPy5hbmFseXRpYyA/IHtcbiAgICAgICAgICAgIG5hbWU6IHBsdWdpbi5jb25maWcubmFtZSxcbiAgICAgICAgICAgIHNlZWQ6IHBsdWdpbi5jb25maWcuc2VlZCxcbiAgICAgICAgICAgIGNoZWNrc3VtOiBjdXJyZW50LFxuICAgICAgICAgICAgZGVwZW5kZW5jaWVzOiBwbHVnaW4uZGVwZW5kZW5jaWVzXG4gICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgIG5hbWU6IHBsdWdpbi5jb25maWcubmFtZSxcbiAgICAgICAgICAgIHNlZWQ6IHBsdWdpbi5jb25maWcuc2VlZCxcbiAgICAgICAgICAgIGNoZWNrc3VtOiBjdXJyZW50LFxuICAgICAgICAgICAgZGVwZW5kZW5jaWVzOiBwbHVnaW4uZGVwZW5kZW5jaWVzLFxuICAgICAgICAgICAgc3RhY2s6IHBsdWdpbi50ZWxlbWV0cnkuc3RhY2ssXG4gICAgICAgICAgICByb3V0ZXM6IHBsdWdpbi5yb3V0ZXIuaGlzdG9yeSxcbiAgICAgICAgICAgIGRlY29yYXRvcnM6IHBsdWdpbi5zaW5nbGV0b24sXG4gICAgICAgICAgICBzdG9yZTogcGx1Z2luLnNpbmdsZXRvbi5zdG9yZSxcbiAgICAgICAgICAgIHR5cGU6IHBsdWdpbi5kZWZpbml0aW9ucy50eXBlLFxuICAgICAgICAgICAgZXJyb3I6IHBsdWdpbi5kZWZpbml0aW9ucy5lcnJvcixcbiAgICAgICAgICAgIGRlcml2ZTogcGx1Z2luLmV2ZW50LnRyYW5zZm9ybS5maWx0ZXIoKHgpID0+IHg/LnN1YlR5cGUgPT09IFwiZGVyaXZlXCIpLm1hcCgoeCkgPT4gKHtcbiAgICAgICAgICAgICAgZm46IHgudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgc3RhY2s6IG5ldyBFcnJvcigpLnN0YWNrID8/IFwiXCJcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIHJlc29sdmU6IHBsdWdpbi5ldmVudC50cmFuc2Zvcm0uZmlsdGVyKCh4KSA9PiB4Py5zdWJUeXBlID09PSBcInJlc29sdmVcIikubWFwKCh4KSA9PiAoe1xuICAgICAgICAgICAgICBmbjogeC50b1N0cmluZygpLFxuICAgICAgICAgICAgICBzdGFjazogbmV3IEVycm9yKCkuc3RhY2sgPz8gXCJcIlxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmV2ZW50ID0gbWVyZ2VMaWZlQ3ljbGUoXG4gICAgICAgICAgdGhpcy5ldmVudCxcbiAgICAgICAgICBmaWx0ZXJHbG9iYWxIb29rKHBsdWdpbi5ldmVudCksXG4gICAgICAgICAgY3VycmVudFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5ldmVudCA9IG1lcmdlTGlmZUN5Y2xlKFxuICAgICAgICAgIHRoaXMuZXZlbnQsXG4gICAgICAgICAgZmlsdGVyR2xvYmFsSG9vayhwbHVnaW4uZXZlbnQpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgbWFjcm8obWFjcm8pIHtcbiAgICBjb25zdCBob29rID0ge1xuICAgICAgY2hlY2tzdW06IGNoZWNrc3VtKFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbmFtZTogdGhpcy5jb25maWcubmFtZSxcbiAgICAgICAgICBzZWVkOiB0aGlzLmNvbmZpZy5zZWVkLFxuICAgICAgICAgIGNvbnRlbnQ6IG1hY3JvLnRvU3RyaW5nKClcbiAgICAgICAgfSlcbiAgICAgICksXG4gICAgICBmbjogbWFjcm9cbiAgICB9O1xuICAgIHRoaXMuZXh0ZW5kZXIubWFjcm9zLnB1c2goaG9vayk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgbW91bnQocGF0aCwgaGFuZGxlKSB7XG4gICAgaWYgKHBhdGggaW5zdGFuY2VvZiBfRWx5c2lhIHx8IHR5cGVvZiBwYXRoID09PSBcImZ1bmN0aW9uXCIgfHwgcGF0aC5sZW5ndGggPT09IDAgfHwgcGF0aCA9PT0gXCIvXCIpIHtcbiAgICAgIGNvbnN0IHJ1biA9IHR5cGVvZiBwYXRoID09PSBcImZ1bmN0aW9uXCIgPyBwYXRoIDogcGF0aCBpbnN0YW5jZW9mIF9FbHlzaWEgPyBwYXRoLmNvbXBpbGUoKS5mZXRjaCA6IGhhbmRsZSBpbnN0YW5jZW9mIF9FbHlzaWEgPyBoYW5kbGUuY29tcGlsZSgpLmZldGNoIDogaGFuZGxlO1xuICAgICAgY29uc3QgaGFuZGxlcjIgPSBhc3luYyAoeyByZXF1ZXN0LCBwYXRoOiBwYXRoMiB9KSA9PiBydW4oXG4gICAgICAgIG5ldyBSZXF1ZXN0KFxuICAgICAgICAgIHJlcGxhY2VVcmxQYXRoKHJlcXVlc3QudXJsLCBwYXRoMiB8fCBcIi9cIiksXG4gICAgICAgICAgcmVxdWVzdFxuICAgICAgICApXG4gICAgICApO1xuICAgICAgdGhpcy5hbGwoXG4gICAgICAgIFwiLypcIixcbiAgICAgICAgaGFuZGxlcjIsXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBcIm5vbmVcIlxuICAgICAgICB9XG4gICAgICApO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNvbnN0IGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuICAgIGlmIChoYW5kbGUgaW5zdGFuY2VvZiBfRWx5c2lhKVxuICAgICAgaGFuZGxlID0gaGFuZGxlLmNvbXBpbGUoKS5mZXRjaDtcbiAgICBjb25zdCBoYW5kbGVyID0gYXN5bmMgKHsgcmVxdWVzdCwgcGF0aDogcGF0aDIgfSkgPT4gaGFuZGxlKFxuICAgICAgbmV3IFJlcXVlc3QoXG4gICAgICAgIHJlcGxhY2VVcmxQYXRoKHJlcXVlc3QudXJsLCBwYXRoMi5zbGljZShsZW5ndGgpIHx8IFwiL1wiKSxcbiAgICAgICAgcmVxdWVzdFxuICAgICAgKVxuICAgICk7XG4gICAgdGhpcy5hbGwoXG4gICAgICBwYXRoLFxuICAgICAgaGFuZGxlcixcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJub25lXCJcbiAgICAgIH1cbiAgICApO1xuICAgIHRoaXMuYWxsKFxuICAgICAgcGF0aCArIChwYXRoLmVuZHNXaXRoKFwiL1wiKSA/IFwiKlwiIDogXCIvKlwiKSxcbiAgICAgIGhhbmRsZXIsXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwibm9uZVwiXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIGdldFxuICAgKiBSZWdpc3RlciBoYW5kbGVyIGZvciBwYXRoIHdpdGggbWV0aG9kIFtHRVRdXG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIGltcG9ydCB7IEVseXNpYSwgdCB9IGZyb20gJ2VseXNpYSdcbiAgICpcbiAgICogbmV3IEVseXNpYSgpXG4gICAqICAgICAuZ2V0KCcvJywgKCkgPT4gJ2hpJylcbiAgICogICAgIC5nZXQoJy93aXRoLWhvb2snLCAoKSA9PiAnaGknLCB7XG4gICAqICAgICAgICAgcmVzcG9uc2U6IHQuU3RyaW5nKClcbiAgICogICAgIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgZ2V0KHBhdGgsIGhhbmRsZXIsIGhvb2spIHtcbiAgICB0aGlzLmFkZChcIkdFVFwiLCBwYXRoLCBoYW5kbGVyLCBob29rKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIHBvc3RcbiAgICogUmVnaXN0ZXIgaGFuZGxlciBmb3IgcGF0aCB3aXRoIG1ldGhvZCBbUE9TVF1cbiAgICpcbiAgICogLS0tXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogaW1wb3J0IHsgRWx5c2lhLCB0IH0gZnJvbSAnZWx5c2lhJ1xuICAgKlxuICAgKiBuZXcgRWx5c2lhKClcbiAgICogICAgIC5wb3N0KCcvJywgKCkgPT4gJ2hpJylcbiAgICogICAgIC5wb3N0KCcvd2l0aC1ob29rJywgKCkgPT4gJ2hpJywge1xuICAgKiAgICAgICAgIHJlc3BvbnNlOiB0LlN0cmluZygpXG4gICAqICAgICB9KVxuICAgKiBgYGBcbiAgICovXG4gIHBvc3QocGF0aCwgaGFuZGxlciwgaG9vaykge1xuICAgIHRoaXMuYWRkKFwiUE9TVFwiLCBwYXRoLCBoYW5kbGVyLCBob29rKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIHB1dFxuICAgKiBSZWdpc3RlciBoYW5kbGVyIGZvciBwYXRoIHdpdGggbWV0aG9kIFtQVVRdXG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIGltcG9ydCB7IEVseXNpYSwgdCB9IGZyb20gJ2VseXNpYSdcbiAgICpcbiAgICogbmV3IEVseXNpYSgpXG4gICAqICAgICAucHV0KCcvJywgKCkgPT4gJ2hpJylcbiAgICogICAgIC5wdXQoJy93aXRoLWhvb2snLCAoKSA9PiAnaGknLCB7XG4gICAqICAgICAgICAgcmVzcG9uc2U6IHQuU3RyaW5nKClcbiAgICogICAgIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgcHV0KHBhdGgsIGhhbmRsZXIsIGhvb2spIHtcbiAgICB0aGlzLmFkZChcIlBVVFwiLCBwYXRoLCBoYW5kbGVyLCBob29rKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIHBhdGNoXG4gICAqIFJlZ2lzdGVyIGhhbmRsZXIgZm9yIHBhdGggd2l0aCBtZXRob2QgW1BBVENIXVxuICAgKlxuICAgKiAtLS1cbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiBpbXBvcnQgeyBFbHlzaWEsIHQgfSBmcm9tICdlbHlzaWEnXG4gICAqXG4gICAqIG5ldyBFbHlzaWEoKVxuICAgKiAgICAgLnBhdGNoKCcvJywgKCkgPT4gJ2hpJylcbiAgICogICAgIC5wYXRjaCgnL3dpdGgtaG9vaycsICgpID0+ICdoaScsIHtcbiAgICogICAgICAgICByZXNwb25zZTogdC5TdHJpbmcoKVxuICAgKiAgICAgfSlcbiAgICogYGBgXG4gICAqL1xuICBwYXRjaChwYXRoLCBoYW5kbGVyLCBob29rKSB7XG4gICAgdGhpcy5hZGQoXCJQQVRDSFwiLCBwYXRoLCBoYW5kbGVyLCBob29rKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIGRlbGV0ZVxuICAgKiBSZWdpc3RlciBoYW5kbGVyIGZvciBwYXRoIHdpdGggbWV0aG9kIFtERUxFVEVdXG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIGltcG9ydCB7IEVseXNpYSwgdCB9IGZyb20gJ2VseXNpYSdcbiAgICpcbiAgICogbmV3IEVseXNpYSgpXG4gICAqICAgICAuZGVsZXRlKCcvJywgKCkgPT4gJ2hpJylcbiAgICogICAgIC5kZWxldGUoJy93aXRoLWhvb2snLCAoKSA9PiAnaGknLCB7XG4gICAqICAgICAgICAgcmVzcG9uc2U6IHQuU3RyaW5nKClcbiAgICogICAgIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgZGVsZXRlKHBhdGgsIGhhbmRsZXIsIGhvb2spIHtcbiAgICB0aGlzLmFkZChcIkRFTEVURVwiLCBwYXRoLCBoYW5kbGVyLCBob29rKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIG9wdGlvbnNcbiAgICogUmVnaXN0ZXIgaGFuZGxlciBmb3IgcGF0aCB3aXRoIG1ldGhvZCBbUE9TVF1cbiAgICpcbiAgICogLS0tXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogaW1wb3J0IHsgRWx5c2lhLCB0IH0gZnJvbSAnZWx5c2lhJ1xuICAgKlxuICAgKiBuZXcgRWx5c2lhKClcbiAgICogICAgIC5vcHRpb25zKCcvJywgKCkgPT4gJ2hpJylcbiAgICogICAgIC5vcHRpb25zKCcvd2l0aC1ob29rJywgKCkgPT4gJ2hpJywge1xuICAgKiAgICAgICAgIHJlc3BvbnNlOiB0LlN0cmluZygpXG4gICAqICAgICB9KVxuICAgKiBgYGBcbiAgICovXG4gIG9wdGlvbnMocGF0aCwgaGFuZGxlciwgaG9vaykge1xuICAgIHRoaXMuYWRkKFwiT1BUSU9OU1wiLCBwYXRoLCBoYW5kbGVyLCBob29rKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIGFsbFxuICAgKiBSZWdpc3RlciBoYW5kbGVyIGZvciBwYXRoIHdpdGggbWV0aG9kIFtBTExdXG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIGltcG9ydCB7IEVseXNpYSwgdCB9IGZyb20gJ2VseXNpYSdcbiAgICpcbiAgICogbmV3IEVseXNpYSgpXG4gICAqICAgICAuYWxsKCcvJywgKCkgPT4gJ2hpJylcbiAgICogICAgIC5hbGwoJy93aXRoLWhvb2snLCAoKSA9PiAnaGknLCB7XG4gICAqICAgICAgICAgcmVzcG9uc2U6IHQuU3RyaW5nKClcbiAgICogICAgIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgYWxsKHBhdGgsIGhhbmRsZXIsIGhvb2spIHtcbiAgICB0aGlzLmFkZChcIkFMTFwiLCBwYXRoLCBoYW5kbGVyLCBob29rKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIGhlYWRcbiAgICogUmVnaXN0ZXIgaGFuZGxlciBmb3IgcGF0aCB3aXRoIG1ldGhvZCBbSEVBRF1cbiAgICpcbiAgICogLS0tXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogaW1wb3J0IHsgRWx5c2lhLCB0IH0gZnJvbSAnZWx5c2lhJ1xuICAgKlxuICAgKiBuZXcgRWx5c2lhKClcbiAgICogICAgIC5oZWFkKCcvJywgKCkgPT4gJ2hpJylcbiAgICogICAgIC5oZWFkKCcvd2l0aC1ob29rJywgKCkgPT4gJ2hpJywge1xuICAgKiAgICAgICAgIHJlc3BvbnNlOiB0LlN0cmluZygpXG4gICAqICAgICB9KVxuICAgKiBgYGBcbiAgICovXG4gIGhlYWQocGF0aCwgaGFuZGxlciwgaG9vaykge1xuICAgIHRoaXMuYWRkKFwiSEVBRFwiLCBwYXRoLCBoYW5kbGVyLCBob29rKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIGNvbm5lY3RcbiAgICogUmVnaXN0ZXIgaGFuZGxlciBmb3IgcGF0aCB3aXRoIG1ldGhvZCBbQ09OTkVDVF1cbiAgICpcbiAgICogLS0tXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogaW1wb3J0IHsgRWx5c2lhLCB0IH0gZnJvbSAnZWx5c2lhJ1xuICAgKlxuICAgKiBuZXcgRWx5c2lhKClcbiAgICogICAgIC5jb25uZWN0KCcvJywgKCkgPT4gJ2hpJylcbiAgICogICAgIC5jb25uZWN0KCcvd2l0aC1ob29rJywgKCkgPT4gJ2hpJywge1xuICAgKiAgICAgICAgIHJlc3BvbnNlOiB0LlN0cmluZygpXG4gICAqICAgICB9KVxuICAgKiBgYGBcbiAgICovXG4gIGNvbm5lY3QocGF0aCwgaGFuZGxlciwgaG9vaykge1xuICAgIHRoaXMuYWRkKFwiQ09OTkVDVFwiLCBwYXRoLCBoYW5kbGVyLCBob29rKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIHJvdXRlXG4gICAqIFJlZ2lzdGVyIGhhbmRsZXIgZm9yIHBhdGggd2l0aCBtZXRob2QgW1JPVVRFXVxuICAgKlxuICAgKiAtLS1cbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiBpbXBvcnQgeyBFbHlzaWEsIHQgfSBmcm9tICdlbHlzaWEnXG4gICAqXG4gICAqIG5ldyBFbHlzaWEoKVxuICAgKiAgICAgLnJvdXRlKCcvJywgKCkgPT4gJ2hpJylcbiAgICogICAgIC5yb3V0ZSgnL3dpdGgtaG9vaycsICgpID0+ICdoaScsIHtcbiAgICogICAgICAgICByZXNwb25zZTogdC5TdHJpbmcoKVxuICAgKiAgICAgfSlcbiAgICogYGBgXG4gICAqL1xuICByb3V0ZShtZXRob2QsIHBhdGgsIGhhbmRsZXIsIGhvb2spIHtcbiAgICB0aGlzLmFkZChtZXRob2QudG9VcHBlckNhc2UoKSwgcGF0aCwgaGFuZGxlciwgaG9vaywgaG9vaz8uY29uZmlnKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIHdzXG4gICAqIFJlZ2lzdGVyIGhhbmRsZXIgZm9yIHBhdGggd2l0aCBtZXRob2QgW3dzXVxuICAgKlxuICAgKiAtLS1cbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiBpbXBvcnQgeyBFbHlzaWEsIHQgfSBmcm9tICdlbHlzaWEnXG4gICAqXG4gICAqIG5ldyBFbHlzaWEoKVxuICAgKiAgICAgLndzKCcvJywge1xuICAgKiAgICAgICAgIG1lc3NhZ2Uod3MsIG1lc3NhZ2UpIHtcbiAgICogICAgICAgICAgICAgd3Muc2VuZChtZXNzYWdlKVxuICAgKiAgICAgICAgIH1cbiAgICogICAgIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgd3MocGF0aCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IG9wdGlvbnMudHJhbnNmb3JtTWVzc2FnZSA/IEFycmF5LmlzQXJyYXkob3B0aW9ucy50cmFuc2Zvcm1NZXNzYWdlKSA/IG9wdGlvbnMudHJhbnNmb3JtTWVzc2FnZSA6IFtvcHRpb25zLnRyYW5zZm9ybU1lc3NhZ2VdIDogdm9pZCAwO1xuICAgIGxldCBzZXJ2ZXIgPSBudWxsO1xuICAgIGNvbnN0IHZhbGlkYXRlTWVzc2FnZSA9IGdldFNjaGVtYVZhbGlkYXRvcihvcHRpb25zPy5ib2R5LCB7XG4gICAgICBtb2RlbHM6IHRoaXMuZGVmaW5pdGlvbnMudHlwZSxcbiAgICAgIG5vcm1hbGl6ZTogdGhpcy5jb25maWcubm9ybWFsaXplXG4gICAgfSk7XG4gICAgY29uc3QgdmFsaWRhdGVSZXNwb25zZSA9IGdldFNjaGVtYVZhbGlkYXRvcihvcHRpb25zPy5yZXNwb25zZSwge1xuICAgICAgbW9kZWxzOiB0aGlzLmRlZmluaXRpb25zLnR5cGUsXG4gICAgICBub3JtYWxpemU6IHRoaXMuY29uZmlnLm5vcm1hbGl6ZVxuICAgIH0pO1xuICAgIGNvbnN0IHBhcnNlTWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBtZXNzYWdlPy5jaGFyQ29kZUF0KDApO1xuICAgICAgICBpZiAoc3RhcnQgPT09IDQ3IHx8IHN0YXJ0ID09PSAxMjMpXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBKU09OLnBhcnNlKG1lc3NhZ2UpO1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNOdW1lcmljU3RyaW5nKG1lc3NhZ2UpKVxuICAgICAgICAgIG1lc3NhZ2UgPSArbWVzc2FnZTtcbiAgICAgIH1cbiAgICAgIGlmICh0cmFuc2Zvcm0/Lmxlbmd0aClcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmFuc2Zvcm0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCB0ZW1wID0gdHJhbnNmb3JtW2ldKG1lc3NhZ2UpO1xuICAgICAgICAgIGlmICh0ZW1wICE9PSB2b2lkIDApXG4gICAgICAgICAgICBtZXNzYWdlID0gdGVtcDtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfTtcbiAgICB0aGlzLnJvdXRlKFxuICAgICAgXCIkSU5URVJOQUxXU1wiLFxuICAgICAgcGF0aCxcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgIChjb250ZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc2V0LCBwYXRoOiBwYXRoMiwgcWksIGhlYWRlcnMsIHF1ZXJ5LCBwYXJhbXMgfSA9IGNvbnRleHQ7XG4gICAgICAgIGlmIChzZXJ2ZXIgPT09IG51bGwpXG4gICAgICAgICAgc2VydmVyID0gdGhpcy5nZXRTZXJ2ZXIoKTtcbiAgICAgICAgaWYgKHNlcnZlcj8udXBncmFkZShjb250ZXh0LnJlcXVlc3QsIHtcbiAgICAgICAgICBoZWFkZXJzOiB0eXBlb2Ygb3B0aW9ucy51cGdyYWRlID09PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zLnVwZ3JhZGUoY29udGV4dCkgOiBvcHRpb25zLnVwZ3JhZGUsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVJlc3BvbnNlLFxuICAgICAgICAgICAgb3Blbih3cykge1xuICAgICAgICAgICAgICBvcHRpb25zLm9wZW4/LihuZXcgRWx5c2lhV1Mod3MsIGNvbnRleHQpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtZXNzYWdlOiAod3MsIG1zZykgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gcGFyc2VNZXNzYWdlKG1zZyk7XG4gICAgICAgICAgICAgIGlmICh2YWxpZGF0ZU1lc3NhZ2U/LkNoZWNrKG1lc3NhZ2UpID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdm9pZCB3cy5zZW5kKFxuICAgICAgICAgICAgICAgICAgbmV3IFZhbGlkYXRpb25FcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJtZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlTWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgKS5tZXNzYWdlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgb3B0aW9ucy5tZXNzYWdlPy4oXG4gICAgICAgICAgICAgICAgbmV3IEVseXNpYVdTKHdzLCBjb250ZXh0KSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZHJhaW4od3MpIHtcbiAgICAgICAgICAgICAgb3B0aW9ucy5kcmFpbj8uKFxuICAgICAgICAgICAgICAgIG5ldyBFbHlzaWFXUyh3cywgY29udGV4dClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbG9zZSh3cywgY29kZSwgcmVhc29uKSB7XG4gICAgICAgICAgICAgIG9wdGlvbnMuY2xvc2U/LihcbiAgICAgICAgICAgICAgICBuZXcgRWx5c2lhV1Mod3MsIGNvbnRleHQpLFxuICAgICAgICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgICAgICAgcmVhc29uXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNldC5zdGF0dXMgPSA0MDA7XG4gICAgICAgIHJldHVybiBcIkV4cGVjdGVkIGEgd2Vic29ja2V0IGNvbm5lY3Rpb25cIjtcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGJlZm9yZUhhbmRsZTogb3B0aW9ucy5iZWZvcmVIYW5kbGUsXG4gICAgICAgIHRyYW5zZm9ybTogb3B0aW9ucy50cmFuc2Zvcm0sXG4gICAgICAgIGhlYWRlcnM6IG9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgcGFyYW1zOiBvcHRpb25zLnBhcmFtcyxcbiAgICAgICAgcXVlcnk6IG9wdGlvbnMucXVlcnlcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiAjIyMgc3RhdGVcbiAgICogQXNzaWduIGdsb2JhbCBtdXRhdGFibGUgc3RhdGUgYWNjZXNzaWJsZSBmb3IgYWxsIGhhbmRsZXJcbiAgICpcbiAgICogLS0tXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogbmV3IEVseXNpYSgpXG4gICAqICAgICAuc3RhdGUoJ2NvdW50ZXInLCAwKVxuICAgKiAgICAgLmdldCgnLycsICgoeyBjb3VudGVyIH0pID0+ICsrY291bnRlcilcbiAgICogYGBgXG4gICAqL1xuICBzdGF0ZShuYW1lLCB2YWx1ZSkge1xuICAgIHN3aXRjaCAodHlwZW9mIG5hbWUpIHtcbiAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgdGhpcy5zaW5nbGV0b24uc3RvcmUgPSBtZXJnZURlZXAodGhpcy5zaW5nbGV0b24uc3RvcmUsIG5hbWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICB0aGlzLnNpbmdsZXRvbi5zdG9yZSA9IG5hbWUodGhpcy5zaW5nbGV0b24uc3RvcmUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaWYgKCEobmFtZSBpbiB0aGlzLnNpbmdsZXRvbi5zdG9yZSkpIHtcbiAgICAgIDtcbiAgICAgIHRoaXMuc2luZ2xldG9uLnN0b3JlW25hbWVdID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiAjIyMgZGVjb3JhdGVcbiAgICogRGVmaW5lIGN1c3RvbSBtZXRob2QgdG8gYENvbnRleHRgIGFjY2Vzc2libGUgZm9yIGFsbCBoYW5kbGVyXG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIG5ldyBFbHlzaWEoKVxuICAgKiAgICAgLmRlY29yYXRlKCdnZXREYXRlJywgKCkgPT4gRGF0ZS5ub3coKSlcbiAgICogICAgIC5nZXQoJy8nLCAoKHsgZ2V0RGF0ZSB9KSA9PiBnZXREYXRlKCkpXG4gICAqIGBgYFxuICAgKi9cbiAgZGVjb3JhdGUobmFtZSwgdmFsdWUpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiBuYW1lKSB7XG4gICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgIHRoaXMuc2luZ2xldG9uLmRlY29yYXRvciA9IG1lcmdlRGVlcChcbiAgICAgICAgICB0aGlzLnNpbmdsZXRvbi5kZWNvcmF0b3IsXG4gICAgICAgICAgbmFtZVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICB0aGlzLnNpbmdsZXRvbi5kZWNvcmF0b3IgPSBuYW1lKHRoaXMuc2luZ2xldG9uLmRlY29yYXRvcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAoIShuYW1lIGluIHRoaXMuc2luZ2xldG9uLmRlY29yYXRvcikpXG4gICAgICB0aGlzLnNpbmdsZXRvbi5kZWNvcmF0b3JbbmFtZV0gPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBkZXJpdmUob3B0aW9uc09yVHJhbnNmb3JtLCB0cmFuc2Zvcm0pIHtcbiAgICBpZiAoIXRyYW5zZm9ybSkge1xuICAgICAgdHJhbnNmb3JtID0gb3B0aW9uc09yVHJhbnNmb3JtO1xuICAgICAgb3B0aW9uc09yVHJhbnNmb3JtID0geyBhczogXCJsb2NhbFwiIH07XG4gICAgfVxuICAgIGNvbnN0IGhvb2sgPSB7XG4gICAgICBzdWJUeXBlOiBcImRlcml2ZVwiLFxuICAgICAgZm46IHRyYW5zZm9ybVxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMub25UcmFuc2Zvcm0ob3B0aW9uc09yVHJhbnNmb3JtLCBob29rKTtcbiAgfVxuICBtb2RlbChuYW1lLCBtb2RlbCkge1xuICAgIHN3aXRjaCAodHlwZW9mIG5hbWUpIHtcbiAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobmFtZSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgaWYgKCEoa2V5IGluIHRoaXMuZGVmaW5pdGlvbnMudHlwZSkpXG4gICAgICAgICAgICB0aGlzLmRlZmluaXRpb25zLnR5cGVba2V5XSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgdGhpcy5kZWZpbml0aW9ucy50eXBlID0gbmFtZSh0aGlzLmRlZmluaXRpb25zLnR5cGUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgO1xuICAgIHRoaXMuZGVmaW5pdGlvbnMudHlwZVtuYW1lXSA9IG1vZGVsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIG1hcERlcml2ZShvcHRpb25zT3JEZXJpdmUsIG1hcHBlcikge1xuICAgIGlmICghbWFwcGVyKSB7XG4gICAgICBtYXBwZXIgPSBvcHRpb25zT3JEZXJpdmU7XG4gICAgICBvcHRpb25zT3JEZXJpdmUgPSB7IGFzOiBcImxvY2FsXCIgfTtcbiAgICB9XG4gICAgY29uc3QgaG9vayA9IHtcbiAgICAgIHN1YlR5cGU6IFwiZGVyaXZlXCIsXG4gICAgICBmbjogbWFwcGVyXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5vblRyYW5zZm9ybShvcHRpb25zT3JEZXJpdmUsIGhvb2spO1xuICB9XG4gIGFmZml4KGJhc2UsIHR5cGUsIHdvcmQpIHtcbiAgICBpZiAod29yZCA9PT0gXCJcIilcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIGNvbnN0IGRlbGltaWV0ZXIgPSBbXCJfXCIsIFwiLVwiLCBcIiBcIl07XG4gICAgY29uc3QgY2FwaXRhbGl6ZSA9ICh3b3JkMikgPT4gd29yZDJbMF0udG9VcHBlckNhc2UoKSArIHdvcmQyLnNsaWNlKDEpO1xuICAgIGNvbnN0IGpvaW5LZXkgPSBiYXNlID09PSBcInByZWZpeFwiID8gKHByZWZpeCwgd29yZDIpID0+IGRlbGltaWV0ZXIuaW5jbHVkZXMocHJlZml4LmF0KC0xKSA/PyBcIlwiKSA/IHByZWZpeCArIHdvcmQyIDogcHJlZml4ICsgY2FwaXRhbGl6ZSh3b3JkMikgOiBkZWxpbWlldGVyLmluY2x1ZGVzKHdvcmQuYXQoLTEpID8/IFwiXCIpID8gKHN1ZmZpeCwgd29yZDIpID0+IHdvcmQyICsgc3VmZml4IDogKHN1ZmZpeCwgd29yZDIpID0+IHdvcmQyICsgY2FwaXRhbGl6ZShzdWZmaXgpO1xuICAgIGNvbnN0IHJlbWFwID0gKHR5cGUyKSA9PiB7XG4gICAgICBjb25zdCBzdG9yZSA9IHt9O1xuICAgICAgc3dpdGNoICh0eXBlMikge1xuICAgICAgICBjYXNlIFwiZGVjb3JhdG9yXCI6XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5zaW5nbGV0b24uZGVjb3JhdG9yKSB7XG4gICAgICAgICAgICBzdG9yZVtqb2luS2V5KHdvcmQsIGtleSldID0gdGhpcy5zaW5nbGV0b24uZGVjb3JhdG9yW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuc2luZ2xldG9uLmRlY29yYXRvciA9IHN0b3JlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3RhdGVcIjpcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLnNpbmdsZXRvbi5zdG9yZSlcbiAgICAgICAgICAgIHN0b3JlW2pvaW5LZXkod29yZCwga2V5KV0gPSB0aGlzLnNpbmdsZXRvbi5zdG9yZVtrZXldO1xuICAgICAgICAgIHRoaXMuc2luZ2xldG9uLnN0b3JlID0gc3RvcmU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtb2RlbFwiOlxuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuZGVmaW5pdGlvbnMudHlwZSlcbiAgICAgICAgICAgIHN0b3JlW2pvaW5LZXkod29yZCwga2V5KV0gPSB0aGlzLmRlZmluaXRpb25zLnR5cGVba2V5XTtcbiAgICAgICAgICB0aGlzLmRlZmluaXRpb25zLnR5cGUgPSBzdG9yZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5kZWZpbml0aW9ucy5lcnJvcilcbiAgICAgICAgICAgIHN0b3JlW2pvaW5LZXkod29yZCwga2V5KV0gPSB0aGlzLmRlZmluaXRpb25zLmVycm9yW2tleV07XG4gICAgICAgICAgdGhpcy5kZWZpbml0aW9ucy5lcnJvciA9IHN0b3JlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgdHlwZXMgPSBBcnJheS5pc0FycmF5KHR5cGUpID8gdHlwZSA6IFt0eXBlXTtcbiAgICBmb3IgKGNvbnN0IHR5cGUyIG9mIHR5cGVzLnNvbWUoKHgpID0+IHggPT09IFwiYWxsXCIpID8gW1wiZGVjb3JhdG9yXCIsIFwic3RhdGVcIiwgXCJtb2RlbFwiLCBcImVycm9yXCJdIDogdHlwZXMpXG4gICAgICByZW1hcCh0eXBlMik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcHJlZml4KHR5cGUsIHdvcmQpIHtcbiAgICByZXR1cm4gdGhpcy5hZmZpeChcInByZWZpeFwiLCB0eXBlLCB3b3JkKTtcbiAgfVxuICBzdWZmaXgodHlwZSwgd29yZCkge1xuICAgIHJldHVybiB0aGlzLmFmZml4KFwic3VmZml4XCIsIHR5cGUsIHdvcmQpO1xuICB9XG4gIGNvbXBpbGUoKSB7XG4gICAgdGhpcy5mZXRjaCA9IHRoaXMuY29uZmlnLmFvdCA/IGNvbXBvc2VHZW5lcmFsSGFuZGxlcih0aGlzKSA6IGNyZWF0ZUR5bmFtaWNIYW5kbGVyKHRoaXMpO1xuICAgIGlmICh0eXBlb2YgdGhpcy5zZXJ2ZXI/LnJlbG9hZCA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgdGhpcy5zZXJ2ZXIucmVsb2FkKHtcbiAgICAgICAgLi4udGhpcy5zZXJ2ZXIgfHwge30sXG4gICAgICAgIGZldGNoOiB0aGlzLmZldGNoXG4gICAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogV2FpdCB1bnRpbCBhbGwgbGF6eSBsb2FkZWQgbW9kdWxlcyBhbGwgbG9hZCBpcyBmdWxseVxuICAgKi9cbiAgZ2V0IG1vZHVsZXMoKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHRoaXMucHJvbWlzZWRNb2R1bGVzLnByb21pc2VzKTtcbiAgfVxufTtcbmV4cG9ydCB7XG4gIENvb2tpZSxcbiAgRUxZU0lBX1JFU1BPTlNFLFxuICBFUlJPUl9DT0RFLFxuICBFbHlzaWEsXG4gIEludGVybmFsU2VydmVyRXJyb3IsXG4gIEludmFsaWRDb29raWVTaWduYXR1cmUsXG4gIEludmVydGVkU3RhdHVzTWFwLFxuICBOb3RGb3VuZEVycm9yLFxuICBQYXJzZUVycm9yLFxuICBTdGF0dXNNYXAsXG4gIFZhbGlkYXRpb25FcnJvcixcbiAgRWx5c2lhIGFzIGRlZmF1bHQsXG4gIGVycm9yLFxuICBmb3JtLFxuICBnZXRSZXNwb25zZVNjaGVtYVZhbGlkYXRvcixcbiAgZ2V0U2NoZW1hVmFsaWRhdG9yLFxuICBtYXBDb21wYWN0UmVzcG9uc2UsXG4gIG1hcEVhcmx5UmVzcG9uc2UsXG4gIG1hcFJlc3BvbnNlLFxuICBtZXJnZUhvb2ssXG4gIG1lcmdlT2JqZWN0QXJyYXksXG4gIHJlZGlyZWN0LFxuICB0MiBhcyB0XG59O1xuLyoqXG4gKiBAbGljZW5zZVxuICogXG4gKiBNSVQgTGljZW5zZVxuICogXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgRXZnZW55IFBvYmVyZXpraW5cbiAqIFxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICogXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGxcbiAqIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKiBcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAqIFNPRlRXQVJFLlxuICovXG4iLAogICAgImltcG9ydCB7IEVseXNpYSB9IGZyb20gJ2VseXNpYSc7XG5jb25zdCBwcm9jZXNzT3JpZ2luID0gKG9yaWdpbiwgcmVxdWVzdCwgZnJvbSkgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9yaWdpbikpXG4gICAgICAgIHJldHVybiBvcmlnaW4uc29tZSgobykgPT4gcHJvY2Vzc09yaWdpbihvLCByZXF1ZXN0LCBmcm9tKSk7XG4gICAgc3dpdGNoICh0eXBlb2Ygb3JpZ2luKSB7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICBjb25zdCBwcm90b2NvbFN0YXJ0ID0gZnJvbS5pbmRleE9mKCc6Ly8nKTtcbiAgICAgICAgICAgIGlmIChwcm90b2NvbFN0YXJ0ICE9PSAtMSlcbiAgICAgICAgICAgICAgICBmcm9tID0gZnJvbS5zbGljZShwcm90b2NvbFN0YXJ0ICsgMyk7XG4gICAgICAgICAgICBjb25zdCB0cmFpbGluZ1NsYXNoID0gZnJvbS5pbmRleE9mKCcvJywgMCk7XG4gICAgICAgICAgICBpZiAodHJhaWxpbmdTbGFzaCAhPT0gLTEpXG4gICAgICAgICAgICAgICAgZnJvbSA9IGZyb20uc2xpY2UodHJhaWxpbmdTbGFzaCk7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luID09PSBmcm9tO1xuICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luKHJlcXVlc3QpID09PSB0cnVlO1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgaWYgKG9yaWdpbiBpbnN0YW5jZW9mIFJlZ0V4cClcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luLnRlc3QoZnJvbSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5leHBvcnQgY29uc3QgY29ycyA9IChjb25maWcpID0+IHtcbiAgICBsZXQgeyBhb3QgPSB0cnVlLCBvcmlnaW4gPSAnKicsIG1ldGhvZHMgPSAnKicsIGFsbG93ZWRIZWFkZXJzID0gJyonLCBleHBvc2VkSGVhZGVycyA9ICcqJywgY3JlZGVudGlhbHMgPSB0cnVlLCBtYXhBZ2UgPSA1LCBwcmVmbGlnaHQgPSB0cnVlIH0gPSBjb25maWcgPz8ge307XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYWxsb3dlZEhlYWRlcnMpKVxuICAgICAgICBhbGxvd2VkSGVhZGVycyA9IGFsbG93ZWRIZWFkZXJzLmpvaW4oJywgJyk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZXhwb3NlZEhlYWRlcnMpKVxuICAgICAgICBleHBvc2VkSGVhZGVycyA9IGV4cG9zZWRIZWFkZXJzLmpvaW4oJywgJyk7XG4gICAgY29uc3Qgb3JpZ2lucyA9IHR5cGVvZiBvcmlnaW4gPT09ICdib29sZWFuJ1xuICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICA6IEFycmF5LmlzQXJyYXkob3JpZ2luKVxuICAgICAgICAgICAgPyBvcmlnaW5cbiAgICAgICAgICAgIDogW29yaWdpbl07XG4gICAgY29uc3QgYXBwID0gbmV3IEVseXNpYSh7XG4gICAgICAgIG5hbWU6ICdAZWx5c2lhanMvY29ycycsXG4gICAgICAgIHNlZWQ6IGNvbmZpZyxcbiAgICAgICAgYW90XG4gICAgfSk7XG4gICAgY29uc3QgYW55T3JpZ2luID0gb3JpZ2lucz8uc29tZSgobykgPT4gbyA9PT0gJyonKTtcbiAgICBjb25zdCBoYW5kbGVPcmlnaW4gPSAoc2V0LCByZXF1ZXN0KSA9PiB7XG4gICAgICAgIGlmIChvcmlnaW4gPT09IHRydWUpIHtcbiAgICAgICAgICAgIHNldC5oZWFkZXJzWydWYXJ5J10gPSAnKic7XG4gICAgICAgICAgICBzZXQuaGVhZGVyc1snQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJ10gPVxuICAgICAgICAgICAgICAgIHJlcXVlc3QuaGVhZGVycy5nZXQoJ09yaWdpbicpIHx8ICcqJztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW55T3JpZ2luKSB7XG4gICAgICAgICAgICBzZXQuaGVhZGVyc1snVmFyeSddID0gJyonO1xuICAgICAgICAgICAgc2V0LmhlYWRlcnNbJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiddID0gJyonO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3JpZ2lucz8ubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gW107XG4gICAgICAgIGlmIChvcmlnaW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgZnJvbSA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ09yaWdpbicpID8/ICcnO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcmlnaW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwcm9jZXNzT3JpZ2luKG9yaWdpbnNbaV0sIHJlcXVlc3QsIGZyb20pO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBzZXQuaGVhZGVyc1snVmFyeSddID0gb3JpZ2luID8gJ09yaWdpbicgOiAnKic7XG4gICAgICAgICAgICAgICAgICAgIHNldC5oZWFkZXJzWydBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nXSA9IGZyb20gfHwgJyonO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVycy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXQuaGVhZGVyc1snVmFyeSddID0gJ09yaWdpbic7XG4gICAgICAgIHNldC5oZWFkZXJzWydBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nXSA9IGhlYWRlcnMuam9pbignLCAnKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZU1ldGhvZCA9IChzZXQsIG1ldGhvZCkgPT4ge1xuICAgICAgICBpZiAobWV0aG9kcyA9PT0gdHJ1ZSlcbiAgICAgICAgICAgIHJldHVybiAoc2V0LmhlYWRlcnNbJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnXSA9IG1ldGhvZCA/PyAnKicpO1xuICAgICAgICBpZiAobWV0aG9kcyA9PT0gZmFsc2UgfHwgIW1ldGhvZHM/Lmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKG1ldGhvZHMgPT09ICcqJylcbiAgICAgICAgICAgIHJldHVybiAoc2V0LmhlYWRlcnNbJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnXSA9ICcqJyk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtZXRob2RzKSlcbiAgICAgICAgICAgIHJldHVybiAoc2V0LmhlYWRlcnNbJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnXSA9IG1ldGhvZHMpO1xuICAgICAgICBzZXQuaGVhZGVyc1snQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcyddID0gbWV0aG9kcy5qb2luKCcsICcpO1xuICAgIH07XG4gICAgaWYgKHByZWZsaWdodClcbiAgICAgICAgYXBwLm9wdGlvbnMoJy8nLCAoeyBzZXQsIHJlcXVlc3QgfSkgPT4ge1xuICAgICAgICAgICAgaGFuZGxlT3JpZ2luKHNldCwgcmVxdWVzdCk7XG4gICAgICAgICAgICBoYW5kbGVNZXRob2Qoc2V0LCByZXF1ZXN0Lm1ldGhvZCk7XG4gICAgICAgICAgICBpZiAoYWxsb3dlZEhlYWRlcnMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHNldC5oZWFkZXJzWydBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJ10gPVxuICAgICAgICAgICAgICAgICAgICBhbGxvd2VkSGVhZGVycztcbiAgICAgICAgICAgIGlmIChleHBvc2VkSGVhZGVycy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgc2V0LmhlYWRlcnNbJ0FjY2Vzcy1Db250cm9sLUV4cG9zZS1IZWFkZXJzJ10gPVxuICAgICAgICAgICAgICAgICAgICBleHBvc2VkSGVhZGVycztcbiAgICAgICAgICAgIGlmIChtYXhBZ2UpXG4gICAgICAgICAgICAgICAgc2V0LmhlYWRlcnNbJ0FjY2Vzcy1Db250cm9sLU1heC1BZ2UnXSA9IG1heEFnZS50b1N0cmluZygpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAyMDRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KS5vcHRpb25zKCcvKicsICh7IHNldCwgcmVxdWVzdCB9KSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVPcmlnaW4oc2V0LCByZXF1ZXN0KTtcbiAgICAgICAgICAgIGhhbmRsZU1ldGhvZChzZXQsIHJlcXVlc3QubWV0aG9kKTtcbiAgICAgICAgICAgIGlmIChhbGxvd2VkSGVhZGVycy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgc2V0LmhlYWRlcnNbJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnXSA9XG4gICAgICAgICAgICAgICAgICAgIGFsbG93ZWRIZWFkZXJzO1xuICAgICAgICAgICAgaWYgKGV4cG9zZWRIZWFkZXJzLmxlbmd0aClcbiAgICAgICAgICAgICAgICBzZXQuaGVhZGVyc1snQWNjZXNzLUNvbnRyb2wtRXhwb3NlLUhlYWRlcnMnXSA9XG4gICAgICAgICAgICAgICAgICAgIGV4cG9zZWRIZWFkZXJzO1xuICAgICAgICAgICAgaWYgKG1heEFnZSlcbiAgICAgICAgICAgICAgICBzZXQuaGVhZGVyc1snQWNjZXNzLUNvbnRyb2wtTWF4LUFnZSddID0gbWF4QWdlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDIwNFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIGNvbnN0IGRlZmF1bHRIZWFkZXJzID0ge1xuICAgICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycyc6IGFsbG93ZWRIZWFkZXJzLFxuICAgICAgICAnQWNjZXNzLUNvbnRyb2wtRXhwb3NlZC1IZWFkZXJzJzogZXhwb3NlZEhlYWRlcnNcbiAgICB9O1xuICAgIGlmIChjcmVkZW50aWFscyA9PT0gdHJ1ZSlcbiAgICAgICAgZGVmYXVsdEhlYWRlcnNbJ0FjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzJ10gPSAndHJ1ZSc7XG4gICAgcmV0dXJuIGFwcC5oZWFkZXJzKGRlZmF1bHRIZWFkZXJzKS5vblJlcXVlc3QoKHsgc2V0LCByZXF1ZXN0IH0pID0+IHtcbiAgICAgICAgaGFuZGxlT3JpZ2luKHNldCwgcmVxdWVzdCk7XG4gICAgICAgIGhhbmRsZU1ldGhvZChzZXQsIHJlcXVlc3QubWV0aG9kKTtcbiAgICAgICAgaWYgKGFsbG93ZWRIZWFkZXJzLmxlbmd0aClcbiAgICAgICAgICAgIHNldC5oZWFkZXJzWydBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJ10gPVxuICAgICAgICAgICAgICAgIGFsbG93ZWRIZWFkZXJzO1xuICAgICAgICBpZiAoZXhwb3NlZEhlYWRlcnMubGVuZ3RoKVxuICAgICAgICAgICAgc2V0LmhlYWRlcnNbJ0FjY2Vzcy1Db250cm9sLUV4cG9zZS1IZWFkZXJzJ10gPVxuICAgICAgICAgICAgICAgIGV4cG9zZWRIZWFkZXJzO1xuICAgIH0pO1xufTtcbmV4cG9ydCBkZWZhdWx0IGNvcnM7XG4iLAogICAgImV4cG9ydCBjb25zdCBTd2FnZ2VyVUlSZW5kZXIgPSAoaW5mbywgdmVyc2lvbiwgdGhlbWUsIHN0cmluZ2lmaWVkU3dhZ2dlck9wdGlvbnMsIGF1dG9EYXJrTW9kZSkgPT4gYDwhRE9DVFlQRSBodG1sPlxuPGh0bWwgbGFuZz1cImVuXCI+XG48aGVhZD5cbiAgICA8bWV0YSBjaGFyc2V0PVwidXRmLThcIiAvPlxuICAgIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MVwiIC8+XG4gICAgPHRpdGxlPiR7aW5mby50aXRsZX08L3RpdGxlPlxuICAgIDxtZXRhXG4gICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgIGNvbnRlbnQ9XCIke2luZm8uZGVzY3JpcHRpb259XCJcbiAgICAvPlxuICAgIDxtZXRhXG4gICAgICAgIG5hbWU9XCJvZzpkZXNjcmlwdGlvblwiXG4gICAgICAgIGNvbnRlbnQ9XCIke2luZm8uZGVzY3JpcHRpb259XCJcbiAgICAvPlxuICAgICR7YXV0b0RhcmtNb2RlICYmIHR5cGVvZiB0aGVtZSA9PT0gJ3N0cmluZydcbiAgICA/IGBcbiAgICA8c3R5bGU+XG4gICAgICAgIEBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspIHtcbiAgICAgICAgICAgIGJvZHkge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyMjI7XG4gICAgICAgICAgICAgICAgY29sb3I6ICNmYWY5YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5zd2FnZ2VyLXVpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IGludmVydCg5MiUpIGh1ZS1yb3RhdGUoMTgwZGVnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLnN3YWdnZXItdWkgLm1pY3JvbGlnaHQge1xuICAgICAgICAgICAgICAgIGZpbHRlcjogaW52ZXJ0KDEwMCUpIGh1ZS1yb3RhdGUoMTgwZGVnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIDwvc3R5bGU+YFxuICAgIDogJyd9XG4gICAgJHt0eXBlb2YgdGhlbWUgPT09ICdzdHJpbmcnXG4gICAgPyBgPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIGhyZWY9XCIke3RoZW1lfVwiIC8+YFxuICAgIDogYDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiBtZWRpYT1cIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogbGlnaHQpXCIgaHJlZj1cIiR7dGhlbWUubGlnaHR9XCIgLz5cbjxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiBtZWRpYT1cIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIiBocmVmPVwiJHt0aGVtZS5kYXJrfVwiIC8+YH1cbjwvaGVhZD5cbjxib2R5PlxuICAgIDxkaXYgaWQ9XCJzd2FnZ2VyLXVpXCI+PC9kaXY+XG4gICAgPHNjcmlwdCBzcmM9XCJodHRwczovL3VucGtnLmNvbS9zd2FnZ2VyLXVpLWRpc3RAJHt2ZXJzaW9ufS9zd2FnZ2VyLXVpLWJ1bmRsZS5qc1wiIGNyb3Nzb3JpZ2luPjwvc2NyaXB0PlxuICAgIDxzY3JpcHQ+XG4gICAgICAgIHdpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICB3aW5kb3cudWkgPSBTd2FnZ2VyVUlCdW5kbGUoJHtzdHJpbmdpZmllZFN3YWdnZXJPcHRpb25zfSk7XG4gICAgICAgIH07XG4gICAgPC9zY3JpcHQ+XG48L2JvZHk+XG48L2h0bWw+YDtcbiIsCiAgICAiZXhwb3J0IGRlZmF1bHQgYFxuLyogYmFzaWMgdGhlbWUgKi9cbi5saWdodC1tb2RlIHtcbiAgLS10aGVtZS1jb2xvci0xOiAjMmEyZjQ1O1xuICAtLXRoZW1lLWNvbG9yLTI6ICM3NTc1NzU7XG4gIC0tdGhlbWUtY29sb3ItMzogIzhlOGU4ZTtcbiAgLS10aGVtZS1jb2xvci1hY2NlbnQ6ICNmMDYyOTI7XG5cbiAgLS10aGVtZS1iYWNrZ3JvdW5kLTE6ICNmZmY7XG4gIC0tdGhlbWUtYmFja2dyb3VuZC0yOiAjZjZmNmY2O1xuICAtLXRoZW1lLWJhY2tncm91bmQtMzogI2U3ZTdlNztcbiAgLS10aGVtZS1iYWNrZ3JvdW5kLWFjY2VudDogI2YwNjI5MjFmO1xuXG4gIC0tdGhlbWUtYm9yZGVyLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG4uZGFyay1tb2RlIHtcbiAgLS10aGVtZS1jb2xvci0xOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSk7XG4gIC0tdGhlbWUtY29sb3ItMjogcmdiYSgxNTYsIDE2MywgMTc1LCAxKTtcbiAgLS10aGVtZS1jb2xvci0zOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNDQpO1xuICAtLXRoZW1lLWNvbG9yLWFjY2VudDogI2YwNjI5MjtcblxuICAtLXRoZW1lLWJhY2tncm91bmQtMTogIzExMTcyODtcbiAgLS10aGVtZS1iYWNrZ3JvdW5kLTI6ICMxZTI5M2I7XG4gIC0tdGhlbWUtYmFja2dyb3VuZC0zOiAjMzM0MTU1O1xuICAtLXRoZW1lLWJhY2tncm91bmQtYWNjZW50OiAjZjA2MjkyMWY7XG5cbiAgLS10aGVtZS1ib3JkZXItY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbn1cbi8qIERvY3VtZW50IFNpZGViYXIgKi9cbi5saWdodC1tb2RlIC5zaWRlYmFyLFxuLmRhcmstbW9kZSAuc2lkZWJhciB7XG4gIC0tc2lkZWJhci1iYWNrZ3JvdW5kLTE6IHZhcigtLXRoZW1lLWJhY2tncm91bmQtMSk7XG4gIC0tc2lkZWJhci1pdGVtLWhvdmVyLWNvbG9yOiBjdXJyZW50Q29sb3I7XG4gIC0tc2lkZWJhci1pdGVtLWhvdmVyLWJhY2tncm91bmQ6IHZhcigtLXRoZW1lLWJhY2tncm91bmQtMik7XG4gIC0tc2lkZWJhci1pdGVtLWFjdGl2ZS1iYWNrZ3JvdW5kOiB2YXIoLS10aGVtZS1iYWNrZ3JvdW5kLWFjY2VudCk7XG4gIC0tc2lkZWJhci1ib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xuICAtLXNpZGViYXItY29sb3ItMTogdmFyKC0tdGhlbWUtY29sb3ItMSk7XG4gIC0tc2lkZWJhci1jb2xvci0yOiB2YXIoLS10aGVtZS1jb2xvci0yKTtcbiAgLS1zaWRlYmFyLWNvbG9yLWFjdGl2ZTogdmFyKC0tdGhlbWUtY29sb3ItYWNjZW50KTtcbiAgLS1zaWRlYmFyLXNlYXJjaC1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgLS1zaWRlYmFyLXNlYXJjaC1ib3JkZXItY29sb3I6IHZhcigtLXRoZW1lLWJvcmRlci1jb2xvcik7XG4gIC0tc2lkZWJhci1zZWFyY2gtLWNvbG9yOiB2YXIoLS10aGVtZS1jb2xvci0zKTtcbn1cbi8qIERvY3VtZW50IGhlYWRlciBvbmx5IHNob3dzIG9uIG1vYmlsZSovXG4uZGFyay1tb2RlIC50LWRvY19faGVhZGVyLFxuLmxpZ2h0LW1vZGUgLnQtZG9jX19oZWFkZXIge1xuICAtLWhlYWRlci1iYWNrZ3JvdW5kLTE6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44NSk7XG4gIC0taGVhZGVyLWJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIC0taGVhZGVyLWNvbG9yLTE6IHZhcigtLXRoZW1lLWNvbG9yLTEpO1xuICAtLWhlYWRlci1jb2xvci0yOiB2YXIoLS10aGVtZS1jb2xvci0yKTtcbiAgLS1oZWFkZXItYmFja2dyb3VuZC10b2dnbGU6IHZhcigtLXRoZW1lLWNvbG9yLTMpO1xuICAtLWhlYWRlci1jYWxsLXRvLWFjdGlvbi1jb2xvcjogdmFyKC0tdGhlbWUtY29sb3ItYWNjZW50KTtcbn1cblxuLmRhcmstbW9kZSAudC1kb2NfX2hlYWRlciB7XG4gIC0taGVhZGVyLWJhY2tncm91bmQtMTogcmdiYSgxNywgMjMsIDQwLCAwLjc1KTtcbn1cblxuLyogYWR2YW5jZWQgKi9cbi5saWdodC1tb2RlIHtcbiAgLS10aGVtZS1idXR0b24tMTogcmdiKDQ5IDUzIDU2KTtcbiAgLS10aGVtZS1idXR0b24tMS1jb2xvcjogI2ZmZjtcbiAgLS10aGVtZS1idXR0b24tMS1ob3ZlcjogcmdiKDI4IDMxIDMzKTtcblxuICAtLXRoZW1lLWNvbG9yLWdyZWVuOiAjMDY5MDYxO1xuICAtLXRoZW1lLWNvbG9yLXJlZDogI2VmMDAwNjtcbiAgLS10aGVtZS1jb2xvci15ZWxsb3c6ICNlZGJlMjA7XG4gIC0tdGhlbWUtY29sb3ItYmx1ZTogIzAwODJkMDtcbiAgLS10aGVtZS1jb2xvci1vcmFuZ2U6ICNmYjg5MmM7XG4gIC0tdGhlbWUtY29sb3ItcHVycGxlOiAjNTIwM2QxO1xuXG4gIC0tdGhlbWUtc2Nyb2xsYmFyLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMTgpO1xuICAtLXRoZW1lLXNjcm9sbGJhci1jb2xvci1hY3RpdmU6IHJnYmEoMCwgMCwgMCwgMC4zNik7XG59XG4uZGFyay1tb2RlIHtcbiAgLS10aGVtZS1idXR0b24tMTogI2Y2ZjZmNjtcbiAgLS10aGVtZS1idXR0b24tMS1jb2xvcjogIzAwMDtcbiAgLS10aGVtZS1idXR0b24tMS1ob3ZlcjogI2U3ZTdlNztcblxuICAtLXRoZW1lLWNvbG9yLWdyZWVuOiAjYTNmZmE5O1xuICAtLXRoZW1lLWNvbG9yLXJlZDogI2ZmYTNhMztcbiAgLS10aGVtZS1jb2xvci15ZWxsb3c6ICNmZmZjYTM7XG4gIC0tdGhlbWUtY29sb3ItYmx1ZTogI2E1ZDZmZjtcbiAgLS10aGVtZS1jb2xvci1vcmFuZ2U6ICNlMmFlODM7XG4gIC0tdGhlbWUtY29sb3ItcHVycGxlOiAjZDJhOGZmO1xuXG4gIC0tdGhlbWUtc2Nyb2xsYmFyLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMjQpO1xuICAtLXRoZW1lLXNjcm9sbGJhci1jb2xvci1hY3RpdmU6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC40OCk7XG59XG4vKiBFbHlzaWEgU3BlY2lmaWMgKi9cbi5zY2FsYXItYXBpLWNsaWVudF9fc2VuZC1yZXF1ZXN0LWJ1dHRvbixcbi5zaG93LWFwaS1jbGllbnQtYnV0dG9uIHtcbiAgYmFja2dyb3VuZDogIzNjODJmNiAhaW1wb3J0YW50O1xufVxuLnNob3ctYXBpLWNsaWVudC1idXR0b246YmVmb3JlIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cblxuLnNpZGViYXItc2VhcmNoOmhvdmVyIHtcbiAgdHJhbnNpdGlvbjogYWxsIDAuMTVzIGVhc2UtaW4tb3V0O1xuICAtLXNpZGViYXItc2VhcmNoLWJvcmRlci1jb2xvcjogdmFyKC0tdGhlbWUtY29sb3ItYWNjZW50KSAhaW1wb3J0YW50O1xuICBjb2xvcjogdmFyKC0tc2lkZWJhci1jb2xvci0xKSAhaW1wb3J0YW50O1xufVxuLnNjYWxhci1hcGktY2xpZW50X19jb250YWluZXIgLnNpZGViYXIge1xuICAtLXNpZGViYXItYm9yZGVyLWNvbG9yOiB2YXIoLS10aGVtZS1ib3JkZXItY29sb3IpO1xufVxuQG1lZGlhIChtaW4td2lkdGg6IDExNTBweCkge1xuICAuc2VjdGlvbi1jb250YWluZXI6aGFzKCB+IC5mb290ZXIpOmJlZm9yZSxcbiAgLnRhZy1zZWN0aW9uLWNvbnRhaW5lcjpiZWZvcmUge1xuICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogLTVweDtcbiAgICBsZWZ0OiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTBweDtcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHZhcigtLXRoZW1lLWJhY2tncm91bmQtMSkgMyUsdHJhbnNwYXJlbnQgMTAlKTtcbiAgfVxufVxuLnNlY3Rpb24tZmxhcmUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAxMDB2dztcbiAgaGVpZ2h0OiAzMDBweDtcbiAgLS1zdHJpcGVzOiByZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KFxuICAgIDEwMGRlZyxcbiAgICAjZmZmIDAlLFxuICAgICNmZmYgNyUsXG4gICAgdHJhbnNwYXJlbnQgMTAlLFxuICAgIHRyYW5zcGFyZW50IDEyJSxcbiAgICAjZmZmIDE2JVxuICApO1xuICAtLXN0cmlwZXNEYXJrOiByZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KFxuICAgIDEwMGRlZyxcbiAgICAjMDAwIDAlLFxuICAgICMwMDAgNyUsXG4gICAgdHJhbnNwYXJlbnQgMTAlLFxuICAgIHRyYW5zcGFyZW50IDEyJSxcbiAgICAjMDAwIDE2JVxuICApO1xuICAtLXJhaW5ib3c6IHJlcGVhdGluZy1saW5lYXItZ3JhZGllbnQoXG4gICAgMTAwZGVnLFxuICAgICM2MGE1ZmEgMTAlLFxuICAgICNlODc5ZjkgMTYlLFxuICAgICM1ZWVhZDQgMjIlLFxuICAgICM2MGE1ZmEgMzAlXG4gICk7XG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLXN0cmlwZXMpLCB2YXIoLS1yYWluYm93KTtcbiAgYmFja2dyb3VuZC1zaXplOiAzMDAlLCAyMDAlO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgNTAlLCA1MCUgNTAlO1xuICBmaWx0ZXI6IGludmVydCgxMDAlKTtcbiAgLXdlYmtpdC1tYXNrLWltYWdlOiByYWRpYWwtZ3JhZGllbnQoXG4gICAgZWxsaXBzZSBhdCAxMDAlIDAlLFxuICAgIGJsYWNrIDQwJSxcbiAgICB0cmFuc3BhcmVudCA3MCVcbiAgKTtcbiAgbWFzay1pbWFnZTogcmFkaWFsLWdyYWRpZW50KGVsbGlwc2UgYXQgMTAwJSAwJSwgYmxhY2sgNDAlLCB0cmFuc3BhcmVudCA3MCUpO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgb3BhY2l0eTogMC4xNTtcbn1cbi5kYXJrLW1vZGUgLnNlY3Rpb24tZmxhcmUge1xuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1zdHJpcGVzRGFyayksIHZhcigtLXJhaW5ib3cpO1xuICBmaWx0ZXI6IG9wYWNpdHkoNTAlKSBzYXR1cmF0ZSgyMDAlKTtcbiAgb3BhY2l0eTogMC4yNTtcbn1cbi5zZWN0aW9uLWZsYXJlOmFmdGVyIHtcbiAgY29udGVudDogXCJcIjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLXN0cmlwZXMpLCB2YXIoLS1yYWluYm93KTtcbiAgYmFja2dyb3VuZC1zaXplOiAyMDAlLCAxMDAlO1xuICBiYWNrZ3JvdW5kLWF0dGFjaG1lbnQ6IGZpeGVkO1xuICBtaXgtYmxlbmQtbW9kZTogZGlmZmVyZW5jZTtcbn1cbi5kYXJrLW1vZGUgLnNlY3Rpb24tZmxhcmU6YWZ0ZXIge1xuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1zdHJpcGVzRGFyayksIHZhcigtLXJhaW5ib3cpO1xufVxuQGtleWZyYW1lcyBoZWFkZXJiYWNrZ3JvdW5kIHtcbiAgZnJvbSB7XG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgYmFja2Ryb3AtZmlsdGVyOiBub25lO1xuICB9XG4gIHRvIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1oZWFkZXItYmFja2dyb3VuZC0xKTtcbiAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTJweCk7XG4gIH1cbn1cbi5saWdodC1tb2RlIC50LWRvY19faGVhZGVyLFxuLmRhcmstbW9kZSAudC1kb2NfX2hlYWRlciB7XG4gIGFuaW1hdGlvbjogaGVhZGVyYmFja2dyb3VuZCBmb3J3YXJkcztcbiAgYW5pbWF0aW9uLXRpbWVsaW5lOiBzY3JvbGwoKTtcbiAgYW5pbWF0aW9uLXJhbmdlOiAwcHggMjAwcHg7XG4gIC0taGVhZGVyLWJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG5gO1xuIiwKICAgICJpbXBvcnQgc2NhbGFyRWx5c2lhVGhlbWUgZnJvbSAnLi90aGVtZSc7XG5leHBvcnQgY29uc3QgU2NhbGFyUmVuZGVyID0gKHZlcnNpb24sIGNvbmZpZywgY2RuKSA9PiBgPCFkb2N0eXBlIGh0bWw+XG48aHRtbD5cbiAgPGhlYWQ+XG4gICAgPHRpdGxlPkFQSSBSZWZlcmVuY2U8L3RpdGxlPlxuICAgIDxtZXRhIGNoYXJzZXQ9XCJ1dGYtOFwiIC8+XG4gICAgPG1ldGFcbiAgICAgIG5hbWU9XCJ2aWV3cG9ydFwiXG4gICAgICBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTFcIiAvPlxuICAgIDxzdHlsZT5cbiAgICAgIGJvZHkge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICB9XG4gICAgPC9zdHlsZT5cbiAgICA8c3R5bGU+XG4gICAgICAke2NvbmZpZy5jdXN0b21Dc3MgPz8gc2NhbGFyRWx5c2lhVGhlbWV9XG4gICAgPC9zdHlsZT5cbiAgPC9oZWFkPlxuICA8Ym9keT5cbiAgICA8c2NyaXB0XG4gICAgICBpZD1cImFwaS1yZWZlcmVuY2VcIlxuICAgICAgZGF0YS11cmw9XCIke2NvbmZpZy5zcGVjPy51cmx9XCJcbiAgICAgIGRhdGEtY29uZmlndXJhdGlvbj0nJHtKU09OLnN0cmluZ2lmeShjb25maWcpfSdcbiAgICA+XG4gICAgPC9zY3JpcHQ+XG4gICAgPHNjcmlwdCBzcmM9XCIke2NkblxuICAgID8gY2RuXG4gICAgOiBgaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9Ac2NhbGFyL2FwaS1yZWZlcmVuY2VAJHt2ZXJzaW9ufS9kaXN0L2Jyb3dzZXIvc3RhbmRhbG9uZS5taW4uanNgfVwiIGNyb3Nzb3JpZ2luPjwvc2NyaXB0PlxuICA8L2JvZHk+XG48L2h0bWw+YDtcbiIsCiAgICAiaW1wb3J0IHsgS2luZCB9IGZyb20gJ0BzaW5jbGFpci90eXBlYm94JztcbmltcG9ydCBkZWVwQ2xvbmUgZnJvbSAnbG9kYXNoLmNsb25lZGVlcCc7XG5leHBvcnQgY29uc3QgdG9PcGVuQVBJUGF0aCA9IChwYXRoKSA9PiBwYXRoXG4gICAgLnNwbGl0KCcvJylcbiAgICAubWFwKCh4KSA9PiAoeC5zdGFydHNXaXRoKCc6JykgPyBgeyR7eC5zbGljZSgxLCB4Lmxlbmd0aCl9fWAgOiB4KSlcbiAgICAuam9pbignLycpO1xuZXhwb3J0IGNvbnN0IG1hcFByb3BlcnRpZXMgPSAobmFtZSwgc2NoZW1hLCBtb2RlbHMpID0+IHtcbiAgICBpZiAoc2NoZW1hID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiBbXTtcbiAgICBpZiAodHlwZW9mIHNjaGVtYSA9PT0gJ3N0cmluZycpXG4gICAgICAgIGlmIChzY2hlbWEgaW4gbW9kZWxzKVxuICAgICAgICAgICAgc2NoZW1hID0gbW9kZWxzW3NjaGVtYV07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgZmluZCBtb2RlbCAke3NjaGVtYX1gKTtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoc2NoZW1hPy5wcm9wZXJ0aWVzID8/IFtdKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBjb25zdCB7IHR5cGU6IHZhbHVlVHlwZSA9IHVuZGVmaW5lZCwgZGVzY3JpcHRpb24sIGV4YW1wbGVzLCAuLi5zY2hlbWFLZXl3b3JkcyB9ID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBkZXNjcmlwdGlvbiwgZXhhbXBsZXMsXG4gICAgICAgICAgICBzY2hlbWE6IHsgdHlwZTogdmFsdWVUeXBlLCAuLi5zY2hlbWFLZXl3b3JkcyB9LFxuICAgICAgICAgICAgaW46IG5hbWUsXG4gICAgICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICByZXF1aXJlZDogc2NoZW1hLnJlcXVpcmVkPy5pbmNsdWRlcyhrZXkpID8/IGZhbHNlXG4gICAgICAgIH07XG4gICAgfSk7XG59O1xuY29uc3QgbWFwVHlwZXNSZXNwb25zZSA9ICh0eXBlcywgc2NoZW1hKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEgPT09ICdvYmplY3QnICYmXG4gICAgICAgIFsndm9pZCcsICd1bmRlZmluZWQnLCAnbnVsbCddLmluY2x1ZGVzKHNjaGVtYS50eXBlKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHJlc3BvbnNlcyA9IHt9O1xuICAgIGZvciAoY29uc3QgdHlwZSBvZiB0eXBlcylcbiAgICAgICAgcmVzcG9uc2VzW3R5cGVdID0ge1xuICAgICAgICAgICAgc2NoZW1hOiB0eXBlb2Ygc2NoZW1hID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAkcmVmOiBgIy9jb21wb25lbnRzL3NjaGVtYXMvJHtzY2hlbWF9YFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHsgLi4uc2NoZW1hIH1cbiAgICAgICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2VzO1xufTtcbmV4cG9ydCBjb25zdCBjYXBpdGFsaXplID0gKHdvcmQpID0+IHdvcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpO1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlT3BlcmF0aW9uSWQgPSAobWV0aG9kLCBwYXRocykgPT4ge1xuICAgIGxldCBvcGVyYXRpb25JZCA9IG1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChwYXRocyA9PT0gJy8nKVxuICAgICAgICByZXR1cm4gb3BlcmF0aW9uSWQgKyAnSW5kZXgnO1xuICAgIGZvciAoY29uc3QgcGF0aCBvZiBwYXRocy5zcGxpdCgnLycpKSB7XG4gICAgICAgIGlmIChwYXRoLmNoYXJDb2RlQXQoMCkgPT09IDEyMykge1xuICAgICAgICAgICAgb3BlcmF0aW9uSWQgKz0gJ0J5JyArIGNhcGl0YWxpemUocGF0aC5zbGljZSgxLCAtMSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3BlcmF0aW9uSWQgKz0gY2FwaXRhbGl6ZShwYXRoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3BlcmF0aW9uSWQ7XG59O1xuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyU2NoZW1hUGF0aCA9ICh7IHNjaGVtYSwgcGF0aCwgbWV0aG9kLCBob29rLCBtb2RlbHMgfSkgPT4ge1xuICAgIGlmIChob29rKVxuICAgICAgICBob29rID0gZGVlcENsb25lKGhvb2spO1xuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gaG9vaz8udHlwZSA/PyBbXG4gICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ211bHRpcGFydC9mb3JtLWRhdGEnLFxuICAgICAgICAndGV4dC9wbGFpbidcbiAgICBdO1xuICAgIHBhdGggPSB0b09wZW5BUElQYXRoKHBhdGgpO1xuICAgIGNvbnN0IGNvbnRlbnRUeXBlcyA9IHR5cGVvZiBjb250ZW50VHlwZSA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBbY29udGVudFR5cGVdXG4gICAgICAgIDogY29udGVudFR5cGUgPz8gWydhcHBsaWNhdGlvbi9qc29uJ107XG4gICAgY29uc3QgYm9keVNjaGVtYSA9IGhvb2s/LmJvZHk7XG4gICAgY29uc3QgcGFyYW1zU2NoZW1hID0gaG9vaz8ucGFyYW1zO1xuICAgIGNvbnN0IGhlYWRlclNjaGVtYSA9IGhvb2s/LmhlYWRlcnM7XG4gICAgY29uc3QgcXVlcnlTY2hlbWEgPSBob29rPy5xdWVyeTtcbiAgICBsZXQgcmVzcG9uc2VTY2hlbWEgPSBob29rPy5yZXNwb25zZTtcbiAgICBpZiAodHlwZW9mIHJlc3BvbnNlU2NoZW1hID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoS2luZCBpbiByZXNwb25zZVNjaGVtYSkge1xuICAgICAgICAgICAgY29uc3QgeyB0eXBlLCBwcm9wZXJ0aWVzLCByZXF1aXJlZCwgYWRkaXRpb25hbFByb3BlcnRpZXMsIHBhdHRlcm5Qcm9wZXJ0aWVzLCAuLi5yZXN0IH0gPSByZXNwb25zZVNjaGVtYTtcbiAgICAgICAgICAgIHJlc3BvbnNlU2NoZW1hID0ge1xuICAgICAgICAgICAgICAgICcyMDAnOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXN0LmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBtYXBUeXBlc1Jlc3BvbnNlKGNvbnRlbnRUeXBlcywgdHlwZSA9PT0gJ29iamVjdCcgfHwgdHlwZSA9PT0gJ2FycmF5J1xuICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm5Qcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiByZXNwb25zZVNjaGVtYS5pdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgOiByZXNwb25zZVNjaGVtYSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMocmVzcG9uc2VTY2hlbWEpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbW9kZWxzW3ZhbHVlXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHR5cGUsIHByb3BlcnRpZXMsIHJlcXVpcmVkLCBhZGRpdGlvbmFsUHJvcGVydGllczogXzEsIHBhdHRlcm5Qcm9wZXJ0aWVzOiBfMiwgLi4ucmVzdCB9ID0gbW9kZWxzW3ZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VTY2hlbWFba2V5XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVzdC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG1hcFR5cGVzUmVzcG9uc2UoY29udGVudFR5cGVzLCB2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdHlwZSwgcHJvcGVydGllcywgcmVxdWlyZWQsIGFkZGl0aW9uYWxQcm9wZXJ0aWVzLCBwYXR0ZXJuUHJvcGVydGllcywgLi4ucmVzdCB9ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU2NoZW1hW2tleV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlc3QuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBtYXBUeXBlc1Jlc3BvbnNlKGNvbnRlbnRUeXBlcywgdHlwZSA9PT0gJ29iamVjdCcgfHwgdHlwZSA9PT0gJ2FycmF5J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHZhbHVlLml0ZW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiByZXNwb25zZVNjaGVtYSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKCEocmVzcG9uc2VTY2hlbWEgaW4gbW9kZWxzKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgICAgICBjb25zdCB7IHR5cGUsIHByb3BlcnRpZXMsIHJlcXVpcmVkLCBhZGRpdGlvbmFsUHJvcGVydGllczogXzEsIHBhdHRlcm5Qcm9wZXJ0aWVzOiBfMiwgLi4ucmVzdCB9ID0gbW9kZWxzW3Jlc3BvbnNlU2NoZW1hXTtcbiAgICAgICAgcmVzcG9uc2VTY2hlbWEgPSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAnMjAwJzoge1xuICAgICAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgICAgICAgY29udGVudDogbWFwVHlwZXNSZXNwb25zZShjb250ZW50VHlwZXMsIHJlc3BvbnNlU2NoZW1hKVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBwYXJhbWV0ZXJzID0gW1xuICAgICAgICAuLi5tYXBQcm9wZXJ0aWVzKCdoZWFkZXInLCBoZWFkZXJTY2hlbWEsIG1vZGVscyksXG4gICAgICAgIC4uLm1hcFByb3BlcnRpZXMoJ3BhdGgnLCBwYXJhbXNTY2hlbWEsIG1vZGVscyksXG4gICAgICAgIC4uLm1hcFByb3BlcnRpZXMoJ3F1ZXJ5JywgcXVlcnlTY2hlbWEsIG1vZGVscylcbiAgICBdO1xuICAgIHNjaGVtYVtwYXRoXSA9IHtcbiAgICAgICAgLi4uKHNjaGVtYVtwYXRoXSA/IHNjaGVtYVtwYXRoXSA6IHt9KSxcbiAgICAgICAgW21ldGhvZC50b0xvd2VyQ2FzZSgpXToge1xuICAgICAgICAgICAgLi4uKChoZWFkZXJTY2hlbWEgfHwgcGFyYW1zU2NoZW1hIHx8IHF1ZXJ5U2NoZW1hIHx8IGJvZHlTY2hlbWFcbiAgICAgICAgICAgICAgICA/IHsgcGFyYW1ldGVycyB9XG4gICAgICAgICAgICAgICAgOiB7fSkpLFxuICAgICAgICAgICAgLi4uKHJlc3BvbnNlU2NoZW1hXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlczogcmVzcG9uc2VTY2hlbWFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICBvcGVyYXRpb25JZDogaG9vaz8uZGV0YWlsPy5vcGVyYXRpb25JZCA/PyBnZW5lcmF0ZU9wZXJhdGlvbklkKG1ldGhvZCwgcGF0aCksXG4gICAgICAgICAgICAuLi5ob29rPy5kZXRhaWwsXG4gICAgICAgICAgICAuLi4oYm9keVNjaGVtYVxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Qm9keToge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBtYXBUeXBlc1Jlc3BvbnNlKGNvbnRlbnRUeXBlcywgdHlwZW9mIGJvZHlTY2hlbWEgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyZWY6IGAjL2NvbXBvbmVudHMvc2NoZW1hcy8ke2JvZHlTY2hlbWF9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGJvZHlTY2hlbWEpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiBudWxsKVxuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgZmlsdGVyUGF0aHMgPSAocGF0aHMsIHsgZXhjbHVkZVN0YXRpY0ZpbGUgPSB0cnVlLCBleGNsdWRlID0gW10gfSkgPT4ge1xuICAgIGNvbnN0IG5ld1BhdGhzID0ge307XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocGF0aHMpKVxuICAgICAgICBpZiAoIWV4Y2x1ZGUuc29tZSgoeCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5ID09PSB4O1xuICAgICAgICAgICAgcmV0dXJuIHgudGVzdChrZXkpO1xuICAgICAgICB9KSAmJlxuICAgICAgICAgICAgIWtleS5pbmNsdWRlcygnL3N3YWdnZXInKSAmJlxuICAgICAgICAgICAgIWtleS5pbmNsdWRlcygnKicpICYmXG4gICAgICAgICAgICAoZXhjbHVkZVN0YXRpY0ZpbGUgPyAha2V5LmluY2x1ZGVzKCcuJykgOiB0cnVlKSkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXModmFsdWUpLmZvckVhY2goKG1ldGhvZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjaGVtYSA9IHZhbHVlW21ldGhvZF07XG4gICAgICAgICAgICAgICAgaWYgKGtleS5pbmNsdWRlcygneycpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2NoZW1hLnBhcmFtZXRlcnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWEucGFyYW1ldGVycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBzY2hlbWEucGFyYW1ldGVycyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmtleVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnLycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoeCkgPT4geC5zdGFydHNXaXRoKCd7JykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhc2NoZW1hLnBhcmFtZXRlcnMuZmluZCgocGFyYW1zKSA9PiBwYXJhbXMuaW4gPT09ICdwYXRoJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMubmFtZSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHguc2xpY2UoMSwgeC5sZW5ndGggLSAxKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoeCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWE6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbjogJ3BhdGgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHguc2xpY2UoMSwgeC5sZW5ndGggLSAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc2NoZW1hLnBhcmFtZXRlcnNcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFzY2hlbWEucmVzcG9uc2VzKVxuICAgICAgICAgICAgICAgICAgICBzY2hlbWEucmVzcG9uc2VzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgMjAwOiB7fVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuZXdQYXRoc1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICByZXR1cm4gbmV3UGF0aHM7XG59O1xuIiwKICAgICJpbXBvcnQgeyBTd2FnZ2VyVUlSZW5kZXIgfSBmcm9tICcuL3N3YWdnZXInO1xuaW1wb3J0IHsgU2NhbGFyUmVuZGVyIH0gZnJvbSAnLi9zY2FsYXInO1xuaW1wb3J0IHsgZmlsdGVyUGF0aHMsIHJlZ2lzdGVyU2NoZW1hUGF0aCB9IGZyb20gJy4vdXRpbHMnO1xuLyoqXG4gKiBQbHVnaW4gZm9yIFtlbHlzaWFdKGh0dHBzOi8vZ2l0aHViLmNvbS9lbHlzaWFqcy9lbHlzaWEpIHRoYXQgYXV0by1nZW5lcmF0ZSBTd2FnZ2VyIHBhZ2UuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vZWx5c2lhanMvZWx5c2lhLXN3YWdnZXJcbiAqL1xuZXhwb3J0IGNvbnN0IHN3YWdnZXIgPSAoeyBwcm92aWRlciA9ICdzY2FsYXInLCBzY2FsYXJWZXJzaW9uID0gJ2xhdGVzdCcsIHNjYWxhckNETiA9ICcnLCBzY2FsYXJDb25maWcgPSB7fSwgZG9jdW1lbnRhdGlvbiA9IHt9LCB2ZXJzaW9uID0gJzUuOS4wJywgZXhjbHVkZVN0YXRpY0ZpbGUgPSB0cnVlLCBwYXRoID0gJy9zd2FnZ2VyJywgZXhjbHVkZSA9IFtdLCBzd2FnZ2VyT3B0aW9ucyA9IHt9LCB0aGVtZSA9IGBodHRwczovL3VucGtnLmNvbS9zd2FnZ2VyLXVpLWRpc3RAJHt2ZXJzaW9ufS9zd2FnZ2VyLXVpLmNzc2AsIGF1dG9EYXJrTW9kZSA9IHRydWUsIGV4Y2x1ZGVNZXRob2RzID0gWydPUFRJT05TJ10sIGV4Y2x1ZGVUYWdzID0gW10gfSA9IHtcbiAgICBwcm92aWRlcjogJ3NjYWxhcicsXG4gICAgc2NhbGFyVmVyc2lvbjogJ2xhdGVzdCcsXG4gICAgc2NhbGFyQ0ROOiAnJyxcbiAgICBzY2FsYXJDb25maWc6IHt9LFxuICAgIGRvY3VtZW50YXRpb246IHt9LFxuICAgIHZlcnNpb246ICc1LjkuMCcsXG4gICAgZXhjbHVkZVN0YXRpY0ZpbGU6IHRydWUsXG4gICAgcGF0aDogJy9zd2FnZ2VyJyxcbiAgICBleGNsdWRlOiBbXSxcbiAgICBzd2FnZ2VyT3B0aW9uczoge30sXG4gICAgYXV0b0RhcmtNb2RlOiB0cnVlLFxuICAgIGV4Y2x1ZGVNZXRob2RzOiBbJ09QVElPTlMnXSxcbiAgICBleGNsdWRlVGFnczogW11cbn0pID0+IChhcHApID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSB7fTtcbiAgICBsZXQgdG90YWxSb3V0ZXMgPSAwO1xuICAgIGlmICghdmVyc2lvbilcbiAgICAgICAgdmVyc2lvbiA9IGBodHRwczovL3VucGtnLmNvbS9zd2FnZ2VyLXVpLWRpc3RAJHt2ZXJzaW9ufS9zd2FnZ2VyLXVpLmNzc2A7XG4gICAgY29uc3QgaW5mbyA9IHtcbiAgICAgICAgdGl0bGU6ICdFbHlzaWEgRG9jdW1lbnRhdGlvbicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRGV2ZWxvcG1lbnQgZG9jdW1lbnRhdGlvbicsXG4gICAgICAgIHZlcnNpb246ICcwLjAuMCcsXG4gICAgICAgIC4uLmRvY3VtZW50YXRpb24uaW5mb1xuICAgIH07XG4gICAgY29uc3QgcmVsYXRpdmVQYXRoID0gcGF0aC5zdGFydHNXaXRoKCcvJykgPyBwYXRoLnNsaWNlKDEpIDogcGF0aDtcbiAgICBhcHAuZ2V0KHBhdGgsICgpID0+IHtcbiAgICAgICAgY29uc3QgY29tYmluZWRTd2FnZ2VyT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHVybDogYCR7cmVsYXRpdmVQYXRofS9qc29uYCxcbiAgICAgICAgICAgIGRvbV9pZDogJyNzd2FnZ2VyLXVpJyxcbiAgICAgICAgICAgIC4uLnN3YWdnZXJPcHRpb25zXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN0cmluZ2lmaWVkU3dhZ2dlck9wdGlvbnMgPSBKU09OLnN0cmluZ2lmeShjb21iaW5lZFN3YWdnZXJPcHRpb25zLCAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzY2FsYXJDb25maWd1cmF0aW9uID0ge1xuICAgICAgICAgICAgc3BlYzoge1xuICAgICAgICAgICAgICAgIC4uLnNjYWxhckNvbmZpZy5zcGVjLFxuICAgICAgICAgICAgICAgIHVybDogYCR7cmVsYXRpdmVQYXRofS9qc29uYCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAuLi5zY2FsYXJDb25maWdcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShwcm92aWRlciA9PT0gJ3N3YWdnZXItdWknXG4gICAgICAgICAgICA/IFN3YWdnZXJVSVJlbmRlcihpbmZvLCB2ZXJzaW9uLCB0aGVtZSwgc3RyaW5naWZpZWRTd2FnZ2VyT3B0aW9ucywgYXV0b0RhcmtNb2RlKVxuICAgICAgICAgICAgOiBTY2FsYXJSZW5kZXIoc2NhbGFyVmVyc2lvbiwgc2NhbGFyQ29uZmlndXJhdGlvbiwgc2NhbGFyQ0ROKSwge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiAndGV4dC9odG1sOyBjaGFyc2V0PXV0ZjgnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pLmdldChwYXRoID09PSAnLycgPyAnL2pzb24nIDogYCR7cGF0aH0vanNvbmAsICgpID0+IHtcbiAgICAgICAgY29uc3Qgcm91dGVzID0gYXBwLnJvdXRlcztcbiAgICAgICAgaWYgKHJvdXRlcy5sZW5ndGggIT09IHRvdGFsUm91dGVzKSB7XG4gICAgICAgICAgICB0b3RhbFJvdXRlcyA9IHJvdXRlcy5sZW5ndGg7XG4gICAgICAgICAgICByb3V0ZXMuZm9yRWFjaCgocm91dGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXhjbHVkZU1ldGhvZHMuaW5jbHVkZXMocm91dGUubWV0aG9kKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyU2NoZW1hUGF0aCh7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICAgICAgICAgICAgaG9vazogcm91dGUuaG9va3MsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcm91dGUubWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiByb3V0ZS5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsczogYXBwLmRlZmluaXRpb25zPy50eXBlLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogcm91dGUuaG9va3MudHlwZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wZW5hcGk6ICczLjAuMycsXG4gICAgICAgICAgICAuLi57XG4gICAgICAgICAgICAgICAgLi4uZG9jdW1lbnRhdGlvbixcbiAgICAgICAgICAgICAgICB0YWdzOiBkb2N1bWVudGF0aW9uLnRhZ3M/LmZpbHRlcigodGFnKSA9PiAhZXhjbHVkZVRhZ3M/LmluY2x1ZGVzKHRhZz8ubmFtZSkpLFxuICAgICAgICAgICAgICAgIGluZm86IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdFbHlzaWEgRG9jdW1lbnRhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGV2ZWxvcG1lbnQgZG9jdW1lbnRhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb246ICcwLjAuMCcsXG4gICAgICAgICAgICAgICAgICAgIC4uLmRvY3VtZW50YXRpb24uaW5mb1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoczogeyAuLi5maWx0ZXJQYXRocyhzY2hlbWEsIHtcbiAgICAgICAgICAgICAgICAgICAgZXhjbHVkZVN0YXRpY0ZpbGUsXG4gICAgICAgICAgICAgICAgICAgIGV4Y2x1ZGU6IEFycmF5LmlzQXJyYXkoZXhjbHVkZSkgPyBleGNsdWRlIDogW2V4Y2x1ZGVdXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgLi4uZG9jdW1lbnRhdGlvbi5wYXRoc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgICAgICAgICAuLi5kb2N1bWVudGF0aW9uLmNvbXBvbmVudHMsXG4gICAgICAgICAgICAgICAgc2NoZW1hczoge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIC4uLmFwcC5kZWZpbml0aW9ucz8udHlwZSxcbiAgICAgICAgICAgICAgICAgICAgLi4uZG9jdW1lbnRhdGlvbi5jb21wb25lbnRzPy5zY2hlbWFzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWwgdG8gcHJldmVudCBkZWVwbHkgbmVzdGVkIHR5cGVcbiAgICByZXR1cm4gYXBwO1xufTtcbmV4cG9ydCBkZWZhdWx0IHN3YWdnZXI7XG4iLAogICAgImltcG9ydCAqICAgYXMgZnNwcm9taXNlcyBmcm9tICdub2RlOmZzL3Byb21pc2VzJ1xuaW1wb3J0ICogYXMgcGF0aCAgICAgICAgICAgICAgIGZyb20gJ25vZGU6cGF0aCdcbmltcG9ydCB7IEZpbGVVdGlscyB9ICAgICAgICAgICBmcm9tICcuLi91dGlscy9GaWxlVXRpbHMnXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSAnLi9Db250cm9sbGVyJ1xuXG5leHBvcnQgY2xhc3MgQ2hhbmdlbG9nQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge1xuXG4gICAgQ0hBTkdFTE9HX0RJUiA9ICdjaGFuZ2Vsb2cnXG5cbiAgICAvKipcbiAgICAgKiBMaXN0IGFsbCBjaGFuZ2Vsb2cgZmlsZXNcbiAgICAgKlxuICAgICAqIFdlIGFzc3VtZSB0aGV5IGFyZSBhbGwgbWFya2Rvd24gZmlsZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250ZXh0XG4gICAgICogQHJldHVybiB7UHJvbWlzZTx7bGFzdDogKiwgZmlsZXM6ICp9Pn1cbiAgICAgKi9cbiAgICBsaXN0ID0gYXN5bmMgKGNvbnRleHQpID0+IHtcbiAgICAgICAgY29uc3QgZGlyZWN0b3J5ID0gdGhpcy5zZXRBc3NldERpcmVjdG9yeVBhdGgodGhpcy5DSEFOR0VMT0dfRElSKVxuICAgICAgICBsZXQgZXh0ZW5zaW9uID0gY29udGV4dC5xdWVyeS5leHRlbnNpb25cbiAgICAgICAgaWYgKGV4dGVuc2lvbiAmJiAhZXh0ZW5zaW9uLnN0YXJ0c1dpdGgoJy4nKSkge1xuICAgICAgICAgICAgZXh0ZW5zaW9uID0gYC4ke2V4dGVuc2lvbn1gO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZpbGVMaXN0ID0gYXdhaXQgZnNwcm9taXNlcy5yZWFkZGlyKGRpcmVjdG9yeSlcbiAgICAgICAgLy8gRmlsdGVyIHRoZSBsaXN0IGJ5IGV4dGVuc2lvblxuICAgICAgICBpZiAoZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICBmaWxlTGlzdCA9IGZpbGVMaXN0LmZpbHRlcihmaWxlID0+IHBhdGguZXh0bmFtZShmaWxlKS50b0xvd2VyQ2FzZSgpID09PSBleHRlbnNpb24pXG4gICAgICAgIH1cbiAgICAgICAgLy8gU29ydFxuICAgICAgICBmaWxlTGlzdCA9IGF3YWl0IEZpbGVVdGlscy5zb3J0RmlsZXNCeVRpbWUoZGlyZWN0b3J5LCBmaWxlTGlzdClcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGlzdDogZmlsZUxpc3QsXG4gICAgICAgICAgICBsYXN0OiAgZmlsZUxpc3RbMF0sXG4gICAgICAgIH1cbiAgICB9XG5cblxufSIsCiAgICAiaW1wb3J0ICogYXMgZnMgZnJvbSAnbm9kZTpmcydcblxuZXhwb3J0IGNsYXNzIEZpbGVVdGlscyB7XG4gICAgLyoqXG4gICAgICogU29ydCBmaWxlcyBieSB0aW1lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGlyZWN0b3J5XG4gICAgICogQHBhcmFtIHthcnJheX0gZmlsZXNcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlOmFycmF5fVxuICAgICAqL1xuICAgIHN0YXRpYyBzb3J0RmlsZXNCeVRpbWUgPSBhc3luYyAoZGlyZWN0b3J5LGZpbGVzKSA9PiB7XG4gICAgICAgIHJldHVybiBmaWxlc1xuICAgICAgICAgICAgLm1hcChmaWxlTmFtZSA9PiAoe1xuICAgICAgICAgICAgICAgIG5hbWU6IGZpbGVOYW1lLFxuICAgICAgICAgICAgICAgIHRpbWU6IGZzLnN0YXRTeW5jKGAke2RpcmVjdG9yeX0vJHtmaWxlTmFtZX1gKS5tdGltZS5nZXRUaW1lKCksXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLnRpbWUgLSBiLnRpbWUpXG4gICAgICAgICAgICAubWFwKGZpbGUgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgZmlsZTpmaWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6ZmlsZS50aW1lXG4gICAgICAgICAgICB9KSk7XG4gICAgfTtcbn0iLAogICAgImV4cG9ydCBjbGFzcyBDb250cm9sbGVyIHtcblxuXG4gICAgICBCQUNLRU5EPScuLi9iYWNrZW5kLydcbiAgICAgIFNUVURJTyA9ICcuLi9zdHVkaW8vJ1xuICAgIEFTU0VUUyA9ICdhc3NldHMvJ1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgfVxuXG4gICAgc2V0U3R1ZGlvV29ya2luZ0RpcmVjdG9yeT0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvY2Vzcy5lbnYuTk9ERV9FTlY9PT0ncHJvZHVjdGlvbic/YCR7dGhpcy5TVFVESU99ZGlzdC9gOnRoaXMuU1RVRElPXG4gICAgfVxuXG5cbiAgICBzZXRQdWJsaWNGaWxlUGF0aCA9IChuYW1lKSA9PiB7XG4gICAgICAgIHJldHVybiAgYCR7dGhpcy5zZXRTdHVkaW9Xb3JraW5nRGlyZWN0b3J5KCl9JHtwcm9jZXNzLmVudi5OT0RFX0VOVj09PSdwcm9kdWN0aW9uJz8nJzoncHVibGljLyd9JHtuYW1lfWBcbiAgICB9XG5cbiAgICBzZXRQdWJsaWNEaXJlY3RvcnlQYXRoID0obmFtZSkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRQdWJsaWNGaWxlUGF0aChuYW1lKSsnLydcbiAgICB9XG5cbiAgICBzZXRBc3NldEZpbGVQYXRoPSAobmFtZSkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRQdWJsaWNGaWxlUGF0aChgJHt0aGlzLkFTU0VUU30ke25hbWV9YClcbiAgICB9XG5cbiAgICBzZXRBc3NldERpcmVjdG9yeVBhdGg9IChuYW1lKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldEFzc2V0RmlsZVBhdGgobmFtZSkrJy8nXG4gICAgfVxufSIsCiAgICAiaW1wb3J0IEVseXNpYSAgICAgICAgICAgICAgICAgIGZyb20gJ2VseXNpYSdcbmltcG9ydCB7IENoYW5nZWxvZ0NvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9DaGFuZ2Vsb2dDb250cm9sbGVyJ1xuaW1wb3J0IHsgQ0hBTkdFTE9HX1JPVVRFIH0gICAgIGZyb20gJy4uL2luZGV4J1xuXG5cbmV4cG9ydCBjbGFzcyBDaGFuZ2Vsb2dSZXNvdXJjZSB7XG5cbiAgICBjb250cm9sbGVyID0gbmV3IENoYW5nZWxvZ0NvbnRyb2xsZXIoKVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSBuZXcgRWx5c2lhKHtwcmVmaXg6IGAvJHtDSEFOR0VMT0dfUk9VVEV9YH0pXG4gICAgICAgICAgICAuZ2V0KCcvbGlzdCcsXG4gICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5saXN0LFxuICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzOiAgICAgICAgdGhpcy50YWdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnR2V0IGNoYW5nZWxvZyBmaWxlIGxpc3RpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y2VzOiAgICBbJ2FwcGxpY2F0aW9uL2pzb24nXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnN1bWVzOiAgICBbJ2FwcGxpY2F0aW9uL2pzb24nXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZXM6ICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMDA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGxpc3RpbmcgeW91IHJlcXVlc3RlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDUwMDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdJbnRlcm5hbCBlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgIH0pXG4gICAgfVxufSIsCiAgICAiaW1wb3J0IHsgQ29udHJvbGxlciB9ICBmcm9tICcuL0NvbnRyb2xsZXInXG5cbmV4cG9ydCBjbGFzcyBWZXJzaW9uc0NvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVye1xuXG4gICAgLyoqXG4gICAgICogUmVhZCBhbGwgdmVyc2lvbnMgYW5kIHJldHVybiB0aGVtXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGpzb24gY290ZW50XG4gICAgICovXG4gICAgdmVyc2lvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGJhY2tlbmQgPSBhd2FpdCBCdW4uZmlsZSgnLi92ZXJzaW9uLmpzb24nKS5qc29uKClcbiAgICAgICAgY29uc3Qgc3R1ZGlvID0gIGF3YWl0IEJ1bi5maWxlKHRoaXMuc2V0UHVibGljRmlsZVBhdGgoJ3ZlcnNpb24uanNvbicpKS5qc29uKClcbiAgICAgICAgcmV0dXJuICB7Li4uc3R1ZGlvLC4uLmJhY2tlbmR9XG4gICAgfVxuXG59IiwKICAgICJpbXBvcnQgRWx5c2lhICAgICAgICAgICAgICAgIGZyb20gJ2VseXNpYSdcbmltcG9ydCB7IFZlcnNpb25zQ29udHJvbGxlciB9ICAgICAgICAgICAgICBmcm9tICcuLi9jb250cm9sbGVycy9WZXJzaW9uc0NvbnRyb2xsZXInXG5pbXBvcnQgeyAgVkVSU0lPTlNfUk9VVEUgfSBmcm9tICcuLi9pbmRleCdcblxuXG5leHBvcnQgY2xhc3MgVmVyc2lvbnNSZXNvdXJjZSB7XG5cbiAgICBjb250cm9sbGVyID0gbmV3IFZlcnNpb25zQ29udHJvbGxlcigpXG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5yZXNvdXJjZSA9IG5ldyBFbHlzaWEoe30pXG4gICAgICAgICAgICAuZ2V0KGAke1ZFUlNJT05TX1JPVVRFfWAsXG4gICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci52ZXJzaW9ucyxcbiAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgdGFnczogICAgICAgIHRoaXMudGFncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0dldCBCYWNrZW5kIGFuZCBBUEkgVmVyc2lvbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y2VzOiAgICBbJ2FwcGxpY2F0aW9uL2pzb24nXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZXM6ICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMDA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHZlcnNpb25zIHlvdSByZXF1ZXN0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA1MDA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnSW50ZXJuYWwgZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICB9KVxuICAgIH1cbn0iLAogICAgImltcG9ydCBjb3JzICAgICAgICAgICAgIGZyb20gJ0BlbHlzaWFqcy9jb3JzJ1xuaW1wb3J0IHN3YWdnZXIgICAgICAgICAgZnJvbSAnQGVseXNpYWpzL3N3YWdnZXInXG5pbXBvcnQgeyBFbHlzaWEgfSAgICAgICBmcm9tICdlbHlzaWEnXG5pbXBvcnQgY29uZmlndXJhdGlvbiAgICBmcm9tICcuLi9jb25maWcuanNvbidcblxuXG5pbXBvcnQgdmVyc2lvbiAgICAgICAgICAgICAgIGZyb20gJy4uL3ZlcnNpb24uanNvbidcbmltcG9ydCB7IENoYW5nZWxvZ1Jlc291cmNlIH0gZnJvbSAnLi9yZXNvdXJjZXMvQ2hhbmdlbG9nUmVzb3VyY2UnXG5pbXBvcnQgeyBWZXJzaW9uc1Jlc291cmNlIH0gZnJvbSAnLi9yZXNvdXJjZXMvVmVyc2lvbnNSZXNvdXJjZSdcblxuZXhwb3J0IGNvbnN0IENIQU5HRUxPR19ST1VURSA9ICdjaGFuZ2Vsb2cnXG5leHBvcnQgY29uc3QgVkVSU0lPTlNfUk9VVEUgPSAndmVyc2lvbnMnXG5cblxuLy8gRGVjbGFyZXMgdXNlZCByZXNvdXJjZXNcbmNvbnN0IHJlc291cmNlcyA9IG5ldyBNYXAoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW0NIQU5HRUxPR19ST1VURSxuZXcgQ2hhbmdlbG9nUmVzb3VyY2UoKV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbVkVSU0lPTlNfUk9VVEUsbmV3IFZlcnNpb25zUmVzb3VyY2UoKV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbmNvbnN0IGFwcCA9IG5ldyBFbHlzaWEoKVxuICAgIC8qKlxuICAgICAqIFN3YWdnZXIgZGVmaW5pdGlvblxuICAgICAqL1xuICAgIC51c2Uoc3dhZ2dlcih7XG4gICAgICAgICAgICAgICAgICAgICBkb2N1bWVudGF0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgaW5mbzogICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogICBjb25maWd1cmF0aW9uLnNlcnZlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uLmFwaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3M6ICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6ICdmaWxlJywgZGVzY3JpcHRpb246ICdmaWxlIGVuZHBvaW50cyd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICAgICAgICAgYGh0dHA6Ly9sb2NhbGhvc3Q6JHtjb25maWd1cmF0aW9uLnNlcnZlci5wb3J0fWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgIH0pKVxuXG4gICAgLy8gVE9ETyBmaWx0ZXJcblxuICAgIC8vIFdpdGhvdXQgYW55IHBhdGgsIHdlIHJlZGlyZWN0IC8gdG8gL3N3YWdnZXJcbiAgICAuZ2V0KCcvJywgKHtzZXR9KSA9PiB7XG4gICAgICAgIHNldC5yZWRpcmVjdCA9ICcvc3dhZ2dlcidcbiAgICB9KVxuXG4gICAgLy8gUm91dGVzXG4gICAgLnVzZShyZXNvdXJjZXMuZ2V0KENIQU5HRUxPR19ST1VURSkucmVzb3VyY2UpXG4gICAgLnVzZShyZXNvdXJjZXMuZ2V0KFZFUlNJT05TX1JPVVRFKS5yZXNvdXJjZSlcblxuICAgIC51c2UoY29ycyh7b3JpZ2luOiAvXmh0dHBzPzpcXC9cXC8oPzpsb2NhbGhvc3R8bG9jYWxob3N0OjUxNzN8bG9jYWxob3N0OjQxNzN8c3R1ZGlvXFwubGdzMTkyMC5mcikoPzo6XFxkKyk/XFwvPyQvfSkpXG4gICAgLmxpc3Rlbihjb25maWd1cmF0aW9uLnNlcnZlci5wb3J0KVxuXG5jb25zb2xlLmxvZyhcbiAgYExHUzEyMCBCYWNrZW5kIChiYXNlZCBvbiDwn6aKIEVseXNpYSkgaXMgcnVubmluZyBhdCAke2FwcC5zZXJ2ZXI/Lmhvc3RuYW1lfToke2FwcC5zZXJ2ZXI/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SUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFDN0M7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUM3QztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQzdDO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFDN0M7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUM3QztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQzdDO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFDN0M7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUM3QztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQzdDO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFDN0M7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUM3QztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQzdDO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFDN0M7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUM3QztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBSS9DO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUNqQztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFDeEM7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQ3BDO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUNsQztBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFDcEM7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQ25DO0FBQUEsSUFBRztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUNwQztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFDbkM7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBSWxDO0FBQUEsSUFBTTtBQUFBLElBQU07QUFBQSxJQUFNO0FBQUEsSUFBTTtBQUFBLElBQU07QUFBQSxJQUFNO0FBQUEsSUFBTTtBQUFBLElBQU07QUFBQSxJQUFNO0FBQUEsSUFBTTtBQUFBLElBQU07QUFBQSxFQUNwRTtBQThDQSxNQUFJLE1BQU07QUFBQSxJQUNSLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNM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LGFBQWEsTUFBTSxNQUFLO0FBQUEsU0FDM0Q7QUFDRCxhQUFPLE9BQU8sYUFBWSxTQUFTLGFBQWEsTUFBTSxNQUFLO0FBQUEsU0FDMUQ7QUFDRCxhQUFPLE9BQU8sVUFBVSxTQUFTLGFBQWEsTUFBTSxNQUFLO0FBQUEsU0FDeEQ7QUFDRCxhQUFPLE9BQU8sUUFBUSxTQUFTLGFBQWEsTUFBTSxNQUFLO0FBQUEsU0FDdEQ7QUFDRCxhQUFPLE9BQU8sU0FBUyxTQUFTLGFBQWEsTUFBTSxNQUFLO0FBQUEsU0FDdkQ7QUFDRCxhQUFPLE9BQU8sV0FBVyxTQUFTLGFBQWEsTUFBTSxNQUFLO0FBQUEsU0FDekQ7QUFDRCxhQUFPLE9BQU8sV0FBVyxTQUFTLGFBQWEsTUFBTSxNQUFLO0FBQUEsU0FDekQ7QUFDRCxhQUFPLE9BQU8sWUFBWSxTQUFTLGFBQWEsTUFBTSxNQUFLO0FBQUEsU0FDMUQ7QUFDRCxhQUFPLE9BQU8sV0FBVyxTQUFTLGFBQWEsTUFBTSxNQUFLO0FBQUEsU0FDekQ7QUFDRCxhQUFPLE9BQU8sUUFBUSxTQUFTLGFBQWEsTUFBTSxNQUFLO0FBQUEsU0FDdEQ7QUFDRCxhQUFPLE9BQU8sV0FBVyxTQUFTLGFBQWEsTUFBTSxNQUFLO0FBQUEsU0FDekQ7QUFDRCxhQUFPLE9BQU8sV0FBVyxTQUFTLGFBQWEsTUFBTSxNQUFLO0FBQUEsU0FDekQ7QUFDRCxhQUFPLE9BQU8sV0FBVyxTQUFTLGFBQWEsTUFBTSxNQUFLO0FBQUEsU0FDekQ7QUFDRCxhQUFPLE9BQU8scUJBQW9CLFNBQVMsYUFBYSxNQUFNLE1BQUs7QUFBQSxTQUNsRTtBQUNELGFBQU8sT0FBTyxTQUFTLFNBQVMsYUFBYSxNQUFNLE1BQUs7QUFBQSxTQUN2RDtBQUNELGFBQU8sT0FBTyxXQUFVLFNBQVMsYUFBYSxNQUFNLE1BQUs7QUFBQSxTQUN4RDtBQUNELGFBQU8sT0FBTyxjQUFjLFNBQVMsYUFBYSxNQUFNLE1BQUs7QUFBQSxTQUM1RDtBQUNELGFBQU8sT0FBTyxXQUFVLFNBQVMsYUFBYSxNQUFNLE1BQUs7QUFBQSxTQUN4RDtBQUNE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LENBQUM7QUFBQTtBQUVsQjs7O0FDNUJPLE1BQU0sMkJBQTJCLFdBQVU7QUFBQSxFQU85QyxXQUFXLFlBQVk7QUFDbkIsVUFBTSxVQUFVLE1BQU0sSUFBSSxLQUFLLGdCQUFnQixFQUFFLEtBQUs7QUFDdEQsVUFBTSxTQUFVLE1BQU0sSUFBSSxLQUFLLEtBQUssa0JBQWtCLGNBQWMsQ0FBQyxFQUFFLEtBQUs7QUFDNUUsV0FBUSxLQUFJLFdBQVUsUUFBTztBQUFBO0FBR3JDOzs7QUNWTyxNQUFNLGlCQUFpQjtBQUFBLEVBRTFCLGFBQWEsSUFBSTtBQUFBLEVBRWpCLFdBQVcsR0FBRztBQUNWLFNBQUssV0FBVyxJQUFJLE9BQU8sQ0FBQyxDQUFDLEVBQ3hCLElBQUksR0FBRyxrQkFDSCxLQUFLLFdBQVcsVUFDaEI7QUFBQSxNQUNJLFFBQVE7QUFBQSxRQUNKLE1BQWEsS0FBSztBQUFBLFFBQ2xCLGFBQWE7QUFBQSxRQUNiLFVBQWEsQ0FBQyxrQkFBa0I7QUFBQSxRQUNoQyxXQUFhO0FBQUEsVUFDVCxLQUFLO0FBQUEsWUFDRCxhQUFhO0FBQUEsVUFDakI7QUFBQSxVQUNBLEtBQUs7QUFBQSxZQUNELGFBQWE7QUFBQSxVQUNqQjtBQUFBLFFBQ0o7QUFBQSxNQUNKO0FBQUEsSUFDSixDQUFDO0FBQUE7QUFFbEI7OztBQ25CTyxJQUFNLGtCQUFrQjtBQUN4QixJQUFNLGlCQUFpQjtBQUk5QixJQUFNLFlBQVksSUFBSSxJQUFJO0FBQUEsRUFDSSxDQUFDLGlCQUFnQixJQUFJLGlCQUFtQjtBQUFBLEVBQ3hDLENBQUMsZ0JBQWUsSUFBSSxnQkFBa0I7QUFDMUMsQ0FBQztBQUMzQixJQUFNLE1BQU0sSUFBSSxPQUFPLEVBSWxCLElBQUksY0FBUTtBQUFBLEVBQ0ksZUFBZTtBQUFBLElBQ1gsTUFBUztBQUFBLE1BQ0wsT0FBUyxlQUFjLE9BQU87QUFBQSxNQUM5QixTQUFTLGdCQUFRO0FBQUEsSUFDckI7QUFBQSxJQUNBLE1BQVM7QUFBQSxNQUNMLEVBQUMsTUFBTSxRQUFRLGFBQWEsaUJBQWdCO0FBQUEsSUFDaEQ7QUFBQSxJQUNBLFNBQVM7QUFBQSxNQUNMO0FBQUEsUUFDSSxLQUFhLG9CQUFvQixlQUFjLE9BQU87QUFBQSxRQUN0RCxhQUFhO0FBQUEsTUFDakI7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUNKLENBQUMsQ0FBQyxFQUtkLElBQUksS0FBSyxHQUFFLGdCQUFTO0FBQ2pCLE9BQUksV0FBVztBQUFBLENBQ2xCLEVBR0EsSUFBSSxVQUFVLElBQUksZUFBZSxFQUFFLFFBQVEsRUFDM0MsSUFBSSxVQUFVLElBQUksY0FBYyxFQUFFLFFBQVEsRUFFMUMsSUFBSSxhQUFLLEVBQUMsUUFBUSwwRkFBeUYsQ0FBQyxDQUFDLEVBQzdHLE9BQU8sZUFBYyxPQUFPLElBQUk7QUFFckMsUUFBUSxJQUNOLCtEQUFvRCxJQUFJLFFBQVEsWUFBWSxJQUFJLFFBQVEsTUFDMUY7IiwKICAiZGVidWdJZCI6ICIwNDNDQkQwNkEyNTBEOEFGNjQ3NTZlMjE2NDc1NmUyMSIsCiAgIm5hbWVzIjogW10KfQ==
